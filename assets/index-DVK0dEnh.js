var wj=Object.defineProperty;var jj=(s,e,r)=>e in s?wj(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var ze=(s,e,r)=>jj(s,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Zg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rm={exports:{}},co={},am={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function Nj(){if(Pf)return ct;Pf=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function w(P,W,ae){this.props=P,this.context=W,this.refs=k,this.updater=ae||N}w.prototype.isReactComponent={},w.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},w.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=w.prototype;function _(P,W,ae){this.props=P,this.context=W,this.refs=k,this.updater=ae||N}var A=_.prototype=new T;A.constructor=_,C(A,w.prototype),A.isPureReactComponent=!0;var B=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function E(P,W,ae){var je,Ne={},pe=null,Ee=null;if(W!=null)for(je in W.ref!==void 0&&(Ee=W.ref),W.key!==void 0&&(pe=""+W.key),W)I.call(W,je)&&!z.hasOwnProperty(je)&&(Ne[je]=W[je]);var Ue=arguments.length-2;if(Ue===1)Ne.children=ae;else if(1<Ue){for(var Ye=Array(Ue),ut=0;ut<Ue;ut++)Ye[ut]=arguments[ut+2];Ne.children=Ye}if(P&&P.defaultProps)for(je in Ue=P.defaultProps,Ue)Ne[je]===void 0&&(Ne[je]=Ue[je]);return{$$typeof:s,type:P,key:pe,ref:Ee,props:Ne,_owner:D.current}}function G(P,W){return{$$typeof:s,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function Y(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function ne(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return W[ae]})}var ee=/\/+/g;function se(P,W){return typeof P=="object"&&P!==null&&P.key!=null?ne(""+P.key):W.toString(36)}function ie(P,W,ae,je,Ne){var pe=typeof P;(pe==="undefined"||pe==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(pe){case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case s:case e:Ee=!0}}if(Ee)return Ee=P,Ne=Ne(Ee),P=je===""?"."+se(Ee,0):je,B(Ne)?(ae="",P!=null&&(ae=P.replace(ee,"$&/")+"/"),ie(Ne,W,ae,"",function(ut){return ut})):Ne!=null&&(Y(Ne)&&(Ne=G(Ne,ae+(!Ne.key||Ee&&Ee.key===Ne.key?"":(""+Ne.key).replace(ee,"$&/")+"/")+P)),W.push(Ne)),1;if(Ee=0,je=je===""?".":je+":",B(P))for(var Ue=0;Ue<P.length;Ue++){pe=P[Ue];var Ye=je+se(pe,Ue);Ee+=ie(pe,W,ae,Ye,Ne)}else if(Ye=v(P),typeof Ye=="function")for(P=Ye.call(P),Ue=0;!(pe=P.next()).done;)pe=pe.value,Ye=je+se(pe,Ue++),Ee+=ie(pe,W,ae,Ye,Ne);else if(pe==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ee}function M(P,W,ae){if(P==null)return P;var je=[],Ne=0;return ie(P,je,"","",function(pe){return W.call(ae,pe,Ne++)}),je}function F(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var Z={current:null},L={transition:null},re={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:L,ReactCurrentOwner:D};function H(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:M,forEach:function(P,W,ae){M(P,function(){W.apply(this,arguments)},ae)},count:function(P){var W=0;return M(P,function(){W++}),W},toArray:function(P){return M(P,function(W){return W})||[]},only:function(P){if(!Y(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ct.Component=w,ct.Fragment=r,ct.Profiler=o,ct.PureComponent=_,ct.StrictMode=n,ct.Suspense=m,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,ct.act=H,ct.cloneElement=function(P,W,ae){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var je=C({},P.props),Ne=P.key,pe=P.ref,Ee=P._owner;if(W!=null){if(W.ref!==void 0&&(pe=W.ref,Ee=D.current),W.key!==void 0&&(Ne=""+W.key),P.type&&P.type.defaultProps)var Ue=P.type.defaultProps;for(Ye in W)I.call(W,Ye)&&!z.hasOwnProperty(Ye)&&(je[Ye]=W[Ye]===void 0&&Ue!==void 0?Ue[Ye]:W[Ye])}var Ye=arguments.length-2;if(Ye===1)je.children=ae;else if(1<Ye){Ue=Array(Ye);for(var ut=0;ut<Ye;ut++)Ue[ut]=arguments[ut+2];je.children=Ue}return{$$typeof:s,type:P.type,key:Ne,ref:pe,props:je,_owner:Ee}},ct.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},ct.createElement=E,ct.createFactory=function(P){var W=E.bind(null,P);return W.type=P,W},ct.createRef=function(){return{current:null}},ct.forwardRef=function(P){return{$$typeof:u,render:P}},ct.isValidElement=Y,ct.lazy=function(P){return{$$typeof:f,_payload:{_status:-1,_result:P},_init:F}},ct.memo=function(P,W){return{$$typeof:p,type:P,compare:W===void 0?null:W}},ct.startTransition=function(P){var W=L.transition;L.transition={};try{P()}finally{L.transition=W}},ct.unstable_act=H,ct.useCallback=function(P,W){return Z.current.useCallback(P,W)},ct.useContext=function(P){return Z.current.useContext(P)},ct.useDebugValue=function(){},ct.useDeferredValue=function(P){return Z.current.useDeferredValue(P)},ct.useEffect=function(P,W){return Z.current.useEffect(P,W)},ct.useId=function(){return Z.current.useId()},ct.useImperativeHandle=function(P,W,ae){return Z.current.useImperativeHandle(P,W,ae)},ct.useInsertionEffect=function(P,W){return Z.current.useInsertionEffect(P,W)},ct.useLayoutEffect=function(P,W){return Z.current.useLayoutEffect(P,W)},ct.useMemo=function(P,W){return Z.current.useMemo(P,W)},ct.useReducer=function(P,W,ae){return Z.current.useReducer(P,W,ae)},ct.useRef=function(P){return Z.current.useRef(P)},ct.useState=function(P){return Z.current.useState(P)},ct.useSyncExternalStore=function(P,W,ae){return Z.current.useSyncExternalStore(P,W,ae)},ct.useTransition=function(){return Z.current.useTransition()},ct.version="18.3.1",ct}var If;function fh(){return If||(If=1,am.exports=Nj()),am.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function kj(){if(Rf)return co;Rf=1;var s=fh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,m,p){var f,x={},v=null,N=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(N=m.ref);for(f in m)n.call(m,f)&&!l.hasOwnProperty(f)&&(x[f]=m[f]);if(u&&u.defaultProps)for(f in m=u.defaultProps,m)x[f]===void 0&&(x[f]=m[f]);return{$$typeof:e,type:u,key:v,ref:N,props:x,_owner:o.current}}return co.Fragment=r,co.jsx=c,co.jsxs=c,co}var Mf;function Cj(){return Mf||(Mf=1,rm.exports=kj()),rm.exports}var t=Cj(),j=fh();const fe=Zg(j);var jc={},nm={exports:{}},Zs={},im={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function Sj(){return Of||(Of=1,function(s){function e(L,re){var H=L.length;L.push(re);e:for(;0<H;){var P=H-1>>>1,W=L[P];if(0<o(W,re))L[P]=re,L[H]=W,H=P;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var re=L[0],H=L.pop();if(H!==re){L[0]=H;e:for(var P=0,W=L.length,ae=W>>>1;P<ae;){var je=2*(P+1)-1,Ne=L[je],pe=je+1,Ee=L[pe];if(0>o(Ne,H))pe<W&&0>o(Ee,Ne)?(L[P]=Ee,L[pe]=H,P=pe):(L[P]=Ne,L[je]=H,P=je);else if(pe<W&&0>o(Ee,H))L[P]=Ee,L[pe]=H,P=pe;else break e}}return re}function o(L,re){var H=L.sortIndex-re.sortIndex;return H!==0?H:L.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();s.unstable_now=function(){return c.now()-u}}var m=[],p=[],f=1,x=null,v=3,N=!1,C=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(L){for(var re=r(p);re!==null;){if(re.callback===null)n(p);else if(re.startTime<=L)n(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=r(p)}}function B(L){if(k=!1,A(L),!C)if(r(m)!==null)C=!0,F(I);else{var re=r(p);re!==null&&Z(B,re.startTime-L)}}function I(L,re){C=!1,k&&(k=!1,T(E),E=-1),N=!0;var H=v;try{for(A(re),x=r(m);x!==null&&(!(x.expirationTime>re)||L&&!ne());){var P=x.callback;if(typeof P=="function"){x.callback=null,v=x.priorityLevel;var W=P(x.expirationTime<=re);re=s.unstable_now(),typeof W=="function"?x.callback=W:x===r(m)&&n(m),A(re)}else n(m);x=r(m)}if(x!==null)var ae=!0;else{var je=r(p);je!==null&&Z(B,je.startTime-re),ae=!1}return ae}finally{x=null,v=H,N=!1}}var D=!1,z=null,E=-1,G=5,Y=-1;function ne(){return!(s.unstable_now()-Y<G)}function ee(){if(z!==null){var L=s.unstable_now();Y=L;var re=!0;try{re=z(!0,L)}finally{re?se():(D=!1,z=null)}}else D=!1}var se;if(typeof _=="function")se=function(){_(ee)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,M=ie.port2;ie.port1.onmessage=ee,se=function(){M.postMessage(null)}}else se=function(){w(ee,0)};function F(L){z=L,D||(D=!0,se())}function Z(L,re){E=w(function(){L(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_continueExecution=function(){C||N||(C=!0,F(I))},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return r(m)},s.unstable_next=function(L){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var H=v;v=re;try{return L()}finally{v=H}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(L,re){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=v;v=L;try{return re()}finally{v=H}},s.unstable_scheduleCallback=function(L,re,H){var P=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?P+H:P):H=P,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,L={id:f++,callback:re,priorityLevel:L,startTime:H,expirationTime:W,sortIndex:-1},H>P?(L.sortIndex=H,e(p,L),r(m)===null&&L===r(p)&&(k?(T(E),E=-1):k=!0,Z(B,H-P))):(L.sortIndex=W,e(m,L),C||N||(C=!0,F(I))),L},s.unstable_shouldYield=ne,s.unstable_wrapCallback=function(L){var re=v;return function(){var H=v;v=re;try{return L.apply(this,arguments)}finally{v=H}}}}(om)),om}var Lf;function Tj(){return Lf||(Lf=1,im.exports=Sj()),im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function Aj(){if(zf)return Zs;zf=1;var s=fh(),e=Tj();function r(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(a,i){c(a,i),c(a+"Capture",i)}function c(a,i){for(o[a]=i,a=0;a<i.length;a++)n.add(i[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},x={};function v(a){return m.call(x,a)?!0:m.call(f,a)?!1:p.test(a)?x[a]=!0:(f[a]=!0,!1)}function N(a,i,d,h){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,i,d,h){if(i===null||typeof i>"u"||N(a,i,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(a,i,d,h,g,b,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=a,this.type=i,this.sanitizeURL=b,this.removeEmptyString=S}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){w[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];w[i]=new k(i,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){w[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){w[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){w[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){w[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){w[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){w[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){w[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(T,_);w[i]=new k(i,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(T,_);w[i]=new k(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(T,_);w[i]=new k(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){w[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),w.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){w[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function A(a,i,d,h){var g=w.hasOwnProperty(i)?w[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,d,g,h)&&(d=null),h||g===null?v(i)&&(d===null?a.removeAttribute(i):a.setAttribute(i,""+d)):g.mustUseProperty?a[g.propertyName]=d===null?g.type===3?!1:"":d:(i=g.attributeName,h=g.attributeNamespace,d===null?a.removeAttribute(i):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,h?a.setAttributeNS(h,i,d):a.setAttribute(i,d))))}var B=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),L=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var H=Object.assign,P;function W(a){if(P===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+a}var ae=!1;function je(a,i){if(!a||ae)return"";ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(te){var h=te}Reflect.construct(a,[],i)}else{try{i.call()}catch(te){h=te}a.call(i.prototype)}else{try{throw Error()}catch(te){h=te}a()}}catch(te){if(te&&h&&typeof te.stack=="string"){for(var g=te.stack.split(`
`),b=h.stack.split(`
`),S=g.length-1,R=b.length-1;1<=S&&0<=R&&g[S]!==b[R];)R--;for(;1<=S&&0<=R;S--,R--)if(g[S]!==b[R]){if(S!==1||R!==1)do if(S--,R--,0>R||g[S]!==b[R]){var $=`
`+g[S].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=S&&0<=R);break}}}finally{ae=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?W(a):""}function Ne(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=je(a.type,!1),a;case 11:return a=je(a.type.render,!1),a;case 1:return a=je(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case D:return"Portal";case G:return"Profiler";case E:return"StrictMode";case se:return"Suspense";case ie:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case ne:return(a.displayName||"Context")+".Consumer";case Y:return(a._context.displayName||"Context")+".Provider";case ee:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return i=a.displayName||null,i!==null?i:pe(a.type)||"Memo";case F:i=a._payload,a=a._init;try{return pe(a(i))}catch{}}return null}function Ee(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ye(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ut(a){var i=Ye(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),h=""+a[i];if(!a.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,b.call(this,S)}}),Object.defineProperty(a,i,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Gt(a){a._valueTracker||(a._valueTracker=ut(a))}function _t(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var d=i.getValue(),h="";return a&&(h=Ye(a)?a.checked?"true":"false":a.value),a=h,a!==d?(i.setValue(a),!0):!1}function ps(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Et(a,i){var d=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function ns(a,i){var d=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;d=Ue(i.value!=null?i.value:d),a._wrapperState={initialChecked:h,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function jt(a,i){i=i.checked,i!=null&&A(a,"checked",i,!1)}function Pt(a,i){jt(a,i);var d=Ue(i.value),h=i.type;if(d!=null)h==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(h==="submit"||h==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?yt(a,i.type,d):i.hasOwnProperty("defaultValue")&&yt(a,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function It(a,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,d||i===a.value||(a.value=i),a.defaultValue=i}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function yt(a,i,d){(i!=="number"||ps(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var O=Array.isArray;function q(a,i,d,h){if(a=a.options,i){i={};for(var g=0;g<d.length;g++)i["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=i.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&h&&(a[d].defaultSelected=!0)}else{for(d=""+Ue(d),i=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}i!==null||a[g].disabled||(i=a[g])}i!==null&&(i.selected=!0)}}function J(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function be(a,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(r(92));if(O(d)){if(1<d.length)throw Error(r(93));d=d[0]}i=d}i==null&&(i=""),d=i}a._wrapperState={initialValue:Ue(d)}}function xe(a,i){var d=Ue(i.value),h=Ue(i.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),i.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),h!=null&&(a.defaultValue=""+h)}function de(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function Ce(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?Ce(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var nt,vt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,h,g){MSApp.execUnsafeLocalFunction(function(){return a(i,d,h,g)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=nt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function Rt(a,i){if(i){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=i;return}}a.textContent=i}var Mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(Mt).forEach(function(a){fs.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),Mt[i]=Mt[a]})});function is(a,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||Mt.hasOwnProperty(a)&&Mt[a]?(""+i).trim():i+"px"}function qt(a,i){a=a.style;for(var d in i)if(i.hasOwnProperty(d)){var h=d.indexOf("--")===0,g=is(d,i[d],h);d==="float"&&(d="cssFloat"),h?a.setProperty(d,g):a[d]=g}}var Ns=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(a,i){if(i){if(Ns[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Qs(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=null;function Ot(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Rs=null,ir=null,gs=null;function sa(a){if(a=Ki(a)){if(typeof Rs!="function")throw Error(r(280));var i=a.stateNode;i&&(i=Ll(i),Rs(a.stateNode,a.type,i))}}function Ze(a){ir?gs?gs.push(a):gs=[a]:ir=a}function st(){if(ir){var a=ir,i=gs;if(gs=ir=null,sa(a),i)for(a=0;a<i.length;a++)sa(i[a])}}function bt(a,i){return a(i)}function K(){}var Pe=!1;function we(a,i,d){if(Pe)return a(i,d);Pe=!0;try{return bt(a,i,d)}finally{Pe=!1,(ir!==null||gs!==null)&&(K(),st())}}function ue(a,i){var d=a.stateNode;if(d===null)return null;var h=Ll(d);if(h===null)return null;d=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,i,typeof d));return d}var Se=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Se=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{Se=!1}function He(a,i,d,h,g,b,S,R,$){var te=Array.prototype.slice.call(arguments,3);try{i.apply(d,te)}catch(ce){this.onError(ce)}}var Je=!1,Ct=null,Ms=!1,rn=null,gl={onError:function(a){Je=!0,Ct=a}};function br(a,i,d,h,g,b,S,R,$){Je=!1,Ct=null,He.apply(gl,arguments)}function bl(a,i,d,h,g,b,S,R,$){if(br.apply(this,arguments),Je){if(Je){var te=Ct;Je=!1,Ct=null}else throw Error(r(198));Ms||(Ms=!0,rn=te)}}function Lr(a){var i=a,d=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(d=i.return),a=i.return;while(a)}return i.tag===3?d:null}function Ti(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function Ai(a){if(Lr(a)!==a)throw Error(r(188))}function Nd(a){var i=a.alternate;if(!i){if(i=Lr(a),i===null)throw Error(r(188));return i!==a?null:a}for(var d=a,h=i;;){var g=d.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){d=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===d)return Ai(g),a;if(b===h)return Ai(g),i;b=b.sibling}throw Error(r(188))}if(d.return!==h.return)d=g,h=b;else{for(var S=!1,R=g.child;R;){if(R===d){S=!0,d=g,h=b;break}if(R===h){S=!0,h=g,d=b;break}R=R.sibling}if(!S){for(R=b.child;R;){if(R===d){S=!0,d=b,h=g;break}if(R===h){S=!0,h=b,d=g;break}R=R.sibling}if(!S)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:i}function Be(a){return a=Nd(a),a!==null?V(a):null}function V(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=V(a);if(i!==null)return i;a=a.sibling}return null}var ge=e.unstable_scheduleCallback,Le=e.unstable_cancelCallback,Nt=e.unstable_shouldYield,os=e.unstable_requestPaint,rt=e.unstable_now,ks=e.unstable_getCurrentPriorityLevel,er=e.unstable_ImmediatePriority,ra=e.unstable_UserBlockingPriority,Sa=e.unstable_NormalPriority,ts=e.unstable_LowPriority,_i=e.unstable_IdlePriority,an=null,zr=null;function Ov(a){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(an,a,void 0,(a.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:$v,Lv=Math.log,zv=Math.LN2;function $v(a){return a>>>=0,a===0?32:31-(Lv(a)/zv|0)|0}var yl=64,vl=4194304;function Di(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function wl(a,i){var d=a.pendingLanes;if(d===0)return 0;var h=0,g=a.suspendedLanes,b=a.pingedLanes,S=d&268435455;if(S!==0){var R=S&~g;R!==0?h=Di(R):(b&=S,b!==0&&(h=Di(b)))}else S=d&~g,S!==0?h=Di(S):b!==0&&(h=Di(b));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,b=i&-i,g>=b||g===16&&(b&4194240)!==0))return i;if((h&4)!==0&&(h|=d&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=h;0<i;)d=31-yr(i),g=1<<d,h|=a[d],i&=~g;return h}function Fv(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vv(a,i){for(var d=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,b=a.pendingLanes;0<b;){var S=31-yr(b),R=1<<S,$=g[S];$===-1?((R&d)===0||(R&h)!==0)&&(g[S]=Fv(R,i)):$<=i&&(a.expiredLanes|=R),b&=~R}}function kd(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function l0(){var a=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),a}function Cd(a){for(var i=[],d=0;31>d;d++)i.push(a);return i}function Ei(a,i,d){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-yr(i),a[i]=d}function Bv(a,i){var d=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var h=a.eventTimes;for(a=a.expirationTimes;0<d;){var g=31-yr(d),b=1<<g;i[g]=0,h[g]=-1,a[g]=-1,d&=~b}}function Sd(a,i){var d=a.entangledLanes|=i;for(a=a.entanglements;d;){var h=31-yr(d),g=1<<h;g&i|a[h]&i&&(a[h]|=i),d&=~g}}var xt=0;function c0(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var d0,Td,u0,m0,h0,Ad=!1,jl=[],Ta=null,Aa=null,_a=null,Pi=new Map,Ii=new Map,Da=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p0(a,i){switch(a){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Pi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(i.pointerId)}}function Ri(a,i,d,h,g,b){return a===null||a.nativeEvent!==b?(a={blockedOn:i,domEventName:d,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},i!==null&&(i=Ki(i),i!==null&&Td(i)),a):(a.eventSystemFlags|=h,i=a.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),a)}function Hv(a,i,d,h,g){switch(i){case"focusin":return Ta=Ri(Ta,a,i,d,h,g),!0;case"dragenter":return Aa=Ri(Aa,a,i,d,h,g),!0;case"mouseover":return _a=Ri(_a,a,i,d,h,g),!0;case"pointerover":var b=g.pointerId;return Pi.set(b,Ri(Pi.get(b)||null,a,i,d,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Ii.set(b,Ri(Ii.get(b)||null,a,i,d,h,g)),!0}return!1}function f0(a){var i=nn(a.target);if(i!==null){var d=Lr(i);if(d!==null){if(i=d.tag,i===13){if(i=Ti(d),i!==null){a.blockedOn=i,h0(a.priority,function(){u0(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nl(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var d=Dd(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);xs=h,d.target.dispatchEvent(h),xs=null}else return i=Ki(d),i!==null&&Td(i),a.blockedOn=d,!1;i.shift()}return!0}function x0(a,i,d){Nl(a)&&d.delete(i)}function Wv(){Ad=!1,Ta!==null&&Nl(Ta)&&(Ta=null),Aa!==null&&Nl(Aa)&&(Aa=null),_a!==null&&Nl(_a)&&(_a=null),Pi.forEach(x0),Ii.forEach(x0)}function Mi(a,i){a.blockedOn===i&&(a.blockedOn=null,Ad||(Ad=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wv)))}function Oi(a){function i(g){return Mi(g,a)}if(0<jl.length){Mi(jl[0],a);for(var d=1;d<jl.length;d++){var h=jl[d];h.blockedOn===a&&(h.blockedOn=null)}}for(Ta!==null&&Mi(Ta,a),Aa!==null&&Mi(Aa,a),_a!==null&&Mi(_a,a),Pi.forEach(i),Ii.forEach(i),d=0;d<Da.length;d++)h=Da[d],h.blockedOn===a&&(h.blockedOn=null);for(;0<Da.length&&(d=Da[0],d.blockedOn===null);)f0(d),d.blockedOn===null&&Da.shift()}var Rn=B.ReactCurrentBatchConfig,kl=!0;function Gv(a,i,d,h){var g=xt,b=Rn.transition;Rn.transition=null;try{xt=1,_d(a,i,d,h)}finally{xt=g,Rn.transition=b}}function Yv(a,i,d,h){var g=xt,b=Rn.transition;Rn.transition=null;try{xt=4,_d(a,i,d,h)}finally{xt=g,Rn.transition=b}}function _d(a,i,d,h){if(kl){var g=Dd(a,i,d,h);if(g===null)Yd(a,i,h,Cl,d),p0(a,h);else if(Hv(g,a,i,d,h))h.stopPropagation();else if(p0(a,h),i&4&&-1<Uv.indexOf(a)){for(;g!==null;){var b=Ki(g);if(b!==null&&d0(b),b=Dd(a,i,d,h),b===null&&Yd(a,i,h,Cl,d),b===g)break;g=b}g!==null&&h.stopPropagation()}else Yd(a,i,h,null,d)}}var Cl=null;function Dd(a,i,d,h){if(Cl=null,a=Ot(h),a=nn(a),a!==null)if(i=Lr(a),i===null)a=null;else if(d=i.tag,d===13){if(a=Ti(i),a!==null)return a;a=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return Cl=a,null}function g0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ks()){case er:return 1;case ra:return 4;case Sa:case ts:return 16;case _i:return 536870912;default:return 16}default:return 16}}var Ea=null,Ed=null,Sl=null;function b0(){if(Sl)return Sl;var a,i=Ed,d=i.length,h,g="value"in Ea?Ea.value:Ea.textContent,b=g.length;for(a=0;a<d&&i[a]===g[a];a++);var S=d-a;for(h=1;h<=S&&i[d-h]===g[b-h];h++);return Sl=g.slice(a,1<h?1-h:void 0)}function Tl(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Al(){return!0}function y0(){return!1}function tr(a){function i(d,h,g,b,S){this._reactName=d,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(d=a[R],this[R]=d?d(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Al:y0,this.isPropagationStopped=y0,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),i}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=tr(Mn),Li=H({},Mn,{view:0,detail:0}),Kv=tr(Li),Id,Rd,zi,_l=H({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zi&&(zi&&a.type==="mousemove"?(Id=a.screenX-zi.screenX,Rd=a.screenY-zi.screenY):Rd=Id=0,zi=a),Id)},movementY:function(a){return"movementY"in a?a.movementY:Rd}}),v0=tr(_l),Zv=H({},_l,{dataTransfer:0}),qv=tr(Zv),Xv=H({},Li,{relatedTarget:0}),Md=tr(Xv),Jv=H({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=tr(Jv),ew=H({},Mn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tw=tr(ew),sw=H({},Mn,{data:0}),w0=tr(sw),rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iw(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=nw[a])?!!i[a]:!1}function Od(){return iw}var ow=H({},Li,{key:function(a){if(a.key){var i=rw[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Tl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?aw[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(a){return a.type==="keypress"?Tl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lw=tr(ow),cw=H({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=tr(cw),dw=H({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),uw=tr(dw),mw=H({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=tr(mw),pw=H({},_l,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fw=tr(pw),xw=[9,13,27,32],Ld=u&&"CompositionEvent"in window,$i=null;u&&"documentMode"in document&&($i=document.documentMode);var gw=u&&"TextEvent"in window&&!$i,N0=u&&(!Ld||$i&&8<$i&&11>=$i),k0=" ",C0=!1;function S0(a,i){switch(a){case"keyup":return xw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var On=!1;function bw(a,i){switch(a){case"compositionend":return T0(i);case"keypress":return i.which!==32?null:(C0=!0,k0);case"textInput":return a=i.data,a===k0&&C0?null:a;default:return null}}function yw(a,i){if(On)return a==="compositionend"||!Ld&&S0(a,i)?(a=b0(),Sl=Ed=Ea=null,On=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return N0&&i.locale!=="ko"?null:i.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!vw[a.type]:i==="textarea"}function _0(a,i,d,h){Ze(h),i=Rl(i,"onChange"),0<i.length&&(d=new Pd("onChange","change",null,d,h),a.push({event:d,listeners:i}))}var Fi=null,Vi=null;function ww(a){Y0(a,0)}function Dl(a){var i=Vn(a);if(_t(i))return a}function jw(a,i){if(a==="change")return i}var D0=!1;if(u){var zd;if(u){var $d="oninput"in document;if(!$d){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),$d=typeof E0.oninput=="function"}zd=$d}else zd=!1;D0=zd&&(!document.documentMode||9<document.documentMode)}function P0(){Fi&&(Fi.detachEvent("onpropertychange",I0),Vi=Fi=null)}function I0(a){if(a.propertyName==="value"&&Dl(Vi)){var i=[];_0(i,Vi,a,Ot(a)),we(ww,i)}}function Nw(a,i,d){a==="focusin"?(P0(),Fi=i,Vi=d,Fi.attachEvent("onpropertychange",I0)):a==="focusout"&&P0()}function kw(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Dl(Vi)}function Cw(a,i){if(a==="click")return Dl(i)}function Sw(a,i){if(a==="input"||a==="change")return Dl(i)}function Tw(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var vr=typeof Object.is=="function"?Object.is:Tw;function Bi(a,i){if(vr(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var d=Object.keys(a),h=Object.keys(i);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var g=d[h];if(!m.call(i,g)||!vr(a[g],i[g]))return!1}return!0}function R0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function M0(a,i){var d=R0(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=i&&h>=i)return{node:d,offset:i-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=R0(d)}}function O0(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?O0(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function L0(){for(var a=window,i=ps();i instanceof a.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)a=i.contentWindow;else break;i=ps(a.document)}return i}function Fd(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Aw(a){var i=L0(),d=a.focusedElem,h=a.selectionRange;if(i!==d&&d&&d.ownerDocument&&O0(d.ownerDocument.documentElement,d)){if(h!==null&&Fd(d)){if(i=h.start,a=h.end,a===void 0&&(a=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(a,d.value.length);else if(a=(i=d.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var g=d.textContent.length,b=Math.min(h.start,g);h=h.end===void 0?b:Math.min(h.end,g),!a.extend&&b>h&&(g=h,h=b,b=g),g=M0(d,b);var S=M0(d,h);g&&S&&(a.rangeCount!==1||a.anchorNode!==g.node||a.anchorOffset!==g.offset||a.focusNode!==S.node||a.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),a.removeAllRanges(),b>h?(a.addRange(i),a.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),a.addRange(i)))}}for(i=[],a=d;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)a=i[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _w=u&&"documentMode"in document&&11>=document.documentMode,Ln=null,Vd=null,Ui=null,Bd=!1;function z0(a,i,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Bd||Ln==null||Ln!==ps(h)||(h=Ln,"selectionStart"in h&&Fd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ui&&Bi(Ui,h)||(Ui=h,h=Rl(Vd,"onSelect"),0<h.length&&(i=new Pd("onSelect","select",null,i,d),a.push({event:i,listeners:h}),i.target=Ln)))}function El(a,i){var d={};return d[a.toLowerCase()]=i.toLowerCase(),d["Webkit"+a]="webkit"+i,d["Moz"+a]="moz"+i,d}var zn={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Ud={},$0={};u&&($0=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Pl(a){if(Ud[a])return Ud[a];if(!zn[a])return a;var i=zn[a],d;for(d in i)if(i.hasOwnProperty(d)&&d in $0)return Ud[a]=i[d];return a}var F0=Pl("animationend"),V0=Pl("animationiteration"),B0=Pl("animationstart"),U0=Pl("transitionend"),H0=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(a,i){H0.set(a,i),l(i,[a])}for(var Hd=0;Hd<W0.length;Hd++){var Wd=W0[Hd],Dw=Wd.toLowerCase(),Ew=Wd[0].toUpperCase()+Wd.slice(1);Pa(Dw,"on"+Ew)}Pa(F0,"onAnimationEnd"),Pa(V0,"onAnimationIteration"),Pa(B0,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(U0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function G0(a,i,d){var h=a.type||"unknown-event";a.currentTarget=d,bl(h,i,void 0,a),a.currentTarget=null}function Y0(a,i){i=(i&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],g=h.event;h=h.listeners;e:{var b=void 0;if(i)for(var S=h.length-1;0<=S;S--){var R=h[S],$=R.instance,te=R.currentTarget;if(R=R.listener,$!==b&&g.isPropagationStopped())break e;G0(g,R,te),b=$}else for(S=0;S<h.length;S++){if(R=h[S],$=R.instance,te=R.currentTarget,R=R.listener,$!==b&&g.isPropagationStopped())break e;G0(g,R,te),b=$}}}if(Ms)throw a=rn,Ms=!1,rn=null,a}function St(a,i){var d=i[Qd];d===void 0&&(d=i[Qd]=new Set);var h=a+"__bubble";d.has(h)||(K0(i,a,2,!1),d.add(h))}function Gd(a,i,d){var h=0;i&&(h|=4),K0(d,a,h,i)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Wi(a){if(!a[Il]){a[Il]=!0,n.forEach(function(d){d!=="selectionchange"&&(Pw.has(d)||Gd(d,!1,a),Gd(d,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Il]||(i[Il]=!0,Gd("selectionchange",!1,i))}}function K0(a,i,d,h){switch(g0(i)){case 1:var g=Gv;break;case 4:g=Yv;break;default:g=_d}d=g.bind(null,i,d,a),g=void 0,!Se||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(i,d,{capture:!0,passive:g}):a.addEventListener(i,d,!0):g!==void 0?a.addEventListener(i,d,{passive:g}):a.addEventListener(i,d,!1)}function Yd(a,i,d,h,g){var b=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var $=S.tag;if(($===3||$===4)&&($=S.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;S=S.return}for(;R!==null;){if(S=nn(R),S===null)return;if($=S.tag,$===5||$===6){h=b=S;continue e}R=R.parentNode}}h=h.return}we(function(){var te=b,ce=Ot(d),me=[];e:{var le=H0.get(a);if(le!==void 0){var Te=Pd,Ie=a;switch(a){case"keypress":if(Tl(d)===0)break e;case"keydown":case"keyup":Te=lw;break;case"focusin":Ie="focus",Te=Md;break;case"focusout":Ie="blur",Te=Md;break;case"beforeblur":case"afterblur":Te=Md;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=uw;break;case F0:case V0:case B0:Te=Qv;break;case U0:Te=hw;break;case"scroll":Te=Kv;break;case"wheel":Te=fw;break;case"copy":case"cut":case"paste":Te=tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=j0}var $e=(i&4)!==0,Yt=!$e&&a==="scroll",X=$e?le!==null?le+"Capture":null:le;$e=[];for(var U=te,Q;U!==null;){Q=U;var ve=Q.stateNode;if(Q.tag===5&&ve!==null&&(Q=ve,X!==null&&(ve=ue(U,X),ve!=null&&$e.push(Gi(U,ve,Q)))),Yt)break;U=U.return}0<$e.length&&(le=new Te(le,Ie,null,d,ce),me.push({event:le,listeners:$e}))}}if((i&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",Te=a==="mouseout"||a==="pointerout",le&&d!==xs&&(Ie=d.relatedTarget||d.fromElement)&&(nn(Ie)||Ie[aa]))break e;if((Te||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,Te?(Ie=d.relatedTarget||d.toElement,Te=te,Ie=Ie?nn(Ie):null,Ie!==null&&(Yt=Lr(Ie),Ie!==Yt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=te),Te!==Ie)){if($e=v0,ve="onMouseLeave",X="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&($e=j0,ve="onPointerLeave",X="onPointerEnter",U="pointer"),Yt=Te==null?le:Vn(Te),Q=Ie==null?le:Vn(Ie),le=new $e(ve,U+"leave",Te,d,ce),le.target=Yt,le.relatedTarget=Q,ve=null,nn(ce)===te&&($e=new $e(X,U+"enter",Ie,d,ce),$e.target=Q,$e.relatedTarget=Yt,ve=$e),Yt=ve,Te&&Ie)t:{for($e=Te,X=Ie,U=0,Q=$e;Q;Q=$n(Q))U++;for(Q=0,ve=X;ve;ve=$n(ve))Q++;for(;0<U-Q;)$e=$n($e),U--;for(;0<Q-U;)X=$n(X),Q--;for(;U--;){if($e===X||X!==null&&$e===X.alternate)break t;$e=$n($e),X=$n(X)}$e=null}else $e=null;Te!==null&&Z0(me,le,Te,$e,!1),Ie!==null&&Yt!==null&&Z0(me,Yt,Ie,$e,!0)}}e:{if(le=te?Vn(te):window,Te=le.nodeName&&le.nodeName.toLowerCase(),Te==="select"||Te==="input"&&le.type==="file")var Fe=jw;else if(A0(le))if(D0)Fe=Sw;else{Fe=kw;var We=Nw}else(Te=le.nodeName)&&Te.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Fe=Cw);if(Fe&&(Fe=Fe(a,te))){_0(me,Fe,d,ce);break e}We&&We(a,le,te),a==="focusout"&&(We=le._wrapperState)&&We.controlled&&le.type==="number"&&yt(le,"number",le.value)}switch(We=te?Vn(te):window,a){case"focusin":(A0(We)||We.contentEditable==="true")&&(Ln=We,Vd=te,Ui=null);break;case"focusout":Ui=Vd=Ln=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,z0(me,d,ce);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":z0(me,d,ce)}var Ge;if(Ld)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else On?S0(a,d)&&(Qe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(N0&&d.locale!=="ko"&&(On||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&On&&(Ge=b0()):(Ea=ce,Ed="value"in Ea?Ea.value:Ea.textContent,On=!0)),We=Rl(te,Qe),0<We.length&&(Qe=new w0(Qe,a,null,d,ce),me.push({event:Qe,listeners:We}),Ge?Qe.data=Ge:(Ge=T0(d),Ge!==null&&(Qe.data=Ge)))),(Ge=gw?bw(a,d):yw(a,d))&&(te=Rl(te,"onBeforeInput"),0<te.length&&(ce=new w0("onBeforeInput","beforeinput",null,d,ce),me.push({event:ce,listeners:te}),ce.data=Ge))}Y0(me,i)})}function Gi(a,i,d){return{instance:a,listener:i,currentTarget:d}}function Rl(a,i){for(var d=i+"Capture",h=[];a!==null;){var g=a,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=ue(a,d),b!=null&&h.unshift(Gi(a,b,g)),b=ue(a,i),b!=null&&h.push(Gi(a,b,g))),a=a.return}return h}function $n(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Z0(a,i,d,h,g){for(var b=i._reactName,S=[];d!==null&&d!==h;){var R=d,$=R.alternate,te=R.stateNode;if($!==null&&$===h)break;R.tag===5&&te!==null&&(R=te,g?($=ue(d,b),$!=null&&S.unshift(Gi(d,$,R))):g||($=ue(d,b),$!=null&&S.push(Gi(d,$,R)))),d=d.return}S.length!==0&&a.push({event:i,listeners:S})}var Iw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function q0(a){return(typeof a=="string"?a:""+a).replace(Iw,`
`).replace(Rw,"")}function Ml(a,i,d){if(i=q0(i),q0(a)!==i&&d)throw Error(r(425))}function Ol(){}var Kd=null,Zd=null;function qd(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,Mw=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(a){return X0.resolve(null).then(a).catch(Lw)}:Xd;function Lw(a){setTimeout(function(){throw a})}function Jd(a,i){var d=i,h=0;do{var g=d.nextSibling;if(a.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(h===0){a.removeChild(g),Oi(i);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=g}while(d);Oi(i)}function Ia(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function J0(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return a;i--}else d==="/$"&&i++}a=a.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),$r="__reactFiber$"+Fn,Yi="__reactProps$"+Fn,aa="__reactContainer$"+Fn,Qd="__reactEvents$"+Fn,zw="__reactListeners$"+Fn,$w="__reactHandles$"+Fn;function nn(a){var i=a[$r];if(i)return i;for(var d=a.parentNode;d;){if(i=d[aa]||d[$r]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(a=J0(a);a!==null;){if(d=a[$r])return d;a=J0(a)}return i}a=d,d=a.parentNode}return null}function Ki(a){return a=a[$r]||a[aa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Vn(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Ll(a){return a[Yi]||null}var eu=[],Bn=-1;function Ra(a){return{current:a}}function Tt(a){0>Bn||(a.current=eu[Bn],eu[Bn]=null,Bn--)}function kt(a,i){Bn++,eu[Bn]=a.current,a.current=i}var Ma={},Cs=Ra(Ma),Hs=Ra(!1),on=Ma;function Un(a,i){var d=a.type.contextTypes;if(!d)return Ma;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in d)g[b]=i[b];return h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=g),g}function Ws(a){return a=a.childContextTypes,a!=null}function zl(){Tt(Hs),Tt(Cs)}function Q0(a,i,d){if(Cs.current!==Ma)throw Error(r(168));kt(Cs,i),kt(Hs,d)}function ep(a,i,d){var h=a.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(r(108,Ee(a)||"Unknown",g));return H({},d,h)}function $l(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ma,on=Cs.current,kt(Cs,a),kt(Hs,Hs.current),!0}function tp(a,i,d){var h=a.stateNode;if(!h)throw Error(r(169));d?(a=ep(a,i,on),h.__reactInternalMemoizedMergedChildContext=a,Tt(Hs),Tt(Cs),kt(Cs,a)):Tt(Hs),kt(Hs,d)}var na=null,Fl=!1,tu=!1;function sp(a){na===null?na=[a]:na.push(a)}function Fw(a){Fl=!0,sp(a)}function Oa(){if(!tu&&na!==null){tu=!0;var a=0,i=xt;try{var d=na;for(xt=1;a<d.length;a++){var h=d[a];do h=h(!0);while(h!==null)}na=null,Fl=!1}catch(g){throw na!==null&&(na=na.slice(a+1)),ge(er,Oa),g}finally{xt=i,tu=!1}}return null}var Hn=[],Wn=0,Vl=null,Bl=0,or=[],lr=0,ln=null,ia=1,oa="";function cn(a,i){Hn[Wn++]=Bl,Hn[Wn++]=Vl,Vl=a,Bl=i}function rp(a,i,d){or[lr++]=ia,or[lr++]=oa,or[lr++]=ln,ln=a;var h=ia;a=oa;var g=32-yr(h)-1;h&=~(1<<g),d+=1;var b=32-yr(i)+g;if(30<b){var S=g-g%5;b=(h&(1<<S)-1).toString(32),h>>=S,g-=S,ia=1<<32-yr(i)+g|d<<g|h,oa=b+a}else ia=1<<b|d<<g|h,oa=a}function su(a){a.return!==null&&(cn(a,1),rp(a,1,0))}function ru(a){for(;a===Vl;)Vl=Hn[--Wn],Hn[Wn]=null,Bl=Hn[--Wn],Hn[Wn]=null;for(;a===ln;)ln=or[--lr],or[lr]=null,oa=or[--lr],or[lr]=null,ia=or[--lr],or[lr]=null}var sr=null,rr=null,Dt=!1,wr=null;function ap(a,i){var d=mr(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=a,i=a.deletions,i===null?(a.deletions=[d],a.flags|=16):i.push(d)}function np(a,i){switch(a.tag){case 5:var d=a.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,sr=a,rr=Ia(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,sr=a,rr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=ln!==null?{id:ia,overflow:oa}:null,a.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=mr(18,null,null,0),d.stateNode=i,d.return=a,a.child=d,sr=a,rr=null,!0):!1;default:return!1}}function au(a){return(a.mode&1)!==0&&(a.flags&128)===0}function nu(a){if(Dt){var i=rr;if(i){var d=i;if(!np(a,i)){if(au(a))throw Error(r(418));i=Ia(d.nextSibling);var h=sr;i&&np(a,i)?ap(h,d):(a.flags=a.flags&-4097|2,Dt=!1,sr=a)}}else{if(au(a))throw Error(r(418));a.flags=a.flags&-4097|2,Dt=!1,sr=a}}}function ip(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;sr=a}function Ul(a){if(a!==sr)return!1;if(!Dt)return ip(a),Dt=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!qd(a.type,a.memoizedProps)),i&&(i=rr)){if(au(a))throw op(),Error(r(418));for(;i;)ap(a,i),i=Ia(i.nextSibling)}if(ip(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(i===0){rr=Ia(a.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}a=a.nextSibling}rr=null}}else rr=sr?Ia(a.stateNode.nextSibling):null;return!0}function op(){for(var a=rr;a;)a=Ia(a.nextSibling)}function Gn(){rr=sr=null,Dt=!1}function iu(a){wr===null?wr=[a]:wr.push(a)}var Vw=B.ReactCurrentBatchConfig;function Zi(a,i,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var h=d.stateNode}if(!h)throw Error(r(147,a));var g=h,b=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===b?i.ref:(i=function(S){var R=g.refs;S===null?delete R[b]:R[b]=S},i._stringRef=b,i)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function Hl(a,i){throw a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function lp(a){var i=a._init;return i(a._payload)}function cp(a){function i(X,U){if(a){var Q=X.deletions;Q===null?(X.deletions=[U],X.flags|=16):Q.push(U)}}function d(X,U){if(!a)return null;for(;U!==null;)i(X,U),U=U.sibling;return null}function h(X,U){for(X=new Map;U!==null;)U.key!==null?X.set(U.key,U):X.set(U.index,U),U=U.sibling;return X}function g(X,U){return X=Ha(X,U),X.index=0,X.sibling=null,X}function b(X,U,Q){return X.index=Q,a?(Q=X.alternate,Q!==null?(Q=Q.index,Q<U?(X.flags|=2,U):Q):(X.flags|=2,U)):(X.flags|=1048576,U)}function S(X){return a&&X.alternate===null&&(X.flags|=2),X}function R(X,U,Q,ve){return U===null||U.tag!==6?(U=Xu(Q,X.mode,ve),U.return=X,U):(U=g(U,Q),U.return=X,U)}function $(X,U,Q,ve){var Fe=Q.type;return Fe===z?ce(X,U,Q.props.children,ve,Q.key):U!==null&&(U.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===F&&lp(Fe)===U.type)?(ve=g(U,Q.props),ve.ref=Zi(X,U,Q),ve.return=X,ve):(ve=pc(Q.type,Q.key,Q.props,null,X.mode,ve),ve.ref=Zi(X,U,Q),ve.return=X,ve)}function te(X,U,Q,ve){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=Ju(Q,X.mode,ve),U.return=X,U):(U=g(U,Q.children||[]),U.return=X,U)}function ce(X,U,Q,ve,Fe){return U===null||U.tag!==7?(U=gn(Q,X.mode,ve,Fe),U.return=X,U):(U=g(U,Q),U.return=X,U)}function me(X,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Xu(""+U,X.mode,Q),U.return=X,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case I:return Q=pc(U.type,U.key,U.props,null,X.mode,Q),Q.ref=Zi(X,null,U),Q.return=X,Q;case D:return U=Ju(U,X.mode,Q),U.return=X,U;case F:var ve=U._init;return me(X,ve(U._payload),Q)}if(O(U)||re(U))return U=gn(U,X.mode,Q,null),U.return=X,U;Hl(X,U)}return null}function le(X,U,Q,ve){var Fe=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Fe!==null?null:R(X,U,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return Q.key===Fe?$(X,U,Q,ve):null;case D:return Q.key===Fe?te(X,U,Q,ve):null;case F:return Fe=Q._init,le(X,U,Fe(Q._payload),ve)}if(O(Q)||re(Q))return Fe!==null?null:ce(X,U,Q,ve,null);Hl(X,Q)}return null}function Te(X,U,Q,ve,Fe){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return X=X.get(Q)||null,R(U,X,""+ve,Fe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return X=X.get(ve.key===null?Q:ve.key)||null,$(U,X,ve,Fe);case D:return X=X.get(ve.key===null?Q:ve.key)||null,te(U,X,ve,Fe);case F:var We=ve._init;return Te(X,U,Q,We(ve._payload),Fe)}if(O(ve)||re(ve))return X=X.get(Q)||null,ce(U,X,ve,Fe,null);Hl(U,ve)}return null}function Ie(X,U,Q,ve){for(var Fe=null,We=null,Ge=U,Qe=U=0,ds=null;Ge!==null&&Qe<Q.length;Qe++){Ge.index>Qe?(ds=Ge,Ge=null):ds=Ge.sibling;var pt=le(X,Ge,Q[Qe],ve);if(pt===null){Ge===null&&(Ge=ds);break}a&&Ge&&pt.alternate===null&&i(X,Ge),U=b(pt,U,Qe),We===null?Fe=pt:We.sibling=pt,We=pt,Ge=ds}if(Qe===Q.length)return d(X,Ge),Dt&&cn(X,Qe),Fe;if(Ge===null){for(;Qe<Q.length;Qe++)Ge=me(X,Q[Qe],ve),Ge!==null&&(U=b(Ge,U,Qe),We===null?Fe=Ge:We.sibling=Ge,We=Ge);return Dt&&cn(X,Qe),Fe}for(Ge=h(X,Ge);Qe<Q.length;Qe++)ds=Te(Ge,X,Qe,Q[Qe],ve),ds!==null&&(a&&ds.alternate!==null&&Ge.delete(ds.key===null?Qe:ds.key),U=b(ds,U,Qe),We===null?Fe=ds:We.sibling=ds,We=ds);return a&&Ge.forEach(function(Wa){return i(X,Wa)}),Dt&&cn(X,Qe),Fe}function $e(X,U,Q,ve){var Fe=re(Q);if(typeof Fe!="function")throw Error(r(150));if(Q=Fe.call(Q),Q==null)throw Error(r(151));for(var We=Fe=null,Ge=U,Qe=U=0,ds=null,pt=Q.next();Ge!==null&&!pt.done;Qe++,pt=Q.next()){Ge.index>Qe?(ds=Ge,Ge=null):ds=Ge.sibling;var Wa=le(X,Ge,pt.value,ve);if(Wa===null){Ge===null&&(Ge=ds);break}a&&Ge&&Wa.alternate===null&&i(X,Ge),U=b(Wa,U,Qe),We===null?Fe=Wa:We.sibling=Wa,We=Wa,Ge=ds}if(pt.done)return d(X,Ge),Dt&&cn(X,Qe),Fe;if(Ge===null){for(;!pt.done;Qe++,pt=Q.next())pt=me(X,pt.value,ve),pt!==null&&(U=b(pt,U,Qe),We===null?Fe=pt:We.sibling=pt,We=pt);return Dt&&cn(X,Qe),Fe}for(Ge=h(X,Ge);!pt.done;Qe++,pt=Q.next())pt=Te(Ge,X,Qe,pt.value,ve),pt!==null&&(a&&pt.alternate!==null&&Ge.delete(pt.key===null?Qe:pt.key),U=b(pt,U,Qe),We===null?Fe=pt:We.sibling=pt,We=pt);return a&&Ge.forEach(function(vj){return i(X,vj)}),Dt&&cn(X,Qe),Fe}function Yt(X,U,Q,ve){if(typeof Q=="object"&&Q!==null&&Q.type===z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:e:{for(var Fe=Q.key,We=U;We!==null;){if(We.key===Fe){if(Fe=Q.type,Fe===z){if(We.tag===7){d(X,We.sibling),U=g(We,Q.props.children),U.return=X,X=U;break e}}else if(We.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===F&&lp(Fe)===We.type){d(X,We.sibling),U=g(We,Q.props),U.ref=Zi(X,We,Q),U.return=X,X=U;break e}d(X,We);break}else i(X,We);We=We.sibling}Q.type===z?(U=gn(Q.props.children,X.mode,ve,Q.key),U.return=X,X=U):(ve=pc(Q.type,Q.key,Q.props,null,X.mode,ve),ve.ref=Zi(X,U,Q),ve.return=X,X=ve)}return S(X);case D:e:{for(We=Q.key;U!==null;){if(U.key===We)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){d(X,U.sibling),U=g(U,Q.children||[]),U.return=X,X=U;break e}else{d(X,U);break}else i(X,U);U=U.sibling}U=Ju(Q,X.mode,ve),U.return=X,X=U}return S(X);case F:return We=Q._init,Yt(X,U,We(Q._payload),ve)}if(O(Q))return Ie(X,U,Q,ve);if(re(Q))return $e(X,U,Q,ve);Hl(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,U!==null&&U.tag===6?(d(X,U.sibling),U=g(U,Q),U.return=X,X=U):(d(X,U),U=Xu(Q,X.mode,ve),U.return=X,X=U),S(X)):d(X,U)}return Yt}var Yn=cp(!0),dp=cp(!1),Wl=Ra(null),Gl=null,Kn=null,ou=null;function lu(){ou=Kn=Gl=null}function cu(a){var i=Wl.current;Tt(Wl),a._currentValue=i}function du(a,i,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),a===d)break;a=a.return}}function Zn(a,i){Gl=a,ou=Kn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&i)!==0&&(Gs=!0),a.firstContext=null)}function cr(a){var i=a._currentValue;if(ou!==a)if(a={context:a,memoizedValue:i,next:null},Kn===null){if(Gl===null)throw Error(r(308));Kn=a,Gl.dependencies={lanes:0,firstContext:a}}else Kn=Kn.next=a;return i}var dn=null;function uu(a){dn===null?dn=[a]:dn.push(a)}function up(a,i,d,h){var g=i.interleaved;return g===null?(d.next=d,uu(i)):(d.next=g.next,g.next=d),i.interleaved=d,la(a,h)}function la(a,i){a.lanes|=i;var d=a.alternate;for(d!==null&&(d.lanes|=i),d=a,a=a.return;a!==null;)a.childLanes|=i,d=a.alternate,d!==null&&(d.childLanes|=i),d=a,a=a.return;return d.tag===3?d.stateNode:null}var La=!1;function mu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ca(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function za(a,i,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ht&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,la(a,d)}return g=h.interleaved,g===null?(i.next=i,uu(h)):(i.next=g.next,g.next=i),h.interleaved=i,la(a,d)}function Yl(a,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var h=i.lanes;h&=a.pendingLanes,d|=h,i.lanes=d,Sd(a,d)}}function hp(a,i){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var g=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var S={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?g=b=S:b=b.next=S,d=d.next}while(d!==null);b===null?g=b=i:b=b.next=i}else g=b=i;d={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,effects:h.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=i:a.next=i,d.lastBaseUpdate=i}function Kl(a,i,d,h){var g=a.updateQueue;La=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var $=R,te=$.next;$.next=null,S===null?b=te:S.next=te,S=$;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==S&&(R===null?ce.firstBaseUpdate=te:R.next=te,ce.lastBaseUpdate=$))}if(b!==null){var me=g.baseState;S=0,ce=te=$=null,R=b;do{var le=R.lane,Te=R.eventTime;if((h&le)===le){ce!==null&&(ce=ce.next={eventTime:Te,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ie=a,$e=R;switch(le=i,Te=d,$e.tag){case 1:if(Ie=$e.payload,typeof Ie=="function"){me=Ie.call(Te,me,le);break e}me=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=$e.payload,le=typeof Ie=="function"?Ie.call(Te,me,le):Ie,le==null)break e;me=H({},me,le);break e;case 2:La=!0}}R.callback!==null&&R.lane!==0&&(a.flags|=64,le=g.effects,le===null?g.effects=[R]:le.push(R))}else Te={eventTime:Te,lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(te=ce=Te,$=me):ce=ce.next=Te,S|=le;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;le=R,R=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ce===null&&($=me),g.baseState=$,g.firstBaseUpdate=te,g.lastBaseUpdate=ce,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else b===null&&(g.shared.lanes=0);hn|=S,a.lanes=S,a.memoizedState=me}}function pp(a,i,d){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var h=a[i],g=h.callback;if(g!==null){if(h.callback=null,h=d,typeof g!="function")throw Error(r(191,g));g.call(h)}}}var qi={},Fr=Ra(qi),Xi=Ra(qi),Ji=Ra(qi);function un(a){if(a===qi)throw Error(r(174));return a}function hu(a,i){switch(kt(Ji,i),kt(Xi,a),kt(Fr,qi),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ye(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=ye(i,a)}Tt(Fr),kt(Fr,i)}function qn(){Tt(Fr),Tt(Xi),Tt(Ji)}function fp(a){un(Ji.current);var i=un(Fr.current),d=ye(i,a.type);i!==d&&(kt(Xi,a),kt(Fr,d))}function pu(a){Xi.current===a&&(Tt(Fr),Tt(Xi))}var Lt=Ra(0);function Zl(a){for(var i=a;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fu=[];function xu(){for(var a=0;a<fu.length;a++)fu[a]._workInProgressVersionPrimary=null;fu.length=0}var ql=B.ReactCurrentDispatcher,gu=B.ReactCurrentBatchConfig,mn=0,zt=null,ss=null,ls=null,Xl=!1,Qi=!1,eo=0,Bw=0;function Ss(){throw Error(r(321))}function bu(a,i){if(i===null)return!1;for(var d=0;d<i.length&&d<a.length;d++)if(!vr(a[d],i[d]))return!1;return!0}function yu(a,i,d,h,g,b){if(mn=b,zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ql.current=a===null||a.memoizedState===null?Gw:Yw,a=d(h,g),Qi){b=0;do{if(Qi=!1,eo=0,25<=b)throw Error(r(301));b+=1,ls=ss=null,i.updateQueue=null,ql.current=Kw,a=d(h,g)}while(Qi)}if(ql.current=ec,i=ss!==null&&ss.next!==null,mn=0,ls=ss=zt=null,Xl=!1,i)throw Error(r(300));return a}function vu(){var a=eo!==0;return eo=0,a}function Vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ls===null?zt.memoizedState=ls=a:ls=ls.next=a,ls}function dr(){if(ss===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=ss.next;var i=ls===null?zt.memoizedState:ls.next;if(i!==null)ls=i,ss=a;else{if(a===null)throw Error(r(310));ss=a,a={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},ls===null?zt.memoizedState=ls=a:ls=ls.next=a}return ls}function to(a,i){return typeof i=="function"?i(a):i}function wu(a){var i=dr(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=ss,g=h.baseQueue,b=d.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}h.baseQueue=g=b,d.pending=null}if(g!==null){b=g.next,h=h.baseState;var R=S=null,$=null,te=b;do{var ce=te.lane;if((mn&ce)===ce)$!==null&&($=$.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),h=te.hasEagerState?te.eagerState:a(h,te.action);else{var me={lane:ce,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};$===null?(R=$=me,S=h):$=$.next=me,zt.lanes|=ce,hn|=ce}te=te.next}while(te!==null&&te!==b);$===null?S=h:$.next=R,vr(h,i.memoizedState)||(Gs=!0),i.memoizedState=h,i.baseState=S,i.baseQueue=$,d.lastRenderedState=h}if(a=d.interleaved,a!==null){g=a;do b=g.lane,zt.lanes|=b,hn|=b,g=g.next;while(g!==a)}else g===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function ju(a){var i=dr(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=d.dispatch,g=d.pending,b=i.memoizedState;if(g!==null){d.pending=null;var S=g=g.next;do b=a(b,S.action),S=S.next;while(S!==g);vr(b,i.memoizedState)||(Gs=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),d.lastRenderedState=b}return[b,h]}function xp(){}function gp(a,i){var d=zt,h=dr(),g=i(),b=!vr(h.memoizedState,g);if(b&&(h.memoizedState=g,Gs=!0),h=h.queue,Nu(vp.bind(null,d,h,a),[a]),h.getSnapshot!==i||b||ls!==null&&ls.memoizedState.tag&1){if(d.flags|=2048,so(9,yp.bind(null,d,h,g,i),void 0,null),cs===null)throw Error(r(349));(mn&30)!==0||bp(d,i,g)}return g}function bp(a,i,d){a.flags|=16384,a={getSnapshot:i,value:d},i=zt.updateQueue,i===null?(i={lastEffect:null,stores:null},zt.updateQueue=i,i.stores=[a]):(d=i.stores,d===null?i.stores=[a]:d.push(a))}function yp(a,i,d,h){i.value=d,i.getSnapshot=h,wp(i)&&jp(a)}function vp(a,i,d){return d(function(){wp(i)&&jp(a)})}function wp(a){var i=a.getSnapshot;a=a.value;try{var d=i();return!vr(a,d)}catch{return!0}}function jp(a){var i=la(a,1);i!==null&&Cr(i,a,1,-1)}function Np(a){var i=Vr();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:a},i.queue=a,a=a.dispatch=Ww.bind(null,zt,a),[i.memoizedState,a]}function so(a,i,d,h){return a={tag:a,create:i,destroy:d,deps:h,next:null},i=zt.updateQueue,i===null?(i={lastEffect:null,stores:null},zt.updateQueue=i,i.lastEffect=a.next=a):(d=i.lastEffect,d===null?i.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,i.lastEffect=a)),a}function kp(){return dr().memoizedState}function Jl(a,i,d,h){var g=Vr();zt.flags|=a,g.memoizedState=so(1|i,d,void 0,h===void 0?null:h)}function Ql(a,i,d,h){var g=dr();h=h===void 0?null:h;var b=void 0;if(ss!==null){var S=ss.memoizedState;if(b=S.destroy,h!==null&&bu(h,S.deps)){g.memoizedState=so(i,d,b,h);return}}zt.flags|=a,g.memoizedState=so(1|i,d,b,h)}function Cp(a,i){return Jl(8390656,8,a,i)}function Nu(a,i){return Ql(2048,8,a,i)}function Sp(a,i){return Ql(4,2,a,i)}function Tp(a,i){return Ql(4,4,a,i)}function Ap(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function _p(a,i,d){return d=d!=null?d.concat([a]):null,Ql(4,4,Ap.bind(null,i,a),d)}function ku(){}function Dp(a,i){var d=dr();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&bu(i,h[1])?h[0]:(d.memoizedState=[a,i],a)}function Ep(a,i){var d=dr();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&bu(i,h[1])?h[0]:(a=a(),d.memoizedState=[a,i],a)}function Pp(a,i,d){return(mn&21)===0?(a.baseState&&(a.baseState=!1,Gs=!0),a.memoizedState=d):(vr(d,i)||(d=l0(),zt.lanes|=d,hn|=d,a.baseState=!0),i)}function Uw(a,i){var d=xt;xt=d!==0&&4>d?d:4,a(!0);var h=gu.transition;gu.transition={};try{a(!1),i()}finally{xt=d,gu.transition=h}}function Ip(){return dr().memoizedState}function Hw(a,i,d){var h=Ba(a);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},Rp(a))Mp(i,d);else if(d=up(a,i,d,h),d!==null){var g=Ls();Cr(d,a,h,g),Op(d,i,h)}}function Ww(a,i,d){var h=Ba(a),g={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(Rp(a))Mp(i,g);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var S=i.lastRenderedState,R=b(S,d);if(g.hasEagerState=!0,g.eagerState=R,vr(R,S)){var $=i.interleaved;$===null?(g.next=g,uu(i)):(g.next=$.next,$.next=g),i.interleaved=g;return}}catch{}finally{}d=up(a,i,g,h),d!==null&&(g=Ls(),Cr(d,a,h,g),Op(d,i,h))}}function Rp(a){var i=a.alternate;return a===zt||i!==null&&i===zt}function Mp(a,i){Qi=Xl=!0;var d=a.pending;d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i}function Op(a,i,d){if((d&4194240)!==0){var h=i.lanes;h&=a.pendingLanes,d|=h,i.lanes=d,Sd(a,d)}}var ec={readContext:cr,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},Gw={readContext:cr,useCallback:function(a,i){return Vr().memoizedState=[a,i===void 0?null:i],a},useContext:cr,useEffect:Cp,useImperativeHandle:function(a,i,d){return d=d!=null?d.concat([a]):null,Jl(4194308,4,Ap.bind(null,i,a),d)},useLayoutEffect:function(a,i){return Jl(4194308,4,a,i)},useInsertionEffect:function(a,i){return Jl(4,2,a,i)},useMemo:function(a,i){var d=Vr();return i=i===void 0?null:i,a=a(),d.memoizedState=[a,i],a},useReducer:function(a,i,d){var h=Vr();return i=d!==void 0?d(i):i,h.memoizedState=h.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},h.queue=a,a=a.dispatch=Hw.bind(null,zt,a),[h.memoizedState,a]},useRef:function(a){var i=Vr();return a={current:a},i.memoizedState=a},useState:Np,useDebugValue:ku,useDeferredValue:function(a){return Vr().memoizedState=a},useTransition:function(){var a=Np(!1),i=a[0];return a=Uw.bind(null,a[1]),Vr().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,d){var h=zt,g=Vr();if(Dt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=i(),cs===null)throw Error(r(349));(mn&30)!==0||bp(h,i,d)}g.memoizedState=d;var b={value:d,getSnapshot:i};return g.queue=b,Cp(vp.bind(null,h,b,a),[a]),h.flags|=2048,so(9,yp.bind(null,h,b,d,i),void 0,null),d},useId:function(){var a=Vr(),i=cs.identifierPrefix;if(Dt){var d=oa,h=ia;d=(h&~(1<<32-yr(h)-1)).toString(32)+d,i=":"+i+"R"+d,d=eo++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=Bw++,i=":"+i+"r"+d.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},Yw={readContext:cr,useCallback:Dp,useContext:cr,useEffect:Nu,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Ep,useReducer:wu,useRef:kp,useState:function(){return wu(to)},useDebugValue:ku,useDeferredValue:function(a){var i=dr();return Pp(i,ss.memoizedState,a)},useTransition:function(){var a=wu(to)[0],i=dr().memoizedState;return[a,i]},useMutableSource:xp,useSyncExternalStore:gp,useId:Ip,unstable_isNewReconciler:!1},Kw={readContext:cr,useCallback:Dp,useContext:cr,useEffect:Nu,useImperativeHandle:_p,useInsertionEffect:Sp,useLayoutEffect:Tp,useMemo:Ep,useReducer:ju,useRef:kp,useState:function(){return ju(to)},useDebugValue:ku,useDeferredValue:function(a){var i=dr();return ss===null?i.memoizedState=a:Pp(i,ss.memoizedState,a)},useTransition:function(){var a=ju(to)[0],i=dr().memoizedState;return[a,i]},useMutableSource:xp,useSyncExternalStore:gp,useId:Ip,unstable_isNewReconciler:!1};function jr(a,i){if(a&&a.defaultProps){i=H({},i),a=a.defaultProps;for(var d in a)i[d]===void 0&&(i[d]=a[d]);return i}return i}function Cu(a,i,d,h){i=a.memoizedState,d=d(h,i),d=d==null?i:H({},i,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var tc={isMounted:function(a){return(a=a._reactInternals)?Lr(a)===a:!1},enqueueSetState:function(a,i,d){a=a._reactInternals;var h=Ls(),g=Ba(a),b=ca(h,g);b.payload=i,d!=null&&(b.callback=d),i=za(a,b,g),i!==null&&(Cr(i,a,g,h),Yl(i,a,g))},enqueueReplaceState:function(a,i,d){a=a._reactInternals;var h=Ls(),g=Ba(a),b=ca(h,g);b.tag=1,b.payload=i,d!=null&&(b.callback=d),i=za(a,b,g),i!==null&&(Cr(i,a,g,h),Yl(i,a,g))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var d=Ls(),h=Ba(a),g=ca(d,h);g.tag=2,i!=null&&(g.callback=i),i=za(a,g,h),i!==null&&(Cr(i,a,h,d),Yl(i,a,h))}};function Lp(a,i,d,h,g,b,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,S):i.prototype&&i.prototype.isPureReactComponent?!Bi(d,h)||!Bi(g,b):!0}function zp(a,i,d){var h=!1,g=Ma,b=i.contextType;return typeof b=="object"&&b!==null?b=cr(b):(g=Ws(i)?on:Cs.current,h=i.contextTypes,b=(h=h!=null)?Un(a,g):Ma),i=new i(d,b),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=tc,a.stateNode=i,i._reactInternals=a,h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=g,a.__reactInternalMemoizedMaskedChildContext=b),i}function $p(a,i,d,h){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,h),i.state!==a&&tc.enqueueReplaceState(i,i.state,null)}function Su(a,i,d,h){var g=a.stateNode;g.props=d,g.state=a.memoizedState,g.refs={},mu(a);var b=i.contextType;typeof b=="object"&&b!==null?g.context=cr(b):(b=Ws(i)?on:Cs.current,g.context=Un(a,b)),g.state=a.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Cu(a,i,b,d),g.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&tc.enqueueReplaceState(g,g.state,null),Kl(a,d,g,h),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308)}function Xn(a,i){try{var d="",h=i;do d+=Ne(h),h=h.return;while(h);var g=d}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:i,stack:g,digest:null}}function Tu(a,i,d){return{value:a,source:null,stack:d??null,digest:i??null}}function Au(a,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var Zw=typeof WeakMap=="function"?WeakMap:Map;function Fp(a,i,d){d=ca(-1,d),d.tag=3,d.payload={element:null};var h=i.value;return d.callback=function(){lc||(lc=!0,Uu=h),Au(a,i)},d}function Vp(a,i,d){d=ca(-1,d),d.tag=3;var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;d.payload=function(){return h(g)},d.callback=function(){Au(a,i)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Au(a,i),typeof h!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),d}function Bp(a,i,d){var h=a.pingCache;if(h===null){h=a.pingCache=new Zw;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(d)||(g.add(d),a=cj.bind(null,a,i,d),i.then(a,a))}function Up(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function Hp(a,i,d,h,g){return(a.mode&1)===0?(a===i?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=ca(-1,1),i.tag=2,za(d,i,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=g,a)}var qw=B.ReactCurrentOwner,Gs=!1;function Os(a,i,d,h){i.child=a===null?dp(i,null,d,h):Yn(i,a.child,d,h)}function Wp(a,i,d,h,g){d=d.render;var b=i.ref;return Zn(i,g),h=yu(a,i,d,h,b,g),d=vu(),a!==null&&!Gs?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~g,da(a,i,g)):(Dt&&d&&su(i),i.flags|=1,Os(a,i,h,g),i.child)}function Gp(a,i,d,h,g){if(a===null){var b=d.type;return typeof b=="function"&&!qu(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=b,Yp(a,i,b,h,g)):(a=pc(d.type,null,h,i,i.mode,g),a.ref=i.ref,a.return=i,i.child=a)}if(b=a.child,(a.lanes&g)===0){var S=b.memoizedProps;if(d=d.compare,d=d!==null?d:Bi,d(S,h)&&a.ref===i.ref)return da(a,i,g)}return i.flags|=1,a=Ha(b,h),a.ref=i.ref,a.return=i,i.child=a}function Yp(a,i,d,h,g){if(a!==null){var b=a.memoizedProps;if(Bi(b,h)&&a.ref===i.ref)if(Gs=!1,i.pendingProps=h=b,(a.lanes&g)!==0)(a.flags&131072)!==0&&(Gs=!0);else return i.lanes=a.lanes,da(a,i,g)}return _u(a,i,d,h,g)}function Kp(a,i,d){var h=i.pendingProps,g=h.children,b=a!==null?a.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Qn,ar),ar|=d;else{if((d&1073741824)===0)return a=b!==null?b.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,kt(Qn,ar),ar|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=b!==null?b.baseLanes:d,kt(Qn,ar),ar|=h}else b!==null?(h=b.baseLanes|d,i.memoizedState=null):h=d,kt(Qn,ar),ar|=h;return Os(a,i,g,d),i.child}function Zp(a,i){var d=i.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function _u(a,i,d,h,g){var b=Ws(d)?on:Cs.current;return b=Un(i,b),Zn(i,g),d=yu(a,i,d,h,b,g),h=vu(),a!==null&&!Gs?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~g,da(a,i,g)):(Dt&&h&&su(i),i.flags|=1,Os(a,i,d,g),i.child)}function qp(a,i,d,h,g){if(Ws(d)){var b=!0;$l(i)}else b=!1;if(Zn(i,g),i.stateNode===null)rc(a,i),zp(i,d,h),Su(i,d,h,g),h=!0;else if(a===null){var S=i.stateNode,R=i.memoizedProps;S.props=R;var $=S.context,te=d.contextType;typeof te=="object"&&te!==null?te=cr(te):(te=Ws(d)?on:Cs.current,te=Un(i,te));var ce=d.getDerivedStateFromProps,me=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function";me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==h||$!==te)&&$p(i,S,h,te),La=!1;var le=i.memoizedState;S.state=le,Kl(i,h,S,g),$=i.memoizedState,R!==h||le!==$||Hs.current||La?(typeof ce=="function"&&(Cu(i,d,ce,h),$=i.memoizedState),(R=La||Lp(i,d,R,h,le,$,te))?(me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=$),S.props=h,S.state=$,S.context=te,h=R):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{S=i.stateNode,mp(a,i),R=i.memoizedProps,te=i.type===i.elementType?R:jr(i.type,R),S.props=te,me=i.pendingProps,le=S.context,$=d.contextType,typeof $=="object"&&$!==null?$=cr($):($=Ws(d)?on:Cs.current,$=Un(i,$));var Te=d.getDerivedStateFromProps;(ce=typeof Te=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==me||le!==$)&&$p(i,S,h,$),La=!1,le=i.memoizedState,S.state=le,Kl(i,h,S,g);var Ie=i.memoizedState;R!==me||le!==Ie||Hs.current||La?(typeof Te=="function"&&(Cu(i,d,Te,h),Ie=i.memoizedState),(te=La||Lp(i,d,te,h,le,Ie,$)||!1)?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Ie,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Ie,$)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===a.memoizedProps&&le===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&le===a.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ie),S.props=h,S.state=Ie,S.context=$,h=te):(typeof S.componentDidUpdate!="function"||R===a.memoizedProps&&le===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&le===a.memoizedState||(i.flags|=1024),h=!1)}return Du(a,i,d,h,b,g)}function Du(a,i,d,h,g,b){Zp(a,i);var S=(i.flags&128)!==0;if(!h&&!S)return g&&tp(i,d,!1),da(a,i,b);h=i.stateNode,qw.current=i;var R=S&&typeof d.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,a!==null&&S?(i.child=Yn(i,a.child,null,b),i.child=Yn(i,null,R,b)):Os(a,i,R,b),i.memoizedState=h.state,g&&tp(i,d,!0),i.child}function Xp(a){var i=a.stateNode;i.pendingContext?Q0(a,i.pendingContext,i.pendingContext!==i.context):i.context&&Q0(a,i.context,!1),hu(a,i.containerInfo)}function Jp(a,i,d,h,g){return Gn(),iu(g),i.flags|=256,Os(a,i,d,h),i.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Pu(a){return{baseLanes:a,cachePool:null,transitions:null}}function Qp(a,i,d){var h=i.pendingProps,g=Lt.current,b=!1,S=(i.flags&128)!==0,R;if((R=S)||(R=a!==null&&a.memoizedState===null?!1:(g&2)!==0),R?(b=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(g|=1),kt(Lt,g&1),a===null)return nu(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((i.mode&1)===0?i.lanes=1:a.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=h.children,a=h.fallback,b?(h=i.mode,b=i.child,S={mode:"hidden",children:S},(h&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=S):b=fc(S,h,0,null),a=gn(a,h,d,null),b.return=i,a.return=i,b.sibling=a,i.child=b,i.child.memoizedState=Pu(d),i.memoizedState=Eu,a):Iu(i,S));if(g=a.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return Xw(a,i,S,h,R,g,d);if(b){b=h.fallback,S=i.mode,g=a.child,R=g.sibling;var $={mode:"hidden",children:h.children};return(S&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=$,i.deletions=null):(h=Ha(g,$),h.subtreeFlags=g.subtreeFlags&14680064),R!==null?b=Ha(R,b):(b=gn(b,S,d,null),b.flags|=2),b.return=i,h.return=i,h.sibling=b,i.child=h,h=b,b=i.child,S=a.child.memoizedState,S=S===null?Pu(d):{baseLanes:S.baseLanes|d,cachePool:null,transitions:S.transitions},b.memoizedState=S,b.childLanes=a.childLanes&~d,i.memoizedState=Eu,h}return b=a.child,a=b.sibling,h=Ha(b,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=d),h.return=i,h.sibling=null,a!==null&&(d=i.deletions,d===null?(i.deletions=[a],i.flags|=16):d.push(a)),i.child=h,i.memoizedState=null,h}function Iu(a,i){return i=fc({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function sc(a,i,d,h){return h!==null&&iu(h),Yn(i,a.child,null,d),a=Iu(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Xw(a,i,d,h,g,b,S){if(d)return i.flags&256?(i.flags&=-257,h=Tu(Error(r(422))),sc(a,i,S,h)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(b=h.fallback,g=i.mode,h=fc({mode:"visible",children:h.children},g,0,null),b=gn(b,g,S,null),b.flags|=2,h.return=i,b.return=i,h.sibling=b,i.child=h,(i.mode&1)!==0&&Yn(i,a.child,null,S),i.child.memoizedState=Pu(S),i.memoizedState=Eu,b);if((i.mode&1)===0)return sc(a,i,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var R=h.dgst;return h=R,b=Error(r(419)),h=Tu(b,h,void 0),sc(a,i,S,h)}if(R=(S&a.childLanes)!==0,Gs||R){if(h=cs,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|S))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,la(a,g),Cr(h,a,g,-1))}return Zu(),h=Tu(Error(r(421))),sc(a,i,S,h)}return g.data==="$?"?(i.flags|=128,i.child=a.child,i=dj.bind(null,a),g._reactRetry=i,null):(a=b.treeContext,rr=Ia(g.nextSibling),sr=i,Dt=!0,wr=null,a!==null&&(or[lr++]=ia,or[lr++]=oa,or[lr++]=ln,ia=a.id,oa=a.overflow,ln=i),i=Iu(i,h.children),i.flags|=4096,i)}function ef(a,i,d){a.lanes|=i;var h=a.alternate;h!==null&&(h.lanes|=i),du(a.return,i,d)}function Ru(a,i,d,h,g){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=d,b.tailMode=g)}function tf(a,i,d){var h=i.pendingProps,g=h.revealOrder,b=h.tail;if(Os(a,i,h.children,d),h=Lt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ef(a,d,i);else if(a.tag===19)ef(a,d,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}if(kt(Lt,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(d=i.child,g=null;d!==null;)a=d.alternate,a!==null&&Zl(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=i.child,i.child=null):(g=d.sibling,d.sibling=null),Ru(i,!1,g,d,b);break;case"backwards":for(d=null,g=i.child,i.child=null;g!==null;){if(a=g.alternate,a!==null&&Zl(a)===null){i.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}Ru(i,!0,d,null,b);break;case"together":Ru(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rc(a,i){(i.mode&1)===0&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function da(a,i,d){if(a!==null&&(i.dependencies=a.dependencies),hn|=i.lanes,(d&i.childLanes)===0)return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,d=Ha(a,a.pendingProps),i.child=d,d.return=i;a.sibling!==null;)a=a.sibling,d=d.sibling=Ha(a,a.pendingProps),d.return=i;d.sibling=null}return i.child}function Jw(a,i,d){switch(i.tag){case 3:Xp(i),Gn();break;case 5:fp(i);break;case 1:Ws(i.type)&&$l(i);break;case 4:hu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;kt(Wl,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(kt(Lt,Lt.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?Qp(a,i,d):(kt(Lt,Lt.current&1),a=da(a,i,d),a!==null?a.sibling:null);kt(Lt,Lt.current&1);break;case 19:if(h=(d&i.childLanes)!==0,(a.flags&128)!==0){if(h)return tf(a,i,d);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),kt(Lt,Lt.current),h)break;return null;case 22:case 23:return i.lanes=0,Kp(a,i,d)}return da(a,i,d)}var sf,Mu,rf,af;sf=function(a,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Mu=function(){},rf=function(a,i,d,h){var g=a.memoizedProps;if(g!==h){a=i.stateNode,un(Fr.current);var b=null;switch(d){case"input":g=Et(a,g),h=Et(a,h),b=[];break;case"select":g=H({},g,{value:void 0}),h=H({},h,{value:void 0}),b=[];break;case"textarea":g=J(a,g),h=J(a,h),b=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(a.onclick=Ol)}Is(d,h);var S;d=null;for(te in g)if(!h.hasOwnProperty(te)&&g.hasOwnProperty(te)&&g[te]!=null)if(te==="style"){var R=g[te];for(S in R)R.hasOwnProperty(S)&&(d||(d={}),d[S]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?b||(b=[]):(b=b||[]).push(te,null));for(te in h){var $=h[te];if(R=g!=null?g[te]:void 0,h.hasOwnProperty(te)&&$!==R&&($!=null||R!=null))if(te==="style")if(R){for(S in R)!R.hasOwnProperty(S)||$&&$.hasOwnProperty(S)||(d||(d={}),d[S]="");for(S in $)$.hasOwnProperty(S)&&R[S]!==$[S]&&(d||(d={}),d[S]=$[S])}else d||(b||(b=[]),b.push(te,d)),d=$;else te==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,R=R?R.__html:void 0,$!=null&&R!==$&&(b=b||[]).push(te,$)):te==="children"?typeof $!="string"&&typeof $!="number"||(b=b||[]).push(te,""+$):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?($!=null&&te==="onScroll"&&St("scroll",a),b||R===$||(b=[])):(b=b||[]).push(te,$))}d&&(b=b||[]).push("style",d);var te=b;(i.updateQueue=te)&&(i.flags|=4)}},af=function(a,i,d,h){d!==h&&(i.flags|=4)};function ro(a,i){if(!Dt)switch(a.tailMode){case"hidden":i=a.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ts(a){var i=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(i)for(var g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=d,i}function Qw(a,i,d){var h=i.pendingProps;switch(ru(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(i),null;case 1:return Ws(i.type)&&zl(),Ts(i),null;case 3:return h=i.stateNode,qn(),Tt(Hs),Tt(Cs),xu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Ul(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wr!==null&&(Gu(wr),wr=null))),Mu(a,i),Ts(i),null;case 5:pu(i);var g=un(Ji.current);if(d=i.type,a!==null&&i.stateNode!=null)rf(a,i,d,h,g),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(r(166));return Ts(i),null}if(a=un(Fr.current),Ul(i)){h=i.stateNode,d=i.type;var b=i.memoizedProps;switch(h[$r]=i,h[Yi]=b,a=(i.mode&1)!==0,d){case"dialog":St("cancel",h),St("close",h);break;case"iframe":case"object":case"embed":St("load",h);break;case"video":case"audio":for(g=0;g<Hi.length;g++)St(Hi[g],h);break;case"source":St("error",h);break;case"img":case"image":case"link":St("error",h),St("load",h);break;case"details":St("toggle",h);break;case"input":ns(h,b),St("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!b.multiple},St("invalid",h);break;case"textarea":be(h,b),St("invalid",h)}Is(d,b),g=null;for(var S in b)if(b.hasOwnProperty(S)){var R=b[S];S==="children"?typeof R=="string"?h.textContent!==R&&(b.suppressHydrationWarning!==!0&&Ml(h.textContent,R,a),g=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(b.suppressHydrationWarning!==!0&&Ml(h.textContent,R,a),g=["children",""+R]):o.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&St("scroll",h)}switch(d){case"input":Gt(h),It(h,b,!0);break;case"textarea":Gt(h),de(h);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(h.onclick=Ol)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ce(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof h.is=="string"?a=S.createElement(d,{is:h.is}):(a=S.createElement(d),d==="select"&&(S=a,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):a=S.createElementNS(a,d),a[$r]=i,a[Yi]=h,sf(a,i,!1,!1),i.stateNode=a;e:{switch(S=Qs(d,h),d){case"dialog":St("cancel",a),St("close",a),g=h;break;case"iframe":case"object":case"embed":St("load",a),g=h;break;case"video":case"audio":for(g=0;g<Hi.length;g++)St(Hi[g],a);g=h;break;case"source":St("error",a),g=h;break;case"img":case"image":case"link":St("error",a),St("load",a),g=h;break;case"details":St("toggle",a),g=h;break;case"input":ns(a,h),g=Et(a,h),St("invalid",a);break;case"option":g=h;break;case"select":a._wrapperState={wasMultiple:!!h.multiple},g=H({},h,{value:void 0}),St("invalid",a);break;case"textarea":be(a,h),g=J(a,h),St("invalid",a);break;default:g=h}Is(d,g),R=g;for(b in R)if(R.hasOwnProperty(b)){var $=R[b];b==="style"?qt(a,$):b==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&vt(a,$)):b==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&Rt(a,$):typeof $=="number"&&Rt(a,""+$):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?$!=null&&b==="onScroll"&&St("scroll",a):$!=null&&A(a,b,$,S))}switch(d){case"input":Gt(a),It(a,h,!1);break;case"textarea":Gt(a),de(a);break;case"option":h.value!=null&&a.setAttribute("value",""+Ue(h.value));break;case"select":a.multiple=!!h.multiple,b=h.value,b!=null?q(a,!!h.multiple,b,!1):h.defaultValue!=null&&q(a,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(a.onclick=Ol)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ts(i),null;case 6:if(a&&i.stateNode!=null)af(a,i,a.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(d=un(Ji.current),un(Fr.current),Ul(i)){if(h=i.stateNode,d=i.memoizedProps,h[$r]=i,(b=h.nodeValue!==d)&&(a=sr,a!==null))switch(a.tag){case 3:Ml(h.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ml(h.nodeValue,d,(a.mode&1)!==0)}b&&(i.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[$r]=i,i.stateNode=h}return Ts(i),null;case 13:if(Tt(Lt),h=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Dt&&rr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)op(),Gn(),i.flags|=98560,b=!1;else if(b=Ul(i),h!==null&&h.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[$r]=i}else Gn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ts(i),b=!1}else wr!==null&&(Gu(wr),wr=null),b=!0;if(!b)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(h=h!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(a===null||(Lt.current&1)!==0?rs===0&&(rs=3):Zu())),i.updateQueue!==null&&(i.flags|=4),Ts(i),null);case 4:return qn(),Mu(a,i),a===null&&Wi(i.stateNode.containerInfo),Ts(i),null;case 10:return cu(i.type._context),Ts(i),null;case 17:return Ws(i.type)&&zl(),Ts(i),null;case 19:if(Tt(Lt),b=i.memoizedState,b===null)return Ts(i),null;if(h=(i.flags&128)!==0,S=b.rendering,S===null)if(h)ro(b,!1);else{if(rs!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(S=Zl(a),S!==null){for(i.flags|=128,ro(b,!1),h=S.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=d,d=i.child;d!==null;)b=d,a=h,b.flags&=14680066,S=b.alternate,S===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=S.childLanes,b.lanes=S.lanes,b.child=S.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=S.memoizedProps,b.memoizedState=S.memoizedState,b.updateQueue=S.updateQueue,b.type=S.type,a=S.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return kt(Lt,Lt.current&1|2),i.child}a=a.sibling}b.tail!==null&&rt()>ei&&(i.flags|=128,h=!0,ro(b,!1),i.lanes=4194304)}else{if(!h)if(a=Zl(S),a!==null){if(i.flags|=128,h=!0,d=a.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),ro(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!Dt)return Ts(i),null}else 2*rt()-b.renderingStartTime>ei&&d!==1073741824&&(i.flags|=128,h=!0,ro(b,!1),i.lanes=4194304);b.isBackwards?(S.sibling=i.child,i.child=S):(d=b.last,d!==null?d.sibling=S:i.child=S,b.last=S)}return b.tail!==null?(i=b.tail,b.rendering=i,b.tail=i.sibling,b.renderingStartTime=rt(),i.sibling=null,d=Lt.current,kt(Lt,h?d&1|2:d&1),i):(Ts(i),null);case 22:case 23:return Ku(),h=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(ar&1073741824)!==0&&(Ts(i),i.subtreeFlags&6&&(i.flags|=8192)):Ts(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function ej(a,i){switch(ru(i),i.tag){case 1:return Ws(i.type)&&zl(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return qn(),Tt(Hs),Tt(Cs),xu(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 5:return pu(i),null;case 13:if(Tt(Lt),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Gn()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return Tt(Lt),null;case 4:return qn(),null;case 10:return cu(i.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var ac=!1,As=!1,tj=typeof WeakSet=="function"?WeakSet:Set,De=null;function Jn(a,i){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){Ht(a,i,h)}else d.current=null}function Ou(a,i,d){try{d()}catch(h){Ht(a,i,h)}}var nf=!1;function sj(a,i){if(Kd=kl,a=L0(),Fd(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var S=0,R=-1,$=-1,te=0,ce=0,me=a,le=null;t:for(;;){for(var Te;me!==d||g!==0&&me.nodeType!==3||(R=S+g),me!==b||h!==0&&me.nodeType!==3||($=S+h),me.nodeType===3&&(S+=me.nodeValue.length),(Te=me.firstChild)!==null;)le=me,me=Te;for(;;){if(me===a)break t;if(le===d&&++te===g&&(R=S),le===b&&++ce===h&&($=S),(Te=me.nextSibling)!==null)break;me=le,le=me.parentNode}me=Te}d=R===-1||$===-1?null:{start:R,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Zd={focusedElem:a,selectionRange:d},kl=!1,De=i;De!==null;)if(i=De,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,De=a;else for(;De!==null;){i=De;try{var Ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var $e=Ie.memoizedProps,Yt=Ie.memoizedState,X=i.stateNode,U=X.getSnapshotBeforeUpdate(i.elementType===i.type?$e:jr(i.type,$e),Yt);X.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){Ht(i,i.return,ve)}if(a=i.sibling,a!==null){a.return=i.return,De=a;break}De=i.return}return Ie=nf,nf=!1,Ie}function ao(a,i,d){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&a)===a){var b=g.destroy;g.destroy=void 0,b!==void 0&&Ou(i,d,b)}g=g.next}while(g!==h)}}function nc(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&a)===a){var h=d.create;d.destroy=h()}d=d.next}while(d!==i)}}function Lu(a){var i=a.ref;if(i!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof i=="function"?i(a):i.current=a}}function of(a){var i=a.alternate;i!==null&&(a.alternate=null,of(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[$r],delete i[Yi],delete i[Qd],delete i[zw],delete i[$w])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function lf(a){return a.tag===5||a.tag===3||a.tag===4}function cf(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||lf(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zu(a,i,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(a,i):d.insertBefore(a,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(a,d)):(i=d,i.appendChild(a)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=Ol));else if(h!==4&&(a=a.child,a!==null))for(zu(a,i,d),a=a.sibling;a!==null;)zu(a,i,d),a=a.sibling}function $u(a,i,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?d.insertBefore(a,i):d.appendChild(a);else if(h!==4&&(a=a.child,a!==null))for($u(a,i,d),a=a.sibling;a!==null;)$u(a,i,d),a=a.sibling}var bs=null,Nr=!1;function $a(a,i,d){for(d=d.child;d!==null;)df(a,i,d),d=d.sibling}function df(a,i,d){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(an,d)}catch{}switch(d.tag){case 5:As||Jn(d,i);case 6:var h=bs,g=Nr;bs=null,$a(a,i,d),bs=h,Nr=g,bs!==null&&(Nr?(a=bs,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):bs.removeChild(d.stateNode));break;case 18:bs!==null&&(Nr?(a=bs,d=d.stateNode,a.nodeType===8?Jd(a.parentNode,d):a.nodeType===1&&Jd(a,d),Oi(a)):Jd(bs,d.stateNode));break;case 4:h=bs,g=Nr,bs=d.stateNode.containerInfo,Nr=!0,$a(a,i,d),bs=h,Nr=g;break;case 0:case 11:case 14:case 15:if(!As&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var b=g,S=b.destroy;b=b.tag,S!==void 0&&((b&2)!==0||(b&4)!==0)&&Ou(d,i,S),g=g.next}while(g!==h)}$a(a,i,d);break;case 1:if(!As&&(Jn(d,i),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(R){Ht(d,i,R)}$a(a,i,d);break;case 21:$a(a,i,d);break;case 22:d.mode&1?(As=(h=As)||d.memoizedState!==null,$a(a,i,d),As=h):$a(a,i,d);break;default:$a(a,i,d)}}function uf(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new tj),i.forEach(function(h){var g=uj.bind(null,a,h);d.has(h)||(d.add(h),h.then(g,g))})}}function kr(a,i){var d=i.deletions;if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];try{var b=a,S=i,R=S;e:for(;R!==null;){switch(R.tag){case 5:bs=R.stateNode,Nr=!1;break e;case 3:bs=R.stateNode.containerInfo,Nr=!0;break e;case 4:bs=R.stateNode.containerInfo,Nr=!0;break e}R=R.return}if(bs===null)throw Error(r(160));df(b,S,g),bs=null,Nr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(te){Ht(g,i,te)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)mf(i,a),i=i.sibling}function mf(a,i){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(kr(i,a),Br(a),h&4){try{ao(3,a,a.return),nc(3,a)}catch($e){Ht(a,a.return,$e)}try{ao(5,a,a.return)}catch($e){Ht(a,a.return,$e)}}break;case 1:kr(i,a),Br(a),h&512&&d!==null&&Jn(d,d.return);break;case 5:if(kr(i,a),Br(a),h&512&&d!==null&&Jn(d,d.return),a.flags&32){var g=a.stateNode;try{Rt(g,"")}catch($e){Ht(a,a.return,$e)}}if(h&4&&(g=a.stateNode,g!=null)){var b=a.memoizedProps,S=d!==null?d.memoizedProps:b,R=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{R==="input"&&b.type==="radio"&&b.name!=null&&jt(g,b),Qs(R,S);var te=Qs(R,b);for(S=0;S<$.length;S+=2){var ce=$[S],me=$[S+1];ce==="style"?qt(g,me):ce==="dangerouslySetInnerHTML"?vt(g,me):ce==="children"?Rt(g,me):A(g,ce,me,te)}switch(R){case"input":Pt(g,b);break;case"textarea":xe(g,b);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var Te=b.value;Te!=null?q(g,!!b.multiple,Te,!1):le!==!!b.multiple&&(b.defaultValue!=null?q(g,!!b.multiple,b.defaultValue,!0):q(g,!!b.multiple,b.multiple?[]:"",!1))}g[Yi]=b}catch($e){Ht(a,a.return,$e)}}break;case 6:if(kr(i,a),Br(a),h&4){if(a.stateNode===null)throw Error(r(162));g=a.stateNode,b=a.memoizedProps;try{g.nodeValue=b}catch($e){Ht(a,a.return,$e)}}break;case 3:if(kr(i,a),Br(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Oi(i.containerInfo)}catch($e){Ht(a,a.return,$e)}break;case 4:kr(i,a),Br(a);break;case 13:kr(i,a),Br(a),g=a.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(Bu=rt())),h&4&&uf(a);break;case 22:if(ce=d!==null&&d.memoizedState!==null,a.mode&1?(As=(te=As)||ce,kr(i,a),As=te):kr(i,a),Br(a),h&8192){if(te=a.memoizedState!==null,(a.stateNode.isHidden=te)&&!ce&&(a.mode&1)!==0)for(De=a,ce=a.child;ce!==null;){for(me=De=ce;De!==null;){switch(le=De,Te=le.child,le.tag){case 0:case 11:case 14:case 15:ao(4,le,le.return);break;case 1:Jn(le,le.return);var Ie=le.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=le,d=le.return;try{i=h,Ie.props=i.memoizedProps,Ie.state=i.memoizedState,Ie.componentWillUnmount()}catch($e){Ht(h,d,$e)}}break;case 5:Jn(le,le.return);break;case 22:if(le.memoizedState!==null){ff(me);continue}}Te!==null?(Te.return=le,De=Te):ff(me)}ce=ce.sibling}e:for(ce=null,me=a;;){if(me.tag===5){if(ce===null){ce=me;try{g=me.stateNode,te?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(R=me.stateNode,$=me.memoizedProps.style,S=$!=null&&$.hasOwnProperty("display")?$.display:null,R.style.display=is("display",S))}catch($e){Ht(a,a.return,$e)}}}else if(me.tag===6){if(ce===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch($e){Ht(a,a.return,$e)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;ce===me&&(ce=null),me=me.return}ce===me&&(ce=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:kr(i,a),Br(a),h&4&&uf(a);break;case 21:break;default:kr(i,a),Br(a)}}function Br(a){var i=a.flags;if(i&2){try{e:{for(var d=a.return;d!==null;){if(lf(d)){var h=d;break e}d=d.return}throw Error(r(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Rt(g,""),h.flags&=-33);var b=cf(a);$u(a,b,g);break;case 3:case 4:var S=h.stateNode.containerInfo,R=cf(a);zu(a,R,S);break;default:throw Error(r(161))}}catch($){Ht(a,a.return,$)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function rj(a,i,d){De=a,hf(a)}function hf(a,i,d){for(var h=(a.mode&1)!==0;De!==null;){var g=De,b=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||ac;if(!S){var R=g.alternate,$=R!==null&&R.memoizedState!==null||As;R=ac;var te=As;if(ac=S,(As=$)&&!te)for(De=g;De!==null;)S=De,$=S.child,S.tag===22&&S.memoizedState!==null?xf(g):$!==null?($.return=S,De=$):xf(g);for(;b!==null;)De=b,hf(b),b=b.sibling;De=g,ac=R,As=te}pf(a)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,De=b):pf(a)}}function pf(a){for(;De!==null;){var i=De;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:As||nc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!As)if(d===null)h.componentDidMount();else{var g=i.elementType===i.type?d.memoizedProps:jr(i.type,d.memoizedProps);h.componentDidUpdate(g,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var b=i.updateQueue;b!==null&&pp(i,b,h);break;case 3:var S=i.updateQueue;if(S!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}pp(i,S,d)}break;case 5:var R=i.stateNode;if(d===null&&i.flags&4){d=R;var $=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var te=i.alternate;if(te!==null){var ce=te.memoizedState;if(ce!==null){var me=ce.dehydrated;me!==null&&Oi(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}As||i.flags&512&&Lu(i)}catch(le){Ht(i,i.return,le)}}if(i===a){De=null;break}if(d=i.sibling,d!==null){d.return=i.return,De=d;break}De=i.return}}function ff(a){for(;De!==null;){var i=De;if(i===a){De=null;break}var d=i.sibling;if(d!==null){d.return=i.return,De=d;break}De=i.return}}function xf(a){for(;De!==null;){var i=De;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{nc(4,i)}catch($){Ht(i,d,$)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch($){Ht(i,g,$)}}var b=i.return;try{Lu(i)}catch($){Ht(i,b,$)}break;case 5:var S=i.return;try{Lu(i)}catch($){Ht(i,S,$)}}}catch($){Ht(i,i.return,$)}if(i===a){De=null;break}var R=i.sibling;if(R!==null){R.return=i.return,De=R;break}De=i.return}}var aj=Math.ceil,ic=B.ReactCurrentDispatcher,Fu=B.ReactCurrentOwner,ur=B.ReactCurrentBatchConfig,ht=0,cs=null,Xt=null,ys=0,ar=0,Qn=Ra(0),rs=0,no=null,hn=0,oc=0,Vu=0,io=null,Ys=null,Bu=0,ei=1/0,ua=null,lc=!1,Uu=null,Fa=null,cc=!1,Va=null,dc=0,oo=0,Hu=null,uc=-1,mc=0;function Ls(){return(ht&6)!==0?rt():uc!==-1?uc:uc=rt()}function Ba(a){return(a.mode&1)===0?1:(ht&2)!==0&&ys!==0?ys&-ys:Vw.transition!==null?(mc===0&&(mc=l0()),mc):(a=xt,a!==0||(a=window.event,a=a===void 0?16:g0(a.type)),a)}function Cr(a,i,d,h){if(50<oo)throw oo=0,Hu=null,Error(r(185));Ei(a,d,h),((ht&2)===0||a!==cs)&&(a===cs&&((ht&2)===0&&(oc|=d),rs===4&&Ua(a,ys)),Ks(a,h),d===1&&ht===0&&(i.mode&1)===0&&(ei=rt()+500,Fl&&Oa()))}function Ks(a,i){var d=a.callbackNode;Vv(a,i);var h=wl(a,a===cs?ys:0);if(h===0)d!==null&&Le(d),a.callbackNode=null,a.callbackPriority=0;else if(i=h&-h,a.callbackPriority!==i){if(d!=null&&Le(d),i===1)a.tag===0?Fw(bf.bind(null,a)):sp(bf.bind(null,a)),Ow(function(){(ht&6)===0&&Oa()}),d=null;else{switch(c0(h)){case 1:d=er;break;case 4:d=ra;break;case 16:d=Sa;break;case 536870912:d=_i;break;default:d=Sa}d=Sf(d,gf.bind(null,a))}a.callbackPriority=i,a.callbackNode=d}}function gf(a,i){if(uc=-1,mc=0,(ht&6)!==0)throw Error(r(327));var d=a.callbackNode;if(ti()&&a.callbackNode!==d)return null;var h=wl(a,a===cs?ys:0);if(h===0)return null;if((h&30)!==0||(h&a.expiredLanes)!==0||i)i=hc(a,h);else{i=h;var g=ht;ht|=2;var b=vf();(cs!==a||ys!==i)&&(ua=null,ei=rt()+500,fn(a,i));do try{oj();break}catch(R){yf(a,R)}while(!0);lu(),ic.current=b,ht=g,Xt!==null?i=0:(cs=null,ys=0,i=rs)}if(i!==0){if(i===2&&(g=kd(a),g!==0&&(h=g,i=Wu(a,g))),i===1)throw d=no,fn(a,0),Ua(a,h),Ks(a,rt()),d;if(i===6)Ua(a,h);else{if(g=a.current.alternate,(h&30)===0&&!nj(g)&&(i=hc(a,h),i===2&&(b=kd(a),b!==0&&(h=b,i=Wu(a,b))),i===1))throw d=no,fn(a,0),Ua(a,h),Ks(a,rt()),d;switch(a.finishedWork=g,a.finishedLanes=h,i){case 0:case 1:throw Error(r(345));case 2:xn(a,Ys,ua);break;case 3:if(Ua(a,h),(h&130023424)===h&&(i=Bu+500-rt(),10<i)){if(wl(a,0)!==0)break;if(g=a.suspendedLanes,(g&h)!==h){Ls(),a.pingedLanes|=a.suspendedLanes&g;break}a.timeoutHandle=Xd(xn.bind(null,a,Ys,ua),i);break}xn(a,Ys,ua);break;case 4:if(Ua(a,h),(h&4194240)===h)break;for(i=a.eventTimes,g=-1;0<h;){var S=31-yr(h);b=1<<S,S=i[S],S>g&&(g=S),h&=~b}if(h=g,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*aj(h/1960))-h,10<h){a.timeoutHandle=Xd(xn.bind(null,a,Ys,ua),h);break}xn(a,Ys,ua);break;case 5:xn(a,Ys,ua);break;default:throw Error(r(329))}}}return Ks(a,rt()),a.callbackNode===d?gf.bind(null,a):null}function Wu(a,i){var d=io;return a.current.memoizedState.isDehydrated&&(fn(a,i).flags|=256),a=hc(a,i),a!==2&&(i=Ys,Ys=d,i!==null&&Gu(i)),a}function Gu(a){Ys===null?Ys=a:Ys.push.apply(Ys,a)}function nj(a){for(var i=a;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var g=d[h],b=g.getSnapshot;g=g.value;try{if(!vr(b(),g))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ua(a,i){for(i&=~Vu,i&=~oc,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var d=31-yr(i),h=1<<d;a[d]=-1,i&=~h}}function bf(a){if((ht&6)!==0)throw Error(r(327));ti();var i=wl(a,0);if((i&1)===0)return Ks(a,rt()),null;var d=hc(a,i);if(a.tag!==0&&d===2){var h=kd(a);h!==0&&(i=h,d=Wu(a,h))}if(d===1)throw d=no,fn(a,0),Ua(a,i),Ks(a,rt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,xn(a,Ys,ua),Ks(a,rt()),null}function Yu(a,i){var d=ht;ht|=1;try{return a(i)}finally{ht=d,ht===0&&(ei=rt()+500,Fl&&Oa())}}function pn(a){Va!==null&&Va.tag===0&&(ht&6)===0&&ti();var i=ht;ht|=1;var d=ur.transition,h=xt;try{if(ur.transition=null,xt=1,a)return a()}finally{xt=h,ur.transition=d,ht=i,(ht&6)===0&&Oa()}}function Ku(){ar=Qn.current,Tt(Qn)}function fn(a,i){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Mw(d)),Xt!==null)for(d=Xt.return;d!==null;){var h=d;switch(ru(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&zl();break;case 3:qn(),Tt(Hs),Tt(Cs),xu();break;case 5:pu(h);break;case 4:qn();break;case 13:Tt(Lt);break;case 19:Tt(Lt);break;case 10:cu(h.type._context);break;case 22:case 23:Ku()}d=d.return}if(cs=a,Xt=a=Ha(a.current,null),ys=ar=i,rs=0,no=null,Vu=oc=hn=0,Ys=io=null,dn!==null){for(i=0;i<dn.length;i++)if(d=dn[i],h=d.interleaved,h!==null){d.interleaved=null;var g=h.next,b=d.pending;if(b!==null){var S=b.next;b.next=g,h.next=S}d.pending=h}dn=null}return a}function yf(a,i){do{var d=Xt;try{if(lu(),ql.current=ec,Xl){for(var h=zt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Xl=!1}if(mn=0,ls=ss=zt=null,Qi=!1,eo=0,Fu.current=null,d===null||d.return===null){rs=1,no=i,Xt=null;break}e:{var b=a,S=d.return,R=d,$=i;if(i=ys,R.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var te=$,ce=R,me=ce.tag;if((ce.mode&1)===0&&(me===0||me===11||me===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Te=Up(S);if(Te!==null){Te.flags&=-257,Hp(Te,S,R,b,i),Te.mode&1&&Bp(b,te,i),i=Te,$=te;var Ie=i.updateQueue;if(Ie===null){var $e=new Set;$e.add($),i.updateQueue=$e}else Ie.add($);break e}else{if((i&1)===0){Bp(b,te,i),Zu();break e}$=Error(r(426))}}else if(Dt&&R.mode&1){var Yt=Up(S);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Hp(Yt,S,R,b,i),iu(Xn($,R));break e}}b=$=Xn($,R),rs!==4&&(rs=2),io===null?io=[b]:io.push(b),b=S;do{switch(b.tag){case 3:b.flags|=65536,i&=-i,b.lanes|=i;var X=Fp(b,$,i);hp(b,X);break e;case 1:R=$;var U=b.type,Q=b.stateNode;if((b.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Fa===null||!Fa.has(Q)))){b.flags|=65536,i&=-i,b.lanes|=i;var ve=Vp(b,R,i);hp(b,ve);break e}}b=b.return}while(b!==null)}jf(d)}catch(Fe){i=Fe,Xt===d&&d!==null&&(Xt=d=d.return);continue}break}while(!0)}function vf(){var a=ic.current;return ic.current=ec,a===null?ec:a}function Zu(){(rs===0||rs===3||rs===2)&&(rs=4),cs===null||(hn&268435455)===0&&(oc&268435455)===0||Ua(cs,ys)}function hc(a,i){var d=ht;ht|=2;var h=vf();(cs!==a||ys!==i)&&(ua=null,fn(a,i));do try{ij();break}catch(g){yf(a,g)}while(!0);if(lu(),ht=d,ic.current=h,Xt!==null)throw Error(r(261));return cs=null,ys=0,rs}function ij(){for(;Xt!==null;)wf(Xt)}function oj(){for(;Xt!==null&&!Nt();)wf(Xt)}function wf(a){var i=Cf(a.alternate,a,ar);a.memoizedProps=a.pendingProps,i===null?jf(a):Xt=i,Fu.current=null}function jf(a){var i=a;do{var d=i.alternate;if(a=i.return,(i.flags&32768)===0){if(d=Qw(d,i,ar),d!==null){Xt=d;return}}else{if(d=ej(d,i),d!==null){d.flags&=32767,Xt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{rs=6,Xt=null;return}}if(i=i.sibling,i!==null){Xt=i;return}Xt=i=a}while(i!==null);rs===0&&(rs=5)}function xn(a,i,d){var h=xt,g=ur.transition;try{ur.transition=null,xt=1,lj(a,i,d,h)}finally{ur.transition=g,xt=h}return null}function lj(a,i,d,h){do ti();while(Va!==null);if((ht&6)!==0)throw Error(r(327));d=a.finishedWork;var g=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var b=d.lanes|d.childLanes;if(Bv(a,b),a===cs&&(Xt=cs=null,ys=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||cc||(cc=!0,Sf(Sa,function(){return ti(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=ur.transition,ur.transition=null;var S=xt;xt=1;var R=ht;ht|=4,Fu.current=null,sj(a,d),mf(d,a),Aw(Zd),kl=!!Kd,Zd=Kd=null,a.current=d,rj(d),os(),ht=R,xt=S,ur.transition=b}else a.current=d;if(cc&&(cc=!1,Va=a,dc=g),b=a.pendingLanes,b===0&&(Fa=null),Ov(d.stateNode),Ks(a,rt()),i!==null)for(h=a.onRecoverableError,d=0;d<i.length;d++)g=i[d],h(g.value,{componentStack:g.stack,digest:g.digest});if(lc)throw lc=!1,a=Uu,Uu=null,a;return(dc&1)!==0&&a.tag!==0&&ti(),b=a.pendingLanes,(b&1)!==0?a===Hu?oo++:(oo=0,Hu=a):oo=0,Oa(),null}function ti(){if(Va!==null){var a=c0(dc),i=ur.transition,d=xt;try{if(ur.transition=null,xt=16>a?16:a,Va===null)var h=!1;else{if(a=Va,Va=null,dc=0,(ht&6)!==0)throw Error(r(331));var g=ht;for(ht|=4,De=a.current;De!==null;){var b=De,S=b.child;if((De.flags&16)!==0){var R=b.deletions;if(R!==null){for(var $=0;$<R.length;$++){var te=R[$];for(De=te;De!==null;){var ce=De;switch(ce.tag){case 0:case 11:case 15:ao(8,ce,b)}var me=ce.child;if(me!==null)me.return=ce,De=me;else for(;De!==null;){ce=De;var le=ce.sibling,Te=ce.return;if(of(ce),ce===te){De=null;break}if(le!==null){le.return=Te,De=le;break}De=Te}}}var Ie=b.alternate;if(Ie!==null){var $e=Ie.child;if($e!==null){Ie.child=null;do{var Yt=$e.sibling;$e.sibling=null,$e=Yt}while($e!==null)}}De=b}}if((b.subtreeFlags&2064)!==0&&S!==null)S.return=b,De=S;else e:for(;De!==null;){if(b=De,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:ao(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,De=X;break e}De=b.return}}var U=a.current;for(De=U;De!==null;){S=De;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,De=Q;else e:for(S=U;De!==null;){if(R=De,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:nc(9,R)}}catch(Fe){Ht(R,R.return,Fe)}if(R===S){De=null;break e}var ve=R.sibling;if(ve!==null){ve.return=R.return,De=ve;break e}De=R.return}}if(ht=g,Oa(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(an,a)}catch{}h=!0}return h}finally{xt=d,ur.transition=i}}return!1}function Nf(a,i,d){i=Xn(d,i),i=Fp(a,i,1),a=za(a,i,1),i=Ls(),a!==null&&(Ei(a,1,i),Ks(a,i))}function Ht(a,i,d){if(a.tag===3)Nf(a,a,d);else for(;i!==null;){if(i.tag===3){Nf(i,a,d);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fa===null||!Fa.has(h))){a=Xn(d,a),a=Vp(i,a,1),i=za(i,a,1),a=Ls(),i!==null&&(Ei(i,1,a),Ks(i,a));break}}i=i.return}}function cj(a,i,d){var h=a.pingCache;h!==null&&h.delete(i),i=Ls(),a.pingedLanes|=a.suspendedLanes&d,cs===a&&(ys&d)===d&&(rs===4||rs===3&&(ys&130023424)===ys&&500>rt()-Bu?fn(a,0):Vu|=d),Ks(a,i)}function kf(a,i){i===0&&((a.mode&1)===0?i=1:(i=vl,vl<<=1,(vl&130023424)===0&&(vl=4194304)));var d=Ls();a=la(a,i),a!==null&&(Ei(a,i,d),Ks(a,d))}function dj(a){var i=a.memoizedState,d=0;i!==null&&(d=i.retryLane),kf(a,d)}function uj(a,i){var d=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(d=g.retryLane);break;case 19:h=a.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(i),kf(a,d)}var Cf;Cf=function(a,i,d){if(a!==null)if(a.memoizedProps!==i.pendingProps||Hs.current)Gs=!0;else{if((a.lanes&d)===0&&(i.flags&128)===0)return Gs=!1,Jw(a,i,d);Gs=(a.flags&131072)!==0}else Gs=!1,Dt&&(i.flags&1048576)!==0&&rp(i,Bl,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;rc(a,i),a=i.pendingProps;var g=Un(i,Cs.current);Zn(i,d),g=yu(null,i,h,a,g,d);var b=vu();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ws(h)?(b=!0,$l(i)):b=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,mu(i),g.updater=tc,i.stateNode=g,g._reactInternals=i,Su(i,h,a,d),i=Du(null,i,h,!0,b,d)):(i.tag=0,Dt&&b&&su(i),Os(null,i,g,d),i=i.child),i;case 16:h=i.elementType;e:{switch(rc(a,i),a=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=hj(h),a=jr(h,a),g){case 0:i=_u(null,i,h,a,d);break e;case 1:i=qp(null,i,h,a,d);break e;case 11:i=Wp(null,i,h,a,d);break e;case 14:i=Gp(null,i,h,jr(h.type,a),d);break e}throw Error(r(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:jr(h,g),_u(a,i,h,g,d);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:jr(h,g),qp(a,i,h,g,d);case 3:e:{if(Xp(i),a===null)throw Error(r(387));h=i.pendingProps,b=i.memoizedState,g=b.element,mp(a,i),Kl(i,h,null,d);var S=i.memoizedState;if(h=S.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){g=Xn(Error(r(423)),i),i=Jp(a,i,h,d,g);break e}else if(h!==g){g=Xn(Error(r(424)),i),i=Jp(a,i,h,d,g);break e}else for(rr=Ia(i.stateNode.containerInfo.firstChild),sr=i,Dt=!0,wr=null,d=dp(i,null,h,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Gn(),h===g){i=da(a,i,d);break e}Os(a,i,h,d)}i=i.child}return i;case 5:return fp(i),a===null&&nu(i),h=i.type,g=i.pendingProps,b=a!==null?a.memoizedProps:null,S=g.children,qd(h,g)?S=null:b!==null&&qd(h,b)&&(i.flags|=32),Zp(a,i),Os(a,i,S,d),i.child;case 6:return a===null&&nu(i),null;case 13:return Qp(a,i,d);case 4:return hu(i,i.stateNode.containerInfo),h=i.pendingProps,a===null?i.child=Yn(i,null,h,d):Os(a,i,h,d),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:jr(h,g),Wp(a,i,h,g,d);case 7:return Os(a,i,i.pendingProps,d),i.child;case 8:return Os(a,i,i.pendingProps.children,d),i.child;case 12:return Os(a,i,i.pendingProps.children,d),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,b=i.memoizedProps,S=g.value,kt(Wl,h._currentValue),h._currentValue=S,b!==null)if(vr(b.value,S)){if(b.children===g.children&&!Hs.current){i=da(a,i,d);break e}}else for(b=i.child,b!==null&&(b.return=i);b!==null;){var R=b.dependencies;if(R!==null){S=b.child;for(var $=R.firstContext;$!==null;){if($.context===h){if(b.tag===1){$=ca(-1,d&-d),$.tag=2;var te=b.updateQueue;if(te!==null){te=te.shared;var ce=te.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),te.pending=$}}b.lanes|=d,$=b.alternate,$!==null&&($.lanes|=d),du(b.return,d,i),R.lanes|=d;break}$=$.next}}else if(b.tag===10)S=b.type===i.type?null:b.child;else if(b.tag===18){if(S=b.return,S===null)throw Error(r(341));S.lanes|=d,R=S.alternate,R!==null&&(R.lanes|=d),du(S,d,i),S=b.sibling}else S=b.child;if(S!==null)S.return=b;else for(S=b;S!==null;){if(S===i){S=null;break}if(b=S.sibling,b!==null){b.return=S.return,S=b;break}S=S.return}b=S}Os(a,i,g.children,d),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,Zn(i,d),g=cr(g),h=h(g),i.flags|=1,Os(a,i,h,d),i.child;case 14:return h=i.type,g=jr(h,i.pendingProps),g=jr(h.type,g),Gp(a,i,h,g,d);case 15:return Yp(a,i,i.type,i.pendingProps,d);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:jr(h,g),rc(a,i),i.tag=1,Ws(h)?(a=!0,$l(i)):a=!1,Zn(i,d),zp(i,h,g),Su(i,h,g,d),Du(null,i,h,!0,a,d);case 19:return tf(a,i,d);case 22:return Kp(a,i,d)}throw Error(r(156,i.tag))};function Sf(a,i){return ge(a,i)}function mj(a,i,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(a,i,d,h){return new mj(a,i,d,h)}function qu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hj(a){if(typeof a=="function")return qu(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ee)return 11;if(a===M)return 14}return 2}function Ha(a,i){var d=a.alternate;return d===null?(d=mr(a.tag,i,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=i,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,i=a.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function pc(a,i,d,h,g,b){var S=2;if(h=a,typeof a=="function")qu(a)&&(S=1);else if(typeof a=="string")S=5;else e:switch(a){case z:return gn(d.children,g,b,i);case E:S=8,g|=8;break;case G:return a=mr(12,d,i,g|2),a.elementType=G,a.lanes=b,a;case se:return a=mr(13,d,i,g),a.elementType=se,a.lanes=b,a;case ie:return a=mr(19,d,i,g),a.elementType=ie,a.lanes=b,a;case Z:return fc(d,g,b,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Y:S=10;break e;case ne:S=9;break e;case ee:S=11;break e;case M:S=14;break e;case F:S=16,h=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return i=mr(S,d,i,g),i.elementType=a,i.type=h,i.lanes=b,i}function gn(a,i,d,h){return a=mr(7,a,h,i),a.lanes=d,a}function fc(a,i,d,h){return a=mr(22,a,h,i),a.elementType=Z,a.lanes=d,a.stateNode={isHidden:!1},a}function Xu(a,i,d){return a=mr(6,a,null,i),a.lanes=d,a}function Ju(a,i,d){return i=mr(4,a.children!==null?a.children:[],a.key,i),i.lanes=d,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function pj(a,i,d,h,g){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Qu(a,i,d,h,g,b,S,R,$){return a=new pj(a,i,d,R,$),i===1?(i=1,b===!0&&(i|=8)):i=0,b=mr(3,null,null,i),a.current=b,b.stateNode=a,b.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(b),a}function fj(a,i,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:h==null?null:""+h,children:a,containerInfo:i,implementation:d}}function Tf(a){if(!a)return Ma;a=a._reactInternals;e:{if(Lr(a)!==a||a.tag!==1)throw Error(r(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ws(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(Ws(d))return ep(a,d,i)}return i}function Af(a,i,d,h,g,b,S,R,$){return a=Qu(d,h,!0,a,g,b,S,R,$),a.context=Tf(null),d=a.current,h=Ls(),g=Ba(d),b=ca(h,g),b.callback=i??null,za(d,b,g),a.current.lanes=g,Ei(a,g,h),Ks(a,h),a}function xc(a,i,d,h){var g=i.current,b=Ls(),S=Ba(g);return d=Tf(d),i.context===null?i.context=d:i.pendingContext=d,i=ca(b,S),i.payload={element:a},h=h===void 0?null:h,h!==null&&(i.callback=h),a=za(g,i,S),a!==null&&(Cr(a,g,S,b),Yl(a,g,S)),S}function gc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function _f(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<i?d:i}}function em(a,i){_f(a,i),(a=a.alternate)&&_f(a,i)}function xj(){return null}var Df=typeof reportError=="function"?reportError:function(a){console.error(a)};function tm(a){this._internalRoot=a}bc.prototype.render=tm.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));xc(a,i,null,null)},bc.prototype.unmount=tm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;pn(function(){xc(null,a,null,null)}),i[aa]=null}};function bc(a){this._internalRoot=a}bc.prototype.unstable_scheduleHydration=function(a){if(a){var i=m0();a={blockedOn:null,target:a,priority:i};for(var d=0;d<Da.length&&i!==0&&i<Da[d].priority;d++);Da.splice(d,0,a),d===0&&f0(a)}};function sm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function yc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function gj(a,i,d,h,g){if(g){if(typeof h=="function"){var b=h;h=function(){var te=gc(S);b.call(te)}}var S=Af(i,h,a,0,null,!1,!1,"",Ef);return a._reactRootContainer=S,a[aa]=S.current,Wi(a.nodeType===8?a.parentNode:a),pn(),S}for(;g=a.lastChild;)a.removeChild(g);if(typeof h=="function"){var R=h;h=function(){var te=gc($);R.call(te)}}var $=Qu(a,0,!1,null,null,!1,!1,"",Ef);return a._reactRootContainer=$,a[aa]=$.current,Wi(a.nodeType===8?a.parentNode:a),pn(function(){xc(i,$,d,h)}),$}function vc(a,i,d,h,g){var b=d._reactRootContainer;if(b){var S=b;if(typeof g=="function"){var R=g;g=function(){var $=gc(S);R.call($)}}xc(i,S,a,g)}else S=gj(d,i,a,g,h);return gc(S)}d0=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var d=Di(i.pendingLanes);d!==0&&(Sd(i,d|1),Ks(i,rt()),(ht&6)===0&&(ei=rt()+500,Oa()))}break;case 13:pn(function(){var h=la(a,1);if(h!==null){var g=Ls();Cr(h,a,1,g)}}),em(a,1)}},Td=function(a){if(a.tag===13){var i=la(a,134217728);if(i!==null){var d=Ls();Cr(i,a,134217728,d)}em(a,134217728)}},u0=function(a){if(a.tag===13){var i=Ba(a),d=la(a,i);if(d!==null){var h=Ls();Cr(d,a,i,h)}em(a,i)}},m0=function(){return xt},h0=function(a,i){var d=xt;try{return xt=a,i()}finally{xt=d}},Rs=function(a,i,d){switch(i){case"input":if(Pt(a,d),i=d.name,d.type==="radio"&&i!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var h=d[i];if(h!==a&&h.form===a.form){var g=Ll(h);if(!g)throw Error(r(90));_t(h),Pt(h,g)}}}break;case"textarea":xe(a,d);break;case"select":i=d.value,i!=null&&q(a,!!d.multiple,i,!1)}},bt=Yu,K=pn;var bj={usingClientEntryPoint:!1,Events:[Ki,Vn,Ll,Ze,st,Yu]},lo={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yj={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Be(a),a===null?null:a.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{an=wc.inject(yj),zr=wc}catch{}}return Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bj,Zs.createPortal=function(a,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(i))throw Error(r(200));return fj(a,i,null,d)},Zs.createRoot=function(a,i){if(!sm(a))throw Error(r(299));var d=!1,h="",g=Df;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Qu(a,1,!1,null,null,d,!1,h,g),a[aa]=i.current,Wi(a.nodeType===8?a.parentNode:a),new tm(i)},Zs.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Be(i),a=a===null?null:a.stateNode,a},Zs.flushSync=function(a){return pn(a)},Zs.hydrate=function(a,i,d){if(!yc(i))throw Error(r(200));return vc(null,a,i,!0,d)},Zs.hydrateRoot=function(a,i,d){if(!sm(a))throw Error(r(405));var h=d!=null&&d.hydratedSources||null,g=!1,b="",S=Df;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),i=Af(i,null,a,1,d??null,g,!1,b,S),a[aa]=i.current,Wi(a),h)for(a=0;a<h.length;a++)d=h[a],g=d._getVersion,g=g(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,g]:i.mutableSourceEagerHydrationData.push(d,g);return new bc(i)},Zs.render=function(a,i,d){if(!yc(i))throw Error(r(200));return vc(null,a,i,!1,d)},Zs.unmountComponentAtNode=function(a){if(!yc(a))throw Error(r(40));return a._reactRootContainer?(pn(function(){vc(null,null,a,!1,function(){a._reactRootContainer=null,a[aa]=null})}),!0):!1},Zs.unstable_batchedUpdates=Yu,Zs.unstable_renderSubtreeIntoContainer=function(a,i,d,h){if(!yc(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return vc(a,i,d,!1,h)},Zs.version="18.3.1-next-f1338f8080-20240426",Zs}var $f;function qg(){if($f)return nm.exports;$f=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=Aj(),nm.exports}var Ff;function _j(){if(Ff)return jc;Ff=1;var s=qg();return jc.createRoot=s.createRoot,jc.hydrateRoot=s.hydrateRoot,jc}var Dj=_j(),uo={},Vf;function Ej(){if(Vf)return uo;Vf=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.parse=c,uo.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,N){const C=new l,k=v.length;if(k<2)return C;const w=(N==null?void 0:N.decode)||f;let T=0;do{const _=v.indexOf("=",T);if(_===-1)break;const A=v.indexOf(";",T),B=A===-1?k:A;if(_>B){T=v.lastIndexOf(";",_-1)+1;continue}const I=u(v,T,_),D=m(v,_,I),z=v.slice(I,D);if(C[z]===void 0){let E=u(v,_+1,B),G=m(v,B,E);const Y=w(v.slice(E,G));C[z]=Y}T=B+1}while(T<k);return C}function u(v,N,C){do{const k=v.charCodeAt(N);if(k!==32&&k!==9)return N}while(++N<C);return C}function m(v,N,C){for(;N>C;){const k=v.charCodeAt(--N);if(k!==32&&k!==9)return N+1}return C}function p(v,N,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const w=k(N);if(!e.test(w))throw new TypeError(`argument val is invalid: ${N}`);let T=v+"="+w;if(!C)return T;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);T+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);T+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);T+="; Path="+C.path}if(C.expires){if(!x(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);T+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(T+="; HttpOnly"),C.secure&&(T+="; Secure"),C.partitioned&&(T+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return T}function f(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function x(v){return o.call(v)==="[object Date]"}return uo}Ej();var Bf="popstate";function Pj(s={}){function e(n,o){let{pathname:l,search:c,hash:u}=n.location;return Om("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:zo(o)}return Rj(e,r,null,s)}function Bt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ij(){return Math.random().toString(36).substring(2,10)}function Uf(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,r=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?vi(e):e,state:r,key:e&&e.key||n||Ij()}}function zo({pathname:s="/",search:e="",hash:r=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function vi(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substring(r),s=s.substring(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function Rj(s,e,r,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,u="POP",m=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=f(),T=w==null?null:w-p;p=w,m&&m({action:u,location:k.location,delta:T})}function v(w,T){u="PUSH";let _=Om(k.location,w,T);p=f()+1;let A=Uf(_,p),B=k.createHref(_);try{c.pushState(A,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(B)}l&&m&&m({action:u,location:k.location,delta:1})}function N(w,T){u="REPLACE";let _=Om(k.location,w,T);p=f();let A=Uf(_,p),B=k.createHref(_);c.replaceState(A,"",B),l&&m&&m({action:u,location:k.location,delta:0})}function C(w){let T=o.location.origin!=="null"?o.location.origin:o.location.href,_=typeof w=="string"?w:zo(w);return _=_.replace(/ $/,"%20"),Bt(T,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,T)}let k={get action(){return u},get location(){return s(o,c)},listen(w){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Bf,x),m=w,()=>{o.removeEventListener(Bf,x),m=null}},createHref(w){return e(o,w)},createURL:C,encodeLocation(w){let T=C(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:N,go(w){return c.go(w)}};return k}function Xg(s,e,r="/"){return Mj(s,e,r,!1)}function Mj(s,e,r,n){let o=typeof e=="string"?vi(e):e,l=wa(o.pathname||"/",r);if(l==null)return null;let c=Jg(s);Oj(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let p=Yj(l);u=Wj(c[m],p,n)}return u}function Jg(s,e=[],r=[],n=""){let o=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Bt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let p=ya([n,m.relativePath]),f=r.concat(m);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Jg(l.children,e,f,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:Uj(p,l.index),routesMeta:f})};return s.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let m of Qg(l.path))o(l,c,m)}),e}function Qg(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=Qg(n.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&u.push(...c),u.map(m=>s.startsWith("/")&&m===""?"/":m)}function Oj(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:Hj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Lj=/^:[\w-]+$/,zj=3,$j=2,Fj=1,Vj=10,Bj=-2,Hf=s=>s==="*";function Uj(s,e){let r=s.split("/"),n=r.length;return r.some(Hf)&&(n+=Bj),e&&(n+=$j),r.filter(o=>!Hf(o)).reduce((o,l)=>o+(Lj.test(l)?zj:l===""?Fj:Vj),n)}function Hj(s,e){return s.length===e.length&&s.slice(0,-1).every((n,o)=>n===e[o])?s[s.length-1]-e[e.length-1]:0}function Wj(s,e,r=!1){let{routesMeta:n}=s,o={},l="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],p=u===n.length-1,f=l==="/"?e:e.slice(l.length)||"/",x=Kc({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},f),v=m.route;if(!x&&p&&r&&!n[n.length-1].route.index&&(x=Kc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:ya([l,x.pathname]),pathnameBase:Xj(ya([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=ya([l,x.pathnameBase]))}return c}function Kc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=Gj(s.path,s.caseSensitive,s.end),o=e.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((p,{paramName:f,isOptional:x},v)=>{if(f==="*"){let C=u[v]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=u[v];return x&&!N?p[f]=void 0:p[f]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:s}}function Gj(s,e=!1,r=!0){Xr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function Yj(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function wa(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}function Kj(s,e="/"){let{pathname:r,search:n="",hash:o=""}=typeof s=="string"?vi(s):s;return{pathname:r?r.startsWith("/")?r:Zj(r,e):e,search:Jj(n),hash:Qj(o)}}function Zj(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function lm(s,e,r,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qj(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function eb(s){let e=qj(s);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function tb(s,e,r,n=!1){let o;typeof s=="string"?o=vi(s):(o={...s},Bt(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Bt(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Bt(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let l=s===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let x=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;o.pathname=v.join("/")}u=x>=0?e[x]:"/"}let m=Kj(o,u),p=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||f)&&(m.pathname+="/"),m}var ya=s=>s.join("/").replace(/\/\/+/g,"/"),Xj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Jj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Qj=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function eN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var sb=["POST","PUT","PATCH","DELETE"];new Set(sb);var tN=["GET",...sb];new Set(tN);var wi=j.createContext(null);wi.displayName="DataRouter";var ud=j.createContext(null);ud.displayName="DataRouterState";var rb=j.createContext({isTransitioning:!1});rb.displayName="ViewTransition";var sN=j.createContext(new Map);sN.displayName="Fetchers";var rN=j.createContext(null);rN.displayName="Await";var ea=j.createContext(null);ea.displayName="Navigation";var il=j.createContext(null);il.displayName="Location";var ta=j.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var xh=j.createContext(null);xh.displayName="RouteError";function aN(s,{relative:e}={}){Bt(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(ea),{hash:o,pathname:l,search:c}=ll(s,{relative:e}),u=l;return r!=="/"&&(u=l==="/"?r:ya([r,l])),n.createHref({pathname:u,search:c,hash:o})}function ol(){return j.useContext(il)!=null}function En(){return Bt(ol(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(il).location}var ab="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nb(s){j.useContext(ea).static||j.useLayoutEffect(s)}function Pn(){let{isDataRoute:s}=j.useContext(ta);return s?gN():nN()}function nN(){Bt(ol(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(wi),{basename:e,navigator:r}=j.useContext(ea),{matches:n}=j.useContext(ta),{pathname:o}=En(),l=JSON.stringify(eb(n)),c=j.useRef(!1);return nb(()=>{c.current=!0}),j.useCallback((m,p={})=>{if(Xr(c.current,ab),!c.current)return;if(typeof m=="number"){r.go(m);return}let f=tb(m,JSON.parse(l),o,p.relative==="path");s==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ya([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,l,o,s])}j.createContext(null);function gh(){let{matches:s}=j.useContext(ta),e=s[s.length-1];return e?e.params:{}}function ll(s,{relative:e}={}){let{matches:r}=j.useContext(ta),{pathname:n}=En(),o=JSON.stringify(eb(r));return j.useMemo(()=>tb(s,JSON.parse(o),n,e==="path"),[s,o,n,e])}function iN(s,e){return ib(s,e)}function ib(s,e,r,n){var _;Bt(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=j.useContext(ea),{matches:c}=j.useContext(ta),u=c[c.length-1],m=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",x=u&&u.route;{let A=x&&x.path||"";ob(p,!x||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=En(),N;if(e){let A=typeof e=="string"?vi(e):e;Bt(f==="/"||((_=A.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=v;let C=N.pathname||"/",k=C;if(f!=="/"){let A=f.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=!l&&r&&r.matches&&r.matches.length>0?r.matches:Xg(s,{pathname:k});Xr(x||w!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Xr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=uN(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:ya([f,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:ya([f,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,r,n);return e&&T?j.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},T):T}function oN(){let s=xN(),e=eN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:o},r):null,c)}var lN=j.createElement(oN,null),cN=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?j.createElement(ta.Provider,{value:this.props.routeContext},j.createElement(xh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dN({routeContext:s,match:e,children:r}){let n=j.useContext(wi);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ta.Provider,{value:s},r)}function uN(s,e=[],r=null,n=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let o=s,l=r==null?void 0:r.errors;if(l!=null){let m=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,u=-1;if(r)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:f,errors:x}=r,v=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,p,f)=>{let x,v=!1,N=null,C=null;r&&(x=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||lN,c&&(u<0&&f===0?(ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):u===f&&(v=!0,C=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,f+1)),w=()=>{let T;return x?T=N:v?T=C:p.route.Component?T=j.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=m,j.createElement(dN,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:r!=null},children:T})};return r&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?j.createElement(cN,{location:r.location,revalidation:r.revalidation,component:N,error:x,children:w(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):w()},null)}function bh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mN(s){let e=j.useContext(wi);return Bt(e,bh(s)),e}function hN(s){let e=j.useContext(ud);return Bt(e,bh(s)),e}function pN(s){let e=j.useContext(ta);return Bt(e,bh(s)),e}function yh(s){let e=pN(s),r=e.matches[e.matches.length-1];return Bt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function fN(){return yh("useRouteId")}function xN(){var n;let s=j.useContext(xh),e=hN("useRouteError"),r=yh("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[r]}function gN(){let{router:s}=mN("useNavigate"),e=yh("useNavigate"),r=j.useRef(!1);return nb(()=>{r.current=!0}),j.useCallback(async(o,l={})=>{Xr(r.current,ab),r.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...l}))},[s,e])}var Wf={};function ob(s,e,r){!e&&!Wf[s]&&(Wf[s]=!0,Xr(!1,r))}j.memo(bN);function bN({routes:s,future:e,state:r}){return ib(s,void 0,r,e)}function ft(s){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yN({basename:s="/",children:e=null,location:r,navigationType:n="POP",navigator:o,static:l=!1}){Bt(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=vi(r));let{pathname:m="/",search:p="",hash:f="",state:x=null,key:v="default"}=r,N=j.useMemo(()=>{let C=wa(m,c);return C==null?null:{location:{pathname:C,search:p,hash:f,state:x,key:v},navigationType:n}},[c,m,p,f,x,v,n]);return Xr(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(ea.Provider,{value:u},j.createElement(il.Provider,{children:e,value:N}))}function vN({children:s,location:e}){return iN(Lm(s),e)}function Lm(s,e=[]){let r=[];return j.Children.forEach(s,(n,o)=>{if(!j.isValidElement(n))return;let l=[...e,o];if(n.type===j.Fragment){r.push.apply(r,Lm(n.props.children,l));return}Bt(n.type===ft,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Lm(n.props.children,l)),r.push(c)}),r}var Fc="get",Vc="application/x-www-form-urlencoded";function md(s){return s!=null&&typeof s.tagName=="string"}function wN(s){return md(s)&&s.tagName.toLowerCase()==="button"}function jN(s){return md(s)&&s.tagName.toLowerCase()==="form"}function NN(s){return md(s)&&s.tagName.toLowerCase()==="input"}function kN(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function CN(s,e){return s.button===0&&(!e||e==="_self")&&!kN(s)}var Nc=null;function SN(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var TN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(s){return s!=null&&!TN.has(s)?(Xr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):s}function AN(s,e){let r,n,o,l,c;if(jN(s)){let u=s.getAttribute("action");n=u?wa(u,e):null,r=s.getAttribute("method")||Fc,o=cm(s.getAttribute("enctype"))||Vc,l=new FormData(s)}else if(wN(s)||NN(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||u.getAttribute("action");if(n=m?wa(m,e):null,r=s.getAttribute("formmethod")||u.getAttribute("method")||Fc,o=cm(s.getAttribute("formenctype"))||cm(u.getAttribute("enctype"))||Vc,l=new FormData(u,s),!SN()){let{name:p,type:f,value:x}=s;if(f==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,x)}}else{if(md(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Fc,n=null,o=Vc,c=s}return l&&o==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:l,body:c}}function vh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function _N(s,e){if(s.id in e)return e[s.id];try{let r=await import(s.module);return e[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DN(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function EN(s,e,r){let n=await Promise.all(s.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await _N(l,r);return c.links?c.links():[]}return[]}));return MN(n.flat(1).filter(DN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gf(s,e,r,n,o,l){let c=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,u=(m,p)=>{var f;return r[p].pathname!==m.pathname||((f=r[p].route.path)==null?void 0:f.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||u(m,p)):l==="data"?e.filter((m,p)=>{var x;let f=n.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,p)||u(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PN(s,e,{includeHydrateFallback:r}={}){return IN(s.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function IN(s){return[...new Set(s)]}function RN(s){let e={},r=Object.keys(s).sort();for(let n of r)e[n]=s[n];return e}function MN(s,e){let r=new Set;return new Set(e),s.reduce((n,o)=>{let l=JSON.stringify(RN(o));return r.has(l)||(r.add(l),n.push({key:l,link:o})),n},[])}var ON=new Set([100,101,204,205]);function LN(s,e){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":e&&wa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function lb(){let s=j.useContext(wi);return vh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function zN(){let s=j.useContext(ud);return vh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var wh=j.createContext(void 0);wh.displayName="FrameworkContext";function cb(){let s=j.useContext(wh);return vh(s,"You must render this element inside a <HydratedRouter> element"),s}function $N(s,e){let r=j.useContext(wh),[n,o]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:p,onMouseLeave:f,onTouchStart:x}=e,v=j.useRef(null);j.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let k=T=>{T.forEach(_=>{c(_.isIntersecting)})},w=new IntersectionObserver(k,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[s]),j.useEffect(()=>{if(n){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[n]);let N=()=>{o(!0)},C=()=>{o(!1),c(!1)};return r?s!=="intent"?[l,v,{}]:[l,v,{onFocus:mo(u,N),onBlur:mo(m,C),onMouseEnter:mo(p,N),onMouseLeave:mo(f,C),onTouchStart:mo(x,N)}]:[!1,v,{}]}function mo(s,e){return r=>{s&&s(r),r.defaultPrevented||e(r)}}function FN({page:s,...e}){let{router:r}=lb(),n=j.useMemo(()=>Xg(r.routes,s,r.basename),[r.routes,s,r.basename]);return n?j.createElement(BN,{page:s,matches:n,...e}):null}function VN(s){let{manifest:e,routeModules:r}=cb(),[n,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return EN(s,e,r).then(c=>{l||o(c)}),()=>{l=!0}},[s,e,r]),n}function BN({page:s,matches:e,...r}){let n=En(),{manifest:o,routeModules:l}=cb(),{basename:c}=lb(),{loaderData:u,matches:m}=zN(),p=j.useMemo(()=>Gf(s,e,m,o,n,"data"),[s,e,m,o,n]),f=j.useMemo(()=>Gf(s,e,m,o,n,"assets"),[s,e,m,o,n]),x=j.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let C=new Set,k=!1;if(e.forEach(T=>{var A;let _=o.routes[T.route.id];!_||!_.hasLoader||(!p.some(B=>B.route.id===T.route.id)&&T.route.id in u&&((A=l[T.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?k=!0:C.add(T.route.id))}),C.size===0)return[];let w=LN(s,c);return k&&C.size>0&&w.searchParams.set("_routes",e.filter(T=>C.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[c,u,n,o,p,e,s,l]),v=j.useMemo(()=>PN(f,o),[f,o]),N=VN(f);return j.createElement(j.Fragment,null,x.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),v.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),N.map(({key:C,link:k})=>j.createElement("link",{key:C,...k})))}function UN(...s){return e=>{s.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{db&&(window.__reactRouterVersion="7.5.3")}catch{}function HN({basename:s,children:e,window:r}){let n=j.useRef();n.current==null&&(n.current=Pj({window:r,v5Compat:!0}));let o=n.current,[l,c]=j.useState({action:o.action,location:o.location}),u=j.useCallback(m=>{j.startTransition(()=>c(m))},[c]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.createElement(yN,{basename:s,children:e,location:l.location,navigationType:l.action,navigator:o})}var ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=j.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:o,reloadDocument:l,replace:c,state:u,target:m,to:p,preventScrollReset:f,viewTransition:x,...v},N){let{basename:C}=j.useContext(ea),k=typeof p=="string"&&ub.test(p),w,T=!1;if(typeof p=="string"&&k&&(w=p,db))try{let G=new URL(window.location.href),Y=p.startsWith("//")?new URL(G.protocol+p):new URL(p),ne=wa(Y.pathname,C);Y.origin===G.origin&&ne!=null?p=ne+Y.search+Y.hash:T=!0}catch{Xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=aN(p,{relative:o}),[A,B,I]=$N(n,v),D=KN(p,{replace:c,state:u,target:m,preventScrollReset:f,relative:o,viewTransition:x});function z(G){e&&e(G),G.defaultPrevented||D(G)}let E=j.createElement("a",{...v,...I,href:w||_,onClick:T||l?e:z,ref:UN(N,B),target:m,"data-discover":!k&&r==="render"?"true":void 0});return A&&!k?j.createElement(j.Fragment,null,E,j.createElement(FN,{page:_})):E});oe.displayName="Link";var WN=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:o=!1,style:l,to:c,viewTransition:u,children:m,...p},f){let x=ll(c,{relative:p.relative}),v=En(),N=j.useContext(ud),{navigator:C,basename:k}=j.useContext(ea),w=N!=null&&QN(x)&&u===!0,T=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,_=v.pathname,A=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(_=_.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&k&&(A=wa(A,k)||A);const B=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let I=_===T||!o&&_.startsWith(T)&&_.charAt(B)==="/",D=A!=null&&(A===T||!o&&A.startsWith(T)&&A.charAt(T.length)==="/"),z={isActive:I,isPending:D,isTransitioning:w},E=I?e:void 0,G;typeof n=="function"?G=n(z):G=[n,I?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Y=typeof l=="function"?l(z):l;return j.createElement(oe,{...p,"aria-current":E,className:G,ref:f,style:Y,to:c,viewTransition:u},typeof m=="function"?m(z):m)});WN.displayName="NavLink";var GN=j.forwardRef(({discover:s="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:o,state:l,method:c=Fc,action:u,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:x,...v},N)=>{let C=XN(),k=JN(u,{relative:p}),w=c.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&ub.test(u),_=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,I=(B==null?void 0:B.getAttribute("formmethod"))||c;C(B||A.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:o,state:l,relative:p,preventScrollReset:f,viewTransition:x})};return j.createElement("form",{ref:N,method:w,action:k,onSubmit:n?m:_,...v,"data-discover":!T&&s==="render"?"true":void 0})});GN.displayName="Form";function YN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(s){let e=j.useContext(wi);return Bt(e,YN(s)),e}function KN(s,{target:e,replace:r,state:n,preventScrollReset:o,relative:l,viewTransition:c}={}){let u=Pn(),m=En(),p=ll(s,{relative:l});return j.useCallback(f=>{if(CN(f,e)){f.preventDefault();let x=r!==void 0?r:zo(m)===zo(p);u(s,{replace:x,state:n,preventScrollReset:o,relative:l,viewTransition:c})}},[m,u,p,r,n,e,s,o,l,c])}var ZN=0,qN=()=>`__${String(++ZN)}__`;function XN(){let{router:s}=mb("useSubmit"),{basename:e}=j.useContext(ea),r=fN();return j.useCallback(async(n,o={})=>{let{action:l,method:c,encType:u,formData:m,body:p}=AN(n,e);if(o.navigate===!1){let f=o.fetcherKey||qN();await s.fetch(f,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await s.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,r])}function JN(s,{relative:e}={}){let{basename:r}=j.useContext(ea),n=j.useContext(ta);Bt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...ll(s||".",{relative:e})},c=En();if(s==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(x=>x).forEach(x=>u.append("index",x));let f=u.toString();l.search=f?`?${f}`:""}}return(!s||s===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:ya([r,l.pathname])),zo(l)}function QN(s,e={}){let r=j.useContext(rb);Bt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mb("useViewTransitionState"),o=ll(s,{relative:e.relative});if(!r.isTransitioning)return!1;let l=wa(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=wa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Kc(o.pathname,c)!=null||Kc(o.pathname,l)!=null}new TextEncoder;[...ON];var ek=qg();const tk=Zg(ek);function sk(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}const rk=s=>{switch(s){case"success":return ik;case"info":return lk;case"warning":return ok;case"error":return ck;default:return null}},ak=Array(12).fill(0),nk=({visible:s,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},fe.createElement("div",{className:"sonner-spinner"},ak.map((r,n)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ik=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ok=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lk=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ck=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dk=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uk=()=>{const[s,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s};let zm=1;class mk{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...o}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:zm++,c=this.toasts.find(m=>m.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:n}),{...m,...e,id:l,dismissible:u,title:n}):m):this.addToast({title:n,...o,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,c;const u=o.then(async p=>{if(c=["resolve",p],fe.isValidElement(p))l=!1,this.create({id:n,type:"default",message:p});else if(pk(p)&&!p.ok){l=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,C=typeof x=="object"&&!fe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:v,...C})}else if(p instanceof Error){l=!1;const x=typeof r.error=="function"?await r.error(p):r.error,v=typeof r.description=="function"?await r.description(p):r.description,C=typeof x=="object"&&!fe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:v,...C})}else if(r.success!==void 0){l=!1;const x=typeof r.success=="function"?await r.success(p):r.success,v=typeof r.description=="function"?await r.description(p):r.description,C=typeof x=="object"&&!fe.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:v,...C})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){l=!1;const f=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,N=typeof f=="object"&&!fe.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...N})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((p,f)=>u.then(()=>c[0]==="reject"?f(c[1]):p(c[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:m}:Object.assign(n,{unwrap:m})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||zm++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xs=new mk,hk=(s,e)=>{const r=(e==null?void 0:e.id)||zm++;return Xs.addToast({title:s,...e,id:r}),r},pk=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",fk=hk,xk=()=>Xs.toasts,gk=()=>Xs.getActiveToasts(),_r=Object.assign(fk,{success:Xs.success,info:Xs.info,warning:Xs.warning,error:Xs.error,custom:Xs.custom,message:Xs.message,promise:Xs.promise,dismiss:Xs.dismiss,loading:Xs.loading},{getHistory:xk,getToasts:gk});sk("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kc(s){return s.label!==void 0}const bk=3,yk="24px",vk="16px",Yf=4e3,wk=356,jk=14,Nk=45,kk=200;function Ur(...s){return s.filter(Boolean).join(" ")}function Ck(s){const[e,r]=s.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const Sk=s=>{var e,r,n,o,l,c,u,m,p;const{invert:f,toast:x,unstyled:v,interacting:N,setHeights:C,visibleToasts:k,heights:w,index:T,toasts:_,expanded:A,removeToast:B,defaultRichColors:I,closeButton:D,style:z,cancelButtonStyle:E,actionButtonStyle:G,className:Y="",descriptionClassName:ne="",duration:ee,position:se,gap:ie,expandByDefault:M,classNames:F,icons:Z,closeButtonAriaLabel:L="Close toast"}=s,[re,H]=fe.useState(null),[P,W]=fe.useState(null),[ae,je]=fe.useState(!1),[Ne,pe]=fe.useState(!1),[Ee,Ue]=fe.useState(!1),[Ye,ut]=fe.useState(!1),[Gt,_t]=fe.useState(!1),[ps,Et]=fe.useState(0),[ns,jt]=fe.useState(0),Pt=fe.useRef(x.duration||ee||Yf),It=fe.useRef(null),yt=fe.useRef(null),O=T===0,q=T+1<=k,J=x.type,be=x.dismissible!==!1,xe=x.className||"",de=x.descriptionClassName||"",Ce=fe.useMemo(()=>w.findIndex(Ze=>Ze.toastId===x.id)||0,[w,x.id]),ye=fe.useMemo(()=>{var Ze;return(Ze=x.closeButton)!=null?Ze:D},[x.closeButton,D]),nt=fe.useMemo(()=>x.duration||ee||Yf,[x.duration,ee]),vt=fe.useRef(0),Rt=fe.useRef(0),Mt=fe.useRef(0),fs=fe.useRef(null),[is,qt]=se.split("-"),Ns=fe.useMemo(()=>w.reduce((Ze,st,bt)=>bt>=Ce?Ze:Ze+st.height,0),[w,Ce]),Is=uk(),Qs=x.invert||f,xs=J==="loading";Rt.current=fe.useMemo(()=>Ce*ie+Ns,[Ce,Ns]),fe.useEffect(()=>{Pt.current=nt},[nt]),fe.useEffect(()=>{je(!0)},[]),fe.useEffect(()=>{const Ze=yt.current;if(Ze){const st=Ze.getBoundingClientRect().height;return jt(st),C(bt=>[{toastId:x.id,height:st,position:x.position},...bt]),()=>C(bt=>bt.filter(K=>K.toastId!==x.id))}},[C,x.id]),fe.useLayoutEffect(()=>{if(!ae)return;const Ze=yt.current,st=Ze.style.height;Ze.style.height="auto";const bt=Ze.getBoundingClientRect().height;Ze.style.height=st,jt(bt),C(K=>K.find(we=>we.toastId===x.id)?K.map(we=>we.toastId===x.id?{...we,height:bt}:we):[{toastId:x.id,height:bt,position:x.position},...K])},[ae,x.title,x.description,C,x.id]);const Ot=fe.useCallback(()=>{pe(!0),Et(Rt.current),C(Ze=>Ze.filter(st=>st.toastId!==x.id)),setTimeout(()=>{B(x)},kk)},[x,B,C,Rt]);fe.useEffect(()=>{if(x.promise&&J==="loading"||x.duration===1/0||x.type==="loading")return;let Ze;return A||N||Is?(()=>{if(Mt.current<vt.current){const K=new Date().getTime()-vt.current;Pt.current=Pt.current-K}Mt.current=new Date().getTime()})():(()=>{Pt.current!==1/0&&(vt.current=new Date().getTime(),Ze=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Ot()},Pt.current))})(),()=>clearTimeout(Ze)},[A,N,x,J,Is,Ot]),fe.useEffect(()=>{x.delete&&Ot()},[Ot,x.delete]);function Rs(){var Ze;if(Z!=null&&Z.loading){var st;return fe.createElement("div",{className:Ur(F==null?void 0:F.loader,x==null||(st=x.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":J==="loading"},Z.loading)}return fe.createElement(nk,{className:Ur(F==null?void 0:F.loader,x==null||(Ze=x.classNames)==null?void 0:Ze.loader),visible:J==="loading"})}const ir=x.icon||(Z==null?void 0:Z[J])||rk(J);var gs,sa;return fe.createElement("li",{tabIndex:0,ref:yt,className:Ur(Y,xe,F==null?void 0:F.toast,x==null||(e=x.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[J],x==null||(r=x.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(gs=x.richColors)!=null?gs:I,"data-styled":!(x.jsx||x.unstyled||v),"data-mounted":ae,"data-promise":!!x.promise,"data-swiped":Gt,"data-removed":Ne,"data-visible":q,"data-y-position":is,"data-x-position":qt,"data-index":T,"data-front":O,"data-swiping":Ee,"data-dismissible":be,"data-type":J,"data-invert":Qs,"data-swipe-out":Ye,"data-swipe-direction":P,"data-expanded":!!(A||M&&ae),style:{"--index":T,"--toasts-before":T,"--z-index":_.length-T,"--offset":`${Ne?ps:Rt.current}px`,"--initial-height":M?"auto":`${ns}px`,...z,...x.style},onDragEnd:()=>{Ue(!1),H(null),fs.current=null},onPointerDown:Ze=>{xs||!be||(It.current=new Date,Et(Rt.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(Ue(!0),fs.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,st,bt;if(Ye||!be)return;fs.current=null;const K=Number(((Ze=yt.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pe=Number(((st=yt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),we=new Date().getTime()-((bt=It.current)==null?void 0:bt.getTime()),ue=re==="x"?K:Pe,Se=Math.abs(ue)/we;if(Math.abs(ue)>=Nk||Se>.11){Et(Rt.current),x.onDismiss==null||x.onDismiss.call(x,x),W(re==="x"?K>0?"right":"left":Pe>0?"down":"up"),Ot(),ut(!0);return}else{var Ae,He;(Ae=yt.current)==null||Ae.style.setProperty("--swipe-amount-x","0px"),(He=yt.current)==null||He.style.setProperty("--swipe-amount-y","0px")}_t(!1),Ue(!1),H(null)},onPointerMove:Ze=>{var st,bt,K;if(!fs.current||!be||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const we=Ze.clientY-fs.current.y,ue=Ze.clientX-fs.current.x;var Se;const Ae=(Se=s.swipeDirections)!=null?Se:Ck(se);!re&&(Math.abs(ue)>1||Math.abs(we)>1)&&H(Math.abs(ue)>Math.abs(we)?"x":"y");let He={x:0,y:0};const Je=Ct=>1/(1.5+Math.abs(Ct)/20);if(re==="y"){if(Ae.includes("top")||Ae.includes("bottom"))if(Ae.includes("top")&&we<0||Ae.includes("bottom")&&we>0)He.y=we;else{const Ct=we*Je(we);He.y=Math.abs(Ct)<Math.abs(we)?Ct:we}}else if(re==="x"&&(Ae.includes("left")||Ae.includes("right")))if(Ae.includes("left")&&ue<0||Ae.includes("right")&&ue>0)He.x=ue;else{const Ct=ue*Je(ue);He.x=Math.abs(Ct)<Math.abs(ue)?Ct:ue}(Math.abs(He.x)>0||Math.abs(He.y)>0)&&_t(!0),(bt=yt.current)==null||bt.style.setProperty("--swipe-amount-x",`${He.x}px`),(K=yt.current)==null||K.style.setProperty("--swipe-amount-y",`${He.y}px`)}},ye&&!x.jsx&&J!=="loading"?fe.createElement("button",{"aria-label":L,"data-disabled":xs,"data-close-button":!0,onClick:xs||!be?()=>{}:()=>{Ot(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Ur(F==null?void 0:F.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(sa=Z==null?void 0:Z.close)!=null?sa:dk):null,(J||x.icon||x.promise)&&x.icon!==null&&((Z==null?void 0:Z[J])!==null||x.icon)?fe.createElement("div",{"data-icon":"",className:Ur(F==null?void 0:F.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Rs():null,x.type!=="loading"?ir:null):null,fe.createElement("div",{"data-content":"",className:Ur(F==null?void 0:F.content,x==null||(l=x.classNames)==null?void 0:l.content)},fe.createElement("div",{"data-title":"",className:Ur(F==null?void 0:F.title,x==null||(c=x.classNames)==null?void 0:c.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?fe.createElement("div",{"data-description":"",className:Ur(ne,de,F==null?void 0:F.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),fe.isValidElement(x.cancel)?x.cancel:x.cancel&&kc(x.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||E,onClick:Ze=>{kc(x.cancel)&&be&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Ze),Ot())},className:Ur(F==null?void 0:F.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,fe.isValidElement(x.action)?x.action:x.action&&kc(x.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||G,onClick:Ze=>{kc(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Ze),!Ze.defaultPrevented&&Ot())},className:Ur(F==null?void 0:F.actionButton,x==null||(p=x.classNames)==null?void 0:p.actionButton)},x.action.label):null)};function Kf(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Tk(s,e){const r={};return[s,e].forEach((n,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",u=l?vk:yk;function m(p){["top","right","bottom","left"].forEach(f=>{r[`${c}-${f}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?m(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=u:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):m(u)}),r}const Ak=fe.forwardRef(function(e,r){const{invert:n,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:m,offset:p,mobileOffset:f,theme:x="light",richColors:v,duration:N,style:C,visibleToasts:k=bk,toastOptions:w,dir:T=Kf(),gap:_=jk,icons:A,containerAriaLabel:B="Notifications"}=e,[I,D]=fe.useState([]),z=fe.useMemo(()=>Array.from(new Set([o].concat(I.filter(P=>P.position).map(P=>P.position)))),[I,o]),[E,G]=fe.useState([]),[Y,ne]=fe.useState(!1),[ee,se]=fe.useState(!1),[ie,M]=fe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=fe.useRef(null),Z=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=fe.useRef(null),re=fe.useRef(!1),H=fe.useCallback(P=>{D(W=>{var ae;return(ae=W.find(je=>je.id===P.id))!=null&&ae.delete||Xs.dismiss(P.id),W.filter(({id:je})=>je!==P.id)})},[]);return fe.useEffect(()=>Xs.subscribe(P=>{if(P.dismiss){requestAnimationFrame(()=>{D(W=>W.map(ae=>ae.id===P.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{tk.flushSync(()=>{D(W=>{const ae=W.findIndex(je=>je.id===P.id);return ae!==-1?[...W.slice(0,ae),{...W[ae],...P},...W.slice(ae+1)]:[P,...W]})})})}),[I]),fe.useEffect(()=>{if(x!=="system"){M(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:W})=>{M(W?"dark":"light")})}catch{P.addListener(({matches:ae})=>{try{M(ae?"dark":"light")}catch(je){console.error(je)}})}},[x]),fe.useEffect(()=>{I.length<=1&&ne(!1)},[I]),fe.useEffect(()=>{const P=W=>{var ae;if(l.every(pe=>W[pe]||W.code===pe)){var Ne;ne(!0),(Ne=F.current)==null||Ne.focus()}W.code==="Escape"&&(document.activeElement===F.current||(ae=F.current)!=null&&ae.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[l]),fe.useEffect(()=>{if(F.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,re.current=!1)}},[F.current]),fe.createElement("section",{ref:r,"aria-label":`${B} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((P,W)=>{var ae;const[je,Ne]=P.split("-");return I.length?fe.createElement("ol",{key:P,dir:T==="auto"?Kf():T,tabIndex:-1,ref:F,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":je,"data-lifted":Y&&I.length>1&&!c,"data-x-position":Ne,style:{"--front-toast-height":`${((ae=E[0])==null?void 0:ae.height)||0}px`,"--width":`${wk}px`,"--gap":`${_}px`,...C,...Tk(p,f)},onBlur:pe=>{re.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(re.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||re.current||(re.current=!0,L.current=pe.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{ee||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},I.filter(pe=>!pe.position&&W===0||pe.position===P).map((pe,Ee)=>{var Ue,Ye;return fe.createElement(Sk,{key:pe.id,icons:A,index:Ee,toast:pe,defaultRichColors:v,duration:(Ue=w==null?void 0:w.duration)!=null?Ue:N,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:k,closeButton:(Ye=w==null?void 0:w.closeButton)!=null?Ye:u,interacting:ee,position:P,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:H,toasts:I.filter(ut=>ut.position==pe.position),heights:E.filter(ut=>ut.position==pe.position),setHeights:G,expandByDefault:c,gap:_,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});function hb(s){var e,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(e=0;e<o;e++)s[e]&&(r=hb(s[e]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function _k(){for(var s,e,r=0,n="",o=arguments.length;r<o;r++)(s=arguments[r])&&(e=hb(s))&&(n&&(n+=" "),n+=e);return n}const jh="-",Dk=s=>{const e=Pk(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:c=>{const u=c.split(jh);return u[0]===""&&u.length!==1&&u.shift(),pb(u,e)||Ek(c)},getConflictingClassGroupIds:(c,u)=>{const m=r[c]||[];return u&&n[c]?[...m,...n[c]]:m}}},pb=(s,e)=>{var c;if(s.length===0)return e.classGroupId;const r=s[0],n=e.nextPart.get(r),o=n?pb(s.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const l=s.join(jh);return(c=e.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},Zf=/^\[(.+)\]$/,Ek=s=>{if(Zf.test(s)){const e=Zf.exec(s)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Pk=s=>{const{theme:e,classGroups:r}=s,n={nextPart:new Map,validators:[]};for(const o in r)$m(r[o],n,o,e);return n},$m=(s,e,r,n)=>{s.forEach(o=>{if(typeof o=="string"){const l=o===""?e:qf(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(Ik(o)){$m(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{$m(c,qf(e,l),r,n)})})},qf=(s,e)=>{let r=s;return e.split(jh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ik=s=>s.isThemeGetter,Rk=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),e++,e>s&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Fm="!",Vm=":",Mk=Vm.length,Ok=s=>{const{prefix:e,experimentalParseClassName:r}=s;let n=o=>{const l=[];let c=0,u=0,m=0,p;for(let C=0;C<o.length;C++){let k=o[C];if(c===0&&u===0){if(k===Vm){l.push(o.slice(m,C)),m=C+Mk;continue}if(k==="/"){p=C;continue}}k==="["?c++:k==="]"?c--:k==="("?u++:k===")"&&u--}const f=l.length===0?o:o.substring(m),x=Lk(f),v=x!==f,N=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:N}};if(e){const o=e+Vm,l=n;n=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const o=n;n=l=>r({className:l,parseClassName:o})}return n},Lk=s=>s.endsWith(Fm)?s.substring(0,s.length-1):s.startsWith(Fm)?s.substring(1):s,zk=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let l=[];return n.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},$k=s=>({cache:Rk(s.cacheSize),parseClassName:Ok(s),sortModifiers:zk(s),...Dk(s)}),Fk=/\s+/,Vk=(s,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],u=s.trim().split(Fk);let m="";for(let p=u.length-1;p>=0;p-=1){const f=u[p],{isExternal:x,modifiers:v,hasImportantModifier:N,baseClassName:C,maybePostfixModifierPosition:k}=r(f);if(x){m=f+(m.length>0?" "+m:m);continue}let w=!!k,T=n(w?C.substring(0,k):C);if(!T){if(!w){m=f+(m.length>0?" "+m:m);continue}if(T=n(C),!T){m=f+(m.length>0?" "+m:m);continue}w=!1}const _=l(v).join(":"),A=N?_+Fm:_,B=A+T;if(c.includes(B))continue;c.push(B);const I=o(T,w);for(let D=0;D<I.length;++D){const z=I[D];c.push(A+z)}m=f+(m.length>0?" "+m:m)}return m};function Bk(){let s=0,e,r,n="";for(;s<arguments.length;)(e=arguments[s++])&&(r=fb(e))&&(n&&(n+=" "),n+=r);return n}const fb=s=>{if(typeof s=="string")return s;let e,r="";for(let n=0;n<s.length;n++)s[n]&&(e=fb(s[n]))&&(r&&(r+=" "),r+=e);return r};function Uk(s,...e){let r,n,o,l=c;function c(m){const p=e.reduce((f,x)=>x(f),s());return r=$k(p),n=r.cache.get,o=r.cache.set,l=u,u(m)}function u(m){const p=n(m);if(p)return p;const f=Vk(m,r);return o(m,f),f}return function(){return l(Bk.apply(null,arguments))}}const as=s=>{const e=r=>r[s]||[];return e.isThemeGetter=!0,e},xb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Hk=/^\d+\/\d+$/,Wk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=s=>Hk.test(s),lt=s=>!!s&&!Number.isNaN(Number(s)),Ga=s=>!!s&&Number.isInteger(Number(s)),dm=s=>s.endsWith("%")&&lt(s.slice(0,-1)),ma=s=>Wk.test(s),qk=()=>!0,Xk=s=>Gk.test(s)&&!Yk.test(s),bb=()=>!1,Jk=s=>Kk.test(s),Qk=s=>Zk.test(s),e1=s=>!Re(s)&&!Me(s),t1=s=>ji(s,wb,bb),Re=s=>xb.test(s),bn=s=>ji(s,jb,Xk),um=s=>ji(s,i1,lt),Xf=s=>ji(s,yb,bb),s1=s=>ji(s,vb,Qk),Cc=s=>ji(s,Nb,Jk),Me=s=>gb.test(s),ho=s=>Ni(s,jb),r1=s=>Ni(s,o1),Jf=s=>Ni(s,yb),a1=s=>Ni(s,wb),n1=s=>Ni(s,vb),Sc=s=>Ni(s,Nb,!0),ji=(s,e,r)=>{const n=xb.exec(s);return n?n[1]?e(n[1]):r(n[2]):!1},Ni=(s,e,r=!1)=>{const n=gb.exec(s);return n?n[1]?e(n[1]):r:!1},yb=s=>s==="position"||s==="percentage",vb=s=>s==="image"||s==="url",wb=s=>s==="length"||s==="size"||s==="bg-size",jb=s=>s==="length",i1=s=>s==="number",o1=s=>s==="family-name",Nb=s=>s==="shadow",l1=()=>{const s=as("color"),e=as("font"),r=as("text"),n=as("font-weight"),o=as("tracking"),l=as("leading"),c=as("breakpoint"),u=as("container"),m=as("spacing"),p=as("radius"),f=as("shadow"),x=as("inset-shadow"),v=as("text-shadow"),N=as("drop-shadow"),C=as("blur"),k=as("perspective"),w=as("aspect"),T=as("ease"),_=as("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...B(),Me,Re],D=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],E=()=>[Me,Re,m],G=()=>[si,"full","auto",...E()],Y=()=>[Ga,"none","subgrid",Me,Re],ne=()=>["auto",{span:["full",Ga,Me,Re]},Ga,Me,Re],ee=()=>[Ga,"auto",Me,Re],se=()=>["auto","min","max","fr",Me,Re],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...E()],Z=()=>[si,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],L=()=>[s,Me,Re],re=()=>[...B(),Jf,Xf,{position:[Me,Re]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",a1,t1,{size:[Me,Re]}],W=()=>[dm,ho,bn],ae=()=>["","none","full",p,Me,Re],je=()=>["",lt,ho,bn],Ne=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[lt,dm,Jf,Xf],Ue=()=>["","none",C,Me,Re],Ye=()=>["none",lt,Me,Re],ut=()=>["none",lt,Me,Re],Gt=()=>[lt,Me,Re],_t=()=>[si,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ma],breakpoint:[ma],color:[qk],container:[ma],"drop-shadow":[ma],ease:["in","out","in-out"],font:[e1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ma],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ma],shadow:[ma],spacing:["px",lt],text:[ma],"text-shadow":[ma],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",si,Re,Me,w]}],container:["container"],columns:[{columns:[lt,Re,Me,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[Ga,"auto",Me,Re]}],basis:[{basis:[si,"full","auto",u,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,si,"auto","initial","none",Re]}],grow:[{grow:["",lt,Me,Re]}],shrink:[{shrink:["",lt,Me,Re]}],order:[{order:[Ga,"first","last","none",Me,Re]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",r,ho,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Me,um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dm,Re]}],"font-family":[{font:[r1,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Me,Re]}],"line-clamp":[{"line-clamp":[lt,"none",Me,um]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",Me,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Me,bn]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[lt,"auto",Me,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:re()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ga,Me,Re],radial:["",Me,Re],conic:[Ga,Me,Re]},n1,s1]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Me,Re]}],"outline-w":[{outline:["",lt,ho,bn]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",f,Sc,Cc]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",x,Sc,Cc]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[lt,bn]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",v,Sc,Cc]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[lt,Me,Re]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Me,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:re()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Re]}],filter:[{filter:["","none",Me,Re]}],blur:[{blur:Ue()}],brightness:[{brightness:[lt,Me,Re]}],contrast:[{contrast:[lt,Me,Re]}],"drop-shadow":[{"drop-shadow":["","none",N,Sc,Cc]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",lt,Me,Re]}],"hue-rotate":[{"hue-rotate":[lt,Me,Re]}],invert:[{invert:["",lt,Me,Re]}],saturate:[{saturate:[lt,Me,Re]}],sepia:[{sepia:["",lt,Me,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Re]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Me,Re]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Me,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Me,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Me,Re]}],"backdrop-invert":[{"backdrop-invert":["",lt,Me,Re]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Me,Re]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Me,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Me,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Me,Re]}],ease:[{ease:["linear","initial",T,Me,Re]}],delay:[{delay:[lt,Me,Re]}],animate:[{animate:["none",_,Me,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Me,Re]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:ut()}],"scale-x":[{"scale-x":ut()}],"scale-y":[{"scale-y":ut()}],"scale-z":[{"scale-z":ut()}],"scale-3d":["scale-3d"],skew:[{skew:Gt()}],"skew-x":[{"skew-x":Gt()}],"skew-y":[{"skew-y":Gt()}],transform:[{transform:[Me,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_t()}],"translate-x":[{"translate-x":_t()}],"translate-y":[{"translate-y":_t()}],"translate-z":[{"translate-z":_t()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Re]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[lt,ho,bn,um]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c1=Uk(l1);function _o(...s){return c1(_k(s))}const kb=j.createContext(void 0),d1=({children:s})=>{const[e,r]=j.useState("zh");j.useEffect(()=>{try{const o=localStorage.getItem("lang");(o==="zh"||o==="en")&&r(o)}catch{}},[]),j.useEffect(()=>{try{localStorage.setItem("lang",e)}catch{}},[e]);const n=o=>{r(o)};return t.jsx(kb.Provider,{value:{lang:e,setLang:n},children:s})},hs=()=>{const s=j.useContext(kb);if(!s)throw new Error("useLanguage must be used within LanguageProvider");return s};function u1(){const[s,e]=j.useState(!1),{lang:r,setLang:n}=hs(),o={zh:{brand:"AllinONE",nav:{gameCenter:"游戏中心",computingDashboard:"算力中心",blogCenter:"博客中心",officialStore:"官方商店",gameStore:"游戏电商",marketplace:"交易市场",fundPool:"资金池",personalCenter:"个人中心"},auth:{login:"登录",register:"立即注册"},hero:{badge:"全新上线 - 合规游戏收益平台",title1:"玩游戏，",title2:"轻松获取收益",desc:"AllinONE将游戏乐趣与收益机会完美结合，通过合规的虚拟经济系统，让每位玩家都能在娱乐中获得实实在在的回报。",ctaStart:"立即开始",demo:"观看演示",activePlayers:"活跃玩家",todayIncome:"今日收益"},features:{title:"AllinONE核心玩法",desc:"经典的游戏化收益模式，合规化改造，公开透明的经济，开放的管理系统，为您带来有趣的体验",rewardsTitle:"多维化社区奖励系统",rewardsDesc:"通过A币、O币、算力与游戏币等多维奖励，面向玩家、开发者与治理者，打造“共建共享共治”的Play2Earn生态。",economyTitle:"经济公开系统和开放式管理系统",economyDesc:"公开的财务系统（算力中心与资金池）+ 开放的社区管理（平台管理系统），以数据为基础进行治理与分配，保障透明与共治。",gamesTitle:"多元化小游戏矩阵",gamesDesc:"多款有趣的小游戏任您选择，每款游戏都有独特的玩法和算力奖励机制。",tradingTitle:"多样的游戏商品交易系统",tradingDesc:"除了玩游戏，玩家还可在平台交易道具：官方商店（平台运营）、游戏电商（游戏方运营）、交易市场（玩家自由买卖），为你提供全方位的自由交易环境。",centerTitle:"一站式个人中心",centerDesc:"个人中心是玩家数据的汇集地，也是参与平台的重要入口。我们将交易、游戏、社交、数据分析与管理融为一体，为你一站式解决游戏、交易、交流与管理需求。",blogTitle:"玩家博客中心",blogDesc:"分享游戏经验和心得，与其他玩家交流互动，共同成长进步。",learnMore:"了解更多",viewBlog:"查看博客"},how:{title:"如何开始使用AllinONE",desc:"简单四步，开启您的游戏收益之旅",step1Title:"注册并完成认证",step1Desc:"创建账户并完成实名认证，确保合规参与",step2Title:"选择喜欢的游戏",step2Desc:"从多样化的小游戏矩阵中选择您感兴趣的游戏",step3Title:"提升算力获取收益",step3Desc:"通过游戏表现提升算力，自动获得平台奖励",step4Title:"兑换合规奖励",step4Desc:"将虚拟积分按合规流程兑换为实际奖励"},cta:{title:"准备好开始您的游戏收益之旅了吗？",desc:"加入AllinONE，体验合规、有趣、有回报的游戏平台",register:"立即注册，免费开始",more:"了解更多"},about:{title:"关于我们",desc:"AllinONE 是集游戏开发、道具交易与社区激励于一体的开放式游戏平台，致力于打造“共建、共享、共治，互通、互惠、互利”的 Play2Earn 游戏经济生态。",ideaTitle:"我们的理念",ideaDesc:"AllinONE 不止是游戏。平台以开源共建、收益共享、社区共治为核心——无论是玩家、开发者、治理者还是商家，都能在这里获得可持续的价值回报。",startTitle:"起点与突破",startDesc:"从 2020 年的萌芽到 2025 年 AI Agent 的飞跃，在 codebuddy、qoder、coze、deepseek 等 AI 工具的助力下，我们完成了从想法到原型的关键跃迁。",thanksTitle:"感谢与邀请",thanksDesc:"感谢 AI 社区与 rollercoin 的启发。诚邀感兴趣的伙伴加入：看看、玩玩、留言、提建议、提交贡献，甚至批评也欢迎，一起把“开放、公开、共赢”的理念落到实处。",visionTitle:"展望",visionDesc:"接下来我们将持续完善安全、账号与游戏功能，推进合规与生态建设，让每个人都能在平台上赚钱、消费、社交与娱乐。"},footer:{slogan:"合规的游戏收益平台，让娱乐更有价值",contact:"联系我们：",platformMgmt:"平台管理",columns:{platformTitle:"平台",supportTitle:"支持",legalTitle:"法律"},links:{about:"关于我们",gameCenter:"游戏中心",earning:"收益模式",faq:"常见问题",help:"帮助中心",contact:"联系我们",feedback:"用户反馈",terms:"服务条款",privacy:"隐私政策",antiAddiction:"防沉迷政策",compliance:"合规声明"},copyrightLine:"© 2025 AllinONE. 保留所有权利。本平台已通过国家相关部门合规审核。"}},en:{brand:"AllinONE",nav:{gameCenter:"Game Center",computingDashboard:"Computing Dashboard",blogCenter:"Blog Center",officialStore:"Official Store",gameStore:"Game E-commerce",marketplace:"Marketplace",fundPool:"Fund Pool",personalCenter:"Personal Center"},auth:{login:"Log In",register:"Sign Up"},hero:{badge:"Newly Launched - Compliant Gaming Revenue Platform",title1:"Play Games,",title2:"Earn with Ease",desc:"AllinONE combines gaming fun with earning opportunities through a compliant virtual economy, enabling every player to gain real returns while having fun.",ctaStart:"Get Started",demo:"Watch Demo",activePlayers:"Active Players",todayIncome:"Today's Income"},features:{title:"AllinONE Core Gameplay",desc:"Classic gamified earning, compliance-oriented, transparent economy, and open management deliver an engaging experience.",rewardsTitle:"Multi-dimensional Community Rewards",rewardsDesc:"Rewards with A-Coin, O-Coin, computing power, and game coins for players, developers, and governors, building a co-create, co-share, and co-govern Play2Earn ecosystem.",economyTitle:"Transparent Economy & Open Management",economyDesc:"Open financial system (Computing Center & Fund Pool) + open community management (Platform Management) ensure transparency and co-governance based on data.",gamesTitle:"Diverse Mini-Game Matrix",gamesDesc:"Multiple fun mini-games to choose from, each with unique gameplay and computing power rewards.",tradingTitle:"Diverse Game Item Trading",tradingDesc:"Beyond gaming, trade items via Official Store (platform), Game E-commerce (game studios), and Marketplace (player-to-player) to enjoy a full-spectrum trading environment.",centerTitle:"One-stop Personal Center",centerDesc:"The personal center is the hub of player data and the main entry to participate. We integrate transactions, gaming, social, analytics, and management into one.",blogTitle:"Player Blog Center",blogDesc:"Share gaming experiences, interact with others, and grow together.",learnMore:"Learn More",viewBlog:"View Blog"},how:{title:"How to Start with AllinONE",desc:"Four simple steps to begin your earning journey",step1Title:"Register & Verify",step1Desc:"Create an account and complete real-name verification for compliance",step2Title:"Choose Your Games",step2Desc:"Pick from a diverse matrix of mini-games",step3Title:"Increase Computing Power",step3Desc:"Boost computing power through performance to earn rewards",step4Title:"Redeem Compliant Rewards",step4Desc:"Redeem virtual points into rewards following compliance procedures"},cta:{title:"Ready to start your gaming revenue journey?",desc:"Join AllinONE to experience a compliant, fun, and rewarding platform",register:"Sign Up for Free",more:"Learn More"},about:{title:"About Us",desc:"AllinONE is an open gaming platform integrating game development, item trading, and community incentives, building a Play2Earn economy of co-creation, sharing, governance, interconnectivity, mutual benefit, and win-win.",ideaTitle:"Our Philosophy",ideaDesc:"AllinONE is more than games. With open co-construction, shared revenue, and community governance, everyone—players, developers, governors, and merchants—can gain sustainable value.",startTitle:"Origin & Breakthrough",startDesc:"From the 2020 inception to the 2025 AI Agent leap, aided by codebuddy, qoder, coze, and deepseek, we transitioned from ideas to a working prototype.",thanksTitle:"Thanks & Invitation",thanksDesc:"Thanks to the AI community and rollercoin for inspiration. We invite you to join: explore, play, comment, suggest, contribute—even critique—to implement openness, transparency, and win-win.",visionTitle:"Vision",visionDesc:"We will keep improving security, accounts, and game features, advancing compliance and ecosystem so everyone can earn, spend, socialize, and entertain on the platform."},footer:{slogan:"A compliant gaming revenue platform making entertainment more valuable",contact:"Contact us: ",platformMgmt:"Platform Management",columns:{platformTitle:"Platform",supportTitle:"Support",legalTitle:"Legal"},links:{about:"About Us",gameCenter:"Game Center",earning:"Earning Models",faq:"FAQ",help:"Help Center",contact:"Contact Us",feedback:"User Feedback",terms:"Terms of Service",privacy:"Privacy Policy",antiAddiction:"Anti-Addiction Policy",compliance:"Compliance Statement"},copyrightLine:"© 2025 AllinONE. All rights reserved. This platform has passed compliance review by relevant authorities."}}},l=c=>{var x;const[u,m,p]=c.split("."),f=o[r][u];return f&&m&&p!==void 0?((x=f[m])==null?void 0:x[p])??c:f&&m?f[m]??c:o[r][c]??c};return j.useEffect(()=>{const c=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",c,{passive:!0}),()=>{window.removeEventListener("scroll",c)}},[]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:_o("fixed top-0 left-0 right-0 z-50 transition-all duration-300",s?"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3":"bg-transparent py-5"),children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(oe,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.gameCenter")}),t.jsx(oe,{to:"/computing-dashboard",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.computingDashboard")}),t.jsx(oe,{to:"/blog-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.blogCenter")}),t.jsx(oe,{to:"/official-store",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.officialStore")}),t.jsx(oe,{to:"/game-store",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.gameStore")}),t.jsx(oe,{to:"/marketplace",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.marketplace")}),t.jsx(oe,{to:"/fund-pool",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.fundPool")}),t.jsx(oe,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.personalCenter")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(oe,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:l("auth.login")}),t.jsx(oe,{to:"/register",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:l("auth.register")}),t.jsxs("div",{className:"ml-2 pl-3 border-l border-slate-200 dark:border-slate-700 text-sm",children:[t.jsx("button",{onClick:()=>n("zh"),className:_o("hover:text-blue-600 dark:hover:text-blue-400",r==="zh"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),children:"中文"}),t.jsx("span",{className:"mx-2 text-slate-400",children:"|"}),t.jsx("button",{onClick:()=>n("en"),className:_o("hover:text-blue-600 dark:hover:text-blue-400",r==="en"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),children:"EN"})]})]})]})}),t.jsxs("main",{className:"pt-24",children:[t.jsx("section",{className:"container mx-auto px-4 md:px-6 py-16 md:py-24",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[t.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[t.jsx("div",{className:"inline-block px-4 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium mb-2",children:l("hero.badge")}),t.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight tracking-tight",children:[l("hero.title1"),t.jsx("br",{}),t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:l("hero.title2")})]}),t.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-lg",children:l("hero.desc")}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[t.jsx(oe,{to:"/register",className:"px-8 py-3.5 text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5 text-center",children:l("hero.ctaStart")}),t.jsxs("button",{className:"px-6 py-3.5 text-base font-semibold text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-800 rounded-xl shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-play-circle"}),l("hero.demo")]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6",children:[t.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(c=>t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:"用户头像",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800"},c))}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"10,000+"})," 玩家已加入"]})]})]}),t.jsxs("div",{className:"lg:w-1/2 relative",children:[t.jsx("div",{className:"relative z-10 rounded-2xl overflow-hidden shadow-2xl transform rotate-1 hover:rotate-0 transition-transform duration-500",children:t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=game%20dashboard%2C%20interface%20showing%20gaming%20stats%2C%20virtual%20currency%2C%20modern%20UI%2C%20blue%20theme&sign=a160cbc38262558651adba1662dee0ce",alt:"AllinONE游戏平台界面",className:"w-full h-auto"})}),t.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-3xl -z-10"}),t.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg z-20",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:t.jsx("i",{className:"fa-solid fa-arrow-up text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l("hero.todayIncome")}),t.jsx("div",{className:"text-lg font-bold",children:"¥32.58"})]})]})}),t.jsx("div",{className:"absolute -top-6 -right-6 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg z-20",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:t.jsx("i",{className:"fa-solid fa-users text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l("hero.activePlayers")}),t.jsx("div",{className:"text-lg font-bold",children:"2,384"})]})]})})]})]})}),t.jsx("section",{id:"features",className:"py-20 bg-slate-50 dark:bg-slate-800/50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-4",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("features.title")}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:l("features.desc")})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-gift text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.rewardsTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.rewardsDesc")}),t.jsxs(oe,{to:"/community-rewards",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-scale-balanced text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.economyTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.economyDesc")}),t.jsxs(oe,{to:"/open-economy",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-gamepad text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.gamesTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.gamesDesc")}),t.jsxs(oe,{to:"/game-center",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-store text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.tradingTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.tradingDesc")}),t.jsxs(oe,{to:"/trading-system",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 flex items-center justify-center text-cyan-600 dark:text-cyan-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-user text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.centerTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.centerDesc")}),t.jsxs(oe,{to:"/computing-power",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-blog text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.blogTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.blogDesc")}),t.jsxs(oe,{to:"/blog-center",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.viewBlog")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]})]})]})}),t.jsxs("section",{id:"how-it-works",className:"py-20 container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-4",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("how.title")}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:l("how.desc")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 right-0 h-1 bg-blue-200 dark:bg-blue-800 -translate-y-1/2 z-0"}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-8 relative z-10",children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"1"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step1Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step1Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"2"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step2Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step2Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"3"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step3Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step3Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"4"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step4Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step4Desc")})]})]})]})]}),t.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:l("cta.title")}),t.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto mb-10",children:l("cta.desc")}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(oe,{to:"/register",className:"px-8 py-4 text-lg font-semibold bg-white text-blue-600 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5",children:l("cta.register")}),t.jsx("a",{href:"#features",className:"px-8 py-4 text-lg font-semibold bg-transparent border-2 border-white rounded-xl hover:bg-white/10 transition-all",children:l("cta.more")})]})]})}),t.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-900/30",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("about.title")}),t.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:l("about.desc")})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.ideaTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.ideaDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.startTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.startDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.thanksTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.thanksDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.visionTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.visionDesc")})]})]})]})})]}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 mb-4",children:l("footer.slogan")}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-weibo"})}),t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-wechat"})}),t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-qq"})})]}),t.jsxs("p",{className:"mt-4 text-slate-400",children:[l("footer.contact"),t.jsx("a",{href:"mailto:allinone_2014@hotmail.com",className:"underline hover:text-white",children:"allinone_2014@hotmail.com"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.platformTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(oe,{to:"/about",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.about")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.gameCenter")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.earning")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.faq")})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.supportTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.help")})}),t.jsx("li",{children:t.jsx("a",{href:"mailto:allinone_2014@hotmail.com",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.contact")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.feedback")})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.legalTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.terms")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.privacy")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.antiAddiction")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.compliance")})})]})]})]}),t.jsxs("div",{className:"pt-8 border-t border-slate-800 text-center text-slate-500 text-sm",children:[t.jsx("p",{children:l("footer.copyrightLine")}),t.jsx("div",{className:"mt-4",children:t.jsxs(oe,{to:"/platform-management",className:"inline-flex items-center text-slate-400 hover:text-white transition-colors text-sm",children:[t.jsx("i",{className:"fa-solid fa-cog mr-2"}),l("footer.platformMgmt")]})})]})]})})]})}function m1(){return t.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#3b82f6",color:"white",padding:"32px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",marginBottom:"16px"},children:"测试页面"}),t.jsx("p",{style:{fontSize:"18px",marginBottom:"32px"},children:"如果你能看到这个页面，说明React正常工作"}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("div",{style:{backgroundColor:"white",color:"black",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:t.jsx("p",{children:"这是一个白色背景的区块"})}),t.jsx("div",{style:{backgroundColor:"#ef4444",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:t.jsx("p",{children:"这是一个红色背景的区块"})}),t.jsx("button",{style:{backgroundColor:"#22c55e",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"测试按钮"})]})]})}const Cb=j.createContext({isAuthenticated:!1,currentUser:null,setIsAuthenticated:()=>{},setCurrentUser:()=>{},logout:()=>{}});function h1({children:s}){const[e,r]=j.useState(!1),[n,o]=j.useState(null);j.useEffect(()=>{const c=localStorage.getItem("currentUser");if(c)try{const u=JSON.parse(c);o(u),r(!0)}catch(u){console.error("Failed to parse saved user data:",u),localStorage.removeItem("currentUser")}},[]);const l=()=>{r(!1),o(null),localStorage.removeItem("currentUser")};return t.jsx(Cb.Provider,{value:{isAuthenticated:e,currentUser:n,setIsAuthenticated:r,setCurrentUser:o,logout:l},children:s})}const Ps=s=>{const e={brand:"AllinONE",nav:{home:s==="zh"?"首页":"Home",gameCenter:s==="zh"?"游戏中心":"Game Center",blogCenter:s==="zh"?"博客中心":"Blog Center",personalCenter:s==="zh"?"个人中心":"Personal Center",backHome:s==="zh"?"返回首页":"Back to Home",quickView:s==="zh"?"快速浏览":"Quick View"},buttons:{learnMore:s==="zh"?"了解更多":"Learn More",createBlog:s==="zh"?"写博客":"Write Blog",registerNow:s==="zh"?"立即注册":"Sign Up",login:s==="zh"?"登录":"Log In",loadingLogin:s==="zh"?"登录中...":"Logging in...",creatingAccount:s==="zh"?"创建账户中...":"Creating account...",buyNow:s==="zh"?"立即购买":"Buy Now",clearFilters:s==="zh"?"清除筛选":"Clear Filters",prevPage:s==="zh"?"上一页":"Previous",nextPage:s==="zh"?"下一页":"Next",cancel:s==="zh"?"取消":"Cancel"}},r={title:s==="zh"?"欢迎回来":"Welcome Back",subtitle:s==="zh"?"登录您的账户，继续游戏收益之旅":"Log in to continue your gaming revenue journey",labels:{username:s==="zh"?"用户名":"Username",password:s==="zh"?"密码":"Password",rememberMe:s==="zh"?"记住我":"Remember me",forgotPassword:s==="zh"?"忘记密码？":"Forgot password?"},placeholders:{username:s==="zh"?"请输入用户名":"Enter username",password:s==="zh"?"请输入密码":"Enter password"},noAccountPrompt:s==="zh"?"还没有账户？":"Don't have an account?",registerLink:s==="zh"?"立即注册":"Sign Up",test:{title:s==="zh"?"测试账号":"Test Accounts",show:s==="zh"?"显示测试账号":"Show test accounts",hide:s==="zh"?"隐藏测试账号":"Hide test accounts",clickTip:s==="zh"?"点击任意账号自动填入登录信息":"Click any account to auto-fill credentials",password:s==="zh"?"密码":"Password",infoTitle:s==="zh"?"测试提示":"Test Tips",infoDesc:s==="zh"?"使用测试账号可以体验不同等级的游戏数据和算力收益":"Use test accounts to experience different levels and rewards",viewList:s==="zh"?"查看完整测试账号列表":"View full test accounts list"}},n={title:s==="zh"?"创建账户":"Create Account",subtitle:s==="zh"?"加入我们的游戏收益平台，开始您的旅程":"Join our gaming revenue platform and start your journey",labels:{username:s==="zh"?"用户名":"Username",email:s==="zh"?"邮箱地址":"Email Address",password:s==="zh"?"密码":"Password",confirmPassword:s==="zh"?"确认密码":"Confirm Password",agreePrefix:s==="zh"?"我同意AllinONE的":"I agree to AllinONE ",terms:s==="zh"?"服务条款":"Terms of Service",and:s==="zh"?"和":"and",privacy:s==="zh"?"隐私政策":"Privacy Policy"},placeholders:{username:s==="zh"?"请创建用户名":"Create a username",email:"your.email@example.com",password:s==="zh"?"请创建密码":"Create a password",confirmPassword:s==="zh"?"请再次输入密码":"Re-enter password"},buttons:{submit:s==="zh"?"创建账户":"Create Account",loading:e.buttons.creatingAccount},haveAccountPrompt:s==="zh"?"已有账户？":"Already have an account?",loginLink:e.buttons.login},o={hero:{tag:s==="zh"?"关于 AllinONE":"About AllinONE",title:s==="zh"?"关于我们":"About Us",desc:s==="zh"?"AllinONE 是集游戏开发、道具交易与社区激励于一体的开放式游戏平台，致力于打造“共建、共享、共治，互通、互惠、互利”的 Play2Earn 游戏经济生态。":"AllinONE is an open gaming platform integrating game development, item trading, and community incentives, building a Play2Earn economy of co-creation, sharing, governance, interconnectivity, and mutual benefit.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{vision:s==="zh"?"愿景与定位":"Vision & Positioning",values:s==="zh"?"核心理念":"Core Values",story:s==="zh"?"我们的故事":"Our Story",thanks:s==="zh"?"感谢与致敬":"Thanks & Tribute",invite:s==="zh"?"加入我们":"Join Us",roadmap:s==="zh"?"下一步计划":"Next Steps"},sections:{visionTitle:s==="zh"?"愿景与定位":"Vision & Positioning",valuesTitle:s==="zh"?"核心理念":"Core Values",storyTitle:s==="zh"?"我们的故事":"Our Story",thanksTitle:s==="zh"?"感谢与致敬":"Thanks & Tribute",inviteTitle:s==="zh"?"加入我们":"Join Us",roadmapTitle:s==="zh"?"下一步计划":"Next Steps",vision:{p1:s==="zh"?"AllinONE 不只是一个游戏平台。我们希望在完全合规的前提下，构建人人可参与的游戏经济生态：玩家可以边玩边赚，开发者可以开源共建并共享收益，社区可以以透明方式参与治理与激励，商家可以以合规的方式开展道具交易与增值服务。":"AllinONE is more than a gaming platform. We aim to build a fully compliant gaming economy open to everyone: players can play-to-earn, developers can co-build in open source and share revenue, the community can participate in transparent governance and incentives, and merchants can operate item trading and value-added services in a compliant way.",p2:s==="zh"?"我们相信，开放、公开、共赢的生态，能让娱乐更有价值，让创造更被看见。":"We believe that an open, transparent, and win-win ecosystem makes entertainment more valuable and creation more visible."},ideology:{buildOpen:s==="zh"?"开源共建":"Open Co-construction",shareRevenue:s==="zh"?"收益共享":"Shared Revenue",coGovern:s==="zh"?"社区共治":"Community Co-governance",openDesc:s==="zh"?"倡导以开源为纽带，降低参与门槛，推动社区驱动的产品迭代。":"Advocate open source as a bridge to lower barriers and drive community-led iteration.",shareDesc:s==="zh"?"在合规框架下，让玩家、开发者、治理者与商家共享生态增长红利。":"Within a compliant framework, enable players, developers, governors, and merchants to share growth dividends.",governDesc:s==="zh"?"以公开透明为原则，推动社区投票、参数治理与规则共识。":"Promote community voting, parameter governance, and rule consensus based on openness and transparency."},story:{h2020:s==="zh"?"2020 · 想法萌芽":"2020 · Idea Emergence",d2020:s==="zh"?"比特币与区块链的兴起带来新的可能性，AllinONE 的雏形在脑海中出现。彼时不懂技术、没有团队与资金，理想被迫搁置。":"The rise of Bitcoin and blockchain brought new possibilities. The prototype of AllinONE emerged, but without tech skills, team, or funding, the dream was shelved.",h2025Agent:s==="zh"?"2025 · AI Agent 爆发":"2025 · AI Agent Boom",d2025Agent:s==="zh"?"抱着试一试的心态做出第一批小游戏。虽然拙朴，却是质的突破：看到作品能够运行，带来了继续前进的信心。":"We built the first batch of mini-games with a trial mindset. Though simple, it was a qualitative leap—seeing them run gave confidence to move forward.",h202508:s==="zh"?"2025/08 · 工具加速落地":"2025/08 · Tools Accelerate Delivery",d202508:s==="zh"?"codebuddy 与 qoder 出现后，想法迅速转化为可用原型。阶段性产物在不到一个月内成型，平台框架与核心功能初具规模。":"With tools like codebuddy and qoder, ideas quickly turned into usable prototypes. Within a month, the platform framework and core features took shape."},thanks:{desc:s==="zh"?"感谢 codebuddy、qoder、coze、deepseek 等 AI 工作者与公司提供的强大能力，也感谢 rollercoin 带来的启发。没有这些工具与灵感，就没有今天的 AllinONE。":"Thanks to AI practitioners and companies such as codebuddy, qoder, coze, and deepseek for powerful capabilities, and to rollercoin for inspiration. Without these tools and ideas, AllinONE wouldn’t exist."},invite:{desc:s==="zh"?"我们真诚邀请对 AllinONE 感兴趣、志同道合的伙伴加入：看看、玩玩、留言、提建议、提交贡献，甚至批评也欢迎。":"We sincerely invite like-minded partners interested in AllinONE to join: explore, play, comment, suggest, contribute—even critique is welcome.",list:{players:s==="zh"?"玩家：体验游戏与收益模式，提出改进意见":"Players: experience games and earning models, suggest improvements",developers:s==="zh"?"开发者：参与开源仓库与应用开发，共享收益":"Developers: contribute to open-source repos and apps, share revenue",governors:s==="zh"?"治理者：参与投票与参数治理，完善生态规则":"Governors: take part in voting and parameter governance, refine rules",merchants:s==="zh"?"商家：合规开展道具与增值服务，探索新模式":"Merchants: operate items and value-added services compliantly, explore new models"},registerNow:e.buttons.registerNow,toCommunity:s==="zh"?"去社区交流":"Go to Community"},roadmap:{security:s==="zh"?"平台安全":"Platform Security",account:s==="zh"?"账户与身份":"Accounts & Identity",games:s==="zh"?"游戏与生态":"Games & Ecosystem",securityDesc:s==="zh"?"持续加强风控与合规模块，保障资产与数据安全。":"Enhance risk control and compliance to ensure asset and data security.",accountDesc:s==="zh"?"完善账户设置、认证流程与隐私保护。":"Improve account settings, verification, and privacy protection.",gamesDesc:s==="zh"?"丰富小游戏矩阵，优化收益模式与社区激励机制。":"Enrich mini-games, optimize earning models and community incentives."}},footer:{copyright:"© 2025 AllinONE"}},l={header:{home:e.nav.home,gameCenter:e.nav.gameCenter,blogCenter:e.nav.blogCenter,personalCenter:e.nav.personalCenter,createBlog:e.buttons.createBlog},sidebar:{title:s==="zh"?"博客中心":"Blog Center",desc:s==="zh"?"欢迎来到AllinONE博客中心，这里有玩家分享的游戏经验、攻略和平台使用心得。":"Welcome to the AllinONE Blog Center with shared experiences, tips, and platform insights.",searchPlaceholder:s==="zh"?"搜索博客...":"Search blogs...",categories:s==="zh"?"分类":"Categories",allCategories:s==="zh"?"全部分类":"All Categories",popularTags:s==="zh"?"热门标签":"Popular Tags",stats:s==="zh"?"统计":"Stats",totalPosts:s==="zh"?"文章总数":"Total Posts",totalViews:s==="zh"?"总浏览量":"Total Views",totalLikes:s==="zh"?"总点赞数":"Total Likes",totalComments:s==="zh"?"总评论数":"Total Comments"},filterBar:{category:s==="zh"?"分类":"Category",tag:s==="zh"?"标签":"Tag",search:s==="zh"?"搜索":"Search",clear:e.buttons.clearFilters},empty:{title:s==="zh"?"暂无博客":"No Blogs Yet",notFound:s==="zh"?"没有找到符合条件的博客文章":"No blog posts matched your filters",encourage:s==="zh"?"博客中心还没有内容，成为第一个发布博客的用户吧！":"Be the first to publish a blog!",writeBlog:e.buttons.createBlog},pagination:{prev:e.buttons.prevPage,next:e.buttons.nextPage}},c={header:{title:s==="zh"?"官方商店":"Official Store",subtitle:s==="zh"?"平台官方商品，安全可靠有保障":"Official platform goods, safe and reliable",personalCenter:e.nav.personalCenter,backHome:e.nav.backHome},featured:{title:s==="zh"?"精选推荐":"Featured",badge:s==="zh"?"推荐":"Featured",buyNow:e.buttons.buyNow},categories:{all:s==="zh"?"全部商品":"All Items"},search:{placeholder:s==="zh"?"搜索商品...":"Search items..."},rewards:{title:s==="zh"?"获得奖励:":"Rewards:"},purchase:{buyWith:k=>s==="zh"?`${k}购买`:`Buy with ${k}`,stock:s==="zh"?"库存":"Stock",dailyLimit:s==="zh"?"每日限购":"Daily Limit",userLimit:s==="zh"?"用户限购":"User Limit",deadline:s==="zh"?"截止":"Ends",empty:s==="zh"?"没有找到符合条件的商品":"No matching items found"}},u={hero:{tag:"AllinONE · Community Rewards",title:s==="zh"?"多维化社区奖励系统":"Multi-dimensional Community Rewards System",desc:s==="zh"?"社区奖励是 AllinONE 实现 Play2Earn 的重要方式，目标是让每一位参与者获得经济回报并共同构建多样化的经济生态。":"Community rewards are a key way AllinONE realizes Play2Earn, aiming for every participant to gain economic returns and co-build a diversified economic ecosystem.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{overview:s==="zh"?"整体概览":"Overview",acoin:s==="zh"?"A币":"A Coin",ocoin:s==="zh"?"O币":"O Coin",example:s==="zh"?"示例计算":"Examples",others:s==="zh"?"其他奖励":"Other Rewards"},overview:{title:s==="zh"?"社区奖励系统概览":"Overview of Community Rewards",p:s==="zh"?"社区奖励包含：每日结算发放的 A币；对平台贡献者提供的平台管理奖励（现金分红与具期权属性的 O币）；面向普通玩家的算力、游戏币等奖励。 目前由平台统一制定规则并执行发放，未来将通过社区治理与技术升级，进一步扩大奖励的范围、体量与多样性。":"Community rewards include: daily-settled A Coin; platform management rewards for contributors (cash dividends and option-like O Coin); and rewards such as computing power and in-game currency for regular players. Rules are currently set and executed uniformly by the platform; in the future, community governance and tech upgrades will expand the scope, scale, and diversity of rewards.",cards:{acoinTitle:s==="zh"?"A币 · 平台通用币":"A Coin · Platform Utility Coin",acoinDesc:s==="zh"?"按日结算、用于替代现金奖励发放，锚定平台收入转化。":"Settled daily, used in place of cash rewards, anchored to platform revenue conversion.",ocoinTitle:s==="zh"?"O币 · 期权与价值":"O Coin · Options & Value",ocoinDesc:s==="zh"?"面向开发者/管理者/投资者，具价值波动与分红权属性。":"For developers/managers/investors, with value fluctuation and dividend rights.",powerTitle:s==="zh"?"算力与游戏币":"Computing Power & Game Coins",powerDesc:s==="zh"?"零门槛参与，通过游戏表现与活跃度获取日常奖励。":"Zero barrier participation; earn daily rewards via gameplay and activity."}},acoin:{title:s==="zh"?"A币（平台通用币）":"A Coin (Platform Utility)",bullets:[s==="zh"?"总量固定：10 亿；1 A币 = 1 RMB；最小单位 0.01。":"Fixed supply: 1 billion; 1 A Coin = 1 RMB; minimum unit 0.01.",s==="zh"?"主要用途：用于替代现金进行结算与发放。":"Primary use: replace cash for settlement and distribution.",s==="zh"?"价值来源：平台收入按比例（当前为 40%）转化为 A币并按玩家贡献度每日分发。":"Value source: a portion of platform revenue (currently 40%) is converted to A Coin and distributed daily based on player contribution.",s==="zh"?"额度逻辑：额度本身不具备价值，收入转化为 A币发放后才产生价值。":"Quota logic: quota itself has no value; value arises when revenue is converted to A Coin and issued."]},ocoin:{title:s==="zh"?"O币（期权型代币）":"O Coin (Option-like Token)",p:s==="zh"?"平台收入的其余部分（当前为 60%）扣除成本后形成工资与分红资金池，由平台管理者与玩家社区代表共同治理。除获得 A币收益外，贡献者还可获得分红权与 O币（合称“绩效包”）。":"The remaining platform income (currently 60%), after costs, forms payroll and dividend pools governed jointly by platform managers and community representatives. In addition to A Coin, contributors receive dividend rights and O Coin (collectively the “performance package”).",bullets:[s==="zh"?"定位：代表平台价值/市值的期权型代币，具备价值波动与分红权。":"Positioning: option-like token representing platform value/market cap, with value fluctuation and dividend rights.",s==="zh"?"对象：奖励平台的开发者、管理者与投资者，推动“共建共享共治”。":"Recipients: developers, managers, and investors; driving co-construction, sharing, and co-governance.",s==="zh"?"总量：固定 10 亿；未分发时为限制性状态且价值为 0，分发后可按合规在场内外交易。":"Supply: fixed at 1 billion; restricted and zero value before distribution; tradable in/out of market per compliance after distribution.",s==="zh"?"分红权：面向历史/当期绩效；O币更侧重未来绩效，二者共同构成绩效回报。":"Dividend rights: for past/current performance; O Coin focuses on future performance—together forming performance returns."]},example:{title:s==="zh"?"示例计算":"Example Calculation",aDailyTitle:s==="zh"?"A币日结示例":"A Coin Daily Settlement Example",assumptions:s==="zh"?"假设条件：":"Assumptions:",calc:s==="zh"?"计算过程：":"Calculation:",result:s==="zh"?"最终结果：用户A当日获得 30 A币 奖励（价值约 30 元）":"Result: User A receives 30 A Coin for the day (worth ~30 RMB)",performanceTitle:s==="zh"?"绩效包示例（O币/分红）":"Performance Package Example (O Coin/Dividends)",performanceP:s==="zh"?"例如：某玩家创建一款小游戏，新增 1000 名玩家、带来 10000 元收入。 平台委员会奖励其 1% 平台净收入 + 1000 个 O币，玩家社区代表额外按“每增加 1 元收入分配 5%”激励。":"Example: A player creates a mini-game, adds 1,000 players and 10,000 RMB revenue. The committee awards 1% of net platform income + 1,000 O Coin; community representatives additionally allocate 5% for each 1 RMB increase.",formula:s==="zh"?"绩效包 = 1% ×（平台收入 - 运营成本） + 5% ×（游戏收入T - 游戏收入T-1） + 1000 个 O币":"Performance package = 1% × (Platform income − Operating costs) + 5% × (Game revenue T − Game revenue T−1) + 1,000 O Coin",exampleNote:s==="zh"?"若当期平台净收入 = 100,000 元，则：":"If current net platform income = 100,000 RMB:",cashLine:s==="zh"?"现金 = 100,000 × 1% + 10,000 × 5% = 1,000 + 500 = 1,500 元":"Cash = 100,000 × 1% + 10,000 × 5% = 1,000 + 500 = 1,500 RMB",bonusLine:s==="zh"?"并获得 1000 个 O币；年终分红 = 1000 / O币总量 × 总分红金额":"Plus 1,000 O Coin; year-end dividend = 1000 / total O Coin × total dividend amount",assumptionsBullets:[s==="zh"?"平台当日净收入：1000 元":"Platform net income of the day: 1000 RMB",s==="zh"?"A币发放比例：40% → 400 A币":"A Coin distribution ratio: 40% → 400 A Coin",s==="zh"?"用户A当日贡献：100 游戏币、10 签到分、50 元交易":"User A daily contribution: 100 game coins, 10 check-in points, 50 RMB trading",s==="zh"?"全网当日贡献：2000 游戏币、200 签到分、1000 元交易":"Network daily contribution: 2000 game coins, 200 check-in points, 1000 RMB trading"],calcSteps:[s==="zh"?"贡献权重 = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2 = 0.05 + 0.015 + 0.01 = 0.075":"Contribution weight = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2 = 0.05 + 0.015 + 0.01 = 0.075",s==="zh"?"假设全网贡献归一化权重 = 1.0":"Assume normalized network contribution weight = 1.0",s==="zh"?"用户A获得 A币 = 0.075 × 400 = 30 A币":"User A gets A Coin = 0.075 × 400 = 30 A Coin"]},others:{title:s==="zh"?"其他奖励":"Other Rewards",p:s==="zh"?"新手与普通参与者可零投入通过玩游戏获得游戏币或算力奖励，可用于每日 A币 结算与购买游戏道具。只要参与，就有奖励。":"Newcomers and regular participants can earn game coins or computing power by playing without investment, usable for daily A Coin settlement and purchasing game items. Participate to earn."},steps:{title:s==="zh"?"如何获得奖励 · 步骤图":"How to Earn Rewards · Steps",s1Title:s==="zh"?"注册与认证":"Register & Verify",s1Desc:s==="zh"?"完成账号注册与实名认证":"Complete account registration and real-name verification",s1Badge:s==="zh"?"解锁新手奖励":"Unlock newbie rewards",s2Title:s==="zh"?"试玩与新手任务":"Play & Onboarding Tasks",s2Desc:s==="zh"?"完成引导、体验小游戏":"Finish onboarding and try mini-games",s2Badge:s==="zh"?"获得 算力/游戏币":"Gain computing power/game coins",s3Title:s==="zh"?"日常活跃":"Daily Activity",s3Desc:s==="zh"?"签到、对局、交易等行为累计贡献":"Check-ins, matches, trades contribute cumulatively",s3Badge:s==="zh"?"提高 A币日结占比":"Increase A Coin daily share",s4Title:s==="zh"?"贡献开发/治理":"Contribute Dev/Governance",s4Desc:s==="zh"?"提交代码、内容或参与治理投票":"Submit code/content or join governance voting",s4Badge:s==="zh"?"获得 O币/分红权":"Gain O Coin/Dividend rights",s5Title:s==="zh"?"每日结算":"Daily Settlement",s5Desc:s==="zh"?"按贡献权重自动结算":"Auto-settlement by contribution weight",s5Badge:s==="zh"?"领取 A币（如示例：30 A币）":"Receive A Coin (e.g., 30 A Coin)",s6Title:s==="zh"?"使用奖励":"Use Rewards",s6Desc:s==="zh"?"用 A币结算、购买道具；O币参与分红或流通":"Use A Coin for settlement, buy items; O Coin for dividends or circulation",s6Badge:s==="zh"?"娱乐更有价值":"Entertainment with more value",hint:s==="zh"?"提示：A币日结与占比受平台收入与全网贡献影响；O币/分红权面向平台贡献者，遵循合规规则与治理流程。":"Hint: A Coin daily settlement and share depend on platform income and network contribution; O Coin/dividend rights target platform contributors and follow compliant rules and governance."},footer:{copyright:"© 2025 AllinONE"}},m={hero:{tag:"AllinONE · Open Economy & Governance",title:s==="zh"?"经济公开系统和开放式管理系统":"Open Economy System & Open Governance",desc:s==="zh"?"通过公开的财务系统与社区治理机制，确保平台经济透明、分配可追溯，并以数据驱动关键参数设定与持续优化。":"With transparent financial systems and community governance, the platform ensures economic transparency, traceable allocation, and data‑driven parameter setting and continuous optimization.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{overview:s==="zh"?"概览":"Overview",compute:s==="zh"?"算力中心":"Computing Center",fund:s==="zh"?"资金池":"Fund Pool",governance:s==="zh"?"平台管理系统":"Platform Governance",params:s==="zh"?"关键参数":"Key Parameters",example:s==="zh"?"示例":"Example"},overview:{title:s==="zh"?"概览":"Overview",p:s==="zh"?"经济公开由两部分组成：算力中心与资金池。算力中心是平台的“大脑”，汇聚游戏活动、经济状态、数据分析与场内外市场数据；资金池记录平台所有收入与支出，保障经济公开透明。在此基础上，平台管理系统以数据为依据，通过投票对关键参数进行设定与调整，实现开放式治理。":"Open economy consists of two parts: the Computing Center and the Fund Pool. The Computing Center is the “brain” of the platform, aggregating gameplay, economic status, analytics, and market data. The Fund Pool records all income and expenditures to ensure transparency. Based on this, the Platform Governance system sets and adjusts key parameters via voting using data as evidence."},compute:{title:s==="zh"?"公开的财务系统：算力中心":"Transparent Financial System: Computing Center",p:s==="zh"?"算力中心是算力经济生态中心，展示多维度统计分析数据，更重要的是揭示数据如何驱动整个平台的经济循环。它汇集游戏活动、经济状态、数据分析及场内外市场数据，是经济公开、共建共享的重要手段。":"The Computing Center is the hub of the computing economy, showing multi‑dimensional analytics and, more importantly, revealing how data drives the platform’s economic cycle. It aggregates gameplay, economic status, analytics, and market data—an important means of openness and co‑building."},fund:{title:s==="zh"?"公开的财务系统：资金池":"Transparent Financial System: Fund Pool",p:s==="zh"?"平台资金池是完全透明的财务管理系统，记录平台所有收入与支出，确保经济公开透明并增强用户信任，同时保护用户隐私。资金池作为经济数据的“核心底账”，与算力中心形成“记录与展示”的互补关系。":"The platform Fund Pool is a fully transparent financial system that records all income and expenditures, ensuring transparency and trust while protecting privacy. As the “core ledger” of economic data, it complements the Computing Center in “recording vs. displaying”."},governance:{title:s==="zh"?"开放的社区管理：平台管理系统":"Open Community Management: Platform Governance",p1:s==="zh"?"当下 A币与 O币系统部分关键参数仍为人为拟定。我们以数据为基础建立数学模型辅助决策。平台管理系统拥有关键参数设定权限，采用少数权限成员投票修改的方式推进治理与优化。":"Currently, some key parameters of A Coin and O Coin are still manually set. We build mathematical models on data to assist decisions. The governance system has authority to set parameters and advances optimization via voting by authorized members.",p2:s==="zh"?"当前系统支持投票与参数修改，并展示关键数据：A币余额、O币余额与价格、全网算力、收入支出、游戏数据、玩家人数等。投票席位 11 人：5 名平台管理者 + 5 名玩家社区代表 + 1 名创始人。一般情况下投票权平等，创始人保留一票否决权。决议需半数以上通过并由创始人执行参数修改。":"The system supports voting and parameter changes, and displays key data: A Coin balance, O Coin balance and price, network computing power, income/expenditure, game data, player counts, etc. There are 11 seats: 5 platform managers + 5 community representatives + 1 founder. Votes are equal in general; the founder holds veto power. Decisions require a majority and are executed by the founder."},params:{title:s==="zh"?"关键参数（示例）":"Key Parameters (Examples)",leftTitle:s==="zh"?"分配与权重":"Allocation & Weights",leftBullets:[s==="zh"?"A币各部分分配权重":"Allocation weights for A Coin",s==="zh"?"O币各部分分配权重":"Allocation weights for O Coin",s==="zh"?"收入分配比例、分红权重、兑换比例":"Income distribution ratio, dividend weights, exchange ratio"],rightTitle:s==="zh"?"展示数据":"Displayed Data",rightBullets:[s==="zh"?"A币余额、O币余额与价格":"A Coin balance, O Coin balance & price",s==="zh"?"全网算力、收入支出":"Network computing power, income & expenditure",s==="zh"?"游戏数据、玩家人数等":"Game data, player counts, etc."]},example:{title:s==="zh"?"投票示例：O币分配与分红权重":"Voting Example: O Coin Allocation & Dividend Weights",p:s==="zh"?"通过平台管理系统，成员就 O币的分配权重与分红权重进行投票。O币面向“未来绩效”，分红权面向“历史/当期绩效”，二者共同构成绩效回报。议案需半数以上通过，由创始人执行参数变更。管理者可在系统内直接完成操作并全程留痕。":"Via the governance system, members vote on O Coin allocation and dividend weights. O Coin targets “future performance”, while dividends target “past/current performance”, together forming performance returns. Proposals require majority approval and are executed by the founder, with full audit trail."},footer:{copyright:"© 2025 AllinONE"}},p={hero:{tag:"AllinONE · Trading System",title:s==="zh"?"多样的游戏商品交易系统":"Diverse Game Item Trading System",desc:s==="zh"?"除了玩游戏以外，玩家还可以在平台上交易游戏道具。交易系统由官方商店、游戏电商和交易市场三部分构成，类似“京东超市 + 淘宝网店 + 闲鱼”的组合，覆盖官方直营、品牌自营与玩家自由交易的全场景。":"Beyond playing games, players can trade in‑game items on the platform. The trading system consists of Official Store, Game E‑commerce, and Marketplace—similar to a mix of JD Supermarket + Taobao Stores + Xianyu—covering official operation, brand‑run shops, and free player trading.",backHome:e.nav.backHome,quickView:e.nav.quickView},overview:{title:s==="zh"?"系统概览":"System Overview",p:s==="zh"?"我们将商品交易拆分为三大场域：平台直营的官方商店、由游戏方运营的游戏电商、以及以玩家为主体的自由交易市场，为玩家提供安全、便捷且自由的交易体验。":"We split item trading into three arenas: the platform‑run Official Store, game‑operated E‑commerce, and a player‑centric free Marketplace, providing a safe, convenient, and flexible trading experience."},cards:{officialStore:{title:s==="zh"?"官方商店":"Official Store",desc:s==="zh"?"由平台直接运营，严选道具与合规发售，适合需要官方保障与统一售后的玩家。":"Operated directly by the platform with curated items and compliant release—ideal for players who need official assurance and unified after‑sales.",link:s==="zh"?"进入官方商店":"Go to Official Store"},gameStore:{title:s==="zh"?"游戏电商":"Game E‑commerce",desc:s==="zh"?"由具体游戏方自营或授权运营，提供与游戏深度绑定的商品与服务，玩法联动更丰富。":"Run by specific game studios (self‑operated or authorized), offering deeply integrated goods and services with richer gameplay linkage.",link:s==="zh"?"进入游戏电商":"Go to Game E‑commerce"},marketplace:{title:s==="zh"?"交易市场":"Marketplace",desc:s==="zh"?"以玩家为主的自由买卖市场，支持道具发布与竞价撮合，兼顾开放流通与合规风控。":"A player‑driven free trading market supporting item listing and bid matching, balancing open circulation with compliant risk control.",link:s==="zh"?"进入交易市场":"Go to Marketplace"}},note:{p:s==="zh"?"这一组合模式就像把“淘宝网店、京东超市和闲鱼市场”融合到同一平台：既有官方保真，也有品牌自营，还支持玩家自由流通，目标是为你提供全方位、自由的交易环境。":"This combined model is like integrating “Taobao Stores, JD Supermarket, and Xianyu” into one platform: with official authenticity, brand self‑run shops, and free player circulation—to offer a comprehensive and flexible trading environment."},footer:{copyright:"© 2025 AllinONE"}},f={center:{header:{title:s==="zh"?"游戏电商中心":"Game Store Center",subtitle:s==="zh"?"发现优质游戏道具，连接游戏厂商与玩家":"Discover quality game items and connect studios with players",walletLabel:s==="zh"?"我的钱包":"My Wallet"},loading:s==="zh"?"加载游戏电商中心数据中...":"Loading game store center data...",featuredTitle:s==="zh"?"🔥 热门商品":"🔥 Featured Items",filters:{category:{all:s==="zh"?"全部分类":"All Categories",weapon:s==="zh"?"武器":"Weapon",armor:s==="zh"?"装备":"Armor",consumable:s==="zh"?"消耗品":"Consumable",skin:s==="zh"?"皮肤":"Skin"},games:{all:s==="zh"?"全部游戏":"All Games"},sort:{price:s==="zh"?"价格排序":"Sort by Price",asc:s==="zh"?"价格从低到高":"Low to High",desc:s==="zh"?"价格从高到低":"High to Low",comprehensive:s==="zh"?"综合排序":"Comprehensive",sales:s==="zh"?"销量排序":"Sort by Sales",rating:s==="zh"?"评分排序":"Sort by Rating",attention:s==="zh"?"关注度排序":"Sort by Attention"}},buttons:{buyNow:e.buttons.buyNow},storesTitle:s==="zh"?"🏪 游戏商店":"🏪 Game Stores",labels:{products:s==="zh"?"商品":"Products",sales:s==="zh"?"销量":"Sales",rating:s==="zh"?"评分":"Rating"}},detail:{loading:s==="zh"?"加载商店数据中...":"Loading store data...",storeNotFound:{title:s==="zh"?"商店不存在":"Store Not Found",desc:s==="zh"?"抱歉，您访问的商店不存在或已下线。":"Sorry, the store you visited does not exist or has been taken offline.",back:s==="zh"?"返回游戏电商中心":"Back to Game Store Center"},header:{officialStoreSuffix:s==="zh"?"官方商店":"Official Store"},walletLabel:s==="zh"?"我的钱包":"My Wallet",labels:{reviews:s==="zh"?"评价":"reviews",followers:s==="zh"?"关注者":"followers",productCount:s==="zh"?"商品数量":"Product Count",totalSales:s==="zh"?"总销量":"Total Sales",foundedYear:s==="zh"?"成立年份":"Founded"},products:{title:s==="zh"?"商品列表":"Products",all:s==="zh"?"全部":"All",totalPrefix:s==="zh"?"共":"Total",totalSuffix:s==="zh"?"件商品":"items",stock:s==="zh"?"库存":"Stock"},empty:{title:s==="zh"?"暂无商品":"No Products",desc:s==="zh"?"该分类下暂时没有商品":"No products in this category yet"},buttons:{buyNow:e.buttons.buyNow}}},x={header:{title:s==="zh"?"游戏中心":"Game Center",networkPower:s==="zh"?"全网算力:":"Network Power:",networkGameCoins:s==="zh"?"全网游戏币:":"Network Game Coins:"},stats:{todaySessions:s==="zh"?"今日游戏次数":"Sessions Today",todayComputing:s==="zh"?"今日获得算力":"Computing Power Today",avgRating:s==="zh"?"平均游戏评分":"Average Rating",streakDays:s==="zh"?"连续游戏天数":"Consecutive Days"},filter:{label:s==="zh"?"难度筛选:":"Filter by Difficulty:",all:s==="zh"?"全部":"All",easy:s==="zh"?"简单":"Easy",medium:s==="zh"?"中等":"Medium",hard:s==="zh"?"困难":"Hard"},difficulty:{easy:s==="zh"?"简单":"Easy",medium:s==="zh"?"中等":"Medium",hard:s==="zh"?"困难":"Hard"},status:{available:s==="zh"?"可游玩":"Available",comingSoon:s==="zh"?"即将上线":"Coming Soon",maintenance:s==="zh"?"维护中":"Maintenance"},games:{match3:{name:s==="zh"?"消消乐":"Match 3",desc:s==="zh"?"经典三消游戏，消除相同颜色的方块获得算力奖励":"Classic match‑3; clear same‑color blocks to earn computing power"},puzzle:{name:s==="zh"?"数字拼图":"Number Puzzle",desc:s==="zh"?"挑战你的逻辑思维，完成拼图获得丰厚奖励":"Challenge logic; complete puzzles for rewards"},memory:{name:s==="zh"?"记忆翻牌":"Memory Flip",desc:s==="zh"?"考验记忆力的翻牌游戏，记忆越好奖励越多":"Test memory; better recall yields more rewards"},snake:{name:s==="zh"?"贪吃蛇":"Snake",desc:s==="zh"?"经典贪吃蛇游戏，长度越长算力越高":"Classic snake; longer length yields higher computing power"}},buttons:{start:s==="zh"?"开始游戏":"Start Game",comingSoon:s==="zh"?"敬请期待":"Coming Soon",maintenance:s==="zh"?"维护中":"Maintenance",info:s==="zh"?"详情":"Info"}},v={title:s==="zh"?"个人中心":"Personal Center",refresh:s==="zh"?"刷新数据":"Refresh",nav:{home:e.nav.home,fundPool:s==="zh"?"资金池":"Fund Pool",blogCenter:e.nav.blogCenter,marketplace:s==="zh"?"交易市场":"Marketplace",officialStore:s==="zh"?"官方商店":"Official Store",gameStore:s==="zh"?"游戏商城":"Game Store",computingCenter:s==="zh"?"算力中心":"Computing Center",gameCenter:s==="zh"?"游戏中心":"Game Center",settings:s==="zh"?"设置":"Settings",settingsTheme:s==="zh"?"主题设置":"Theme",settingsNotice:s==="zh"?"通知设置":"Notifications",settingsBind:s==="zh"?"账户绑定":"Account Binding",settingsSecurity:s==="zh"?"安全设置":"Security"},left:{profile:s==="zh"?"玩家档案":"Player Profile",level:s==="zh"?"等级":"Level",exp:s==="zh"?"经验值":"EXP",stats:{totalGames:s==="zh"?"游戏场次":"Games Played",bestScore:s==="zh"?"最高分数":"Best Score",avgScore:s==="zh"?"平均分数":"Average Score",achievements:s==="zh"?"成就数量":"Achievements",playTime:s==="zh"?"游戏时长":"Play Time",minutes:s==="zh"?"分钟":"min"},walletOverview:s==="zh"?"钱包概览":"Wallet Overview",wallet:{cash:s==="zh"?"现金余额":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing",aCoins:s==="zh"?"A币":"A Coin",details:s==="zh"?"详情 →":"Details →",loading:s==="zh"?"加载中...":"Loading..."},recent:{title:s==="zh"?"最近活动":"Recent Activity",empty:s==="zh"?"暂无活动记录":"No activity yet"}},centerTabs:{inventory:s==="zh"?"道具仓库":"Inventory",transactions:s==="zh"?"交易记录":"Transactions",wallet:s==="zh"?"钱包管理":"Wallet",team:s==="zh"?"团队中心":"Team Center",analysis:s==="zh"?"收支分析":"Income & Expense",blog:s==="zh"?"博客管理":"Blog Manager"},transactionTabs:{purchases:s==="zh"?"购买记录":"Purchases",sales:s==="zh"?"销售记录":"Sales",listings:s==="zh"?"在售商品":"Listings"},inventory:{myItems:s==="zh"?"我的道具":"My Items",emptyTitle:s==="zh"?"暂无道具":"No items yet",emptySub:s==="zh"?"去商店购买一些道具吧！":"Go to store to buy some items!",qty:s==="zh"?"数量":"Qty"},transactions:{title:s==="zh"?"交易记录":"Transactions",purchaseWord:s==="zh"?"购买":"Purchase",sellWord:s==="zh"?"出售":"Sale",income:s==="zh"?"收入":"Income",expense:s==="zh"?"支出":"Expense",nonePurchase:s==="zh"?"暂无购买记录":"No purchases",noneSales:s==="zh"?"暂无销售记录":"No sales",noneListings:s==="zh"?"暂无在售商品":"No listings",toMarket:s==="zh"?"去交易市场发布一些商品吧！":"Go list items in marketplace!",price:s==="zh"?"售价":"Price",views:s==="zh"?"浏览":"Views",delist:s==="zh"?"下架商品":"Delist",editPrice:s==="zh"?"修改价格":"Edit Price"},walletSection:{cards:{cash:s==="zh"?"现金余额":"Cash Balance",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin",oCoins:s==="zh"?"O币":"O Coin",locked:s==="zh"?"锁定":"Locked"},actions:{recharge:{title:s==="zh"?"充值":"Recharge",subtitle:s==="zh"?"增加现金余额":"Increase cash balance"},exchange:{title:s==="zh"?"兑换":"Exchange",subtitle:s==="zh"?"货币互相兑换":"Convert between currencies"},tradeOCoin:{title:s==="zh"?"交易O币":"Trade O Coin",subtitle:s==="zh"?"买入 • 出售 • 即时交易":"Buy • Sell • Instant trade"}}},walletDetails:{title:s==="zh"?"收支明细":"Income & Expense Details",viewHint:s==="zh"?"点击查看明细":"Click to view details",headers:{cash:s==="zh"?"现金交易记录":"Cash Transactions",gameCoin:s==="zh"?"游戏币交易记录":"Game Coin Transactions",computingPower:s==="zh"?"算力交易记录":"Computing Power Transactions",aCoins:s==="zh"?"A币交易记录":"A Coin Transactions",oCoins:s==="zh"?"O币交易记录":"O Coin Transactions"},tags:{income:s==="zh"?"收入":"Income",expense:s==="zh"?"支出":"Expense"},empty:{cash:s==="zh"?"暂无现金交易记录":"No cash transactions",gameCoin:s==="zh"?"暂无游戏币交易记录":"No game coin transactions",computingPower:s==="zh"?"暂无算力交易记录":"No computing power transactions",aCoins:s==="zh"?"暂无A币交易记录":"No A Coin transactions",oCoins:s==="zh"?"暂无O币交易记录":"No O Coin transactions"},footer:{showRecentPrefix:s==="zh"?"显示最近 ":"Showing last ",showRecentSuffix:s==="zh"?" 条记录":" records",more:s==="zh"?"查看更多 →":"View more →",collapse:s==="zh"?"收起 ↑":"Collapse ↑"}},analysisSection:{title:s==="zh"?"收支分析":"Income & Expense",currentAssets:s==="zh"?"当前资产":"Current Assets",totalIncomeRMB:s==="zh"?"总收入（折算人民币）":"Total Income (in RMB)",totalExpenseRMB:s==="zh"?"总支出（折算人民币）":"Total Expense (in RMB)",commissionDetail:s==="zh"?"佣金明细":"Commission Details",myCommissionExpense:s==="zh"?"我的佣金支出":"My Commission Expense",refresh:s==="zh"?"刷新":"Refresh",monitor:{title:s==="zh"?"收支分析":"Income & Expense",loadingWallet:s==="zh"?"加载钱包数据中...":"Loading wallet data...",currencies:{cash:s==="zh"?"现金":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin",oCoins:s==="zh"?"O币":"O Coin"},calculating:s==="zh"?"计算中...":"Calculating..."},commission:{title:s==="zh"?"佣金明细":"Commission Details",refresh:s==="zh"?"刷新":"Refresh",myExpenseTitle:s==="zh"?"我的佣金支出":"My Commission Expense",labels:{cash:s==="zh"?"现金佣金":"Cash Commission",gameCoins:s==="zh"?"游戏币佣金":"Game Coin Commission",computingPower:s==="zh"?"算力佣金":"Computing Power Commission"},recordsTitle:s==="zh"?"我的佣金记录":"My Commission Records",loading:s==="zh"?"加载佣金数据中...":"Loading commission data...",id:"ID",order:s==="zh"?"订单":"Order",time:s==="zh"?"时间":"Time",expenseTag:s==="zh"?"佣金支出":"Commission Expense",empty:{title:s==="zh"?"暂无佣金记录":"No commission records",hint:s==="zh"?"进行交易后会显示佣金明细":"Commission details will appear after trades"},infoTitle:s==="zh"?"佣金说明":"Commission Notes",notes:{gameStore:s==="zh"?"• 游戏电商: 购买时支付 30% 佣金":"• Game E‑commerce: 30% commission on purchases",marketplace:s==="zh"?"• 玩家市场: 交易时支付 5% 佣金":"• Marketplace: 5% commission on trades",officialStore:s==="zh"?"• 官方商店: 购买时支付 15% 佣金":"• Official Store: 15% commission on purchases",personalHint:s==="zh"?"• 此处显示您个人支付的佣金明细":"• Shows the commission you personally paid"}},acoinAnalysis:{title:s==="zh"?"A币贡献度分析":"A Coin Contribution Analysis",basis:s==="zh"?"A币计算依据":"Basis of A Coin Calculation",thisMonth:s==="zh"?"本月贡献度":"Contribution This Month",gameCoinsEarned:s==="zh"?"游戏币获得":"Game Coins Earned",computingPower:s==="zh"?"算力贡献":"Computing Power",transactionActivity:s==="zh"?"交易活跃度":"Trading Activity",coinsUnit:s==="zh"?"币":"coins",powerUnit:s==="zh"?"算力":"computing",tradesUnit:s==="zh"?"笔交易":"trades",dailyRecords:s==="zh"?"每日结算记录":"Daily Settlement Records",expand:s==="zh"?"展开":"Expand",collapse:s==="zh"?"收起":"Collapse",todayStatus:s==="zh"?"今日结算状态":"Today’s Settlement Status",settled:s==="zh"?"已结算":"Settled",pending:s==="zh"?"待结算":"Pending",autoTime:s==="zh"?"每日自动结算，结算时间: 00:00 (系统时间)":"Auto settlement daily at 00:00 (system time)",contributors:s==="zh"?"受益人数":"Recipients",share:s==="zh"?"占比":"Share",none:s==="zh"?"暂无结算记录":"No settlement records"}},modals:{recharge:{title:s==="zh"?"充值":"Recharge",amountLabel:s==="zh"?"充值金额":"Amount",amountPlaceholder:s==="zh"?"请输入充值金额":"Enter amount",paymentLabel:s==="zh"?"支付方式":"Payment Method",options:{alipay:s==="zh"?"支付宝":"Alipay",wechat:s==="zh"?"微信支付":"WeChat Pay",card:s==="zh"?"银行卡":"Bank Card"},confirm:s==="zh"?"确认充值":"Confirm Recharge",cancel:s==="zh"?"取消":"Cancel"},exchange:{title:s==="zh"?"货币兑换":"Currency Exchange",amountLabel:s==="zh"?"兑换金额":"Amount",amountPlaceholder:s==="zh"?"请输入兑换金额":"Enter amount",fromLabel:s==="zh"?"从":"From",toLabel:s==="zh"?"到":"To",ratesTitle:s==="zh"?"汇率信息":"Rates",ratesNote:s==="zh"?"💡 汇率由平台管理投票决定":"💡 Rates are decided by platform governance voting",confirm:s==="zh"?"确认兑换":"Confirm Exchange",cancel:s==="zh"?"取消":"Cancel",options:{cash:s==="zh"?"现金":"Cash",gameCoin:s==="zh"?"游戏币":"Game Coin",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin"}},ocoin:{titles:{buy:s==="zh"?"购买O币":"Buy O Coin",sell:s==="zh"?"出售O币":"Sell O Coin"},market:{currentPrice:s==="zh"?"当前价格":"Current Price",change24h:s==="zh"?"24小时涨跌":"24h Change"},balances:{cash:s==="zh"?"现金余额":"Cash Balance",ocoin:s==="zh"?"O币余额":"O Coin Balance"},quantity:{buyLabel:s==="zh"?"购买数量":"Buy Quantity",sellLabel:s==="zh"?"出售数量":"Sell Quantity",buyPlaceholder:s==="zh"?"请输入购买数量":"Enter buy quantity",sellPlaceholder:s==="zh"?"请输入出售数量":"Enter sell quantity"},preview:{title:s==="zh"?"交易预览":"Trade Preview",qty:s==="zh"?"数量":"Quantity",unitPrice:s==="zh"?"单价":"Unit Price",total:s==="zh"?"总计":"Total"},tips:{title:s==="zh"?"交易提示":"Trading Tips",line1:s==="zh"?"• O币价格会根据市场供需波动":"• O Coin price fluctuates with market supply/demand",line2:s==="zh"?"• O币持有者可享有平台分红权":"• O Coin holders may enjoy dividend rights",line3:s==="zh"?"• 交易完成后立即生效":"• Trades take effect immediately after completion"},actions:{confirmBuy:s==="zh"?"确认购买":"Confirm Buy",confirmSell:s==="zh"?"确认出售":"Confirm Sell",cancel:s==="zh"?"取消":"Cancel",toggleToSell:s==="zh"?"切换到出售O币":"Switch to Sell O Coin",toggleToBuy:s==="zh"?"切换到购买O币":"Switch to Buy O Coin"}}},right:{globalData:s==="zh"?"全网数据":"Network Data",toComputing:s==="zh"?"算力中心 →":"Computing Center →",overview:s==="zh"?"生态概览":"Ecosystem Overview",metrics:{totalUsers:s==="zh"?"总用户数":"Total Users",onlineUsers:s==="zh"?"在线用户":"Online Users",totalComputePower:s==="zh"?"总算力池":"Total Computing Power",dailyTransactions:s==="zh"?"日交易量":"Daily Transactions",aCoinBalance:s==="zh"?"A币余额":"A Coin Balance",aCoinCirculating:s==="zh"?"A币流通量":"A Coin Circulating",aCoinHolders:s==="zh"?"A币持有人":"A Coin Holders",oCoinCirculating:s==="zh"?"O币流通量":"O Coin Circulating",oCoinPrice:s==="zh"?"O币价格":"O Coin Price",oCoinMarketCap:s==="zh"?"O币市值":"O Coin Market Cap",unitM:"M",unitWan:s==="zh"?"万":"10k"}}},N={header:{title:s==="zh"?"交易市场":"Marketplace",subtitle:s==="zh"?"玩家间道具与奖励交易平台":"Peer-to-peer trading platform for in-game items and rewards",publish:s==="zh"?"发布商品":"List Item",personalCenter:s==="zh"?"个人中心":"Personal Center",computingCenter:s==="zh"?"算力中心":"Computing Center",backHome:e.nav.backHome,walletLabel:s==="zh"?"我的钱包":"My Wallet"},loading:s==="zh"?"加载交易市场数据中...":"Loading marketplace data...",stats:{onSale:s==="zh"?"在售商品":"Items on Sale",today:s==="zh"?"今日交易":"Today’s Transactions",total:s==="zh"?"交易总额":"Total Volume",avgPrice:s==="zh"?"平均价格":"Average Price"},search:{placeholder:s==="zh"?"搜索商品...":"Search items...",categories:{all:s==="zh"?"所有分类":"All Categories",weapon:s==="zh"?"武器":"Weapon",armor:s==="zh"?"装备":"Armor",consumable:s==="zh"?"消耗品":"Consumable",material:s==="zh"?"材料":"Material",rare:s==="zh"?"稀有物品":"Rare Items"},sort:{date:s==="zh"?"最新发布":"Newest",price:s==="zh"?"价格排序":"Price",popularity:s==="zh"?"热门程度":"Popularity"}},list:{currencyNames:{computing:s==="zh"?"算力":"ComputingPower",computingPower:s==="zh"?"算力":"ComputingPower",cash:s==="zh"?"现金":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",aCoins:s==="zh"?"A币":"A Coin"},views:s==="zh"?"浏览":"views",seller:s==="zh"?"卖家":"Seller",buyNow:s==="zh"?"立即购买":"Buy Now",insufficient:s==="zh"?"余额不足":"Insufficient Balance",canBuyWith:k=>s==="zh"?`可用${k}购买`:`Can buy with ${k}`,insufficientWith:k=>s==="zh"?`${k}余额不足`:`Insufficient ${k} balance`,empty:s==="zh"?"没有找到符合条件的商品":"No items match your filters"},modal:{title:s==="zh"?"发布商品":"List Item",noItemsTitle:s==="zh"?"您还没有可发布的道具":"You have no items to list",noItemsDesc:s==="zh"?"通过游戏获得道具后即可在此发布":"Earn items in games to list them here",selectItem:s==="zh"?"选择道具":"Select Item",currencyType:s==="zh"?"货币类型":"Currency",priceLabel:s==="zh"?"售价":"Price",cancel:e.buttons.cancel,submit:s==="zh"?"发布商品":"List Item",optionPlaceholder:s==="zh"?"请选择要发布的道具":"Select an item to list"}};return{common:e,login:r,register:n,about:o,blog:l,store:c,communityRewards:u,openEconomy:m,tradingSystem:p,marketplace:N,gameStore:f,gameCenter:x,personalCenter:v}},y=(s,e)=>{const r=e.split(".");let n=s;for(const o of r)n&&typeof n=="object"?n=n[o]:n=void 0;return typeof n=="function"?n():n??e},Sb=[{username:"player001",password:"Test123456",email:"player001@allinone.com",profile:{nickname:"游戏达人",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=player001",level:5,joinDate:"2024-12-01",totalGames:156,totalEarnings:2847.32},gameData:{totalPower:3450,dailyEarnings:78.45,gameCoins:12580,level:5,experience:2340,experienceToNext:3500,multiplier:2.2},gameHistory:[{date:"2025-01-20",game:"消消乐",score:15600,earnings:45.2,powerGained:156},{date:"2025-01-19",game:"消消乐",score:12800,earnings:38.7,powerGained:128},{date:"2025-01-18",game:"消消乐",score:18900,earnings:52.1,powerGained:189}]},{username:"newbie2025",password:"Welcome123",email:"newbie@allinone.com",profile:{nickname:"新手小白",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=newbie2025",level:1,joinDate:"2025-01-15",totalGames:8,totalEarnings:45.67},gameData:{totalPower:1234,dailyEarnings:12.34,gameCoins:890,level:1,experience:450,experienceToNext:1e3,multiplier:1},gameHistory:[{date:"2025-01-20",game:"消消乐",score:3200,earnings:8.5,powerGained:32},{date:"2025-01-19",game:"消消乐",score:2800,earnings:7.2,powerGained:28}]},{username:"master_gamer",password:"Master2025!",email:"master@allinone.com",profile:{nickname:"算力大师",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=master_gamer",level:8,joinDate:"2024-10-15",totalGames:567,totalEarnings:15678.9},gameData:{totalPower:8750,dailyEarnings:234.56,gameCoins:45670,level:8,experience:4560,experienceToNext:6e3,multiplier:4.8},gameHistory:[{date:"2025-01-20",game:"消消乐",score:45600,earnings:156.8,powerGained:456},{date:"2025-01-19",game:"消消乐",score:38900,earnings:134.2,powerGained:389},{date:"2025-01-18",game:"消消乐",score:52300,earnings:178.9,powerGained:523}]},{username:"casual_player",password:"Casual123",email:"casual@allinone.com",profile:{nickname:"休闲玩家",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=casual_player",level:3,joinDate:"2024-11-20",totalGames:89,totalEarnings:567.89},gameData:{totalPower:2100,dailyEarnings:34.56,gameCoins:3450,level:3,experience:1200,experienceToNext:2250,multiplier:1.5},gameHistory:[{date:"2025-01-20",game:"消消乐",score:8900,earnings:23.4,powerGained:89},{date:"2025-01-18",game:"消消乐",score:7600,earnings:19.8,powerGained:76}]},{username:"vip_user",password:"VIP2025@",email:"vip@allinone.com",profile:{nickname:"VIP会员",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=vip_user",level:10,joinDate:"2024-08-01",totalGames:1234,totalEarnings:45678.12},gameData:{totalPower:15600,dailyEarnings:456.78,gameCoins:89e3,level:10,experience:8900,experienceToNext:1e4,multiplier:5.7},gameHistory:[{date:"2025-01-20",game:"消消乐",score:78900,earnings:289.5,powerGained:789},{date:"2025-01-19",game:"消消乐",score:65400,earnings:234.8,powerGained:654},{date:"2025-01-18",game:"消消乐",score:89600,earnings:345.2,powerGained:896}]}],p1=(s,e)=>Sb.find(n=>n.username===s&&n.password===e)||null,Tb=()=>Sb.map(s=>({username:s.username,password:s.password,nickname:s.profile.nickname,level:s.profile.level}));function f1(){const[s,e]=j.useState(""),[r,n]=j.useState(""),[o,l]=j.useState(!1),{lang:c}=hs(),u=Ps(c),[m,p]=j.useState(!1),{setIsAuthenticated:f,setCurrentUser:x}=j.useContext(Cb),v=Pn(),N=Tb(),C=w=>{w.preventDefault(),l(!0),setTimeout(()=>{if(s&&r){const T=p1(s,r);T?(localStorage.setItem("currentUser",JSON.stringify(T)),x(T),f(!0),_r.success(`欢迎回来，${T.profile.nickname}！`),v("/")):_r.error("用户名或密码错误")}else _r.error("请输入用户名和密码");l(!1)},1e3)},k=(w,T)=>{e(w),n(T),p(!1)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("h1",{className:"text-2xl font-bold",children:y(u,"login.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(u,"login.subtitle")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 md:p-8",children:[t.jsxs("form",{onSubmit:C,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(u,"login.labels.username")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-user text-slate-400"})}),t.jsx("input",{type:"text",id:"username",value:s,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(u,"login.placeholders.username"),required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(u,"login.labels.password")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"password",value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(u,"login.placeholders.password"),required:!0})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-700 dark:text-slate-300",children:y(u,"login.labels.rememberMe")})]}),t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(u,"login.labels.forgotPassword")})})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-80 disabled:cursor-not-allowed transition-all",children:o?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),y(u,"common.buttons.loadingLogin")]}):y(u,"common.buttons.login")})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y(u,"login.noAccountPrompt")," ",t.jsx(oe,{to:"/register",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(u,"login.registerLink")})]})}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:y(u,"login.test.title")})})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("button",{onClick:()=>p(!m),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[t.jsx("i",{className:"fa-solid fa-vial text-green-600"}),m?y(u,"login.test.hide"):y(u,"login.test.show"),t.jsx("i",{className:`fa-solid fa-chevron-${m?"up":"down"} text-xs`})]}),m&&t.jsxs("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 px-2",children:y(u,"login.test.clickTip")}),N.map((w,T)=>t.jsxs("div",{onClick:()=>k(w.username,w.password),className:"p-3 border border-slate-200 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:w.nickname}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:w.username})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full",children:["Lv.",w.level]}),t.jsx("i",{className:"fa-solid fa-arrow-right text-xs text-slate-400"})]})]}),t.jsxs("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:[y(u,"login.test.password"),": ",w.password]})]},T))]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700 dark:text-green-300 text-sm",children:[t.jsx("i",{className:"fa-solid fa-info-circle"}),t.jsx("span",{className:"font-medium",children:y(u,"login.test.infoTitle")})]}),t.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 mb-2",children:y(u,"login.test.infoDesc")}),t.jsxs(oe,{to:"/test-accounts",className:"inline-flex items-center gap-1 text-xs text-green-700 dark:text-green-300 hover:text-green-800 dark:hover:text-green-200 font-medium underline",children:[t.jsx("i",{className:"fa-solid fa-external-link"}),y(u,"login.test.viewList")]})]})})]})]})]})})}var mt;(function(s){s.assertEqual=o=>o;function e(o){}s.assertIs=e;function r(o){throw new Error}s.assertNever=r,s.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},s.getValidEnumValues=o=>{const l=s.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),c={};for(const u of l)c[u]=o[u];return s.objectValues(c)},s.objectValues=o=>s.objectKeys(o).map(function(l){return o[l]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},s.find=(o,l)=>{for(const c of o)if(l(c))return c},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}s.joinValues=n,s.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(mt||(mt={}));var Bm;(function(s){s.mergeShapes=(e,r)=>({...e,...r})})(Bm||(Bm={}));const _e=mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ga=s=>{switch(typeof s){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(s)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(s)?_e.array:s===null?_e.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?_e.promise:typeof Map<"u"&&s instanceof Map?_e.map:typeof Set<"u"&&s instanceof Set?_e.set:typeof Date<"u"&&s instanceof Date?_e.date:_e.object;default:return _e.unknown}},he=mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),x1=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class nr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,m=0;for(;m<c.path.length;){const p=c.path[m];m===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(c))):u[p]=u[p]||{_errors:[]},u=u[p],m++}}};return o(this),n}static assert(e){if(!(e instanceof nr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}nr.create=s=>new nr(s);const fi=(s,e)=>{let r;switch(s.code){case he.invalid_type:s.received===_e.undefined?r="Required":r=`Expected ${s.expected}, received ${s.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(s.expected,mt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${mt.joinValues(s.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mt.joinValues(s.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${mt.joinValues(s.options)}, received '${s.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(r=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?r=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?r=`Invalid input: must end with "${s.validation.endsWith}"`:mt.assertNever(s.validation):s.validation!=="regex"?r=`Invalid ${s.validation}`:r="Invalid";break;case he.too_small:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:r="Invalid input";break;case he.too_big:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?r=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${s.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=e.defaultError,mt.assertNever(s)}return{message:r}};let Ab=fi;function g1(s){Ab=s}function Zc(){return Ab}const qc=s=>{const{data:e,path:r,errorMaps:n,issueData:o}=s,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let u="";const m=n.filter(p=>!!p).slice().reverse();for(const p of m)u=p(c,{data:e,defaultError:u}).message;return{...o,path:l,message:u}},b1=[];function ke(s,e){const r=Zc(),n=qc({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,r,r===fi?void 0:fi].filter(o=>!!o)});s.common.issues.push(n)}class Es{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Xe;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const l=await o.key,c=await o.value;n.push({key:l,value:c})}return Es.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return Xe;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const Xe=Object.freeze({status:"aborted"}),ii=s=>({status:"dirty",value:s}),Vs=s=>({status:"valid",value:s}),Um=s=>s.status==="aborted",Hm=s=>s.status==="dirty",An=s=>s.status==="valid",$o=s=>typeof Promise<"u"&&s instanceof Promise;function Xc(s,e,r,n){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function _b(s,e,r,n,o){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,r),r}var Ve;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));var ko,Co;class Jr{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qf=(s,e)=>{if(An(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new nr(s.common.issues);return this._error=r,this._error}}};function at(s){if(!s)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=s;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,u)=>{var m,p;const{message:f}=s;return c.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:(m=f??n)!==null&&m!==void 0?m:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(p=f??r)!==null&&p!==void 0?p:u.defaultError}},description:o}}class ot{get description(){return this._def.description}_getType(e){return ga(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Es,ctx:{common:e.parent.common,data:e.data,parsedType:ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if($o(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)},l=this._parseSync({data:e,path:o.path,parent:o});return Qf(o,l)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:o});return An(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((n=(r=l==null?void 0:l.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(l=>An(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)},o=this._parse({data:e,path:n.path,parent:n}),l=await($o(o)?o:Promise.resolve(o));return Qf(n,l)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,l)=>{const c=e(o),u=()=>l.addIssue({code:he.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new Or({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yr.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return gi.create(this,this._def)}or(e){return Uo.create([this,e],this._def)}and(e){return Ho.create(this,e,this._def)}transform(e){return new Or({...at(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Zo({...at(this._def),innerType:this,defaultValue:r,typeName:Ke.ZodDefault})}brand(){return new Nh({typeName:Ke.ZodBranded,type:this,...at(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new qo({...at(this._def),innerType:this,catchValue:r,typeName:Ke.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return cl.create(this,e)}readonly(){return Xo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const y1=/^c[^\s-]{8,}$/i,v1=/^[0-9a-z]+$/,w1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,j1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N1=/^[a-z0-9_-]{21}$/i,k1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,C1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,T1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mm;const A1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,D1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,E1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,P1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Db="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",R1=new RegExp(`^${Db}$`);function Eb(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const r=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function M1(s){return new RegExp(`^${Eb(s)}$`)}function Pb(s){let e=`${Db}T${Eb(s)}`;const r=[];return r.push(s.local?"Z?":"Z"),s.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function O1(s,e){return!!((e==="v4"||!e)&&A1.test(s)||(e==="v6"||!e)&&D1.test(s))}function L1(s,e){if(!k1.test(s))return!1;try{const[r]=s.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function z1(s,e){return!!((e==="v4"||!e)&&_1.test(s)||(e==="v6"||!e)&&E1.test(s))}class Rr extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const l=this._getOrReturnCtx(e);return ke(l,{code:he.invalid_type,expected:_e.string,received:l.parsedType}),Xe}const n=new Es;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),ke(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),ke(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,u=e.data.length<l.value;(c||u)&&(o=this._getOrReturnCtx(e,o),c?ke(o,{code:he.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):u&&ke(o,{code:he.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")S1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"email",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")mm||(mm=new RegExp(T1,"u")),mm.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"emoji",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")j1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"uuid",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")N1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"nanoid",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")y1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"cuid",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")v1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"cuid2",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")w1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"ulid",code:he.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ke(o,{validation:"url",code:he.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"regex",code:he.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?Pb(l).test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?R1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?M1(l).test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{code:he.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?C1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"duration",code:he.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?O1(e.data,l.version)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"ip",code:he.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?L1(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"jwt",code:he.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?z1(e.data,l.version)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"cidr",code:he.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?P1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"base64",code:he.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?I1.test(e.data)||(o=this._getOrReturnCtx(e,o),ke(o,{validation:"base64url",code:he.invalid_string,message:l.message}),n.dirty()):mt.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:he.invalid_string,...Ve.errToObj(n)})}_addCheck(e){return new Rr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ve.errToObj(r)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rr.create=s=>{var e;return new Rr({checks:[],typeName:Ke.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...at(s)})};function $1(s,e){const r=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,l=parseInt(s.toFixed(o).replace(".","")),c=parseInt(e.toFixed(o).replace(".",""));return l%c/Math.pow(10,o)}class qa extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const l=this._getOrReturnCtx(e);return ke(l,{code:he.invalid_type,expected:_e.number,received:l.parsedType}),Xe}let n;const o=new Es;for(const l of this._def.checks)l.kind==="int"?mt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ke(n,{code:he.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?$1(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ke(n,{code:he.not_finite,message:l.message}),o.dirty()):mt.assertNever(l);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,o){return new qa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(o)}]})}_addCheck(e){return new qa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}qa.create=s=>new qa({checks:[],typeName:Ke.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...at(s)});class Xa extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_e.bigint)return this._getInvalidInput(e);let n;const o=new Es;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ke(n,{code:he.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):mt.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ke(r,{code:he.invalid_type,expected:_e.bigint,received:r.parsedType}),Xe}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,o){return new Xa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(o)}]})}_addCheck(e){return new Xa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xa.create=s=>{var e;return new Xa({checks:[],typeName:Ke.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...at(s)})};class Fo extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.boolean,received:n.parsedType}),Xe}return Vs(e.data)}}Fo.create=s=>new Fo({typeName:Ke.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...at(s)});class _n extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const l=this._getOrReturnCtx(e);return ke(l,{code:he.invalid_type,expected:_e.date,received:l.parsedType}),Xe}if(isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return ke(l,{code:he.invalid_date}),Xe}const n=new Es;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),ke(o,{code:he.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),ke(o,{code:he.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):mt.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _n({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}_n.create=s=>new _n({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:Ke.ZodDate,...at(s)});class Jc extends ot{_parse(e){if(this._getType(e)!==_e.symbol){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.symbol,received:n.parsedType}),Xe}return Vs(e.data)}}Jc.create=s=>new Jc({typeName:Ke.ZodSymbol,...at(s)});class Vo extends ot{_parse(e){if(this._getType(e)!==_e.undefined){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.undefined,received:n.parsedType}),Xe}return Vs(e.data)}}Vo.create=s=>new Vo({typeName:Ke.ZodUndefined,...at(s)});class Bo extends ot{_parse(e){if(this._getType(e)!==_e.null){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.null,received:n.parsedType}),Xe}return Vs(e.data)}}Bo.create=s=>new Bo({typeName:Ke.ZodNull,...at(s)});class xi extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Vs(e.data)}}xi.create=s=>new xi({typeName:Ke.ZodAny,...at(s)});class Cn extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vs(e.data)}}Cn.create=s=>new Cn({typeName:Ke.ZodUnknown,...at(s)});class ja extends ot{_parse(e){const r=this._getOrReturnCtx(e);return ke(r,{code:he.invalid_type,expected:_e.never,received:r.parsedType}),Xe}}ja.create=s=>new ja({typeName:Ke.ZodNever,...at(s)});class Qc extends ot{_parse(e){if(this._getType(e)!==_e.undefined){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.void,received:n.parsedType}),Xe}return Vs(e.data)}}Qc.create=s=>new Qc({typeName:Ke.ZodVoid,...at(s)});class Mr extends ot{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==_e.array)return ke(r,{code:he.invalid_type,expected:_e.array,received:r.parsedType}),Xe;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,u=r.data.length<o.exactLength.value;(c||u)&&(ke(r,{code:c?he.too_big:he.too_small,minimum:u?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(ke(r,{code:he.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(ke(r,{code:he.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>o.type._parseAsync(new Jr(r,c,r.path,u)))).then(c=>Es.mergeArray(n,c));const l=[...r.data].map((c,u)=>o.type._parseSync(new Jr(r,c,r.path,u)));return Es.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new Mr({...this._def,minLength:{value:e,message:Ve.toString(r)}})}max(e,r){return new Mr({...this._def,maxLength:{value:e,message:Ve.toString(r)}})}length(e,r){return new Mr({...this._def,exactLength:{value:e,message:Ve.toString(r)}})}nonempty(e){return this.min(1,e)}}Mr.create=(s,e)=>new Mr({type:s,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...at(e)});function ni(s){if(s instanceof Ft){const e={};for(const r in s.shape){const n=s.shape[r];e[r]=Yr.create(ni(n))}return new Ft({...s._def,shape:()=>e})}else return s instanceof Mr?new Mr({...s._def,type:ni(s.element)}):s instanceof Yr?Yr.create(ni(s.unwrap())):s instanceof Qa?Qa.create(ni(s.unwrap())):s instanceof Qr?Qr.create(s.items.map(e=>ni(e))):s}class Ft extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=mt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==_e.object){const p=this._getOrReturnCtx(e);return ke(p,{code:he.invalid_type,expected:_e.object,received:p.parsedType}),Xe}const{status:n,ctx:o}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ja&&this._def.unknownKeys==="strip"))for(const p in o.data)c.includes(p)||u.push(p);const m=[];for(const p of c){const f=l[p],x=o.data[p];m.push({key:{status:"valid",value:p},value:f._parse(new Jr(o,x,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof ja){const p=this._def.unknownKeys;if(p==="passthrough")for(const f of u)m.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(p==="strict")u.length>0&&(ke(o,{code:he.unrecognized_keys,keys:u}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const f of u){const x=o.data[f];m.push({key:{status:"valid",value:f},value:p._parse(new Jr(o,x,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const f of m){const x=await f.key,v=await f.value;p.push({key:x,value:v,alwaysSet:f.alwaysSet})}return p}).then(p=>Es.mergeObjectSync(n,p)):Es.mergeObjectSync(n,m)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,l,c,u;const m=(c=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,r,n).message)!==null&&c!==void 0?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=Ve.errToObj(e).message)!==null&&u!==void 0?u:m}:{message:m}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const r={};return mt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ft({...this._def,shape:()=>r})}omit(e){const r={};return mt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ft({...this._def,shape:()=>r})}deepPartial(){return ni(this)}partial(e){const r={};return mt.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Ft({...this._def,shape:()=>r})}required(e){const r={};return mt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Yr;)l=l._def.innerType;r[n]=l}}),new Ft({...this._def,shape:()=>r})}keyof(){return Ib(mt.objectKeys(this.shape))}}Ft.create=(s,e)=>new Ft({shape:()=>s,unknownKeys:"strip",catchall:ja.create(),typeName:Ke.ZodObject,...at(e)});Ft.strictCreate=(s,e)=>new Ft({shape:()=>s,unknownKeys:"strict",catchall:ja.create(),typeName:Ke.ZodObject,...at(e)});Ft.lazycreate=(s,e)=>new Ft({shape:s,unknownKeys:"strip",catchall:ja.create(),typeName:Ke.ZodObject,...at(e)});class Uo extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(l){for(const u of l)if(u.result.status==="valid")return u.result;for(const u of l)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=l.map(u=>new nr(u.ctx.common.issues));return ke(r,{code:he.invalid_union,unionErrors:c}),Xe}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let l;const c=[];for(const m of n){const p={...r,common:{...r.common,issues:[]},parent:null},f=m._parseSync({data:r.data,path:r.path,parent:p});if(f.status==="valid")return f;f.status==="dirty"&&!l&&(l={result:f,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const u=c.map(m=>new nr(m));return ke(r,{code:he.invalid_union,unionErrors:u}),Xe}}get options(){return this._def.options}}Uo.create=(s,e)=>new Uo({options:s,typeName:Ke.ZodUnion,...at(e)});const pa=s=>s instanceof Go?pa(s.schema):s instanceof Or?pa(s.innerType()):s instanceof Yo?[s.value]:s instanceof Ja?s.options:s instanceof Ko?mt.objectValues(s.enum):s instanceof Zo?pa(s._def.innerType):s instanceof Vo?[void 0]:s instanceof Bo?[null]:s instanceof Yr?[void 0,...pa(s.unwrap())]:s instanceof Qa?[null,...pa(s.unwrap())]:s instanceof Nh||s instanceof Xo?pa(s.unwrap()):s instanceof qo?pa(s._def.innerType):[];class hd extends ot{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.object)return ke(r,{code:he.invalid_type,expected:_e.object,received:r.parsedType}),Xe;const n=this.discriminator,o=r.data[n],l=this.optionsMap.get(o);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(ke(r,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const l of r){const c=pa(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,l)}}return new hd({typeName:Ke.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...at(n)})}}function Wm(s,e){const r=ga(s),n=ga(e);if(s===e)return{valid:!0,data:s};if(r===_e.object&&n===_e.object){const o=mt.objectKeys(e),l=mt.objectKeys(s).filter(u=>o.indexOf(u)!==-1),c={...s,...e};for(const u of l){const m=Wm(s[u],e[u]);if(!m.valid)return{valid:!1};c[u]=m.data}return{valid:!0,data:c}}else if(r===_e.array&&n===_e.array){if(s.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<s.length;l++){const c=s[l],u=e[l],m=Wm(c,u);if(!m.valid)return{valid:!1};o.push(m.data)}return{valid:!0,data:o}}else return r===_e.date&&n===_e.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Ho extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(l,c)=>{if(Um(l)||Um(c))return Xe;const u=Wm(l.value,c.value);return u.valid?((Hm(l)||Hm(c))&&r.dirty(),{status:r.value,value:u.data}):(ke(n,{code:he.invalid_intersection_types}),Xe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>o(l,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ho.create=(s,e,r)=>new Ho({left:s,right:e,typeName:Ke.ZodIntersection,...at(r)});class Qr extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.array)return ke(n,{code:he.invalid_type,expected:_e.array,received:n.parsedType}),Xe;if(n.data.length<this._def.items.length)return ke(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&n.data.length>this._def.items.length&&(ke(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,u)=>{const m=this._def.items[u]||this._def.rest;return m?m._parse(new Jr(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>Es.mergeArray(r,c)):Es.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Qr({...this._def,rest:e})}}Qr.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:s,typeName:Ke.ZodTuple,rest:null,...at(e)})};class Wo extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.object)return ke(n,{code:he.invalid_type,expected:_e.object,received:n.parsedType}),Xe;const o=[],l=this._def.keyType,c=this._def.valueType;for(const u in n.data)o.push({key:l._parse(new Jr(n,u,n.path,u)),value:c._parse(new Jr(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Es.mergeObjectAsync(r,o):Es.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ot?new Wo({keyType:e,valueType:r,typeName:Ke.ZodRecord,...at(n)}):new Wo({keyType:Rr.create(),valueType:e,typeName:Ke.ZodRecord,...at(r)})}}class ed extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.map)return ke(n,{code:he.invalid_type,expected:_e.map,received:n.parsedType}),Xe;const o=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([u,m],p)=>({key:o._parse(new Jr(n,u,n.path,[p,"key"])),value:l._parse(new Jr(n,m,n.path,[p,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const m of c){const p=await m.key,f=await m.value;if(p.status==="aborted"||f.status==="aborted")return Xe;(p.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(p.value,f.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const m of c){const p=m.key,f=m.value;if(p.status==="aborted"||f.status==="aborted")return Xe;(p.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(p.value,f.value)}return{status:r.value,value:u}}}}ed.create=(s,e,r)=>new ed({valueType:e,keyType:s,typeName:Ke.ZodMap,...at(r)});class Dn extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_e.set)return ke(n,{code:he.invalid_type,expected:_e.set,received:n.parsedType}),Xe;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(ke(n,{code:he.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(ke(n,{code:he.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(m){const p=new Set;for(const f of m){if(f.status==="aborted")return Xe;f.status==="dirty"&&r.dirty(),p.add(f.value)}return{status:r.value,value:p}}const u=[...n.data.values()].map((m,p)=>l._parse(new Jr(n,m,n.path,p)));return n.common.async?Promise.all(u).then(m=>c(m)):c(u)}min(e,r){return new Dn({...this._def,minSize:{value:e,message:Ve.toString(r)}})}max(e,r){return new Dn({...this._def,maxSize:{value:e,message:Ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Dn.create=(s,e)=>new Dn({valueType:s,minSize:null,maxSize:null,typeName:Ke.ZodSet,...at(e)});class mi extends ot{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.function)return ke(r,{code:he.invalid_type,expected:_e.function,received:r.parsedType}),Xe;function n(u,m){return qc({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zc(),fi].filter(p=>!!p),issueData:{code:he.invalid_arguments,argumentsError:m}})}function o(u,m){return qc({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zc(),fi].filter(p=>!!p),issueData:{code:he.invalid_return_type,returnTypeError:m}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof gi){const u=this;return Vs(async function(...m){const p=new nr([]),f=await u._def.args.parseAsync(m,l).catch(N=>{throw p.addIssue(n(m,N)),p}),x=await Reflect.apply(c,this,f);return await u._def.returns._def.type.parseAsync(x,l).catch(N=>{throw p.addIssue(o(x,N)),p})})}else{const u=this;return Vs(function(...m){const p=u._def.args.safeParse(m,l);if(!p.success)throw new nr([n(m,p.error)]);const f=Reflect.apply(c,this,p.data),x=u._def.returns.safeParse(f,l);if(!x.success)throw new nr([o(f,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mi({...this._def,args:Qr.create(e).rest(Cn.create())})}returns(e){return new mi({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new mi({args:e||Qr.create([]).rest(Cn.create()),returns:r||Cn.create(),typeName:Ke.ZodFunction,...at(n)})}}class Go extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Go.create=(s,e)=>new Go({getter:s,typeName:Ke.ZodLazy,...at(e)});class Yo extends ot{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ke(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yo.create=(s,e)=>new Yo({value:s,typeName:Ke.ZodLiteral,...at(e)});function Ib(s,e){return new Ja({values:s,typeName:Ke.ZodEnum,...at(e)})}class Ja extends ot{constructor(){super(...arguments),ko.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ke(r,{expected:mt.joinValues(n),received:r.parsedType,code:he.invalid_type}),Xe}if(Xc(this,ko)||_b(this,ko,new Set(this._def.values)),!Xc(this,ko).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ke(r,{received:r.data,code:he.invalid_enum_value,options:n}),Xe}return Vs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ja.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ja.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ko=new WeakMap;Ja.create=Ib;class Ko extends ot{constructor(){super(...arguments),Co.set(this,void 0)}_parse(e){const r=mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_e.string&&n.parsedType!==_e.number){const o=mt.objectValues(r);return ke(n,{expected:mt.joinValues(o),received:n.parsedType,code:he.invalid_type}),Xe}if(Xc(this,Co)||_b(this,Co,new Set(mt.getValidEnumValues(this._def.values))),!Xc(this,Co).has(e.data)){const o=mt.objectValues(r);return ke(n,{received:n.data,code:he.invalid_enum_value,options:o}),Xe}return Vs(e.data)}get enum(){return this._def.values}}Co=new WeakMap;Ko.create=(s,e)=>new Ko({values:s,typeName:Ke.ZodNativeEnum,...at(e)});class gi extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.promise&&r.common.async===!1)return ke(r,{code:he.invalid_type,expected:_e.promise,received:r.parsedType}),Xe;const n=r.parsedType===_e.promise?r.data:Promise.resolve(r.data);return Vs(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gi.create=(s,e)=>new gi({type:s,typeName:Ke.ZodPromise,...at(e)});class Or extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,l={addIssue:c=>{ke(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const c=o.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return Xe;const m=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return m.status==="aborted"?Xe:m.status==="dirty"||r.value==="dirty"?ii(m.value):m});{if(r.value==="aborted")return Xe;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?Xe:u.status==="dirty"||r.value==="dirty"?ii(u.value):u}}if(o.type==="refinement"){const c=u=>{const m=o.refinement(u,l);if(n.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Xe:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Xe:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!An(c))return c;const u=o.transform(c.value,l);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>An(c)?Promise.resolve(o.transform(c.value,l)).then(u=>({status:r.value,value:u})):c);mt.assertNever(o)}}Or.create=(s,e,r)=>new Or({schema:s,typeName:Ke.ZodEffects,effect:e,...at(r)});Or.createWithPreprocess=(s,e,r)=>new Or({schema:e,effect:{type:"preprocess",transform:s},typeName:Ke.ZodEffects,...at(r)});class Yr extends ot{_parse(e){return this._getType(e)===_e.undefined?Vs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yr.create=(s,e)=>new Yr({innerType:s,typeName:Ke.ZodOptional,...at(e)});class Qa extends ot{_parse(e){return this._getType(e)===_e.null?Vs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qa.create=(s,e)=>new Qa({innerType:s,typeName:Ke.ZodNullable,...at(e)});class Zo extends ot{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===_e.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zo.create=(s,e)=>new Zo({innerType:s,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class qo extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $o(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new nr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new nr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qo.create=(s,e)=>new qo({innerType:s,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class td extends ot{_parse(e){if(this._getType(e)!==_e.nan){const n=this._getOrReturnCtx(e);return ke(n,{code:he.invalid_type,expected:_e.nan,received:n.parsedType}),Xe}return{status:"valid",value:e.data}}}td.create=s=>new td({typeName:Ke.ZodNaN,...at(s)});const F1=Symbol("zod_brand");class Nh extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cl extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Xe:l.status==="dirty"?(r.dirty(),ii(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Xe:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new cl({in:e,out:r,typeName:Ke.ZodPipeline})}}class Xo extends ot{_parse(e){const r=this._def.innerType._parse(e),n=o=>(An(o)&&(o.value=Object.freeze(o.value)),o);return $o(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}Xo.create=(s,e)=>new Xo({innerType:s,typeName:Ke.ZodReadonly,...at(e)});function ex(s,e){const r=typeof s=="function"?s(e):typeof s=="string"?{message:s}:s;return typeof r=="string"?{message:r}:r}function Rb(s,e={},r){return s?xi.create().superRefine((n,o)=>{var l,c;const u=s(n);if(u instanceof Promise)return u.then(m=>{var p,f;if(!m){const x=ex(e,n),v=(f=(p=x.fatal)!==null&&p!==void 0?p:r)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...x,fatal:v})}});if(!u){const m=ex(e,n),p=(c=(l=m.fatal)!==null&&l!==void 0?l:r)!==null&&c!==void 0?c:!0;o.addIssue({code:"custom",...m,fatal:p})}}):xi.create()}const V1={object:Ft.lazycreate};var Ke;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const B1=(s,e={message:`Input not instance of ${s.name}`})=>Rb(r=>r instanceof s,e),Mb=Rr.create,Ob=qa.create,U1=td.create,H1=Xa.create,Lb=Fo.create,W1=_n.create,G1=Jc.create,Y1=Vo.create,K1=Bo.create,Z1=xi.create,q1=Cn.create,X1=ja.create,J1=Qc.create,Q1=Mr.create,eC=Ft.create,tC=Ft.strictCreate,sC=Uo.create,rC=hd.create,aC=Ho.create,nC=Qr.create,iC=Wo.create,oC=ed.create,lC=Dn.create,cC=mi.create,dC=Go.create,uC=Yo.create,mC=Ja.create,hC=Ko.create,pC=gi.create,tx=Or.create,fC=Yr.create,xC=Qa.create,gC=Or.createWithPreprocess,bC=cl.create,yC=()=>Mb().optional(),vC=()=>Ob().optional(),wC=()=>Lb().optional(),jC={string:s=>Rr.create({...s,coerce:!0}),number:s=>qa.create({...s,coerce:!0}),boolean:s=>Fo.create({...s,coerce:!0}),bigint:s=>Xa.create({...s,coerce:!0}),date:s=>_n.create({...s,coerce:!0})},NC=Xe;var ri=Object.freeze({__proto__:null,defaultErrorMap:fi,setErrorMap:g1,getErrorMap:Zc,makeIssue:qc,EMPTY_PATH:b1,addIssueToContext:ke,ParseStatus:Es,INVALID:Xe,DIRTY:ii,OK:Vs,isAborted:Um,isDirty:Hm,isValid:An,isAsync:$o,get util(){return mt},get objectUtil(){return Bm},ZodParsedType:_e,getParsedType:ga,ZodType:ot,datetimeRegex:Pb,ZodString:Rr,ZodNumber:qa,ZodBigInt:Xa,ZodBoolean:Fo,ZodDate:_n,ZodSymbol:Jc,ZodUndefined:Vo,ZodNull:Bo,ZodAny:xi,ZodUnknown:Cn,ZodNever:ja,ZodVoid:Qc,ZodArray:Mr,ZodObject:Ft,ZodUnion:Uo,ZodDiscriminatedUnion:hd,ZodIntersection:Ho,ZodTuple:Qr,ZodRecord:Wo,ZodMap:ed,ZodSet:Dn,ZodFunction:mi,ZodLazy:Go,ZodLiteral:Yo,ZodEnum:Ja,ZodNativeEnum:Ko,ZodPromise:gi,ZodEffects:Or,ZodTransformer:Or,ZodOptional:Yr,ZodNullable:Qa,ZodDefault:Zo,ZodCatch:qo,ZodNaN:td,BRAND:F1,ZodBranded:Nh,ZodPipeline:cl,ZodReadonly:Xo,custom:Rb,Schema:ot,ZodSchema:ot,late:V1,get ZodFirstPartyTypeKind(){return Ke},coerce:jC,any:Z1,array:Q1,bigint:H1,boolean:Lb,date:W1,discriminatedUnion:rC,effect:tx,enum:mC,function:cC,instanceof:B1,intersection:aC,lazy:dC,literal:uC,map:oC,nan:U1,nativeEnum:hC,never:X1,null:K1,nullable:xC,number:Ob,object:eC,oboolean:wC,onumber:vC,optional:fC,ostring:yC,pipeline:bC,preprocess:gC,promise:pC,record:iC,set:lC,strictObject:tC,string:Mb,symbol:G1,transformer:tx,tuple:nC,undefined:Y1,union:sC,unknown:q1,void:J1,NEVER:NC,ZodIssueCode:he,quotelessJson:x1,ZodError:nr}),dl=s=>s.type==="checkbox",wn=s=>s instanceof Date,$s=s=>s==null;const zb=s=>typeof s=="object";var Zt=s=>!$s(s)&&!Array.isArray(s)&&zb(s)&&!wn(s),kC=s=>Zt(s)&&s.target?dl(s.target)?s.target.checked:s.target.value:s,CC=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,SC=(s,e)=>s.has(CC(e)),TC=s=>{const e=s.constructor&&s.constructor.prototype;return Zt(e)&&e.hasOwnProperty("isPrototypeOf")},kh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function us(s){let e;const r=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(kh&&(s instanceof Blob||n))&&(r||Zt(s)))if(e=r?[]:Object.create(Object.getPrototypeOf(s)),!r&&!TC(s))e=s;else for(const o in s)s.hasOwnProperty(o)&&(e[o]=us(s[o]));else return s;return e}var pd=s=>/^\w*$/.test(s),Qt=s=>s===void 0,Ch=s=>Array.isArray(s)?s.filter(Boolean):[],Sh=s=>Ch(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(s,e,r)=>{if(!e||!Zt(s))return r;const n=(pd(e)?[e]:Sh(e)).reduce((o,l)=>$s(o)?o:o[l],s);return Qt(n)||n===s?Qt(s[e])?r:s[e]:n},Wr=s=>typeof s=="boolean",wt=(s,e,r)=>{let n=-1;const o=pd(e)?[e]:Sh(e),l=o.length,c=l-1;for(;++n<l;){const u=o[n];let m=r;if(n!==c){const p=s[u];m=Zt(p)||Array.isArray(p)?p:isNaN(+o[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;s[u]=m,s=s[u]}};const sx={BLUR:"blur",FOCUS_OUT:"focusout"},Er={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ha={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AC=fe.createContext(null);AC.displayName="HookFormContext";var _C=(s,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const l in s)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Er.all&&(e._proxyFormState[c]=!n||Er.all),s[c]}});return o};const DC=typeof window<"u"?fe.useLayoutEffect:fe.useEffect;var Gr=s=>typeof s=="string",EC=(s,e,r,n,o)=>Gr(s)?(n&&e.watch.add(s),Oe(r,s,o)):Array.isArray(s)?s.map(l=>(n&&e.watch.add(l),Oe(r,l))):(n&&(e.watchAll=!0),r),Gm=s=>$s(s)||!zb(s);function Za(s,e,r=new WeakSet){if(Gm(s)||Gm(e))return s===e;if(wn(s)&&wn(e))return s.getTime()===e.getTime();const n=Object.keys(s),o=Object.keys(e);if(n.length!==o.length)return!1;if(r.has(s)||r.has(e))return!0;r.add(s),r.add(e);for(const l of n){const c=s[l];if(!o.includes(l))return!1;if(l!=="ref"){const u=e[l];if(wn(c)&&wn(u)||Zt(c)&&Zt(u)||Array.isArray(c)&&Array.isArray(u)?!Za(c,u,r):c!==u)return!1}}return!0}var $b=(s,e,r,n,o)=>e?{...r[s],types:{...r[s]&&r[s].types?r[s].types:{},[n]:o||!0}}:{},Do=s=>Array.isArray(s)?s:[s],rx=()=>{let s=[];return{get observers(){return s},next:o=>{for(const l of s)l.next&&l.next(o)},subscribe:o=>(s.push(o),{unsubscribe:()=>{s=s.filter(l=>l!==o)}}),unsubscribe:()=>{s=[]}}},qs=s=>Zt(s)&&!Object.keys(s).length,Th=s=>s.type==="file",Pr=s=>typeof s=="function",sd=s=>{if(!kh)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Fb=s=>s.type==="select-multiple",Ah=s=>s.type==="radio",PC=s=>Ah(s)||dl(s),hm=s=>sd(s)&&s.isConnected;function IC(s,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)s=Qt(s)?n++:s[e[n++]];return s}function RC(s){for(const e in s)if(s.hasOwnProperty(e)&&!Qt(s[e]))return!1;return!0}function Jt(s,e){const r=Array.isArray(e)?e:pd(e)?[e]:Sh(e),n=r.length===1?s:IC(s,r),o=r.length-1,l=r[o];return n&&delete n[l],o!==0&&(Zt(n)&&qs(n)||Array.isArray(n)&&RC(n))&&Jt(s,r.slice(0,-1)),s}var Vb=s=>{for(const e in s)if(Pr(s[e]))return!0;return!1};function rd(s,e={}){const r=Array.isArray(s);if(Zt(s)||r)for(const n in s)Array.isArray(s[n])||Zt(s[n])&&!Vb(s[n])?(e[n]=Array.isArray(s[n])?[]:{},rd(s[n],e[n])):$s(s[n])||(e[n]=!0);return e}function Bb(s,e,r){const n=Array.isArray(s);if(Zt(s)||n)for(const o in s)Array.isArray(s[o])||Zt(s[o])&&!Vb(s[o])?Qt(e)||Gm(r[o])?r[o]=Array.isArray(s[o])?rd(s[o],[]):{...rd(s[o])}:Bb(s[o],$s(e)?{}:e[o],r[o]):r[o]=!Za(s[o],e[o]);return r}var po=(s,e)=>Bb(s,e,rd(e));const ax={value:!1,isValid:!1},nx={value:!0,isValid:!0};var Ub=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Qt(s[0].attributes.value)?Qt(s[0].value)||s[0].value===""?nx:{value:s[0].value,isValid:!0}:nx:ax}return ax},Hb=(s,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Qt(s)?s:e?s===""?NaN:s&&+s:r&&Gr(s)?new Date(s):n?n(s):s;const ix={isValid:!1,value:null};var Wb=s=>Array.isArray(s)?s.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ix):ix;function ox(s){const e=s.ref;return Th(e)?e.files:Ah(e)?Wb(s.refs).value:Fb(e)?[...e.selectedOptions].map(({value:r})=>r):dl(e)?Ub(s.refs).value:Hb(Qt(e.value)?s.ref.value:e.value,s)}var MC=(s,e,r,n)=>{const o={};for(const l of s){const c=Oe(e,l);c&&wt(o,l,c._f)}return{criteriaMode:r,names:[...s],fields:o,shouldUseNativeValidation:n}},ad=s=>s instanceof RegExp,fo=s=>Qt(s)?s:ad(s)?s.source:Zt(s)?ad(s.value)?s.value.source:s.value:s,lx=s=>({isOnSubmit:!s||s===Er.onSubmit,isOnBlur:s===Er.onBlur,isOnChange:s===Er.onChange,isOnAll:s===Er.all,isOnTouch:s===Er.onTouched});const cx="AsyncFunction";var OC=s=>!!s&&!!s.validate&&!!(Pr(s.validate)&&s.validate.constructor.name===cx||Zt(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===cx)),LC=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),dx=(s,e,r)=>!r&&(e.watchAll||e.watch.has(s)||[...e.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const Eo=(s,e,r,n)=>{for(const o of r||Object.keys(s)){const l=Oe(s,o);if(l){const{_f:c,...u}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(Eo(u,e))break}else if(Zt(u)&&Eo(u,e))break}}};function ux(s,e,r){const n=Oe(s,r);if(n||pd(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=Oe(e,l),u=Oe(s,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(u&&u.type)return{name:l,error:u};if(u&&u.root&&u.root.type)return{name:`${l}.root`,error:u.root};o.pop()}return{name:r}}var zC=(s,e,r,n)=>{r(s);const{name:o,...l}=s;return qs(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||Er.all))},$C=(s,e,r)=>!s||!e||s===e||Do(s).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),FC=(s,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||s):(r?n.isOnBlur:o.isOnBlur)?!s:(r?n.isOnChange:o.isOnChange)?s:!0,VC=(s,e)=>!Ch(Oe(s,e)).length&&Jt(s,e),BC=(s,e,r)=>{const n=Do(Oe(s,r));return wt(n,"root",e[r]),wt(s,r,n),s},Bc=s=>Gr(s);function mx(s,e,r="validate"){if(Bc(s)||Array.isArray(s)&&s.every(Bc)||Wr(s)&&!s)return{type:r,message:Bc(s)?s:"",ref:e}}var ai=s=>Zt(s)&&!ad(s)?s:{value:s,message:""},hx=async(s,e,r,n,o,l)=>{const{ref:c,refs:u,required:m,maxLength:p,minLength:f,min:x,max:v,pattern:N,validate:C,name:k,valueAsNumber:w,mount:T}=s._f,_=Oe(r,k);if(!T||e.has(k))return{};const A=u?u[0]:c,B=ee=>{o&&A.reportValidity&&(A.setCustomValidity(Wr(ee)?"":ee||""),A.reportValidity())},I={},D=Ah(c),z=dl(c),E=D||z,G=(w||Th(c))&&Qt(c.value)&&Qt(_)||sd(c)&&c.value===""||_===""||Array.isArray(_)&&!_.length,Y=$b.bind(null,k,n,I),ne=(ee,se,ie,M=ha.maxLength,F=ha.minLength)=>{const Z=ee?se:ie;I[k]={type:ee?M:F,message:Z,ref:c,...Y(ee?M:F,Z)}};if(l?!Array.isArray(_)||!_.length:m&&(!E&&(G||$s(_))||Wr(_)&&!_||z&&!Ub(u).isValid||D&&!Wb(u).isValid)){const{value:ee,message:se}=Bc(m)?{value:!!m,message:m}:ai(m);if(ee&&(I[k]={type:ha.required,message:se,ref:A,...Y(ha.required,se)},!n))return B(se),I}if(!G&&(!$s(x)||!$s(v))){let ee,se;const ie=ai(v),M=ai(x);if(!$s(_)&&!isNaN(_)){const F=c.valueAsNumber||_&&+_;$s(ie.value)||(ee=F>ie.value),$s(M.value)||(se=F<M.value)}else{const F=c.valueAsDate||new Date(_),Z=H=>new Date(new Date().toDateString()+" "+H),L=c.type=="time",re=c.type=="week";Gr(ie.value)&&_&&(ee=L?Z(_)>Z(ie.value):re?_>ie.value:F>new Date(ie.value)),Gr(M.value)&&_&&(se=L?Z(_)<Z(M.value):re?_<M.value:F<new Date(M.value))}if((ee||se)&&(ne(!!ee,ie.message,M.message,ha.max,ha.min),!n))return B(I[k].message),I}if((p||f)&&!G&&(Gr(_)||l&&Array.isArray(_))){const ee=ai(p),se=ai(f),ie=!$s(ee.value)&&_.length>+ee.value,M=!$s(se.value)&&_.length<+se.value;if((ie||M)&&(ne(ie,ee.message,se.message),!n))return B(I[k].message),I}if(N&&!G&&Gr(_)){const{value:ee,message:se}=ai(N);if(ad(ee)&&!_.match(ee)&&(I[k]={type:ha.pattern,message:se,ref:c,...Y(ha.pattern,se)},!n))return B(se),I}if(C){if(Pr(C)){const ee=await C(_,r),se=mx(ee,A);if(se&&(I[k]={...se,...Y(ha.validate,se.message)},!n))return B(se.message),I}else if(Zt(C)){let ee={};for(const se in C){if(!qs(ee)&&!n)break;const ie=mx(await C[se](_,r),A,se);ie&&(ee={...ie,...Y(se,ie.message)},B(ie.message),n&&(I[k]=ee))}if(!qs(ee)&&(I[k]={ref:A,...ee},!n))return I}}return B(!0),I};const UC={mode:Er.onSubmit,reValidateMode:Er.onChange,shouldFocusError:!0};function HC(s={}){let e={...UC,...s},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=Zt(e.defaultValues)||Zt(e.values)?us(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:us(o),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...f};const v={array:rx(),state:rx()},N=e.criteriaMode===Er.all,C=O=>q=>{clearTimeout(p),p=setTimeout(O,q)},k=async O=>{if(!e.disabled&&(f.isValid||x.isValid||O)){const q=e.resolver?qs((await z()).errors):await G(n,!0);q!==r.isValid&&v.state.next({isValid:q})}},w=(O,q)=>{!e.disabled&&(f.isValidating||f.validatingFields||x.isValidating||x.validatingFields)&&((O||Array.from(u.mount)).forEach(J=>{J&&(q?wt(r.validatingFields,J,q):Jt(r.validatingFields,J))}),v.state.next({validatingFields:r.validatingFields,isValidating:!qs(r.validatingFields)}))},T=(O,q=[],J,be,xe=!0,de=!0)=>{if(be&&J&&!e.disabled){if(c.action=!0,de&&Array.isArray(Oe(n,O))){const Ce=J(Oe(n,O),be.argA,be.argB);xe&&wt(n,O,Ce)}if(de&&Array.isArray(Oe(r.errors,O))){const Ce=J(Oe(r.errors,O),be.argA,be.argB);xe&&wt(r.errors,O,Ce),VC(r.errors,O)}if((f.touchedFields||x.touchedFields)&&de&&Array.isArray(Oe(r.touchedFields,O))){const Ce=J(Oe(r.touchedFields,O),be.argA,be.argB);xe&&wt(r.touchedFields,O,Ce)}(f.dirtyFields||x.dirtyFields)&&(r.dirtyFields=po(o,l)),v.state.next({name:O,isDirty:ne(O,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wt(l,O,q)},_=(O,q)=>{wt(r.errors,O,q),v.state.next({errors:r.errors})},A=O=>{r.errors=O,v.state.next({errors:r.errors,isValid:!1})},B=(O,q,J,be)=>{const xe=Oe(n,O);if(xe){const de=Oe(l,O,Qt(J)?Oe(o,O):J);Qt(de)||be&&be.defaultChecked||q?wt(l,O,q?de:ox(xe._f)):ie(O,de),c.mount&&k()}},I=(O,q,J,be,xe)=>{let de=!1,Ce=!1;const ye={name:O};if(!e.disabled){if(!J||be){(f.isDirty||x.isDirty)&&(Ce=r.isDirty,r.isDirty=ye.isDirty=ne(),de=Ce!==ye.isDirty);const nt=Za(Oe(o,O),q);Ce=!!Oe(r.dirtyFields,O),nt?Jt(r.dirtyFields,O):wt(r.dirtyFields,O,!0),ye.dirtyFields=r.dirtyFields,de=de||(f.dirtyFields||x.dirtyFields)&&Ce!==!nt}if(J){const nt=Oe(r.touchedFields,O);nt||(wt(r.touchedFields,O,J),ye.touchedFields=r.touchedFields,de=de||(f.touchedFields||x.touchedFields)&&nt!==J)}de&&xe&&v.state.next(ye)}return de?ye:{}},D=(O,q,J,be)=>{const xe=Oe(r.errors,O),de=(f.isValid||x.isValid)&&Wr(q)&&r.isValid!==q;if(e.delayError&&J?(m=C(()=>_(O,J)),m(e.delayError)):(clearTimeout(p),m=null,J?wt(r.errors,O,J):Jt(r.errors,O)),(J?!Za(xe,J):xe)||!qs(be)||de){const Ce={...be,...de&&Wr(q)?{isValid:q}:{},errors:r.errors,name:O};r={...r,...Ce},v.state.next(Ce)}},z=async O=>{w(O,!0);const q=await e.resolver(l,e.context,MC(O||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(O),q},E=async O=>{const{errors:q}=await z(O);if(O)for(const J of O){const be=Oe(q,J);be?wt(r.errors,J,be):Jt(r.errors,J)}else r.errors=q;return q},G=async(O,q,J={valid:!0})=>{for(const be in O){const xe=O[be];if(xe){const{_f:de,...Ce}=xe;if(de){const ye=u.array.has(de.name),nt=xe._f&&OC(xe._f);nt&&f.validatingFields&&w([be],!0);const vt=await hx(xe,u.disabled,l,N,e.shouldUseNativeValidation&&!q,ye);if(nt&&f.validatingFields&&w([be]),vt[de.name]&&(J.valid=!1,q))break;!q&&(Oe(vt,de.name)?ye?BC(r.errors,vt,de.name):wt(r.errors,de.name,vt[de.name]):Jt(r.errors,de.name))}!qs(Ce)&&await G(Ce,q,J)}}return J.valid},Y=()=>{for(const O of u.unMount){const q=Oe(n,O);q&&(q._f.refs?q._f.refs.every(J=>!hm(J)):!hm(q._f.ref))&&Ee(O)}u.unMount=new Set},ne=(O,q)=>!e.disabled&&(O&&q&&wt(l,O,q),!Za(H(),o)),ee=(O,q,J)=>EC(O,u,{...c.mount?l:Qt(q)?o:Gr(O)?{[O]:q}:q},J,q),se=O=>Ch(Oe(c.mount?l:o,O,e.shouldUnregister?Oe(o,O,[]):[])),ie=(O,q,J={})=>{const be=Oe(n,O);let xe=q;if(be){const de=be._f;de&&(!de.disabled&&wt(l,O,Hb(q,de)),xe=sd(de.ref)&&$s(q)?"":q,Fb(de.ref)?[...de.ref.options].forEach(Ce=>Ce.selected=xe.includes(Ce.value)):de.refs?dl(de.ref)?de.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(xe)?Ce.checked=!!xe.find(ye=>ye===Ce.value):Ce.checked=xe===Ce.value||!!xe)}):de.refs.forEach(Ce=>Ce.checked=Ce.value===xe):Th(de.ref)?de.ref.value="":(de.ref.value=xe,de.ref.type||v.state.next({name:O,values:us(l)})))}(J.shouldDirty||J.shouldTouch)&&I(O,xe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&re(O)},M=(O,q,J)=>{for(const be in q){if(!q.hasOwnProperty(be))return;const xe=q[be],de=O+"."+be,Ce=Oe(n,de);(u.array.has(O)||Zt(xe)||Ce&&!Ce._f)&&!wn(xe)?M(de,xe,J):ie(de,xe,J)}},F=(O,q,J={})=>{const be=Oe(n,O),xe=u.array.has(O),de=us(q);wt(l,O,de),xe?(v.array.next({name:O,values:us(l)}),(f.isDirty||f.dirtyFields||x.isDirty||x.dirtyFields)&&J.shouldDirty&&v.state.next({name:O,dirtyFields:po(o,l),isDirty:ne(O,de)})):be&&!be._f&&!$s(de)?M(O,de,J):ie(O,de,J),dx(O,u)&&v.state.next({...r,name:O}),v.state.next({name:c.mount?O:void 0,values:us(l)})},Z=async O=>{c.mount=!0;const q=O.target;let J=q.name,be=!0;const xe=Oe(n,J),de=nt=>{be=Number.isNaN(nt)||wn(nt)&&isNaN(nt.getTime())||Za(nt,Oe(l,J,nt))},Ce=lx(e.mode),ye=lx(e.reValidateMode);if(xe){let nt,vt;const Rt=q.type?ox(xe._f):kC(O),Mt=O.type===sx.BLUR||O.type===sx.FOCUS_OUT,fs=!LC(xe._f)&&!e.resolver&&!Oe(r.errors,J)&&!xe._f.deps||FC(Mt,Oe(r.touchedFields,J),r.isSubmitted,ye,Ce),is=dx(J,u,Mt);wt(l,J,Rt),Mt?(!q||!q.readOnly)&&(xe._f.onBlur&&xe._f.onBlur(O),m&&m(0)):xe._f.onChange&&xe._f.onChange(O);const qt=I(J,Rt,Mt),Ns=!qs(qt)||is;if(!Mt&&v.state.next({name:J,type:O.type,values:us(l)}),fs)return(f.isValid||x.isValid)&&(e.mode==="onBlur"?Mt&&k():Mt||k()),Ns&&v.state.next({name:J,...is?{}:qt});if(!Mt&&is&&v.state.next({...r}),e.resolver){const{errors:Is}=await z([J]);if(de(Rt),be){const Qs=ux(r.errors,n,J),xs=ux(Is,n,Qs.name||J);nt=xs.error,J=xs.name,vt=qs(Is)}}else w([J],!0),nt=(await hx(xe,u.disabled,l,N,e.shouldUseNativeValidation))[J],w([J]),de(Rt),be&&(nt?vt=!1:(f.isValid||x.isValid)&&(vt=await G(n,!0)));be&&(xe._f.deps&&re(xe._f.deps),D(J,vt,nt,qt))}},L=(O,q)=>{if(Oe(r.errors,q)&&O.focus)return O.focus(),1},re=async(O,q={})=>{let J,be;const xe=Do(O);if(e.resolver){const de=await E(Qt(O)?O:xe);J=qs(de),be=O?!xe.some(Ce=>Oe(de,Ce)):J}else O?(be=(await Promise.all(xe.map(async de=>{const Ce=Oe(n,de);return await G(Ce&&Ce._f?{[de]:Ce}:Ce)}))).every(Boolean),!(!be&&!r.isValid)&&k()):be=J=await G(n);return v.state.next({...!Gr(O)||(f.isValid||x.isValid)&&J!==r.isValid?{}:{name:O},...e.resolver||!O?{isValid:J}:{},errors:r.errors}),q.shouldFocus&&!be&&Eo(n,L,O?xe:u.mount),be},H=O=>{const q={...c.mount?l:o};return Qt(O)?q:Gr(O)?Oe(q,O):O.map(J=>Oe(q,J))},P=(O,q)=>({invalid:!!Oe((q||r).errors,O),isDirty:!!Oe((q||r).dirtyFields,O),error:Oe((q||r).errors,O),isValidating:!!Oe(r.validatingFields,O),isTouched:!!Oe((q||r).touchedFields,O)}),W=O=>{O&&Do(O).forEach(q=>Jt(r.errors,q)),v.state.next({errors:O?r.errors:{}})},ae=(O,q,J)=>{const be=(Oe(n,O,{_f:{}})._f||{}).ref,xe=Oe(r.errors,O)||{},{ref:de,message:Ce,type:ye,...nt}=xe;wt(r.errors,O,{...nt,...q,ref:be}),v.state.next({name:O,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&be&&be.focus&&be.focus()},je=(O,q)=>Pr(O)?v.state.subscribe({next:J=>"values"in J&&O(ee(void 0,q),J)}):ee(O,q,!0),Ne=O=>v.state.subscribe({next:q=>{$C(O.name,q.name,O.exact)&&zC(q,O.formState||f,Pt,O.reRenderRoot)&&O.callback({values:{...l},...r,...q,defaultValues:o})}}).unsubscribe,pe=O=>(c.mount=!0,x={...x,...O.formState},Ne({...O,formState:x})),Ee=(O,q={})=>{for(const J of O?Do(O):u.mount)u.mount.delete(J),u.array.delete(J),q.keepValue||(Jt(n,J),Jt(l,J)),!q.keepError&&Jt(r.errors,J),!q.keepDirty&&Jt(r.dirtyFields,J),!q.keepTouched&&Jt(r.touchedFields,J),!q.keepIsValidating&&Jt(r.validatingFields,J),!e.shouldUnregister&&!q.keepDefaultValue&&Jt(o,J);v.state.next({values:us(l)}),v.state.next({...r,...q.keepDirty?{isDirty:ne()}:{}}),!q.keepIsValid&&k()},Ue=({disabled:O,name:q})=>{(Wr(O)&&c.mount||O||u.disabled.has(q))&&(O?u.disabled.add(q):u.disabled.delete(q))},Ye=(O,q={})=>{let J=Oe(n,O);const be=Wr(q.disabled)||Wr(e.disabled);return wt(n,O,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:O}},name:O,mount:!0,...q}}),u.mount.add(O),J?Ue({disabled:Wr(q.disabled)?q.disabled:e.disabled,name:O}):B(O,!0,q.value),{...be?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:fo(q.min),max:fo(q.max),minLength:fo(q.minLength),maxLength:fo(q.maxLength),pattern:fo(q.pattern)}:{},name:O,onChange:Z,onBlur:Z,ref:xe=>{if(xe){Ye(O,q),J=Oe(n,O);const de=Qt(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,Ce=PC(de),ye=J._f.refs||[];if(Ce?ye.find(nt=>nt===de):de===J._f.ref)return;wt(n,O,{_f:{...J._f,...Ce?{refs:[...ye.filter(hm),de,...Array.isArray(Oe(o,O))?[{}]:[]],ref:{type:de.type,name:O}}:{ref:de}}}),B(O,!1,void 0,de)}else J=Oe(n,O,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(SC(u.array,O)&&c.action)&&u.unMount.add(O)}}},ut=()=>e.shouldFocusError&&Eo(n,L,u.mount),Gt=O=>{Wr(O)&&(v.state.next({disabled:O}),Eo(n,(q,J)=>{const be=Oe(n,J);be&&(q.disabled=be._f.disabled||O,Array.isArray(be._f.refs)&&be._f.refs.forEach(xe=>{xe.disabled=be._f.disabled||O}))},0,!1))},_t=(O,q)=>async J=>{let be;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let xe=us(l);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:Ce}=await z();r.errors=de,xe=us(Ce)}else await G(n);if(u.disabled.size)for(const de of u.disabled)Jt(xe,de);if(Jt(r.errors,"root"),qs(r.errors)){v.state.next({errors:{}});try{await O(xe,J)}catch(de){be=de}}else q&&await q({...r.errors},J),ut(),setTimeout(ut);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qs(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},ps=(O,q={})=>{Oe(n,O)&&(Qt(q.defaultValue)?F(O,us(Oe(o,O))):(F(O,q.defaultValue),wt(o,O,us(q.defaultValue))),q.keepTouched||Jt(r.touchedFields,O),q.keepDirty||(Jt(r.dirtyFields,O),r.isDirty=q.defaultValue?ne(O,us(Oe(o,O))):ne()),q.keepError||(Jt(r.errors,O),f.isValid&&k()),v.state.next({...r}))},Et=(O,q={})=>{const J=O?us(O):o,be=us(J),xe=qs(O),de=xe?o:be;if(q.keepDefaultValues||(o=J),!q.keepValues){if(q.keepDirtyValues){const Ce=new Set([...u.mount,...Object.keys(po(o,l))]);for(const ye of Array.from(Ce))Oe(r.dirtyFields,ye)?wt(de,ye,Oe(l,ye)):F(ye,Oe(de,ye))}else{if(kh&&Qt(O))for(const Ce of u.mount){const ye=Oe(n,Ce);if(ye&&ye._f){const nt=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(sd(nt)){const vt=nt.closest("form");if(vt){vt.reset();break}}}}if(q.keepFieldsRef)for(const Ce of u.mount)F(Ce,Oe(de,Ce));else n={}}l=e.shouldUnregister?q.keepDefaultValues?us(o):{}:us(de),v.array.next({values:{...de}}),v.state.next({values:{...de}})}u={mount:q.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!f.isValid||!!q.keepIsValid||!!q.keepDirtyValues,c.watch=!!e.shouldUnregister,v.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Za(O,o)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?{}:q.keepDirtyValues?q.keepDefaultValues&&l?po(o,l):r.dirtyFields:q.keepDefaultValues&&O?po(o,O):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ns=(O,q)=>Et(Pr(O)?O(l):O,q),jt=(O,q={})=>{const J=Oe(n,O),be=J&&J._f;if(be){const xe=be.refs?be.refs[0]:be.ref;xe.focus&&(xe.focus(),q.shouldSelect&&Pr(xe.select)&&xe.select())}},Pt=O=>{r={...r,...O}},yt={control:{register:Ye,unregister:Ee,getFieldState:P,handleSubmit:_t,setError:ae,_subscribe:Ne,_runSchema:z,_focusError:ut,_getWatch:ee,_getDirty:ne,_setValid:k,_setFieldArray:T,_setDisabledField:Ue,_setErrors:A,_getFieldArray:se,_reset:Et,_resetDefaultValues:()=>Pr(e.defaultValues)&&e.defaultValues().then(O=>{ns(O,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:Gt,_subjects:v,_proxyFormState:f,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(O){c=O},get _defaultValues(){return o},get _names(){return u},set _names(O){u=O},get _formState(){return r},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:pe,trigger:re,register:Ye,handleSubmit:_t,watch:je,setValue:F,getValues:H,reset:ns,resetField:ps,clearErrors:W,unregister:Ee,setError:ae,setFocus:jt,getFieldState:P};return{...yt,formControl:yt}}function WC(s={}){const e=fe.useRef(void 0),r=fe.useRef(void 0),[n,o]=fe.useState({isDirty:!1,isValidating:!1,isLoading:Pr(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:Pr(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:n},s.defaultValues&&!Pr(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:c,...u}=HC(s);e.current={...u,formState:n}}const l=e.current.control;return l._options=s,DC(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(u=>({...u,isReady:!0})),l._formState.isReady=!0,c},[l]),fe.useEffect(()=>l._disableForm(s.disabled),[l,s.disabled]),fe.useEffect(()=>{s.mode&&(l._options.mode=s.mode),s.reValidateMode&&(l._options.reValidateMode=s.reValidateMode)},[l,s.mode,s.reValidateMode]),fe.useEffect(()=>{s.errors&&(l._setErrors(s.errors),l._focusError())},[l,s.errors]),fe.useEffect(()=>{s.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,s.shouldUnregister]),fe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),fe.useEffect(()=>{s.values&&!Za(s.values,r.current)?(l._reset(s.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=s.values,o(c=>({...c}))):l._resetDefaultValues()},[l,s.values]),fe.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=_C(n,l),e.current}const px=(s,e,r)=>{if(s&&"reportValidity"in s){const n=Oe(r,e);s.setCustomValidity(n&&n.message||""),s.reportValidity()}},Gb=(s,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?px(n.ref,r,s):n.refs&&n.refs.forEach(o=>px(o,r,s))}},GC=(s,e)=>{e.shouldUseNativeValidation&&Gb(s,e);const r={};for(const n in s){const o=Oe(e.fields,n),l=Object.assign(s[n]||{},{ref:o&&o.ref});if(YC(e.names||Object.keys(s),n)){const c=Object.assign({},Oe(r,n));wt(c,"root",l),wt(r,n,c)}else wt(r,n,l)}return r},YC=(s,e)=>s.some(r=>r.startsWith(e+"."));var KC=function(s,e){for(var r={};s.length;){var n=s[0],o=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[c]={message:u.message,type:u.code}}else r[c]={message:l,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(x){return s.push(x)})}),e){var m=r[c].types,p=m&&m[n.code];r[c]=$b(c,e,r,o,p?[].concat(p,n.message):n.message)}s.shift()}return r},ZC=function(s,e,r){return r===void 0&&(r={}),function(n,o,l){try{return Promise.resolve(function(c,u){try{var m=Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(p){return l.shouldUseNativeValidation&&Gb({},l),{errors:{},values:r.raw?n:p}})}catch(p){return u(p)}return m&&m.then?m.then(void 0,u):m}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:GC(KC(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const qC=ri.object({username:ri.string().min(3,"用户名至少3个字符").max(20,"用户名最多20个字符"),email:ri.string().email("请输入有效的邮箱地址"),password:ri.string().min(6,"密码至少6个字符").refine(s=>/[A-Z]/.test(s),{message:"密码必须包含至少一个大写字母"}),confirmPassword:ri.string(),agreeTerms:ri.boolean().refine(s=>s===!0,{message:"您必须同意服务条款和隐私政策"})}).refine(s=>s.password===s.confirmPassword,{message:"两次输入的密码不一致",path:["confirmPassword"]});function XC(){const[s,e]=j.useState(!1),{lang:r}=hs(),n=Ps(r),o=Pn(),{register:l,handleSubmit:c,formState:{errors:u}}=WC({resolver:ZC(qC),defaultValues:{username:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}}),m=p=>{e(!0),setTimeout(()=>{_r.success("注册成功！请登录您的账户"),o("/login"),e(!1)},1500)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("h1",{className:"text-2xl font-bold",children:y(n,"register.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(n,"register.subtitle")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 md:p-8",children:[t.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.username")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-user text-slate-400"})}),t.jsx("input",{type:"text",id:"username",...l("username"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.username")})]}),u.username&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.username.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.email")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-envelope text-slate-400"})}),t.jsx("input",{type:"email",id:"email",...l("email"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.email")})]}),u.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.email.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.password")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"password",...l("password"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.password")})]}),u.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.password.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"confirmPassword",...l("confirmPassword"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.confirmPassword")})]}),u.confirmPassword&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.confirmPassword.message})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"agreeTerms",type:"checkbox",...l("agreeTerms"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsxs("label",{htmlFor:"agreeTerms",className:"text-slate-600 dark:text-slate-300",children:[y(n,"register.labels.agreePrefix"),t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.labels.terms")}),y(n,"register.labels.and"),t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.labels.privacy")})]})})]}),u.agreeTerms&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.agreeTerms.message})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-80 disabled:cursor-not-allowed transition-all",children:s?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),y(n,"common.buttons.creatingAccount")]}):y(n,"register.buttons.submit")})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y(n,"register.haveAccountPrompt")," ",t.jsx(oe,{to:"/login",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.loginLink")})]})})]})]})})}const _h=j.createContext({});function Dh(s){const e=j.useRef(null);return e.current===null&&(e.current=s()),e.current}const Eh=typeof window<"u",Yb=Eh?j.useLayoutEffect:j.useEffect,fd=j.createContext(null),Ph=j.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class JC extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,o=n instanceof HTMLElement&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QC({children:s,isPresent:e,anchorX:r}){const n=j.useId(),o=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(Ph);return j.useInsertionEffect(()=>{const{width:u,height:m,top:p,left:f,right:x}=l.current;if(e||!o.current||!u||!m)return;const v=r==="left"?`left: ${f}`:`right: ${x}`;o.current.dataset.motionPopId=n;const N=document.createElement("style");return c&&(N.nonce=c),document.head.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(N)&&document.head.removeChild(N)}},[e]),t.jsx(JC,{isPresent:e,childRef:o,sizeRef:l,children:j.cloneElement(s,{ref:o})})}const e2=({children:s,initial:e,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c,anchorX:u})=>{const m=Dh(t2),p=j.useId();let f=!0,x=j.useMemo(()=>(f=!1,{id:p,initial:e,isPresent:r,custom:o,onExitComplete:v=>{m.set(v,!0);for(const N of m.values())if(!N)return;n&&n()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[r,m,n]);return l&&f&&(x={...x}),j.useMemo(()=>{m.forEach((v,N)=>m.set(N,!1))},[r]),j.useEffect(()=>{!r&&!m.size&&n&&n()},[r]),c==="popLayout"&&(s=t.jsx(QC,{isPresent:r,anchorX:u,children:s})),t.jsx(fd.Provider,{value:x,children:s})};function t2(){return new Map}function Kb(s=!0){const e=j.useContext(fd);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=e,l=j.useId();j.useEffect(()=>{if(s)return o(l)},[s]);const c=j.useCallback(()=>s&&n&&n(l),[l,n,s]);return!r&&n?[!1,c]:[!0]}const Tc=s=>s.key||"";function fx(s){const e=[];return j.Children.forEach(s,r=>{j.isValidElement(r)&&e.push(r)}),e}const s2=({children:s,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:u="left"})=>{const[m,p]=Kb(c),f=j.useMemo(()=>fx(s),[s]),x=c&&!m?[]:f.map(Tc),v=j.useRef(!0),N=j.useRef(f),C=Dh(()=>new Map),[k,w]=j.useState(f),[T,_]=j.useState(f);Yb(()=>{v.current=!1,N.current=f;for(let I=0;I<T.length;I++){const D=Tc(T[I]);x.includes(D)?C.delete(D):C.get(D)!==!0&&C.set(D,!1)}},[T,x.length,x.join("-")]);const A=[];if(f!==k){let I=[...f];for(let D=0;D<T.length;D++){const z=T[D],E=Tc(z);x.includes(E)||(I.splice(D,0,z),A.push(z))}return l==="wait"&&A.length&&(I=A),_(fx(I)),w(f),null}const{forceRender:B}=j.useContext(_h);return t.jsx(t.Fragment,{children:T.map(I=>{const D=Tc(I),z=c&&!m?!1:f===T||x.includes(D),E=()=>{if(C.has(D))C.set(D,!0);else return;let G=!0;C.forEach(Y=>{Y||(G=!1)}),G&&(B==null||B(),_(N.current),c&&(p==null||p()),n&&n())};return t.jsx(e2,{isPresent:z,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,onExitComplete:z?void 0:E,anchorX:u,children:I},D)})})};function Ih(s,e){s.indexOf(e)===-1&&s.push(e)}function Rh(s,e){const r=s.indexOf(e);r>-1&&s.splice(r,1)}const Na=(s,e,r)=>r>e?e:r<s?s:r;let Mh=()=>{};const ka={},Zb=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),qb=s=>/^0[^.\s]+$/u.test(s);function Oh(s){let e;return()=>(e===void 0&&(e=s()),e)}const xr=s=>s,r2=(s,e)=>r=>e(s(r)),ul=(...s)=>s.reduce(r2),Jo=(s,e,r)=>{const n=e-s;return n===0?1:(r-s)/n};class Lh{constructor(){this.subscriptions=[]}add(e){return Ih(this.subscriptions,e),()=>Rh(this.subscriptions,e)}notify(e,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=s=>s*1e3,Zr=s=>s/1e3;function Xb(s,e){return e?s*(1e3/e):0}const Jb=(s,e,r)=>(((1-3*r+3*e)*s+(3*r-6*e))*s+3*e)*s,a2=1e-7,n2=12;function i2(s,e,r,n,o){let l,c,u=0;do c=e+(r-e)/2,l=Jb(c,n,o)-s,l>0?r=c:e=c;while(Math.abs(l)>a2&&++u<n2);return c}function ml(s,e,r,n){if(s===e&&r===n)return xr;const o=l=>i2(l,0,1,s,r);return l=>l===0||l===1?l:Jb(o(l),e,n)}const Qb=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,ey=s=>e=>1-s(1-e),ty=ml(.33,1.53,.69,.99),zh=ey(ty),sy=Qb(zh),ry=s=>(s*=2)<1?.5*zh(s):.5*(2-Math.pow(2,-10*(s-1))),$h=s=>1-Math.sin(Math.acos(s)),ay=ey($h),ny=Qb($h),o2=ml(.42,0,1,1),l2=ml(0,0,.58,1),iy=ml(.42,0,.58,1),c2=s=>Array.isArray(s)&&typeof s[0]!="number",oy=s=>Array.isArray(s)&&typeof s[0]=="number",d2={linear:xr,easeIn:o2,easeInOut:iy,easeOut:l2,circIn:$h,circInOut:ny,circOut:ay,backIn:zh,backInOut:sy,backOut:ty,anticipate:ry},u2=s=>typeof s=="string",xx=s=>{if(oy(s)){Mh(s.length===4);const[e,r,n,o]=s;return ml(e,r,n,o)}else if(u2(s))return d2[s];return s},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gx={value:null};function m2(s,e){let r=new Set,n=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},m=0;function p(x){c.has(x)&&(f.schedule(x),s()),m++,x(u)}const f={schedule:(x,v=!1,N=!1)=>{const k=N&&o?r:n;return v&&c.add(x),k.has(x)||k.add(x),x},cancel:x=>{n.delete(x),c.delete(x)},process:x=>{if(u=x,o){l=!0;return}o=!0,[r,n]=[n,r],r.forEach(p),e&&gx.value&&gx.value.frameloop[e].push(m),m=0,r.clear(),o=!1,l&&(l=!1,f.process(x))}};return f}const h2=40;function ly(s,e){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=Ac.reduce((A,B)=>(A[B]=m2(l,e?B:void 0),A),{}),{setup:u,read:m,resolveKeyframes:p,preUpdate:f,update:x,preRender:v,render:N,postRender:C}=c,k=()=>{const A=ka.useManualTiming?o.timestamp:performance.now();r=!1,ka.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(A-o.timestamp,h2),1)),o.timestamp=A,o.isProcessing=!0,u.process(o),m.process(o),p.process(o),f.process(o),x.process(o),v.process(o),N.process(o),C.process(o),o.isProcessing=!1,r&&e&&(n=!1,s(k))},w=()=>{r=!0,n=!0,o.isProcessing||s(k)};return{schedule:Ac.reduce((A,B)=>{const I=c[B];return A[B]=(D,z=!1,E=!1)=>(r||w(),I.schedule(D,z,E)),A},{}),cancel:A=>{for(let B=0;B<Ac.length;B++)c[Ac[B]].cancel(A)},state:o,steps:c}}const{schedule:Ut,cancel:en,state:vs,steps:pm}=ly(typeof requestAnimationFrame<"u"?requestAnimationFrame:xr,!0);let Uc;function p2(){Uc=void 0}const Js={now:()=>(Uc===void 0&&Js.set(vs.isProcessing||ka.useManualTiming?vs.timestamp:performance.now()),Uc),set:s=>{Uc=s,queueMicrotask(p2)}},cy=s=>e=>typeof e=="string"&&e.startsWith(s),Fh=cy("--"),f2=cy("var(--"),Vh=s=>f2(s)?x2.test(s.split("/*")[0].trim()):!1,x2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ki={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Qo={...ki,transform:s=>Na(0,1,s)},_c={...ki,default:1},Po=s=>Math.round(s*1e5)/1e5,Bh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g2(s){return s==null}const b2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uh=(s,e)=>r=>!!(typeof r=="string"&&b2.test(r)&&r.startsWith(s)||e&&!g2(r)&&Object.prototype.hasOwnProperty.call(r,e)),dy=(s,e,r)=>n=>{if(typeof n!="string")return n;const[o,l,c,u]=n.match(Bh);return{[s]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},y2=s=>Na(0,255,s),fm={...ki,transform:s=>Math.round(y2(s))},jn={test:Uh("rgb","red"),parse:dy("red","green","blue"),transform:({red:s,green:e,blue:r,alpha:n=1})=>"rgba("+fm.transform(s)+", "+fm.transform(e)+", "+fm.transform(r)+", "+Po(Qo.transform(n))+")"};function v2(s){let e="",r="",n="",o="";return s.length>5?(e=s.substring(1,3),r=s.substring(3,5),n=s.substring(5,7),o=s.substring(7,9)):(e=s.substring(1,2),r=s.substring(2,3),n=s.substring(3,4),o=s.substring(4,5),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Ym={test:Uh("#"),parse:v2,transform:jn.transform},hl=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),Ya=hl("deg"),qr=hl("%"),qe=hl("px"),w2=hl("vh"),j2=hl("vw"),bx={...qr,parse:s=>qr.parse(s)/100,transform:s=>qr.transform(s*100)},oi={test:Uh("hsl","hue"),parse:dy("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(s)+", "+qr.transform(Po(e))+", "+qr.transform(Po(r))+", "+Po(Qo.transform(n))+")"},_s={test:s=>jn.test(s)||Ym.test(s)||oi.test(s),parse:s=>jn.test(s)?jn.parse(s):oi.test(s)?oi.parse(s):Ym.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?jn.transform(s):oi.transform(s)},N2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k2(s){var e,r;return isNaN(s)&&typeof s=="string"&&(((e=s.match(Bh))==null?void 0:e.length)||0)+(((r=s.match(N2))==null?void 0:r.length)||0)>0}const uy="number",my="color",C2="var",S2="var(",yx="${}",T2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(s){const e=s.toString(),r=[],n={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(T2,m=>(_s.test(m)?(n.color.push(l),o.push(my),r.push(_s.parse(m))):m.startsWith(S2)?(n.var.push(l),o.push(C2),r.push(m)):(n.number.push(l),o.push(uy),r.push(parseFloat(m))),++l,yx)).split(yx);return{values:r,split:u,indexes:n,types:o}}function hy(s){return el(s).values}function py(s){const{split:e,types:r}=el(s),n=e.length;return o=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],o[c]!==void 0){const u=r[c];u===uy?l+=Po(o[c]):u===my?l+=_s.transform(o[c]):l+=o[c]}return l}}const A2=s=>typeof s=="number"?0:s;function _2(s){const e=hy(s);return py(s)(e.map(A2))}const tn={test:k2,parse:hy,createTransformer:py,getAnimatableNone:_2};function xm(s,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(e-s)*6*r:r<1/2?e:r<2/3?s+(e-s)*(2/3-r)*6:s}function D2({hue:s,saturation:e,lightness:r,alpha:n}){s/=360,e/=100,r/=100;let o=0,l=0,c=0;if(!e)o=l=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,m=2*r-u;o=xm(m,u,s+1/3),l=xm(m,u,s),c=xm(m,u,s-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function nd(s,e){return r=>r>0?e:s}const Vt=(s,e,r)=>s+(e-s)*r,gm=(s,e,r)=>{const n=s*s,o=r*(e*e-n)+n;return o<0?0:Math.sqrt(o)},E2=[Ym,jn,oi],P2=s=>E2.find(e=>e.test(s));function vx(s){const e=P2(s);if(!e)return!1;let r=e.parse(s);return e===oi&&(r=D2(r)),r}const wx=(s,e)=>{const r=vx(s),n=vx(e);if(!r||!n)return nd(s,e);const o={...r};return l=>(o.red=gm(r.red,n.red,l),o.green=gm(r.green,n.green,l),o.blue=gm(r.blue,n.blue,l),o.alpha=Vt(r.alpha,n.alpha,l),jn.transform(o))},Km=new Set(["none","hidden"]);function I2(s,e){return Km.has(s)?r=>r<=0?s:e:r=>r>=1?e:s}function R2(s,e){return r=>Vt(s,e,r)}function Hh(s){return typeof s=="number"?R2:typeof s=="string"?Vh(s)?nd:_s.test(s)?wx:L2:Array.isArray(s)?fy:typeof s=="object"?_s.test(s)?wx:M2:nd}function fy(s,e){const r=[...s],n=r.length,o=s.map((l,c)=>Hh(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}}function M2(s,e){const r={...s,...e},n={};for(const o in r)s[o]!==void 0&&e[o]!==void 0&&(n[o]=Hh(s[o])(s[o],e[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}}function O2(s,e){const r=[],n={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=s.indexes[l][n[l]],u=s.values[c]??0;r[o]=u,n[l]++}return r}const L2=(s,e)=>{const r=tn.createTransformer(e),n=el(s),o=el(e);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Km.has(s)&&!o.values.length||Km.has(e)&&!n.values.length?I2(s,e):ul(fy(O2(n,o),o.values),r):nd(s,e)};function xy(s,e,r){return typeof s=="number"&&typeof e=="number"&&typeof r=="number"?Vt(s,e,r):Hh(s)(s,e)}const z2=s=>{const e=({timestamp:r})=>s(r);return{start:()=>Ut.update(e,!0),stop:()=>en(e),now:()=>vs.isProcessing?vs.timestamp:Js.now()}},gy=(s,e,r=10)=>{let n="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)n+=s(l/(o-1))+", ";return`linear(${n.substring(0,n.length-2)})`},id=2e4;function Wh(s){let e=0;const r=50;let n=s.next(e);for(;!n.done&&e<id;)e+=r,n=s.next(e);return e>=id?1/0:e}function $2(s,e=100,r){const n=r({...s,keyframes:[0,e]}),o=Math.min(Wh(n),id);return{type:"keyframes",ease:l=>n.next(o*l).value/e,duration:Zr(o)}}const F2=5;function by(s,e,r){const n=Math.max(e-F2,0);return Xb(r-s(n),e-n)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jx=.001;function V2({duration:s=Wt.duration,bounce:e=Wt.bounce,velocity:r=Wt.velocity,mass:n=Wt.mass}){let o,l,c=1-e;c=Na(Wt.minDamping,Wt.maxDamping,c),s=Na(Wt.minDuration,Wt.maxDuration,Zr(s)),c<1?(o=p=>{const f=p*c,x=f*s,v=f-r,N=Zm(p,c),C=Math.exp(-x);return jx-v/N*C},l=p=>{const x=p*c*s,v=x*r+r,N=Math.pow(c,2)*Math.pow(p,2)*s,C=Math.exp(-x),k=Zm(Math.pow(p,2),c);return(-o(p)+jx>0?-1:1)*((v-N)*C)/k}):(o=p=>{const f=Math.exp(-p*s),x=(p-r)*s+1;return-.001+f*x},l=p=>{const f=Math.exp(-p*s),x=(r-p)*(s*s);return f*x});const u=5/s,m=U2(o,l,u);if(s=Kr(s),isNaN(m))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:s};{const p=Math.pow(m,2)*n;return{stiffness:p,damping:c*2*Math.sqrt(n*p),duration:s}}}const B2=12;function U2(s,e,r){let n=r;for(let o=1;o<B2;o++)n=n-s(n)/e(n);return n}function Zm(s,e){return s*Math.sqrt(1-e*e)}const H2=["duration","bounce"],W2=["stiffness","damping","mass"];function Nx(s,e){return e.some(r=>s[r]!==void 0)}function G2(s){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...s};if(!Nx(s,W2)&&Nx(s,H2))if(s.visualDuration){const r=s.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,l=2*Na(.05,1,1-(s.bounce||0))*Math.sqrt(o);e={...e,mass:Wt.mass,stiffness:o,damping:l}}else{const r=V2(s);e={...e,...r,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function od(s=Wt.visualDuration,e=Wt.bounce){const r=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:p,mass:f,duration:x,velocity:v,isResolvedFromDuration:N}=G2({...r,velocity:-Zr(r.velocity||0)}),C=v||0,k=p/(2*Math.sqrt(m*f)),w=c-l,T=Zr(Math.sqrt(m/f)),_=Math.abs(w)<5;n||(n=_?Wt.restSpeed.granular:Wt.restSpeed.default),o||(o=_?Wt.restDelta.granular:Wt.restDelta.default);let A;if(k<1){const I=Zm(T,k);A=D=>{const z=Math.exp(-k*T*D);return c-z*((C+k*T*w)/I*Math.sin(I*D)+w*Math.cos(I*D))}}else if(k===1)A=I=>c-Math.exp(-T*I)*(w+(C+T*w)*I);else{const I=T*Math.sqrt(k*k-1);A=D=>{const z=Math.exp(-k*T*D),E=Math.min(I*D,300);return c-z*((C+k*T*w)*Math.sinh(E)+I*w*Math.cosh(E))/I}}const B={calculatedDuration:N&&x||null,next:I=>{const D=A(I);if(N)u.done=I>=x;else{let z=I===0?C:0;k<1&&(z=I===0?Kr(C):by(A,I,D));const E=Math.abs(z)<=n,G=Math.abs(c-D)<=o;u.done=E&&G}return u.value=u.done?c:D,u},toString:()=>{const I=Math.min(Wh(B),id),D=gy(z=>B.next(I*z).value,I,30);return I+"ms "+D},toTransition:()=>{}};return B}od.applyToOptions=s=>{const e=$2(s,100,od);return s.ease=e.ease,s.duration=Kr(e.duration),s.type="keyframes",s};function qm({keyframes:s,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:p=.5,restSpeed:f}){const x=s[0],v={done:!1,value:x},N=E=>u!==void 0&&E<u||m!==void 0&&E>m,C=E=>u===void 0?m:m===void 0||Math.abs(u-E)<Math.abs(m-E)?u:m;let k=r*e;const w=x+k,T=c===void 0?w:c(w);T!==w&&(k=T-x);const _=E=>-k*Math.exp(-E/n),A=E=>T+_(E),B=E=>{const G=_(E),Y=A(E);v.done=Math.abs(G)<=p,v.value=v.done?T:Y};let I,D;const z=E=>{N(v.value)&&(I=E,D=od({keyframes:[v.value,C(v.value)],velocity:by(A,E,v.value),damping:o,stiffness:l,restDelta:p,restSpeed:f}))};return z(0),{calculatedDuration:null,next:E=>{let G=!1;return!D&&I===void 0&&(G=!0,B(E),z(E)),I!==void 0&&E>=I?D.next(E-I):(!G&&B(E),v)}}}function Y2(s,e,r){const n=[],o=r||ka.mix||xy,l=s.length-1;for(let c=0;c<l;c++){let u=o(s[c],s[c+1]);if(e){const m=Array.isArray(e)?e[c]||xr:e;u=ul(m,u)}n.push(u)}return n}function K2(s,e,{clamp:r=!0,ease:n,mixer:o}={}){const l=s.length;if(Mh(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=s[0]===s[1];s[0]>s[l-1]&&(s=[...s].reverse(),e=[...e].reverse());const u=Y2(e,n,o),m=u.length,p=f=>{if(c&&f<s[0])return e[0];let x=0;if(m>1)for(;x<s.length-2&&!(f<s[x+1]);x++);const v=Jo(s[x],s[x+1],f);return u[x](v)};return r?f=>p(Na(s[0],s[l-1],f)):p}function Z2(s,e){const r=s[s.length-1];for(let n=1;n<=e;n++){const o=Jo(0,e,n);s.push(Vt(r,1,o))}}function q2(s){const e=[0];return Z2(e,s.length-1),e}function X2(s,e){return s.map(r=>r*e)}function J2(s,e){return s.map(()=>e||iy).splice(0,s.length-1)}function Io({duration:s=300,keyframes:e,times:r,ease:n="easeInOut"}){const o=c2(n)?n.map(xx):xx(n),l={done:!1,value:e[0]},c=X2(r&&r.length===e.length?r:q2(e),s),u=K2(c,e,{ease:Array.isArray(o)?o:J2(e,o)});return{calculatedDuration:s,next:m=>(l.value=u(m),l.done=m>=s,l)}}const Q2=s=>s!==null;function Gh(s,{repeat:e,repeatType:r="loop"},n,o=1){const l=s.filter(Q2),u=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!u||n===void 0?l[u]:n}const eS={decay:qm,inertia:qm,tween:Io,keyframes:Io,spring:od};function yy(s){typeof s.type=="string"&&(s.type=eS[s.type])}class Yh{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const tS=s=>s/100;class vy extends Yh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Js.now()&&this.tick(Js.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yy(e);const{type:r=Io,repeat:n=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const m=r||Io;m!==Io&&typeof u[0]!="number"&&(this.mixKeyframes=ul(tS,xy(u[0],u[1])),u=[0,100]);const p=m({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Wh(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:f,repeat:x,repeatType:v,repeatDelay:N,type:C,onUpdate:k,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let A=this.currentTime,B=n;if(x){const E=Math.min(this.currentTime,o)/u;let G=Math.floor(E),Y=E%1;!Y&&E>=1&&(Y=1),Y===1&&G--,G=Math.min(G,x+1),!!(G%2)&&(v==="reverse"?(Y=1-Y,N&&(Y-=N/u)):v==="mirror"&&(B=c)),A=Na(0,1,Y)*u}const I=_?{done:!1,value:f[0]}:B.next(A);l&&(I.value=l(I.value));let{done:D}=I;!_&&m!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return z&&C!==qm&&(I.value=Gh(f,this.options,w,this.speed)),k&&k(I.value),z&&this.finish(),I}then(e,r){return this.finished.then(e,r)}get duration(){return Zr(this.calculatedDuration)}get time(){return Zr(this.currentTime)}set time(e){e=Kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Js.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Zr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=z2,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function sS(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const Nn=s=>s*180/Math.PI,Xm=s=>{const e=Nn(Math.atan2(s[1],s[0]));return Jm(e)},rS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Xm,rotateZ:Xm,skewX:s=>Nn(Math.atan(s[1])),skewY:s=>Nn(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Jm=s=>(s=s%360,s<0&&(s+=360),s),kx=Xm,Cx=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Sx=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),aS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cx,scaleY:Sx,scale:s=>(Cx(s)+Sx(s))/2,rotateX:s=>Jm(Nn(Math.atan2(s[6],s[5]))),rotateY:s=>Jm(Nn(Math.atan2(-s[2],s[0]))),rotateZ:kx,rotate:kx,skewX:s=>Nn(Math.atan(s[4])),skewY:s=>Nn(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Tx(s){return s.includes("scale")?1:0}function Qm(s,e){if(!s||s==="none")return Tx(e);const r=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(r)n=aS,o=r;else{const u=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=rS,o=u}if(!o)return Tx(e);const l=n[e],c=o[1].split(",").map(iS);return typeof l=="function"?l(c):c[l]}const nS=(s,e)=>{const{transform:r="none"}=getComputedStyle(s);return Qm(r,e)};function iS(s){return parseFloat(s.trim())}const Ci=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Si=new Set(Ci),Ax=s=>s===ki||s===qe,oS=new Set(["x","y","z"]),lS=Ci.filter(s=>!oS.has(s));function cS(s){const e=[];return lS.forEach(r=>{const n=s.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Sn={width:({x:s},{paddingLeft:e="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),height:({y:s},{paddingTop:e="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Qm(e,"x"),y:(s,{transform:e})=>Qm(e,"y")};Sn.translateX=Sn.x;Sn.translateY=Sn.y;const Tn=new Set;let eh=!1,th=!1,sh=!1;function wy(){if(th){const s=Array.from(Tn).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),r=new Map;e.forEach(n=>{const o=cS(n);o.length&&(r.set(n,o),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([l,c])=>{var u;(u=n.getValue(l))==null||u.set(c)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}th=!1,eh=!1,Tn.forEach(s=>s.complete(sh)),Tn.clear()}function jy(){Tn.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(th=!0)})}function dS(){sh=!0,jy(),wy(),sh=!1}class Kh{constructor(e,r,n,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tn.add(this),eh||(eh=!0,Ut.read(jy),Ut.resolveKeyframes(wy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(n&&r){const u=n.readValue(r,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}sS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Tn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uS=s=>s.startsWith("--");function mS(s,e,r){uS(e)?s.style.setProperty(e,r):s.style[e]=r}const hS=Oh(()=>window.ScrollTimeline!==void 0),pS={};function fS(s,e){const r=Oh(s);return()=>pS[e]??r()}const Ny=fS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),So=([s,e,r,n])=>`cubic-bezier(${s}, ${e}, ${r}, ${n})`,_x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:So([0,.65,.55,1]),circOut:So([.55,0,1,.45]),backIn:So([.31,.01,.66,-.59]),backOut:So([.33,1.53,.69,.99])};function ky(s,e){if(s)return typeof s=="function"?Ny()?gy(s,e):"ease-out":oy(s)?So(s):Array.isArray(s)?s.map(r=>ky(r,e)||_x.easeOut):_x[s]}function xS(s,e,r,{delay:n=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},p=void 0){const f={[e]:r};m&&(f.offset=m);const x=ky(u,o);Array.isArray(x)&&(f.easing=x);const v={delay:n,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),s.animate(f,v)}function Cy(s){return typeof s=="function"&&"applyToOptions"in s}function gS({type:s,...e}){return Cy(s)&&Ny()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bS extends Yh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Mh(typeof e.type!="string");const p=gS(e);this.animation=xS(r,n,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=Gh(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):mS(r,n,f),this.animation.cancel()}m==null||m(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Zr(Number(e))}get time(){return Zr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hS()?(this.animation.timeline=e,xr):r(this)}}const Sy={anticipate:ry,backInOut:sy,circInOut:ny};function yS(s){return s in Sy}function vS(s){typeof s.ease=="string"&&yS(s.ease)&&(s.ease=Sy[s.ease])}const Dx=10;class wS extends bS{constructor(e){vS(e),yy(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:o,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new vy({...c,autoplay:!1}),m=Kr(this.finishedTime??this.time);r.setWithVelocity(u.sample(m-Dx).value,u.sample(m).value,Dx),u.stop()}}const Ex=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(tn.test(s)||s==="0")&&!s.startsWith("url("));function jS(s){const e=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==e)return!0}function NS(s,e,r,n){const o=s[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=s[s.length-1],c=Ex(o,e),u=Ex(l,e);return!c||!u?!1:jS(s)||(r==="spring"||Cy(r))&&n}const kS=new Set(["opacity","clipPath","filter","transform"]),CS=Oh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SS(s){const{motionValue:e,name:r,repeatDelay:n,repeatType:o,damping:l,type:c}=s;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=e.owner.getProps();return CS()&&r&&kS.has(r)&&(r!=="transform"||!m)&&!u&&!n&&o!=="mirror"&&l!==0&&c!=="inertia"}const TS=40;class AS extends Yh{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:p,element:f,...x}){var C;super(),this.stop=()=>{var k,w;this._animation?(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)):(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Js.now();const v={autoplay:e,delay:r,type:n,repeat:o,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:f,...x},N=(f==null?void 0:f.KeyframeResolver)||Kh;this.keyframeResolver=new N(u,(k,w,T)=>this.onKeyframesResolved(k,w,v,!T),m,p,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,r,n,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:p,onUpdate:f}=n;this.resolvedAt=Js.now(),NS(e,l,c,u)||((ka.instantAnimations||!m)&&(f==null||f(Gh(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>TS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},N=!p&&SS(v)?new wS({...v,element:v.motionValue.owner.current}):new vy(v);N.finished.then(()=>this.notifyFinished()).catch(xr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||dS(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const _S=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DS(s){const e=_S.exec(s);if(!e)return[,];const[,r,n,o]=e;return[`--${r??n}`,o]}function Ty(s,e,r=1){const[n,o]=DS(s);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return Zb(c)?parseFloat(c):c}return Vh(o)?Ty(o,e,r+1):o}function Zh(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const Ay=new Set(["width","height","top","left","right","bottom",...Ci]),ES={test:s=>s==="auto",parse:s=>s},_y=s=>e=>e.test(s),Dy=[ki,qe,qr,Ya,j2,w2,ES],Px=s=>Dy.find(_y(s));function PS(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||qb(s):!0}const IS=new Set(["brightness","contrast","saturate","opacity"]);function RS(s){const[e,r]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=r.match(Bh)||[];if(!n)return s;const o=r.replace(n,"");let l=IS.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+o+")"}const MS=/\b([a-z-]*)\(.*?\)/gu,rh={...tn,getAnimatableNone:s=>{const e=s.match(MS);return e?e.map(RS).join(" "):s}},Ix={...ki,transform:Math.round},OS={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:_c,scaleX:_c,scaleY:_c,scaleZ:_c,skew:Ya,skewX:Ya,skewY:Ya,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Qo,originX:bx,originY:bx,originZ:qe},qh={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...OS,zIndex:Ix,fillOpacity:Qo,strokeOpacity:Qo,numOctaves:Ix},LS={...qh,color:_s,backgroundColor:_s,outlineColor:_s,fill:_s,stroke:_s,borderColor:_s,borderTopColor:_s,borderRightColor:_s,borderBottomColor:_s,borderLeftColor:_s,filter:rh,WebkitFilter:rh},Ey=s=>LS[s];function Py(s,e){let r=Ey(s);return r!==rh&&(r=tn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const zS=new Set(["auto","none","0"]);function $S(s,e,r){let n=0,o;for(;n<s.length&&!o;){const l=s[n];typeof l=="string"&&!zS.has(l)&&el(l).values.length&&(o=s[n]),n++}if(o&&r)for(const l of e)s[l]=Py(r,o)}class FS extends Kh{constructor(e,r,n,o,l){super(e,r,n,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Vh(p))){const f=Ty(p,r.current);f!==void 0&&(e[m]=f),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ay.has(n)||e.length!==2)return;const[o,l]=e,c=Px(o),u=Px(l);if(c!==u)if(Ax(c)&&Ax(u))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Sn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let o=0;o<e.length;o++)(e[o]===null||PS(e[o]))&&n.push(o);n.length&&$S(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(n,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=Sn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function VS(s,e,r){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const o=(r==null?void 0:r[s])??n.querySelectorAll(s);return o?Array.from(o):[]}return Array.from(s)}const Rx=30,BS=s=>!isNaN(parseFloat(s));class US{constructor(e,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{var c,u;const l=Js.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Lh);const n=this.events[e].add(r);return e==="change"?()=>{n(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Rx);return Xb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tl(s,e){return new US(s,e)}const Iy=(s,e)=>e&&typeof s=="number"?e.transform(s):s,{schedule:Xh}=ly(queueMicrotask,!1),Tr={x:!1,y:!1};function Ry(){return Tr.x||Tr.y}function HS(s){return s==="x"||s==="y"?Tr[s]?null:(Tr[s]=!0,()=>{Tr[s]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}function My(s,e){const r=VS(s),n=new AbortController,o={passive:!0,...e,signal:n.signal};return[r,o,()=>n.abort()]}function Mx(s){return!(s.pointerType==="touch"||Ry())}function WS(s,e,r={}){const[n,o,l]=My(s,r),c=u=>{if(!Mx(u))return;const{target:m}=u,p=e(m,u);if(typeof p!="function"||!m)return;const f=x=>{Mx(x)&&(p(x),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,o)};return n.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const Oy=(s,e)=>e?s===e?!0:Oy(s,e.parentElement):!1,Jh=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,GS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YS(s){return GS.has(s.tagName)||s.tabIndex!==-1}const To=new WeakSet;function Ox(s){return e=>{e.key==="Enter"&&s(e)}}function bm(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KS=(s,e)=>{const r=s.currentTarget;if(!r)return;const n=Ox(()=>{if(To.has(r))return;bm(r,"down");const o=Ox(()=>{bm(r,"up")}),l=()=>bm(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Lx(s){return Jh(s)&&!Ry()}function ZS(s,e,r={}){const[n,o,l]=My(s,r),c=u=>{const m=u.currentTarget;if(!Lx(u)||To.has(m))return;To.add(m);const p=e(m,u),f=(N,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),To.has(m)&&To.delete(m),Lx(N)&&typeof p=="function"&&p(N,{success:C})},x=N=>{f(N,m===window||m===document||r.useGlobalTarget||Oy(m,N.target))},v=N=>{f(N,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",v,o)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),u instanceof HTMLElement&&(u.addEventListener("focus",p=>KS(p,o)),!YS(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}const qS=[...Dy,_s,tn],XS=s=>qS.find(_y(s)),Ly=j.createContext({strict:!1}),zx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bi={};for(const s in zx)bi[s]={isEnabled:e=>zx[s].some(r=>!!e[r])};function JS(s){for(const e in s)bi[e]={...bi[e],...s[e]}}const QS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ld(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||QS.has(s)}let zy=s=>!ld(s);function e4(s){s&&(zy=e=>e.startsWith("on")?!ld(e):s(e))}try{e4(require("@emotion/is-prop-valid").default)}catch{}function t4(s,e,r){const n={};for(const o in s)o==="values"&&typeof s.values=="object"||(zy(o)||r===!0&&ld(o)||!e&&!ld(o)||s.draggable&&o.startsWith("onDrag"))&&(n[o]=s[o]);return n}function s4(s){if(typeof Proxy>"u")return s;const e=new Map,r=(...n)=>s(...n);return new Proxy(r,{get:(n,o)=>o==="create"?s:(e.has(o)||e.set(o,s(o)),e.get(o))})}const xd=j.createContext({});function gd(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function sl(s){return typeof s=="string"||Array.isArray(s)}const Qh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e0=["initial",...Qh];function bd(s){return gd(s.animate)||e0.some(e=>sl(s[e]))}function $y(s){return!!(bd(s)||s.variants)}function r4(s,e){if(bd(s)){const{initial:r,animate:n}=s;return{initial:r===!1||sl(r)?r:void 0,animate:sl(n)?n:void 0}}return s.inherit!==!1?e:{}}function a4(s){const{initial:e,animate:r}=r4(s,j.useContext(xd));return j.useMemo(()=>({initial:e,animate:r}),[$x(e),$x(r)])}function $x(s){return Array.isArray(s)?s.join(" "):s}const n4=Symbol.for("motionComponentSymbol");function li(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function i4(s,e,r){return j.useCallback(n=>{n&&s.onMount&&s.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):li(r)&&(r.current=n))},[e])}const t0=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o4="framerAppearId",Fy="data-"+t0(o4),Vy=j.createContext({});function l4(s,e,r,n,o){var k,w;const{visualElement:l}=j.useContext(xd),c=j.useContext(Ly),u=j.useContext(fd),m=j.useContext(Ph).reducedMotion,p=j.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(s,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const f=p.current,x=j.useContext(Vy);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&c4(p.current,r,o,x);const v=j.useRef(!1);j.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const N=r[Fy],C=j.useRef(!!N&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,N))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,N)));return Yb(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Xh.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,N)}),C.current=!1))}),f}function c4(s,e,r,n){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:p,layoutCrossfade:f}=e;s.projection=new r(s.latestValues,e["data-framer-portal-id"]?void 0:By(s.parent)),s.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&li(u),visualElement:s,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:m,layoutRoot:p})}function By(s){if(s)return s.options.allowProjection!==!1?s.projection:By(s.parent)}function d4({preloadedFeatures:s,createVisualElement:e,useRender:r,useVisualState:n,Component:o}){s&&JS(s);function l(u,m){let p;const f={...j.useContext(Ph),...u,layoutId:u4(u)},{isStatic:x}=f,v=a4(u),N=n(u,x);if(!x&&Eh){m4();const C=h4(f);p=C.MeasureLayout,v.visualElement=l4(o,N,f,e,C.ProjectionNode)}return t.jsxs(xd.Provider,{value:v,children:[p&&v.visualElement?t.jsx(p,{visualElement:v.visualElement,...f}):null,r(o,u,i4(N,v.visualElement,m),N,x,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=j.forwardRef(l);return c[n4]=o,c}function u4({layoutId:s}){const e=j.useContext(_h).id;return e&&s!==void 0?e+"-"+s:s}function m4(s,e){j.useContext(Ly).strict}function h4(s){const{drag:e,layout:r}=bi;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(s)||r!=null&&r.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const rl={};function p4(s){for(const e in s)rl[e]=s[e],Fh(e)&&(rl[e].isCSSVariable=!0)}function Uy(s,{layout:e,layoutId:r}){return Si.has(s)||s.startsWith("origin")||(e||r!==void 0)&&(!!rl[s]||s==="opacity")}const Ds=s=>!!(s&&s.getVelocity),f4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x4=Ci.length;function g4(s,e,r){let n="",o=!0;for(let l=0;l<x4;l++){const c=Ci[l],u=s[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||r){const p=Iy(u,qh[c]);if(!m){o=!1;const f=f4[c]||c;n+=`${f}(${p}) `}r&&(e[c]=p)}}return n=n.trim(),r?n=r(e,o?"":n):o&&(n="none"),n}function s0(s,e,r){const{style:n,vars:o,transformOrigin:l}=s;let c=!1,u=!1;for(const m in e){const p=e[m];if(Si.has(m)){c=!0;continue}else if(Fh(m)){o[m]=p;continue}else{const f=Iy(p,qh[m]);m.startsWith("origin")?(u=!0,l[m]=f):n[m]=f}}if(e.transform||(c||r?n.transform=g4(e,s.transform,r):n.transform&&(n.transform="none")),u){const{originX:m="50%",originY:p="50%",originZ:f=0}=l;n.transformOrigin=`${m} ${p} ${f}`}}const r0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hy(s,e,r){for(const n in e)!Ds(e[n])&&!Uy(n,r)&&(s[n]=e[n])}function b4({transformTemplate:s},e){return j.useMemo(()=>{const r=r0();return s0(r,e,s),Object.assign({},r.vars,r.style)},[e])}function y4(s,e){const r=s.style||{},n={};return Hy(n,r,s),Object.assign(n,b4(s,e)),n}function v4(s,e){const r={},n=y4(s,e);return s.drag&&s.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(r.tabIndex=0),r.style=n,r}const w4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a0(s){return typeof s!="string"||s.includes("-")?!1:!!(w4.indexOf(s)>-1||/[A-Z]/u.test(s))}const j4={offset:"stroke-dashoffset",array:"stroke-dasharray"},N4={offset:"strokeDashoffset",array:"strokeDasharray"};function k4(s,e,r=1,n=0,o=!0){s.pathLength=1;const l=o?j4:N4;s[l.offset]=qe.transform(-n);const c=qe.transform(e),u=qe.transform(r);s[l.array]=`${c} ${u}`}function Wy(s,{attrX:e,attrY:r,attrScale:n,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},m,p,f){if(s0(s,u,p),m){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:x,style:v}=s;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),o!==void 0&&k4(x,o,l,c,!1)}const Gy=()=>({...r0(),attrs:{}}),Yy=s=>typeof s=="string"&&s.toLowerCase()==="svg";function C4(s,e,r,n){const o=j.useMemo(()=>{const l=Gy();return Wy(l,e,Yy(n),s.transformTemplate,s.style),{...l.attrs,style:{...l.style}}},[e]);if(s.style){const l={};Hy(l,s.style,s),o.style={...l,...o.style}}return o}function S4(s=!1){return(r,n,o,{latestValues:l},c)=>{const m=(a0(r)?C4:v4)(n,l,c,r),p=t4(n,typeof r=="string",s),f=r!==j.Fragment?{...p,...m,ref:o}:{},{children:x}=n,v=j.useMemo(()=>Ds(x)?x.get():x,[x]);return j.createElement(r,{...f,children:v})}}function Fx(s){const e=[{},{}];return s==null||s.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function n0(s,e,r,n){if(typeof e=="function"){const[o,l]=Fx(n);e=e(r!==void 0?r:s.custom,o,l)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[o,l]=Fx(n);e=e(r!==void 0?r:s.custom,o,l)}return e}function Hc(s){return Ds(s)?s.get():s}function T4({scrapeMotionValuesFromProps:s,createRenderState:e},r,n,o){return{latestValues:A4(r,n,o,s),renderState:e()}}const Ky=s=>(e,r)=>{const n=j.useContext(xd),o=j.useContext(fd),l=()=>T4(s,e,n,o);return r?l():Dh(l)};function A4(s,e,r,n){const o={},l=n(s,{});for(const v in l)o[v]=Hc(l[v]);let{initial:c,animate:u}=s;const m=bd(s),p=$y(s);e&&p&&!m&&s.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const x=f?u:c;if(x&&typeof x!="boolean"&&!gd(x)){const v=Array.isArray(x)?x:[x];for(let N=0;N<v.length;N++){const C=n0(s,v[N]);if(C){const{transitionEnd:k,transition:w,...T}=C;for(const _ in T){let A=T[_];if(Array.isArray(A)){const B=f?A.length-1:0;A=A[B]}A!==null&&(o[_]=A)}for(const _ in k)o[_]=k[_]}}}return o}function i0(s,e,r){var l;const{style:n}=s,o={};for(const c in n)(Ds(n[c])||e.style&&Ds(e.style[c])||Uy(c,s)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=n[c]);return o}const _4={useVisualState:Ky({scrapeMotionValuesFromProps:i0,createRenderState:r0})};function Zy(s,e,r){const n=i0(s,e,r);for(const o in s)if(Ds(s[o])||Ds(e[o])){const l=Ci.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=s[o]}return n}const D4={useVisualState:Ky({scrapeMotionValuesFromProps:Zy,createRenderState:Gy})};function E4(s,e){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...a0(n)?D4:_4,preloadedFeatures:s,useRender:S4(o),createVisualElement:e,Component:n};return d4(c)}}function al(s,e,r){const n=s.getProps();return n0(n,e,r!==void 0?r:n.custom,s)}const ah=s=>Array.isArray(s);function P4(s,e,r){s.hasValue(e)?s.getValue(e).set(r):s.addValue(e,tl(r))}function I4(s){return ah(s)?s[s.length-1]||0:s}function R4(s,e){const r=al(s,e);let{transitionEnd:n={},transition:o={},...l}=r||{};l={...l,...n};for(const c in l){const u=I4(l[c]);P4(s,c,u)}}function M4(s){return!!(Ds(s)&&s.add)}function nh(s,e){const r=s.getValue("willChange");if(M4(r))return r.add(e);if(!r&&ka.WillChange){const n=new ka.WillChange("auto");s.addValue("willChange",n),n.add(e)}}function qy(s){return s.props[Fy]}const O4=s=>s!==null;function L4(s,{repeat:e,repeatType:r="loop"},n){const o=s.filter(O4),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const z4={type:"spring",stiffness:500,damping:25,restSpeed:10},$4=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},V4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B4=(s,{keyframes:e})=>e.length>2?F4:Si.has(s)?s.startsWith("scale")?$4(e[1]):z4:V4;function U4({when:s,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:p,...f}){return!!Object.keys(f).length}const o0=(s,e,r,n={},o,l)=>c=>{const u=Zh(n,s)||{},m=u.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Kr(m);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:s,motionValue:e,element:l?void 0:o};U4(u)||Object.assign(f,B4(s,f)),f.duration&&(f.duration=Kr(f.duration)),f.repeatDelay&&(f.repeatDelay=Kr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let x=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(x=!0)),(ka.instantAnimations||ka.skipAnimations)&&(x=!0,f.duration=0,f.delay=0),f.allowFlatten=!u.type&&!u.ease,x&&!l&&e.get()!==void 0){const v=L4(f.keyframes,u);if(v!==void 0){Ut.update(()=>{f.onUpdate(v),f.onComplete()});return}}return new AS(f)};function H4({protectedKeys:s,needsAnimating:e},r){const n=s.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Xy(s,e,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:l=s.getDefaultTransition(),transitionEnd:c,...u}=e;n&&(l=n);const m=[],p=o&&s.animationState&&s.animationState.getState()[o];for(const f in u){const x=s.getValue(f,s.latestValues[f]??null),v=u[f];if(v===void 0||p&&H4(p,f))continue;const N={delay:r,...Zh(l||{},f)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===C&&!N.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const T=qy(s);if(T){const _=window.MotionHandoffAnimation(T,f,Ut);_!==null&&(N.startTime=_,k=!0)}}nh(s,f),x.start(o0(f,x,v,s.shouldReduceMotion&&Ay.has(f)?{type:!1}:N,s,k));const w=x.animation;w&&m.push(w)}return c&&Promise.all(m).then(()=>{Ut.update(()=>{c&&R4(s,c)})}),m}function ih(s,e,r={}){var m;const n=al(s,e,r.type==="exit"?(m=s.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=s.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const l=n?()=>Promise.all(Xy(s,n,r)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:x,staggerDirection:v}=o;return W4(s,e,f+p,x,v,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,f]=u==="beforeChildren"?[l,c]:[c,l];return p().then(()=>f())}else return Promise.all([l(),c(r.delay)])}function W4(s,e,r=0,n=0,o=1,l){const c=[],u=(s.variantChildren.size-1)*n,m=o===1?(p=0)=>p*n:(p=0)=>u-p*n;return Array.from(s.variantChildren).sort(G4).forEach((p,f)=>{p.notify("AnimationStart",e),c.push(ih(p,e,{...l,delay:r+m(f)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function G4(s,e){return s.sortNodePosition(e)}function Y4(s,e,r={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const o=e.map(l=>ih(s,l,r));n=Promise.all(o)}else if(typeof e=="string")n=ih(s,e,r);else{const o=typeof e=="function"?al(s,e,r.custom):e;n=Promise.all(Xy(s,o,r))}return n.then(()=>{s.notify("AnimationComplete",e)})}function Jy(s,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==s.length)return!1;for(let n=0;n<r;n++)if(e[n]!==s[n])return!1;return!0}const K4=e0.length;function Qy(s){if(!s)return;if(!s.isControllingVariants){const r=s.parent?Qy(s.parent)||{}:{};return s.props.initial!==void 0&&(r.initial=s.props.initial),r}const e={};for(let r=0;r<K4;r++){const n=e0[r],o=s.props[n];(sl(o)||o===!1)&&(e[n]=o)}return e}const Z4=[...Qh].reverse(),q4=Qh.length;function X4(s){return e=>Promise.all(e.map(({animation:r,options:n})=>Y4(s,r,n)))}function J4(s){let e=X4(s),r=Vx(),n=!0;const o=m=>(p,f)=>{var v;const x=al(s,f,m==="exit"?(v=s.presenceContext)==null?void 0:v.custom:void 0);if(x){const{transition:N,transitionEnd:C,...k}=x;p={...p,...k,...C}}return p};function l(m){e=m(s)}function c(m){const{props:p}=s,f=Qy(s.parent)||{},x=[],v=new Set;let N={},C=1/0;for(let w=0;w<q4;w++){const T=Z4[w],_=r[T],A=p[T]!==void 0?p[T]:f[T],B=sl(A),I=T===m?_.isActive:null;I===!1&&(C=w);let D=A===f[T]&&A!==p[T]&&B;if(D&&n&&s.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...N},!_.isActive&&I===null||!A&&!_.prevProp||gd(A)||typeof A=="boolean")continue;const z=Q4(_.prevProp,A);let E=z||T===m&&_.isActive&&!D&&B||w>C&&B,G=!1;const Y=Array.isArray(A)?A:[A];let ne=Y.reduce(o(T),{});I===!1&&(ne={});const{prevResolvedValues:ee={}}=_,se={...ee,...ne},ie=Z=>{E=!0,v.has(Z)&&(G=!0,v.delete(Z)),_.needsAnimating[Z]=!0;const L=s.getValue(Z);L&&(L.liveStyle=!1)};for(const Z in se){const L=ne[Z],re=ee[Z];if(N.hasOwnProperty(Z))continue;let H=!1;ah(L)&&ah(re)?H=!Jy(L,re):H=L!==re,H?L!=null?ie(Z):v.add(Z):L!==void 0&&v.has(Z)?ie(Z):_.protectedKeys[Z]=!0}_.prevProp=A,_.prevResolvedValues=ne,_.isActive&&(N={...N,...ne}),n&&s.blockInitialAnimation&&(E=!1),E&&(!(D&&z)||G)&&x.push(...Y.map(Z=>({animation:Z,options:{type:T}})))}if(v.size){const w={};if(typeof p.initial!="boolean"){const T=al(s,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(w.transition=T.transition)}v.forEach(T=>{const _=s.getBaseTarget(T),A=s.getValue(T);A&&(A.liveStyle=!0),w[T]=_??null}),x.push({animation:w})}let k=!!x.length;return n&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(k=!1),n=!1,k?e(x):Promise.resolve()}function u(m,p){var x;if(r[m].isActive===p)return Promise.resolve();(x=s.variantChildren)==null||x.forEach(v=>{var N;return(N=v.animationState)==null?void 0:N.setActive(m,p)}),r[m].isActive=p;const f=c(m);for(const v in r)r[v].protectedKeys={};return f}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Vx(),n=!0}}}function Q4(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!Jy(e,s):!1}function yn(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:yn(!0),whileInView:yn(),whileHover:yn(),whileTap:yn(),whileDrag:yn(),whileFocus:yn(),exit:yn()}}class sn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e3 extends sn{constructor(e){super(e),e.animationState||(e.animationState=J4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let t3=0;class s3 extends sn{constructor(){super(...arguments),this.id=t3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const r3={animation:{Feature:e3},exit:{Feature:s3}};function nl(s,e,r,n={passive:!0}){return s.addEventListener(e,r,n),()=>s.removeEventListener(e,r)}function pl(s){return{point:{x:s.pageX,y:s.pageY}}}const a3=s=>e=>Jh(e)&&s(e,pl(e));function Ro(s,e,r,n){return nl(s,e,a3(r),n)}function ev({top:s,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:s,max:n}}}function n3({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function i3(s,e){if(!e)return s;const r=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const tv=1e-4,o3=1-tv,l3=1+tv,sv=.01,c3=0-sv,d3=0+sv;function Fs(s){return s.max-s.min}function u3(s,e,r){return Math.abs(s-e)<=r}function Bx(s,e,r,n=.5){s.origin=n,s.originPoint=Vt(e.min,e.max,s.origin),s.scale=Fs(r)/Fs(e),s.translate=Vt(r.min,r.max,s.origin)-s.originPoint,(s.scale>=o3&&s.scale<=l3||isNaN(s.scale))&&(s.scale=1),(s.translate>=c3&&s.translate<=d3||isNaN(s.translate))&&(s.translate=0)}function Mo(s,e,r,n){Bx(s.x,e.x,r.x,n?n.originX:void 0),Bx(s.y,e.y,r.y,n?n.originY:void 0)}function Ux(s,e,r){s.min=r.min+e.min,s.max=s.min+Fs(e)}function m3(s,e,r){Ux(s.x,e.x,r.x),Ux(s.y,e.y,r.y)}function Hx(s,e,r){s.min=e.min-r.min,s.max=s.min+Fs(e)}function Oo(s,e,r){Hx(s.x,e.x,r.x),Hx(s.y,e.y,r.y)}const Wx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ci=()=>({x:Wx(),y:Wx()}),Gx=()=>({min:0,max:0}),Kt=()=>({x:Gx(),y:Gx()});function pr(s){return[s("x"),s("y")]}function ym(s){return s===void 0||s===1}function oh({scale:s,scaleX:e,scaleY:r}){return!ym(s)||!ym(e)||!ym(r)}function vn(s){return oh(s)||rv(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function rv(s){return Yx(s.x)||Yx(s.y)}function Yx(s){return s&&s!=="0%"}function cd(s,e,r){const n=s-r,o=e*n;return r+o}function Kx(s,e,r,n,o){return o!==void 0&&(s=cd(s,o,n)),cd(s,r,n)+e}function lh(s,e=0,r=1,n,o){s.min=Kx(s.min,e,r,n,o),s.max=Kx(s.max,e,r,n,o)}function av(s,{x:e,y:r}){lh(s.x,e.translate,e.scale,e.originPoint),lh(s.y,r.translate,r.scale,r.originPoint)}const Zx=.999999999999,qx=1.0000000000001;function h3(s,e,r,n=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=r[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ui(s,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,av(s,c)),n&&vn(l.latestValues)&&ui(s,l.latestValues))}e.x<qx&&e.x>Zx&&(e.x=1),e.y<qx&&e.y>Zx&&(e.y=1)}function di(s,e){s.min=s.min+e,s.max=s.max+e}function Xx(s,e,r,n,o=.5){const l=Vt(s.min,s.max,o);lh(s,e,r,l,n)}function ui(s,e){Xx(s.x,e.x,e.scaleX,e.scale,e.originX),Xx(s.y,e.y,e.scaleY,e.scale,e.originY)}function nv(s,e){return ev(i3(s.getBoundingClientRect(),e))}function p3(s,e,r){const n=nv(s,r),{scroll:o}=e;return o&&(di(n.x,o.offset.x),di(n.y,o.offset.y)),n}const iv=({current:s})=>s?s.ownerDocument.defaultView:null,Jx=(s,e)=>Math.abs(s-e);function f3(s,e){const r=Jx(s.x,e.x),n=Jx(s.y,e.y);return Math.sqrt(r**2+n**2)}class ov{constructor(e,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,N=f3(x.offset,{x:0,y:0})>=3;if(!v&&!N)return;const{point:C}=x,{timestamp:k}=vs;this.history.push({...C,timestamp:k});const{onStart:w,onMove:T}=this.handlers;v||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=vm(v,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:N,onSessionEnd:C,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wm(x.type==="pointercancel"?this.lastMoveEventInfo:vm(v,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,w),C&&C(x,w)},!Jh(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=pl(e),u=vm(c,this.transformPagePoint),{point:m}=u,{timestamp:p}=vs;this.history=[{...m,timestamp:p}];const{onSessionStart:f}=r;f&&f(e,wm(u,this.history)),this.removeListeners=ul(Ro(this.contextWindow,"pointermove",this.handlePointerMove),Ro(this.contextWindow,"pointerup",this.handlePointerUp),Ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),en(this.updatePoint)}}function vm(s,e){return e?{point:e(s.point)}:s}function Qx(s,e){return{x:s.x-e.x,y:s.y-e.y}}function wm({point:s},e){return{point:s,delta:Qx(s,lv(e)),offset:Qx(s,x3(e)),velocity:g3(e,.1)}}function x3(s){return s[0]}function lv(s){return s[s.length-1]}function g3(s,e){if(s.length<2)return{x:0,y:0};let r=s.length-1,n=null;const o=lv(s);for(;r>=0&&(n=s[r],!(o.timestamp-n.timestamp>Kr(e)));)r--;if(!n)return{x:0,y:0};const l=Zr(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function b3(s,{min:e,max:r},n){return e!==void 0&&s<e?s=n?Vt(e,s,n.min):Math.max(s,e):r!==void 0&&s>r&&(s=n?Vt(r,s,n.max):Math.min(s,r)),s}function eg(s,e,r){return{min:e!==void 0?s.min+e:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function y3(s,{top:e,left:r,bottom:n,right:o}){return{x:eg(s.x,r,o),y:eg(s.y,e,n)}}function tg(s,e){let r=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([r,n]=[n,r]),{min:r,max:n}}function v3(s,e){return{x:tg(s.x,e.x),y:tg(s.y,e.y)}}function w3(s,e){let r=.5;const n=Fs(s),o=Fs(e);return o>n?r=Jo(e.min,e.max-n,s.min):n>o&&(r=Jo(s.min,s.max-o,e.min)),Na(0,1,r)}function j3(s,e){const r={};return e.min!==void 0&&(r.min=e.min-s.min),e.max!==void 0&&(r.max=e.max-s.min),r}const ch=.35;function N3(s=ch){return s===!1?s=0:s===!0&&(s=ch),{x:sg(s,"left","right"),y:sg(s,"top","bottom")}}function sg(s,e,r){return{min:rg(s,e),max:rg(s,r)}}function rg(s,e){return typeof s=="number"?s:s[e]||0}const k3=new WeakMap;class C3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(pl(f).point)},l=(f,x)=>{const{drag:v,dragPropagation:N,onDragStart:C}=this.getProps();if(v&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HS(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(w=>{let T=this.getAxisMotionValue(w).get()||0;if(qr.test(T)){const{projection:_}=this.visualElement;if(_&&_.layout){const A=_.layout.layoutBox[w];A&&(T=Fs(A)*(parseFloat(T)/100))}}this.originPoint[w]=T}),C&&Ut.postRender(()=>C(f,x)),nh(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(f,x)=>{const{dragPropagation:v,dragDirectionLock:N,onDirectionLock:C,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=x;if(N&&this.currentDirection===null){this.currentDirection=S3(w),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),k&&k(f,x)},u=(f,x)=>this.stop(f,x),m=()=>pr(f=>{var x;return this.getAnimationState(f)==="paused"&&((x=this.getAxisMotionValue(f).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ov(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:iv(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ut.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:o}=this.getProps();if(!n||!Dc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=b3(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&li(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=y3(n.layoutBox,e):this.constraints=!1,this.elastic=N3(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&pr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=j3(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!li(e))return!1;const n=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=p3(n,o.root,this.visualElement.getTransformPagePoint());let c=v3(o.layout.layoutBox,l);if(r){const u=r(n3(c));this.hasMutatedConstraints=!!u,u&&(c=ev(u))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},p=pr(f=>{if(!Dc(f,r,this.currentDirection))return;let x=m&&m[f]||{};c&&(x={min:0,max:0});const v=o?200:1e6,N=o?40:1e7,C={type:"inertia",velocity:n?e[f]:0,bounceStiffness:v,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(f,C)});return Promise.all(p).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return nh(this.visualElement,e),n.start(o0(e,n,0,r,this.visualElement,!1))}stopAnimation(){pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pr(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){pr(r=>{const{drag:n}=this.getProps();if(!Dc(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];l.set(e[r]-Vt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!li(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();o[c]=w3({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pr(c=>{if(!Dc(c,e,null))return;const u=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];u.set(Vt(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const e=this.visualElement.current,r=Ro(e,"pointerdown",m=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(m)}),n=()=>{const{dragConstraints:m}=this.getProps();li(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ut.read(n);const c=nl(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(pr(f=>{const x=this.getAxisMotionValue(f);x&&(this.originPoint[f]+=m[f].translate,x.set(x.get()+m[f].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ch,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Dc(s,e,r){return(e===!0||e===s)&&(r===null||r===s)}function S3(s,e=10){let r=null;return Math.abs(s.y)>e?r="y":Math.abs(s.x)>e&&(r="x"),r}class T3 extends sn{constructor(e){super(e),this.removeGroupControls=xr,this.removeListeners=xr,this.controls=new C3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ag=s=>(e,r)=>{s&&Ut.postRender(()=>s(e,r))};class A3 extends sn{constructor(){super(...arguments),this.removePointerDownListener=xr}onPointerDown(e){this.session=new ov(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:ag(e),onStart:ag(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&Ut.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ro(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ng(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const xo={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(qe.test(s))s=parseFloat(s);else return s;const r=ng(s,e.target.x),n=ng(s,e.target.y);return`${r}% ${n}%`}},_3={correct:(s,{treeScale:e,projectionDelta:r})=>{const n=s,o=tn.parse(s);if(o.length>5)return n;const l=tn.createTransformer(s),c=typeof o[0]!="number"?1:0,u=r.x.scale*e.x,m=r.y.scale*e.y;o[0+c]/=u,o[1+c]/=m;const p=Vt(u,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class D3 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=e;p4(E3),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ut.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cv(s){const[e,r]=Kb(),n=j.useContext(_h);return t.jsx(D3,{...s,layoutGroup:n,switchLayoutGroup:j.useContext(Vy),isPresent:e,safeToRemove:r})}const E3={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:_3};function P3(s,e,r){const n=Ds(s)?s:tl(s);return n.start(o0("",n,e,r)),n.animation}function I3(s){return s instanceof SVGElement&&s.tagName!=="svg"}const R3=(s,e)=>s.depth-e.depth;class M3{constructor(){this.children=[],this.isDirty=!1}add(e){Ih(this.children,e),this.isDirty=!0}remove(e){Rh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R3),this.isDirty=!1,this.children.forEach(e)}}function O3(s,e){const r=Js.now(),n=({timestamp:o})=>{const l=o-r;l>=e&&(en(n),s(l-e))};return Ut.setup(n,!0),()=>en(n)}const dv=["TopLeft","TopRight","BottomLeft","BottomRight"],L3=dv.length,ig=s=>typeof s=="string"?parseFloat(s):s,og=s=>typeof s=="number"||qe.test(s);function z3(s,e,r,n,o,l){o?(s.opacity=Vt(0,r.opacity??1,$3(n)),s.opacityExit=Vt(e.opacity??1,0,F3(n))):l&&(s.opacity=Vt(e.opacity??1,r.opacity??1,n));for(let c=0;c<L3;c++){const u=`border${dv[c]}Radius`;let m=lg(e,u),p=lg(r,u);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||og(m)===og(p)?(s[u]=Math.max(Vt(ig(m),ig(p),n),0),(qr.test(p)||qr.test(m))&&(s[u]+="%")):s[u]=p}(e.rotate||r.rotate)&&(s.rotate=Vt(e.rotate||0,r.rotate||0,n))}function lg(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const $3=uv(0,.5,ay),F3=uv(.5,.95,xr);function uv(s,e,r){return n=>n<s?0:n>e?1:r(Jo(s,e,n))}function cg(s,e){s.min=e.min,s.max=e.max}function hr(s,e){cg(s.x,e.x),cg(s.y,e.y)}function dg(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function ug(s,e,r,n,o){return s-=e,s=cd(s,1/r,n),o!==void 0&&(s=cd(s,1/o,n)),s}function V3(s,e=0,r=1,n=.5,o,l=s,c=s){if(qr.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Vt(l.min,l.max,n);s===l&&(u-=e),s.min=ug(s.min,e,r,u,o),s.max=ug(s.max,e,r,u,o)}function mg(s,e,[r,n,o],l,c){V3(s,e[r],e[n],e[o],e.scale,l,c)}const B3=["x","scaleX","originX"],U3=["y","scaleY","originY"];function hg(s,e,r,n){mg(s.x,e,B3,r?r.x:void 0,n?n.x:void 0),mg(s.y,e,U3,r?r.y:void 0,n?n.y:void 0)}function pg(s){return s.translate===0&&s.scale===1}function mv(s){return pg(s.x)&&pg(s.y)}function fg(s,e){return s.min===e.min&&s.max===e.max}function H3(s,e){return fg(s.x,e.x)&&fg(s.y,e.y)}function xg(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function hv(s,e){return xg(s.x,e.x)&&xg(s.y,e.y)}function gg(s){return Fs(s.x)/Fs(s.y)}function bg(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class W3{constructor(){this.members=[]}add(e){Ih(this.members,e),e.scheduleRender()}remove(e){if(Rh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G3(s,e,r){let n="";const o=s.x.translate/e.x,l=s.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((o||l||c)&&(n=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:f,rotateX:x,rotateY:v,skewX:N,skewY:C}=r;p&&(n=`perspective(${p}px) ${n}`),f&&(n+=`rotate(${f}deg) `),x&&(n+=`rotateX(${x}deg) `),v&&(n+=`rotateY(${v}deg) `),N&&(n+=`skewX(${N}deg) `),C&&(n+=`skewY(${C}deg) `)}const u=s.x.scale*e.x,m=s.y.scale*e.y;return(u!==1||m!==1)&&(n+=`scale(${u}, ${m})`),n||"none"}const jm=["","X","Y","Z"],Y3={visibility:"hidden"},yg=1e3;let K3=0;function Nm(s,e,r,n){const{latestValues:o}=e;o[s]&&(r[s]=o[s],e.setStaticValue(s,0),n&&(n[s]=0))}function pv(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const r=qy(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=s.options;window.MotionCancelOptimisedAnimation(r,"transform",Ut,!(o||l))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&pv(n)}function fv({attachResizeListener:s,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=K3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X3),this.nodes.forEach(sT),this.nodes.forEach(rT),this.nodes.forEach(J3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new M3)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Lh),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=I3(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),s){let f;const x=()=>this.root.updateBlockedByResize=!1;s(c,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=O3(x,250),Wc.hasAnimatedSinceResize&&(Wc.hasAnimatedSinceResize=!1,this.nodes.forEach(wg))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||lT,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=p.getProps(),T=!this.targetLayout||!hv(this.targetLayout,N),_=!x&&v;if(this.options.layoutRoot||this.resumeFrom||_||x&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const A={...Zh(C,"layout"),onPlay:k,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else x||wg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),en(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const x=this.path[f];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vg);return}this.isUpdating||this.nodes.forEach(eT),this.isUpdating=!1,this.nodes.forEach(tT),this.nodes.forEach(Z3),this.nodes.forEach(q3),this.clearAllSnapshots();const u=Js.now();vs.delta=Na(0,1e3/60,u-vs.timestamp),vs.timestamp=u,vs.isProcessing=!0,pm.update.process(vs),pm.preRender.process(vs),pm.render.process(vs),vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q3),this.sharedNodes.forEach(nT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fs(this.snapshot.measuredBox.x)&&!Fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!mv(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||vn(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),cT(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Kt();const u=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(dT))){const{scroll:f}=this.root;f&&(di(u.x,f.offset.x),di(u.y,f.offset.y))}return u}removeElementScroll(c){var m;const u=Kt();if(hr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:x,options:v}=f;f!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&hr(u,c),di(u.x,x.offset.x),di(u.y,x.offset.y))}return u}applyTransform(c,u=!1){const m=Kt();hr(m,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ui(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),vn(f.latestValues)&&ui(m,f.latestValues)}return vn(this.latestValues)&&ui(m,this.latestValues),m}removeTransform(c){const u=Kt();hr(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!vn(p.latestValues))continue;oh(p.latestValues)&&p.updateSnapshot();const f=Kt(),x=p.measurePageBox();hr(f,x),hg(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return vn(this.latestValues)&&hg(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:x}=this.options;if(!(!this.layout||!(f||x))){if(this.resolvedRelativeTargetAt=vs.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Oo(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),av(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),Oo(this.relativeTargetOrigin,this.target,N.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oh(this.parent.latestValues)||rv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===vs.timestamp&&(m=!1),m)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;hr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;h3(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Kt());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dg(this.prevProjectionDelta.x,this.projectionDelta.x),dg(this.prevProjectionDelta.y,this.projectionDelta.y)),Mo(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!bg(this.projectionDelta.x,this.prevProjectionDelta.x)||!bg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ci(),this.projectionDelta=ci(),this.projectionDeltaWithTransform=ci()}setAnimationOrigin(c,u=!1){const m=this.snapshot,p=m?m.latestValues:{},f={...this.latestValues},x=ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Kt(),N=m?m.source:void 0,C=this.layout?this.layout.source:void 0,k=N!==C,w=this.getStack(),T=!w||w.members.length<=1,_=!!(k&&!T&&this.options.crossfade===!0&&!this.path.some(oT));this.animationProgress=0;let A;this.mixTargetDelta=B=>{const I=B/1e3;jg(x.x,c.x,I),jg(x.y,c.y,I),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iT(this.relativeTarget,this.relativeTargetOrigin,v,I),A&&H3(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Kt()),hr(A,this.relativeTarget)),k&&(this.animationValues=f,z3(f,p,this.latestValues,I,_,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(en(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Wc.hasAnimatedSinceResize=!0,this.currentAnimation=P3(0,yg,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:p,latestValues:f}=c;if(!(!u||!m||!p)){if(this!==c&&this.layout&&p&&xv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Kt();const x=Fs(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+x;const v=Fs(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+v}hr(u,m),ui(u,f),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new W3),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const p={};m.z&&Nm("z",c,p,this.animationValues);for(let f=0;f<jm.length;f++)Nm(`rotate${jm[f]}`,c,p,this.animationValues),Nm(`skew${jm[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y3;const u={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hc(c==null?void 0:c.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Hc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!vn(this.latestValues)&&(N.transform=m?m({},""):"none",this.hasProjected=!1),N}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=G3(this.projectionDeltaWithTransform,this.treeScale,f),m&&(u.transform=m(f,u.transform));const{x,y:v}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,p.animationValues?u.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const N in rl){if(f[N]===void 0)continue;const{correct:C,applyTo:k,isCSSVariable:w}=rl[N],T=u.transform==="none"?f[N]:C(f[N],p);if(k){const _=k.length;for(let A=0;A<_;A++)u[k[A]]=T}else w?this.options.visualElement.renderState.vars[N]=T:u[N]=T}return this.options.layoutId&&(u.pointerEvents=p===this?Hc(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(vg),this.root.sharedNodes.clear()}}}function Z3(s){s.updateLayout()}function q3(s){var r;const e=((r=s.resumeFrom)==null?void 0:r.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=s.layout,{animationType:l}=s.options,c=e.source!==s.layout.source;l==="size"?pr(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],N=Fs(v);v.min=n[x].min,v.max=v.min+N}):xv(l,e.layoutBox,n)&&pr(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],N=Fs(n[x]);v.max=v.min+N,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[x].max=s.relativeTarget[x].min+N)});const u=ci();Mo(u,n,e.layoutBox);const m=ci();c?Mo(m,s.applyTransform(o,!0),e.measuredBox):Mo(m,n,e.layoutBox);const p=!mv(u);let f=!1;if(!s.resumeFrom){const x=s.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:N}=x;if(v&&N){const C=Kt();Oo(C,e.layoutBox,v.layoutBox);const k=Kt();Oo(k,n,N.layoutBox),hv(C,k)||(f=!0),x.options.layoutRoot&&(s.relativeTarget=k,s.relativeTargetOrigin=C,s.relativeParent=x)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:f})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function X3(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function J3(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Q3(s){s.clearSnapshot()}function vg(s){s.clearMeasurements()}function eT(s){s.isLayoutDirty=!1}function tT(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function wg(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function sT(s){s.resolveTargetDelta()}function rT(s){s.calcProjection()}function aT(s){s.resetSkewAndRotation()}function nT(s){s.removeLeadSnapshot()}function jg(s,e,r){s.translate=Vt(e.translate,0,r),s.scale=Vt(e.scale,1,r),s.origin=e.origin,s.originPoint=e.originPoint}function Ng(s,e,r,n){s.min=Vt(e.min,r.min,n),s.max=Vt(e.max,r.max,n)}function iT(s,e,r,n){Ng(s.x,e.x,r.x,n),Ng(s.y,e.y,r.y,n)}function oT(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const lT={duration:.45,ease:[.4,0,.1,1]},kg=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Cg=kg("applewebkit/")&&!kg("chrome/")?Math.round:xr;function Sg(s){s.min=Cg(s.min),s.max=Cg(s.max)}function cT(s){Sg(s.x),Sg(s.y)}function xv(s,e,r){return s==="position"||s==="preserve-aspect"&&!u3(gg(e),gg(r),.2)}function dT(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const uT=fv({attachResizeListener:(s,e)=>nl(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),km={current:void 0},gv=fv({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!km.current){const s=new uT({});s.mount(window),s.setOptions({layoutScroll:!0}),km.current=s}return km.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),mT={pan:{Feature:A3},drag:{Feature:T3,ProjectionNode:gv,MeasureLayout:cv}};function Tg(s,e,r){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=n[o];l&&Ut.postRender(()=>l(e,pl(e)))}class hT extends sn{mount(){const{current:e}=this.node;e&&(this.unmount=WS(e,(r,n)=>(Tg(this.node,n,"Start"),o=>Tg(this.node,o,"End"))))}unmount(){}}class pT extends sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(nl(this.node.current,"focus",()=>this.onFocus()),nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ag(s,e,r){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=n[o];l&&Ut.postRender(()=>l(e,pl(e)))}class fT extends sn{mount(){const{current:e}=this.node;e&&(this.unmount=ZS(e,(r,n)=>(Ag(this.node,n,"Start"),(o,{success:l})=>Ag(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dh=new WeakMap,Cm=new WeakMap,xT=s=>{const e=dh.get(s.target);e&&e(s)},gT=s=>{s.forEach(xT)};function bT({root:s,...e}){const r=s||document;Cm.has(r)||Cm.set(r,{});const n=Cm.get(r),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(gT,{root:s,...e})),n[o]}function yT(s,e,r){const n=bT(e);return dh.set(s,r),n.observe(s),()=>{dh.delete(s),n.unobserve(s)}}const vT={some:0,all:1};class wT extends sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:vT[o]},u=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:x}=this.node.getProps(),v=p?f:x;v&&v(m)};return yT(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(jT(e,r))&&this.startObserver()}unmount(){}}function jT({viewport:s={}},{viewport:e={}}={}){return r=>s[r]!==e[r]}const NT={inView:{Feature:wT},tap:{Feature:fT},focus:{Feature:pT},hover:{Feature:hT}},kT={layout:{ProjectionNode:gv,MeasureLayout:cv}},uh={current:null},bv={current:!1};function CT(){if(bv.current=!0,!!Eh)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>uh.current=s.matches;s.addListener(e),e()}else uh.current=!1}const ST=new WeakMap;function TT(s,e,r){for(const n in e){const o=e[n],l=r[n];if(Ds(o))s.addValue(n,o);else if(Ds(l))s.addValue(n,tl(o,{owner:s}));else if(l!==o)if(s.hasValue(n)){const c=s.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=s.getStaticValue(n);s.addValue(n,tl(c!==void 0?c:o,{owner:s}))}}for(const n in r)e[n]===void 0&&s.removeValue(n);return e}const _g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AT{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Js.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ut.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=bd(r),this.isVariantNode=$y(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in x){const N=x[v];m[v]!==void 0&&Ds(N)&&N.set(m[v],!1)}}mount(e){this.current=e,ST.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bv.current||CT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),en(this.notifyUpdate),en(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Si.has(e);n&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bi){const r=bi[e];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<_g.length;n++){const o=_g[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=TT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=tl(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Zb(n)||qb(n))?n=parseFloat(n):!XS(n)&&tn.test(r)&&(n=Py(e,r)),this.setBaseTarget(e,Ds(n)?n.get():n)),Ds(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const c=n0(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(n=c[e])}if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ds(o)?o:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Lh),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class yv extends AT{constructor(){super(...arguments),this.KeyframeResolver=FS}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ds(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vv(s,{style:e,vars:r},n,o){Object.assign(s.style,e,o&&o.getProjectionStyles(n));for(const l in r)s.style.setProperty(l,r[l])}function _T(s){return window.getComputedStyle(s)}class DT extends yv{constructor(){super(...arguments),this.type="html",this.renderInstance=vv}readValueFromInstance(e,r){if(Si.has(r))return nS(e,r);{const n=_T(e),o=(Fh(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return nv(e,r)}build(e,r,n){s0(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return i0(e,r,n)}}const wv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ET(s,e,r,n){vv(s,e,void 0,n);for(const o in e.attrs)s.setAttribute(wv.has(o)?o:t0(o),e.attrs[o])}class PT extends yv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Si.has(r)){const n=Ey(r);return n&&n.default||0}return r=wv.has(r)?r:t0(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Zy(e,r,n)}build(e,r,n){Wy(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,o){ET(e,r,n,o)}mount(e){this.isSVGTag=Yy(e.tagName),super.mount(e)}}const IT=(s,e)=>a0(s)?new PT(e):new DT(e,{allowProjection:s!==j.Fragment}),RT=E4({...r3,...NT,...mT,...kT},IT),fr=s4(RT),Dg=[{id:"match3",name:"消消乐",description:"经典三消游戏，消除相同颜色的方块获得算力奖励",icon:"fa-solid fa-gem",difficulty:"easy",rewards:{computingPower:50,gameCoins:50},players:1234,status:"available"},{id:"puzzle",name:"数字拼图",description:"挑战你的逻辑思维，完成拼图获得丰厚奖励",icon:"fa-solid fa-puzzle-piece",difficulty:"medium",rewards:{computingPower:80,gameCoins:80},players:567,status:"coming-soon"},{id:"memory",name:"记忆翻牌",description:"考验记忆力的翻牌游戏，记忆越好奖励越多",icon:"fa-solid fa-brain",difficulty:"medium",rewards:{computingPower:70,gameCoins:70},players:890,status:"coming-soon"},{id:"snake",name:"贪吃蛇",description:"经典贪吃蛇游戏，长度越长算力越高",icon:"fa-solid fa-worm",difficulty:"hard",rewards:{computingPower:100,gameCoins:100},players:456,status:"maintenance"}],MT={easy:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400",medium:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400",hard:"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400"},OT={available:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400","coming-soon":"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",maintenance:"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400"};function LT(){const{lang:s}=hs(),e=Ps(s),[r,n]=j.useState("all"),o=r==="all"?Dg:Dg.filter(l=>l.difficulty===r);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(oe,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-300 dark:bg-slate-600"}),t.jsx("h1",{className:"hidden md:block text-lg font-semibold text-slate-700 dark:text-slate-200",children:y(e,"gameCenter.header.title")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-500"}),t.jsxs("span",{children:[y(e,"gameCenter.header.networkPower")," ",t.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"1,234"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("i",{className:"fa-solid fa-gem text-purple-500"}),t.jsxs("span",{children:[y(e,"gameCenter.header.networkGameCoins")," ",t.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"5,678"})]})]})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"12"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.todaySessions")})]})]})}),t.jsx(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-trophy text-green-600 dark:text-green-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"856"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.todayComputingPower")})]})]})}),t.jsx(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-star text-purple-600 dark:text-purple-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"4.8"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.avgRating")})]})]})}),t.jsx(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-fire text-orange-600 dark:text-orange-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"7"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.streakDays")})]})]})})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:y(e,"gameCenter.filter.label")}),t.jsx("div",{className:"flex gap-2",children:["all","easy","medium","hard"].map(l=>t.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${r===l?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:l==="all"?y(e,"gameCenter.filter.all"):l==="easy"?y(e,"gameCenter.filter.easy"):l==="medium"?y(e,"gameCenter.filter.medium"):y(e,"gameCenter.filter.hard")},l))})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((l,c)=>t.jsx(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl group-hover:scale-110 transition-transform",children:t.jsx("i",{className:l.icon})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${MT[l.difficulty]}`,children:l.difficulty==="easy"?y(e,"gameCenter.difficulty.easy"):l.difficulty==="medium"?y(e,"gameCenter.difficulty.medium"):y(e,"gameCenter.difficulty.hard")}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${OT[l.status]}`,children:y(e,`gameCenter.status.${l.status==="coming-soon"?"comingSoon":l.status}`)})]})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:y(e,`gameCenter.games.${l.id}.name`)}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4 line-clamp-2",children:y(e,`gameCenter.games.${l.id}.desc`)}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-500"}),t.jsx("span",{children:l.rewards.computingPower})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-gem text-purple-500"}),t.jsx("span",{children:l.rewards.gameCoins})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-users"}),t.jsx("span",{children:l.players})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[l.status==="available"?t.jsx(oe,{to:`/game/${l.id}`,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-center py-2 px-4 rounded-lg font-medium transition-colors",children:y(e,"gameCenter.buttons.start")}):t.jsx("button",{disabled:!0,className:"flex-1 bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 text-center py-2 px-4 rounded-lg font-medium cursor-not-allowed",children:l.status==="coming-soon"?y(e,"gameCenter.buttons.comingSoon"):y(e,"gameCenter.buttons.maintenance")}),t.jsx("button",{className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:t.jsx("i",{className:"fa-solid fa-info-circle"})})]})]})},l.id))})]})]})}class zT{constructor(){ze(this,"storageKey","computing_power_data");ze(this,"currentUserId","user_001")}getUserData(e=this.currentUserId){const r=localStorage.getItem(`${this.storageKey}_${e}`);return r?JSON.parse(r):this.getDefaultUserData(e)}saveUserData(e=this.currentUserId,r){localStorage.setItem(`${this.storageKey}_${e}`,JSON.stringify(r))}getDefaultUserData(e){return{user:{id:e,username:`Player_${e.slice(-4)}`,email:`${e}@example.com`,joinedAt:new Date().toISOString(),lastActiveAt:new Date().toISOString()},stats:{totalComputingPower:0,todayEarned:0,weeklyEarned:0,monthlyEarned:0,totalGamesPlayed:0,averageScore:0,bestScore:0,currentRank:1,nextRankThreshold:1e3},gameRecords:[],achievements:this.getDefaultAchievements()}}getDefaultAchievements(){return[{id:"first_game",name:"初次体验",description:"完成第一场游戏",icon:"fa-solid fa-play",progress:0,maxProgress:1},{id:"score_master",name:"得分大师",description:"单局得分超过5000分",icon:"fa-solid fa-star",progress:0,maxProgress:1},{id:"game_veteran",name:"游戏老手",description:"完成10场游戏",icon:"fa-solid fa-trophy",progress:0,maxProgress:10},{id:"computing_collector",name:"算力收集者",description:"累计获得1000算力",icon:"fa-solid fa-coins",progress:0,maxProgress:1e3}]}async addGameRecord(e){const r=this.getUserData(),n={id:`game_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...e,completedAt:new Date};r.gameRecords.unshift(n),r.stats.totalComputingPower+=e.computingPowerEarned,r.stats.todayEarned+=e.computingPowerEarned,r.stats.weeklyEarned+=e.computingPowerEarned,r.stats.monthlyEarned+=e.computingPowerEarned,r.stats.totalGamesPlayed+=1,r.stats.bestScore=Math.max(r.stats.bestScore,e.score),r.stats.averageScore=Math.round(r.gameRecords.reduce((o,l)=>o+l.score,0)/r.gameRecords.length),r.stats.currentRank=Math.floor(r.stats.totalComputingPower/1e3)+1,r.stats.nextRankThreshold=r.stats.currentRank*1e3,this.checkAchievements(r,n),r.user.lastActiveAt=new Date().toISOString(),this.saveUserData(this.currentUserId,r),console.log("游戏记录已保存:",n)}checkAchievements(e,r){e.achievements.forEach(n=>{if(!n.unlockedAt)switch(n.id){case"first_game":e.stats.totalGamesPlayed>=1&&(n.unlockedAt=new Date,n.progress=1);break;case"score_master":r.score>=5e3&&(n.unlockedAt=new Date,n.progress=1);break;case"game_veteran":n.progress=e.stats.totalGamesPlayed,e.stats.totalGamesPlayed>=10&&(n.unlockedAt=new Date);break;case"computing_collector":n.progress=e.stats.totalComputingPower,e.stats.totalComputingPower>=1e3&&(n.unlockedAt=new Date);break}})}async getUserComputingData(){const e=this.getUserData(),r=this.calculateEarnings(e.stats.totalComputingPower),n={...e.user,joinedAt:new Date(e.user.joinedAt),lastActiveAt:new Date(e.user.lastActiveAt)},o=e.gameRecords.slice(0,5).map(c=>({...c,completedAt:new Date(c.completedAt)})),l=e.achievements.map(c=>({...c,unlockedAt:c.unlockedAt?new Date(c.unlockedAt):void 0}));return{user:n,stats:{...e.stats,earnings:r},recentGames:o,achievements:l}}async getGameHistory(e=50){return this.getUserData().gameRecords.slice(0,e).map(n=>({...n,completedAt:new Date(n.completedAt)}))}getNetworkStats(){return{totalNetworkPower:5e7,dailyReward:1e5}}calculateEarnings(e){const{totalNetworkPower:r,dailyReward:n}=this.getNetworkStats(),o=e/r,l=n*o,c=l/24;return{userRatio:o*100,dailyEarning:Math.round(l*100)/100,hourlyEarning:Math.round(c*100)/100,monthlyEarning:Math.round(l*30*100)/100}}async getLeaderboard(){const e=this.getUserData(),r=[{username:e.user.username,totalComputingPower:e.stats.totalComputingPower},{username:"AliceGamer",totalComputingPower:15420},{username:"BobMaster",totalComputingPower:12350},{username:"CharlieAce",totalComputingPower:9870},{username:"DianaQueen",totalComputingPower:8650},{username:"EvanKing",totalComputingPower:7430},{username:"FionaWiz",totalComputingPower:6210},{username:"GeorgeHero",totalComputingPower:5890},{username:"HelenStar",totalComputingPower:4670},{username:"IvanChamp",totalComputingPower:3450}];return r.sort((n,o)=>o.totalComputingPower-n.totalComputingPower),r.map((n,o)=>({...n,rank:o+1}))}async clearAllData(){localStorage.removeItem(`${this.storageKey}_${this.currentUserId}`)}}const jv=new zT,Nv=j.createContext(void 0),Ec={userId:"current-user",username:"游戏玩家",stats:{totalGames:0,totalScore:0,totalComputingPower:0,totalGameCoins:0,averageScore:0,bestScore:0,playTime:0,level:1,experience:0,achievements:[],dailyStreak:1,lastLoginDate:new Date().toISOString().split("T")[0]},assets:{computingPower:1e3,gameCoins:500,realMoney:0,items:[]},recentActivities:[]};function $T({children:s}){const[e,r]=j.useState(()=>{const m=localStorage.getItem("allinone-user-data");if(m)try{const p=JSON.parse(m);return{...Ec,...p,stats:{...Ec.stats,...p.stats},assets:{...Ec.assets,...p.assets}}}catch(p){console.error("Failed to parse saved user data:",p)}return Ec}),n=m=>{localStorage.setItem("allinone-user-data",JSON.stringify(m))},o=m=>{r(p=>{const f={...p.stats,totalGames:p.stats.totalGames+1,totalScore:p.stats.totalScore+m.score,totalComputingPower:p.stats.totalComputingPower+m.computingPowerEarned,totalGameCoins:p.stats.totalGameCoins+m.gameCoinsEarned,playTime:p.stats.playTime+m.playTime,bestScore:Math.max(p.stats.bestScore,m.score),experience:p.stats.experience+Math.floor(m.score/100)};f.averageScore=Math.round(f.totalScore/f.totalGames),f.level=Math.floor(f.experience/1e3)+1;const x={id:Date.now().toString(),type:"game",description:`完成${m.gameType}游戏，获得${m.score}分`,timestamp:new Date,value:m.score},v={...p,stats:f,recentActivities:[x,...p.recentActivities.slice(0,19)]};return n(v),v})},l=m=>{r(p=>{const f={...p,assets:{...p.assets,...m}};return n(f),f})},c=m=>{r(p=>{const f={...m,id:Date.now().toString(),timestamp:new Date},x={...p,recentActivities:[f,...p.recentActivities.slice(0,19)]};return n(x),x})},u=async()=>{try{console.log("用户数据已刷新")}catch(m){console.error("Failed to refresh user data:",m)}};return j.useEffect(()=>{const m=new Date().toISOString().split("T")[0];if(e.stats.lastLoginDate!==m){const p=new Date;p.setDate(p.getDate()-1);const f=p.toISOString().split("T")[0],x=e.stats.lastLoginDate===f?e.stats.dailyStreak+1:1;r(v=>{const N={...v,stats:{...v.stats,dailyStreak:x,lastLoginDate:m}};return n(N),N}),c({type:"reward",description:`每日登录奖励，连续登录${x}天`,value:x*10})}},[]),t.jsx(Nv.Provider,{value:{userData:e,updateUserStats:o,updateUserAssets:l,addActivity:c,refreshUserData:u},children:s})}function fl(){const s=j.useContext(Nv);if(s===void 0)throw new Error("useUserData must be used within a UserDataProvider");return s}const yd=(s,e)=>{try{const r=localStorage.getItem(s);if(r)return JSON.parse(r,(n,o)=>typeof o=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(o)?new Date(o):o)}catch(r){console.error(`Error loading ${s} from localStorage`,r)}return e},Pc=(s,e)=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(r){console.error(`Error saving ${s} to localStorage`,r)}},Ca=()=>{Pc("oCoin_marketData",it),Pc("oCoin_userBalances",Array.from(va.entries())),Pc("oCoin_transactions",In),Pc("oCoin_options",vd)};let it=yd("oCoin_marketData",{currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],allTimeHigh:0,allTimeLow:0,lastUpdated:new Date,dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0});const va=new Map(yd("oCoin_userBalances",[])),In=yd("oCoin_transactions",[]),vd=yd("oCoin_options",[]),kv=()=>{const s=[];for(let o=29;o>=0;o--){const l=new Date;l.setDate(l.getDate()-o);const c=.08+Math.sin(o*(Math.PI/15))*.04;s.push({timestamp:l,price:parseFloat(c.toFixed(4))})}const e=Math.max(...s.map(o=>o.price)),r=Math.min(...s.map(o=>o.price)),n=s.length>0?s[s.length-1].price:.01;return it={...it,currentPrice:n,marketCap:n*it.circulatingSupply,priceHistory:s,allTimeHigh:e,allTimeLow:r,lastUpdated:new Date},Ca(),it},mh=()=>({...it}),FT=s=>{const e={timestamp:new Date,price:s};return it={...it,currentPrice:s,marketCap:s*it.circulatingSupply,priceHistory:[...it.priceHistory,e],allTimeHigh:Math.max(it.allTimeHigh,s),allTimeLow:Math.min(it.allTimeLow||s,s),lastUpdated:new Date},Ca(),it},wd=s=>{if(!va.has(s)){const e={userId:s,availableBalance:0,lockedBalance:0,dividendRights:0,lastDividendAmount:0,totalDividendsReceived:0};va.set(s,e),Ca()}return{...va.get(s)}},Eg=(s,e,r)=>{const n=e*r;(async()=>{try{const c=await et.getBalance();if(c.cash<n)throw new Error(`现金余额不足，需 ¥${n.toFixed(2)}，当前 ¥${c.cash.toFixed(2)}`);await et.addTransaction({type:"expense",category:"trade",amount:n,currency:"cash",description:`购买O币 ${e} 枚，单价 ¥${r.toFixed(2)}`}),await et.addTransaction({type:"income",category:"trade",amount:e,currency:"oCoins",description:`购买获得 O币 ${e} 枚`}),window.dispatchEvent(new CustomEvent("wallet-updated"))}catch(c){console.error("记录购买O币钱包交易失败:",c)}})();const o={id:yi(),type:"purchase",amount:e,price:r,timestamp:new Date,description:`购买${e}个O币，单价${r}元`,status:"completed",userId:s},l=wd(s);return l.availableBalance+=e,l.dividendRights+=e,va.set(s,l),it.circulatingSupply+=e,it.totalDistributed+=e,it.marketCap=it.currentPrice*it.circulatingSupply,In.push(o),Ca(),o},Pg=(s,e,r)=>{const n=wd(s);if(n.availableBalance<e)throw new Error("可用余额不足");const o=e*r;(async()=>{try{await et.addTransaction({type:"expense",category:"trade",amount:e,currency:"oCoins",description:`出售 O币 ${e} 枚`}),await et.addTransaction({type:"income",category:"trade",amount:o,currency:"cash",description:`出售O币收入 ¥${o.toFixed(2)}`}),window.dispatchEvent(new CustomEvent("wallet-updated"))}catch(c){console.error("记录出售O币钱包交易失败:",c)}})();const l={id:yi(),type:"sale",amount:e,price:r,timestamp:new Date,description:`出售${e}个O币，单价${r}元`,status:"completed",userId:s};return n.availableBalance-=e,n.dividendRights-=e,va.set(s,n),it.circulatingSupply-=e,it.marketCap=it.currentPrice*it.circulatingSupply,In.push(l),Ca(),l},VT=(s,e,r=365)=>{const n={id:yi(),userId:s,amount:e,vestedAmount:0,vestingPeriod:r,grantDate:new Date,isFullyVested:!1};vd.push(n);const o={id:yi(),type:"grant",amount:e,timestamp:new Date,description:`授予${e}个O币期权，归属期${r}天`,status:"completed",userId:s};return In.push(o),Ca(),n},Ig=(s,e)=>{const r=vd.find(c=>c.id===s);if(!r)throw new Error("期权不存在");const n=r.amount-r.vestedAmount;if(e>n)throw new Error("归属数量超过剩余可归属数量");r.vestedAmount+=e,r.isFullyVested=r.vestedAmount===r.amount;const o=wd(r.userId);o.availableBalance+=e,o.dividendRights+=e,va.set(r.userId,o),it.circulatingSupply+=e,it.totalDistributed+=e,it.marketCap=it.currentPrice*it.circulatingSupply;const l={id:yi(),type:"vest",amount:e,timestamp:new Date,description:`归属${e}个O币期权`,status:"completed",userId:r.userId};return In.push(l),Ca(),l},BT=s=>{it.dividendPool+=s,Ca()},UT=()=>{if(it.circulatingSupply===0||it.dividendPool===0)return;const s=it.dividendPool/it.circulatingSupply;va.forEach((e,r)=>{if(e.dividendRights>0){const n=e.dividendRights*s;e.lastDividendAmount=n,e.totalDividendsReceived+=n,va.set(r,e);const o={id:yi(),type:"dividend",amount:n,timestamp:new Date,description:`分红分发：${n.toFixed(2)}元`,status:"completed",userId:r};In.push(o)}}),it.lastDividendDate=new Date,it.lastDividendPerCoin=s,it.dividendPool=0,Ca()},HT=()=>({totalSupply:it.totalSupply,circulatingSupply:it.circulatingSupply,totalDistributed:it.totalDistributed,totalLocked:it.totalLocked,marketCap:it.marketCap}),WT=s=>In.filter(e=>e.userId===s),Rg=s=>vd.filter(e=>e.userId===s),yi=()=>Math.random().toString(36).substr(2,9);kv();const es={getOCoinMarketData:mh,checkAndExecuteVesting:async s=>{const e=Rg(s);let r=0;return e.forEach(n=>{const o=new Date,l=new Date(n.grantDate),c=Math.floor((o.getTime()-l.getTime())/(1e3*60*60*24));if(c>0&&!n.isFullyVested){const u=n.amount/n.vestingPeriod,p=Math.min(u*c,n.amount)-n.vestedAmount;p>0&&(Ig(n.id,p),r+=p)}}),{vestedAmount:r}},initializeOCoin:kv,getMarketData:mh,updatePrice:FT,getUserBalance:wd,purchaseOCoin:Eg,sellOCoin:Pg,purchaseOCoins:Eg,sellOCoins:Pg,grantOption:VT,vestOption:Ig,addDividendPool:BT,distributeDividends:UT,getUserTransactions:WT,getUserOptions:Rg,getOCoinStats:HT};class GT{constructor(){ze(this,"STORAGE_KEY","wallet_data");ze(this,"EXCHANGE_RATES_KEY","exchange_rates");ze(this,"DEFAULT_EXCHANGE_RATES",{gameCoinsToRMB:.01,computingPowerToRMB:.001,lastUpdated:new Date});this.initializeWalletData().catch(e=>{console.error("初始化钱包数据失败:",e)})}async getOCoinPrice(){try{return(await es.getOCoinMarketData()).currentPrice}catch(e){return console.error("获取O币价格失败:",e),1}}async initializeWalletData(){if(!localStorage.getItem(this.STORAGE_KEY)){const n={balance:{cash:0,gameCoins:12580,computingPower:45230,aCoins:15.67,oCoins:0,totalValue:0,lastUpdated:new Date},transactions:[],stats:{todayIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},weeklyIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},monthlyIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},todayExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},weeklyExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},monthlyExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalTransactions:0,lastTransactionTime:new Date}};n.balance.totalValue=await this.calculateTotalValue(n.balance),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}localStorage.getItem(this.EXCHANGE_RATES_KEY)||localStorage.setItem(this.EXCHANGE_RATES_KEY,JSON.stringify(this.DEFAULT_EXCHANGE_RATES))}async getWalletData(){const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return await this.initializeWalletData(),JSON.parse(localStorage.getItem(this.STORAGE_KEY));const r=JSON.parse(e);if(r.balance){let n=!1;r.balance.hasOwnProperty("computing")&&(r.balance.computingPower=r.balance.computing,delete r.balance.computing,n=!0),r.transactions&&Array.isArray(r.transactions)&&r.transactions.forEach(o=>{o.currency==="computing"&&(o.currency="computingPower",n=!0)}),r.stats&&["todayIncome","weeklyIncome","monthlyIncome","todayExpense","weeklyExpense","monthlyExpense","totalIncome","totalExpense"].forEach(o=>{r.stats[o]&&r.stats[o].hasOwnProperty("computing")&&(r.stats[o].computingPower=r.stats[o].computing,delete r.stats[o].computing,n=!0)}),typeof r.balance.aCoins>"u"&&(r.balance.aCoins=15.67,n=!0),typeof r.balance.oCoins>"u"&&(r.balance.oCoins=0,n=!0),n&&r.stats&&(r.stats.todayIncome.aCoins=r.stats.todayIncome.aCoins||0,r.stats.weeklyIncome.aCoins=r.stats.weeklyIncome.aCoins||0,r.stats.monthlyIncome.aCoins=r.stats.monthlyIncome.aCoins||0,r.stats.todayIncome.oCoins=r.stats.todayIncome.oCoins||0,r.stats.weeklyIncome.oCoins=r.stats.weeklyIncome.oCoins||0,r.stats.monthlyIncome.oCoins=r.stats.monthlyIncome.oCoins||0,r.stats.todayExpense=r.stats.todayExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.weeklyExpense=r.stats.weeklyExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.monthlyExpense=r.stats.monthlyExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.totalIncome=r.stats.totalIncome||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.totalExpense=r.stats.totalExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.balance.totalValue=0,this.saveWalletData(r))}return r}saveWalletData(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}getExchangeRates(){const e=localStorage.getItem(this.EXCHANGE_RATES_KEY);return e?JSON.parse(e):this.DEFAULT_EXCHANGE_RATES}async calculateTotalValue(e){const r=this.getExchangeRates(),n=await this.getOCoinPrice();return e.cash+e.gameCoins*r.gameCoinsToRMB+e.computingPower*r.computingPowerToRMB+e.aCoins*1+e.oCoins*n}async getBalance(){const e=await this.getWalletData(),r=e.balance;try{const n=await es.checkAndExecuteVesting("current-user-id");n.vestedAmount>0&&(console.log(`O币期权解禁: ${n.vestedAmount} O币`),r.oCoins=await this.getOCoinBalance())}catch(n){console.warn("检查O币期权解禁失败:",n)}return r.totalValue=await this.calculateTotalValue(r),r.lastUpdated=new Date,r.computingPower=Math.max(r.computingPower,0),r.gameCoins=Math.max(r.gameCoins,0),e.balance=r,this.saveWalletData(e),r}async addTransaction(e){const r=await this.getWalletData(),n={id:`tx_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,...e};e.type==="income"?r.balance[e.currency]+=e.amount:r.balance[e.currency]-=e.amount,["cash","gameCoins","computingPower","aCoins","oCoins"].includes(e.currency)&&(r.balance[e.currency]=Math.max(r.balance[e.currency],0)),r.transactions.unshift(n),this.updateStats(r,n),r.balance.totalValue=await this.calculateTotalValue(r.balance),r.balance.lastUpdated=new Date,this.saveWalletData(r)}updateStats(e,r){const n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),l=new Date(o.getTime()-o.getDay()*24*60*60*1e3),c=new Date(n.getFullYear(),n.getMonth(),1),u=r.amount,p=r.currency;r.type==="income"?(r.timestamp>=o&&(e.stats.todayIncome[p]+=u),r.timestamp>=l&&(e.stats.weeklyIncome[p]+=u),r.timestamp>=c&&(e.stats.monthlyIncome[p]+=u),e.stats.totalIncome[p]+=u):(r.timestamp>=o&&(e.stats.todayExpense[p]+=u),r.timestamp>=l&&(e.stats.weeklyExpense[p]+=u),r.timestamp>=c&&(e.stats.monthlyExpense[p]+=u),e.stats.totalExpense[p]+=u),e.stats.totalTransactions+=1,e.stats.lastTransactionTime=r.timestamp}async getTransactions(e=50){return(await this.getWalletData()).transactions.slice(0,e)}recomputeStats(e){const r=e.stats,n={cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0};r.todayIncome={...n},r.weeklyIncome={...n},r.monthlyIncome={...n},r.todayExpense={...n},r.weeklyExpense={...n},r.monthlyExpense={...n},r.totalIncome={...n},r.totalExpense={...n};const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(l.getTime()-l.getDay()*24*60*60*1e3),u=new Date(o.getFullYear(),o.getMonth(),1);for(const m of e.transactions){const p=m.amount,f=m.currency,x=typeof m.timestamp=="string"?new Date(m.timestamp):m.timestamp;m.type==="income"?(x>=l&&(r.todayIncome[f]+=p),x>=c&&(r.weeklyIncome[f]+=p),x>=u&&(r.monthlyIncome[f]+=p),r.totalIncome[f]+=p):(x>=l&&(r.todayExpense[f]+=p),x>=c&&(r.weeklyExpense[f]+=p),x>=u&&(r.monthlyExpense[f]+=p),r.totalExpense[f]+=p)}return r}async getStats(){const e=await this.getWalletData();return e.stats=this.recomputeStats(e),this.saveWalletData(e),e.stats}async addGameReward(e,r,n){console.log("开始添加游戏奖励:",{computingPower:e,gameCoins:r,gameId:n});const l={...(await this.getWalletData()).balance};console.log("添加奖励前的余额:",l),e>0&&await this.addTransaction({type:"income",category:"computing_reward",amount:e,currency:"computingPower",description:"游戏奖励获得算力",relatedId:n}),r>0&&await this.addTransaction({type:"income",category:"game_reward",amount:r,currency:"gameCoins",description:"游戏奖励获得游戏币",relatedId:n});const c=await this.getWalletData();console.log("添加奖励后的余额:",c.balance),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{oldBalance:l,newBalance:c.balance,reward:{computingPower:e,gameCoins:r}}}))}async makePurchase(e,r,n,o){const l=await this.getBalance();if(l[r]<e)throw new Error(`余额不足，当前${r==="cash"?"现金":"游戏币"}余额: ${l[r]}`);return await this.addTransaction({type:"expense",category:"purchase",amount:e,currency:r,description:n,relatedId:o}),!0}async recharge(e,r="支付宝"){await this.addTransaction({type:"income",category:"recharge",amount:e,currency:"cash",description:`通过${r}充值现金`})}async getExchangeRatesAsync(){return this.getExchangeRates()}async exchangeCurrency(e,r,n){const o=await this.getBalance(),l=this.getExchangeRates(),c=1,u=await this.getOCoinPrice();if(o[e]<n)throw new Error("余额不足");let m=0,p=0;if(e==="gameCoins"&&r==="cash")m=n*l.gameCoinsToRMB,p=l.gameCoinsToRMB;else if(e==="computingPower"&&r==="cash")m=n*l.computingPowerToRMB,p=l.computingPowerToRMB;else if(e==="cash"&&r==="gameCoins")m=n/l.gameCoinsToRMB,p=1/l.gameCoinsToRMB;else if(e==="cash"&&r==="computingPower")m=n/l.computingPowerToRMB,p=1/l.computingPowerToRMB;else if(e==="aCoins"&&r==="cash")m=n*c,p=c;else if(e==="cash"&&r==="aCoins")m=n/c,p=1/c;else if(e==="aCoins"&&r==="gameCoins")m=n*c/l.gameCoinsToRMB,p=c/l.gameCoinsToRMB;else if(e==="gameCoins"&&r==="aCoins")m=n*l.gameCoinsToRMB/c,p=l.gameCoinsToRMB/c;else if(e==="aCoins"&&r==="computingPower")m=n*c/l.computingPowerToRMB,p=c/l.computingPowerToRMB;else if(e==="computingPower"&&r==="aCoins")m=n*l.computingPowerToRMB/c,p=l.computingPowerToRMB/c;else if(e==="oCoins"&&r==="cash")m=n*u,p=u;else if(e==="cash"&&r==="oCoins")m=n/u,p=1/u;else if(e==="oCoins"&&r==="gameCoins")m=n*u/l.gameCoinsToRMB,p=u/l.gameCoinsToRMB;else if(e==="gameCoins"&&r==="oCoins")m=n*l.gameCoinsToRMB/u,p=l.gameCoinsToRMB/u;else if(e==="oCoins"&&r==="computingPower")m=n*u/l.computingPowerToRMB,p=u/l.computingPowerToRMB;else if(e==="computingPower"&&r==="oCoins")m=n*l.computingPowerToRMB/u,p=l.computingPowerToRMB/u;else if(e==="oCoins"&&r==="aCoins")m=n*u/c,p=u/c;else if(e==="aCoins"&&r==="oCoins")m=n*c/u,p=c/u;else throw new Error("不支持的兑换类型");return await this.addTransaction({type:"expense",category:"trade",amount:n,currency:e,description:`兑换${e}为${r}`}),await this.addTransaction({type:"income",category:"trade",amount:m,currency:r,description:`兑换获得${r}（汇率: ${p.toFixed(4)}）`}),m}async distributeACoins(e,r="A币发放奖励"){if(e<=0)throw new Error("发放金额必须大于0");const n=await this.getTransactions(50),o=new Date;if(o.setHours(0,0,0,0),n.some(c=>{const u=typeof c.timestamp=="string"?new Date(c.timestamp):c.timestamp;return c.category==="acoin_distribution"&&u>=o})){console.warn("今日A币已发放，跳过重复发放");return}await this.addTransaction({type:"income",category:"acoin_distribution",amount:e,currency:"aCoins",description:`A币发放奖励 - ${r}`})}async getACoinBalance(){return(await this.getBalance()).aCoins}async getACoinTransactions(e=50){return(await this.getTransactions(e)).filter(n=>n.currency==="aCoins")}async getOCoinBalance(){return(await this.getBalance()).oCoins}async getOCoinTransactions(e=50){return(await this.getTransactions(e)).filter(n=>n.currency==="oCoins")}async distributeOCoins(e,r="O币发放"){if(e<=0)throw new Error("发放金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_distribution",amount:e,currency:"oCoins",description:`O币发放 - ${r}`})}async recordOCoinDividend(e,r="平台分红"){if(e<=0)throw new Error("分红金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_dividend",amount:e,currency:"cash",description:`O币分红 - ${r}`})}async recordOCoinVesting(e,r="O币期权解禁"){if(e<=0)throw new Error("解禁金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_vesting",amount:e,currency:"oCoins",description:`O币期权解禁 - ${r}`}),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{type:"ocoin_vesting",amount:e,timestamp:new Date}})),console.log(`💰 记录O币期权解禁: ${e} O币`)}async distributeCashDividend(e,r,n,o="现金分红"){if(r<=0)throw new Error("分红金额必须大于0");const l=`${n}-${e}`;if((await this.getTransactions(200)).some(m=>m.category==="dividend"&&m.relatedId===l)){console.warn(`检测到用户 ${e} 周期 ${n} 的现金分红已入账，跳过重复记录`);return}await this.addTransaction({type:"income",category:"dividend",amount:r,currency:"cash",description:`${o} - 用户 ${e}`,relatedId:l})}}const et=new GT,Cv=Object.freeze(Object.defineProperty({__proto__:null,walletService:et},Symbol.toStringTag,{value:"Module"}));function YT({gameType:s,playerLevel:e}){const[r,n]=j.useState(!1),o=()=>{switch(s){case"match3":return{title:"消消乐游戏规则",rules:["🎯 目标：在60秒内获得尽可能高的分数","🔄 操作：拖拽相邻的宝石进行交换","💎 消除：3个或更多相同宝石连成一线即可消除","⚡ 连击：连续消除可获得额外分数加成","🏆 算力：根据得分获得相应的算力奖励"],items:[{name:"普通宝石",icon:"💎",description:"基础消除，每个10分"},{name:"特殊宝石",icon:"⭐",description:"4个连消产生，消除整行/列"},{name:"彩虹宝石",icon:"🌈",description:"5个连消产生，消除所有同色宝石"},{name:"炸弹宝石",icon:"💥",description:"L/T形消除产生，爆炸消除周围"}],difficulty:l(e)};default:return{title:"游戏规则",rules:["暂无规则说明"],items:[],difficulty:{level:1,description:"简单"}}}},l=u=>u<=5?{level:1,description:"新手难度",features:["较多的简单匹配机会","较长的思考时间","基础分数倍率"]}:u<=15?{level:2,description:"进阶难度",features:["增加特殊宝石出现率","更复杂的布局","1.2x分数倍率"]}:u<=30?{level:3,description:"专家难度",features:["更少的匹配机会","更多障碍物","1.5x分数倍率"]}:{level:4,description:"大师难度",features:["极具挑战性的布局","限制移动次数","2.0x分数倍率"]},c=o();return t.jsxs("div",{className:"w-full",children:[t.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between px-4 py-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-question-circle"}),t.jsx("span",{className:"font-medium",children:"游戏规则与道具说明"})]}),t.jsx("i",{className:`fa-solid fa-chevron-${r?"up":"down"} transition-transform`})]}),r&&t.jsx("div",{className:"mt-4 bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-book text-blue-500"}),"基本规则"]}),t.jsx("ul",{className:"space-y-2",children:c.rules.map((u,m)=>t.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),t.jsx("span",{children:u})]},m))})]}),c.items.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-magic-wand-sparkles text-purple-500"}),"道具说明"]}),t.jsx("div",{className:"space-y-3",children:c.items.map((u,m)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-xl",children:u.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:u.name}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.description})]})]},m))})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-chart-line text-orange-500"}),"当前难度：",c.difficulty.description]}),t.jsx("ul",{className:"space-y-2",children:"features"in c.difficulty&&c.difficulty.features.map((u,m)=>t.jsxs("li",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-start gap-2",children:[t.jsx("i",{className:"fa-solid fa-check text-green-500 text-xs mt-0.5"}),t.jsx("span",{children:u})]},m))})]})]})})]})}function KT({effects:s,onEffectComplete:e,cellSize:r=48}){const[n,o]=j.useState([]);j.useEffect(()=>{o(s)},[s]);const l=c=>{const u={position:"absolute",left:c.position.col*(r+4)+"px",top:c.position.row*(r+4)+"px",width:r+"px",height:r+"px",pointerEvents:"none",zIndex:100};switch(c.type){case"bomb":return t.jsx(fr.div,{style:u,initial:{scale:0,opacity:1},animate:{scale:[0,2,0],opacity:[1,1,0]},transition:{duration:.6,ease:"easeOut"},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"💥"})},c.id);case"lightning":return t.jsx(fr.div,{style:u,initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:.8},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"⚡"})},c.id);case"rainbow":return t.jsx(fr.div,{style:u,initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],rotate:[0,360]},transition:{duration:1},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"🌈"})},c.id);case"match":return t.jsx(fr.div,{style:u,initial:{opacity:0,scale:1},animate:{opacity:[0,1,0],scale:[1,1.3,0],y:[0,-30]},transition:{duration:.6},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-2xl",children:"✨"})},c.id);case"combo":return t.jsx(fr.div,{style:u,initial:{opacity:0,scale:0,y:0},animate:{opacity:[0,1,0],scale:[0,1.2,0],y:[0,-50]},transition:{duration:.8},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"bg-purple-600 text-white px-2 py-1 rounded font-bold text-sm",children:"COMBO!"})},c.id);default:return null}};return t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.jsx(s2,{children:n.map(c=>l(c))})})}const $t=8,Mg=["red","blue","green","yellow","purple","orange"],Ic=3,ZT={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"};function qT(){const{updateUserStats:s}=fl(),[e,r]=j.useState([]),[n,o]=j.useState(null),[l,c]=j.useState({score:0,moves:30,level:1,target:1e3,timeLeft:60,powerUps:{bomb:2,lightning:1,rainbow:1}}),[u,m]=j.useState(!0),[p,f]=j.useState(null),[x,v]=j.useState(!1),[N,C]=j.useState(1),[k,w]=j.useState(1),[T,_]=j.useState([]),A=j.useCallback((M,F)=>({id:`${M}-${F}-${Date.now()}-${Math.random()}`,color:Mg[Math.floor(Math.random()*Mg.length)],row:M,col:F}),[]),B=j.useCallback(()=>{const M=[];for(let F=0;F<$t;F++){M[F]=[];for(let Z=0;Z<$t;Z++)M[F][Z]=A(F,Z)}r(M)},[A]),I=j.useCallback(M=>{const F=[];for(let Z=0;Z<$t;Z++){let L=1,re=M[Z][0].color;for(let H=1;H<$t;H++)if(M[Z][H].color===re)L++;else{if(L>=Ic)for(let P=H-L;P<H;P++)F.push({row:Z,col:P});L=1,re=M[Z][H].color}if(L>=Ic)for(let H=$t-L;H<$t;H++)F.push({row:Z,col:H})}return F},[]),D=j.useCallback(M=>{const F=[];for(let Z=0;Z<$t;Z++){let L=1,re=M[0][Z].color;for(let H=1;H<$t;H++)if(M[H][Z].color===re)L++;else{if(L>=Ic)for(let P=H-L;P<H;P++)F.push({row:P,col:Z});L=1,re=M[H][Z].color}if(L>=Ic)for(let H=$t-L;H<$t;H++)F.push({row:H,col:Z})}return F},[]),z=j.useCallback(M=>{const F=I(M),Z=D(M);return[...F,...Z]},[I,D]),E=j.useCallback((M,F)=>{const Z=M.map(re=>[...re]),L=new Set(F.map(re=>`${re.row}-${re.col}`));for(let re=0;re<$t;re++){const H=[];for(let P=$t-1;P>=0;P--)L.has(`${P}-${re}`)||H.push(Z[P][re]);for(;H.length<$t;)H.push(A(0,re));for(let P=0;P<$t;P++){const W=H[$t-1-P];Z[P][re]={...W,row:P,col:re}}}return Z},[A]),G=j.useCallback(async M=>{let F=M,Z=0;for(;;){const L=z(F);if(L.length===0)break;Z+=L.length,F=E(F,L),await new Promise(re=>setTimeout(re,300))}if(Z>0){const L=Z*10*l.level,re=Math.round(L*k),H=Math.floor($t/2),P=Math.floor($t/2),W={id:`effect-${Date.now()}-${Math.random()}`,type:"match",position:{row:H,col:P},timestamp:Date.now()};_(ae=>[...ae,W]),Z>=6&&setTimeout(()=>{const ae={id:`effect-${Date.now()}-${Math.random()}`,type:"combo",position:{row:H,col:P},timestamp:Date.now()};_(je=>[...je,ae])},200),c(ae=>({...ae,score:ae.score+re})),_r.success(`消除了 ${Z} 个宝石，获得 ${re} 分！`)}return F},[z,E,l.level]),Y=j.useCallback(async(M,F,Z,L)=>{if(x)return;v(!0);const re=e.map(W=>[...W]),H=re[M][F];re[M][F]=re[Z][L],re[Z][L]=H,re[M][F].row=M,re[M][F].col=F,re[Z][L].row=Z,re[Z][L].col=L,z(re).length>0?(r(re),c(W=>({...W,moves:W.moves-1})),setTimeout(async()=>{const W=await G(re);r(W),v(!1)},100)):(_r.error("无法消除，请尝试其他组合"),v(!1))},[e,x,z,G]),ne=j.useCallback((M,F)=>{if(!(!u||p||x))if(n){const{row:Z,col:L}=n;if(Z===M&&L===F){o(null);return}Math.abs(Z-M)===1&&L===F||Math.abs(L-F)===1&&Z===M?(Y(Z,L,M,F),o(null)):o({row:M,col:F})}else o({row:M,col:F})},[n,u,p,x,Y]),ee=j.useCallback((M,F,Z)=>{if(!l.powerUps[M]||x)return;v(!0);const L={id:`effect-${Date.now()}-${Math.random()}`,type:M,position:{row:F,col:Z},timestamp:Date.now()};_(P=>[...P,L]);const re=e.map(P=>[...P]),H=[];switch(M){case"bomb":for(let W=Math.max(0,F-1);W<=Math.min($t-1,F+1);W++)for(let ae=Math.max(0,Z-1);ae<=Math.min($t-1,Z+1);ae++)H.push({row:W,col:ae});break;case"lightning":for(let W=0;W<$t;W++)H.push({row:F,col:W});for(let W=0;W<$t;W++)H.push({row:W,col:Z});break;case"rainbow":const P=re[F][Z].color;for(let W=0;W<$t;W++)for(let ae=0;ae<$t;ae++)re[W][ae].color===P&&H.push({row:W,col:ae});break}setTimeout(()=>{const P=E(re,H);r(P),c(W=>({...W,score:W.score+Math.round(H.length*15*k),powerUps:{...W.powerUps,[M]:W.powerUps[M]-1}})),f(null),_r.success(`使用了${M==="bomb"?"炸弹":M==="lightning"?"闪电":"彩虹"}道具！`),setTimeout(()=>v(!1),300)},400)},[l.powerUps,x,e,E,k]);j.useEffect(()=>{if(!u)return;const M=setInterval(()=>{c(F=>F.timeLeft<=1?(m(!1),_r.error("时间到！游戏结束"),F):{...F,timeLeft:F.timeLeft-1})},1e3);return()=>clearInterval(M)},[u]);const se=j.useCallback(async()=>{const M=Math.max(1,Math.floor(l.score/50)),F=Math.max(10,Math.floor(l.score/5)),Z=60-l.timeLeft;console.log("游戏结束奖励计算:",{score:l.score,computingPowerEarned:M,gameCoinsEarned:F,duration:Z});try{await jv.addGameRecord({gameType:"match3",gameName:"消消乐",score:l.score,computingPowerEarned:M,duration:Z,level:l.level,moves:30-l.moves}),s({score:l.score,computingPowerEarned:M,gameCoinsEarned:F,playTime:Z,gameType:"消消乐"}),await et.addGameReward(M,F,"match3-game"),window.dispatchEvent(new CustomEvent("wallet-updated")),console.log("游戏记录已保存并更新用户数据:",{score:l.score,computingPowerEarned:M,gameCoinsEarned:F,duration:Z}),_r.success(`游戏结束！获得 ${M} 算力和 ${F} 游戏币`)}catch(L){console.error("保存游戏记录失败:",L),_r.error("保存游戏记录失败")}},[l,s]);j.useEffect(()=>{u&&((l.moves<=0||l.timeLeft<=0)&&(m(!1),se()),l.score>=l.target&&(m(!1),_r.success("恭喜过关！"),se()))},[l,u,se]),j.useEffect(()=>{B()},[B]);const ie=M=>{const F=Math.floor(M/60),Z=M%60;return`${F}:${Z.toString().padStart(2,"0")}`};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(oe,{to:"/game-center",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[t.jsx("i",{className:"fa-solid fa-arrow-left"}),t.jsx("span",{children:"返回游戏中心"})]}),t.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-300 dark:bg-slate-600"}),t.jsx("h1",{className:"hidden md:block text-lg font-semibold text-slate-700 dark:text-slate-200",children:"消消乐"})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:["关卡 ",t.jsx("span",{className:"font-bold text-purple-600",children:l.level})]}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:["目标 ",t.jsx("span",{className:"font-bold text-green-600",children:l.target})]})]})]})})}),t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"分数"}),t.jsx("span",{className:"text-xl font-bold text-blue-600",children:l.score.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"剩余步数"}),t.jsx("span",{className:"text-xl font-bold text-orange-600",children:l.moves})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"剩余时间"}),t.jsx("span",{className:"text-xl font-bold text-red-600",children:ie(l.timeLeft)})]})]})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"道具"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{onClick:()=>f(p==="bomb"?null:"bomb"),disabled:l.powerUps.bomb===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="bomb"?"bg-red-100 dark:bg-red-900/30 border-2 border-red-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.bomb===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-bomb text-red-500"}),t.jsx("span",{className:"text-sm",children:"炸弹"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.bomb})]}),t.jsxs("button",{onClick:()=>f(p==="lightning"?null:"lightning"),disabled:l.powerUps.lightning===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="lightning"?"bg-yellow-100 dark:bg-yellow-900/30 border-2 border-yellow-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.lightning===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-bolt text-yellow-500"}),t.jsx("span",{className:"text-sm",children:"闪电"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.lightning})]}),t.jsxs("button",{onClick:()=>f(p==="rainbow"?null:"rainbow"),disabled:l.powerUps.rainbow===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="rainbow"?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.rainbow===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-rainbow text-purple-500"}),t.jsx("span",{className:"text-sm",children:"彩虹"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.rainbow})]})]}),p&&t.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-xs text-blue-700 dark:text-blue-300",children:["点击游戏板使用",p==="bomb"?"炸弹":p==="lightning"?"闪电":"彩虹","道具"]})]})]}),t.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md relative",children:[t.jsxs("div",{className:"grid grid-cols-8 gap-1 max-w-md mx-auto relative",children:[t.jsx(KT,{effects:T,onEffectComplete:M=>_(F=>F.filter(Z=>Z.id!==M)),cellSize:48}),e.map((M,F)=>M.map((Z,L)=>t.jsx(fr.button,{onClick:()=>{p?ee(p,F,L):ne(F,L)},className:`
                        aspect-square rounded-lg shadow-md transition-all duration-200 transform hover:scale-105
                        ${ZT[Z.color]}
                        ${(n==null?void 0:n.row)===F&&(n==null?void 0:n.col)===L?"ring-4 ring-white ring-opacity-80 scale-110":""}
                        ${p?"cursor-crosshair":"cursor-pointer"}
                        ${x?"pointer-events-none":""}
                      `,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:x,children:t.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-white/20 to-transparent"})},Z.id)))]}),!u&&t.jsx(fr.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 text-center max-w-sm",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:l.score>=l.target?"恭喜过关！":"游戏结束"}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:["最终分数: ",l.score.toLocaleString()]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-sm",children:"再玩一次"}),t.jsx(oe,{to:"/computing-power",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-center text-sm",children:"查看算力"}),t.jsx(oe,{to:"/game-center",className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-center text-sm",children:"游戏中心"})]})]})})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:t.jsx(YT,{gameType:"match3",playerLevel:N})})]})]})})]})}class XT{constructor(){ze(this,"economicData",null);ze(this,"marketStats",null);ze(this,"listeners",[])}generateEconomicData(){const e=new Date,r=()=>(Math.random()-.5)*.1;return{timestamp:e,totalNetworkPower:Math.floor(125e4+Math.random()*25e4),activePlayers:Math.floor(8500+Math.random()*1500),dailyRewards:Math.floor(45e3+Math.random()*1e4),powerGrowthRate:12.5+r()*5,averageEfficiency:85.2+r()*10,networkLoad:67.8+r()*20,expectedReturn:8.5+r()*2,powerDistribution:[{category:"游戏算力",power:45e4,percentage:36,color:"#3b82f6"},{category:"交易算力",power:35e4,percentage:28,color:"#10b981"},{category:"社区算力",power:25e4,percentage:20,color:"#f59e0b"},{category:"系统算力",power:2e5,percentage:16,color:"#ef4444"}],platformRevenue:{daily:Math.floor(25e3+Math.random()*5e3),weekly:Math.floor(175e3+Math.random()*35e3),monthly:Math.floor(75e4+Math.random()*15e4)},transactionVolume:{daily:Math.floor(1200+Math.random()*300),total:Math.floor(45e4+Math.random()*5e4)},averagePrice:125.5+r()*25,priceHistory:[{timestamp:new Date(Date.now()-864e5*2),averagePrice:118.2,change:-2.1},{timestamp:new Date(Date.now()-864e5),averagePrice:122.8,change:3.9},{timestamp:new Date,averagePrice:125.5,change:2.2}],rewardHistory:[{date:"2025-01-24",totalReward:42500,participants:8200,averageReward:5.18},{date:"2025-01-25",totalReward:45800,participants:8650,averageReward:5.29},{date:"2025-01-26",totalReward:48200,participants:9100,averageReward:5.3}]}}async getEconomicData(){return this.economicData=this.generateEconomicData(),this.economicData}subscribe(e){return this.listeners.push(e),()=>{const r=this.listeners.indexOf(e);r>-1&&this.listeners.splice(r,1)}}startRealTimeUpdates(){setInterval(()=>{const e=this.generateEconomicData();this.economicData=e,this.listeners.forEach(r=>r(e))},3e3)}async getMarketStats(){return{totalListings:Math.floor(500+Math.random()*200),activeListings:Math.floor(300+Math.random()*100),totalTransactions:Math.floor(2500+Math.random()*500),totalVolume:Math.floor(125e3+Math.random()*25e3),averagePrice:Math.floor(50+Math.random()*30),topSellingItems:[],priceHistory:[]}}calculateEconomicHealth(e){const r=[{name:"算力效率",value:e.averageEfficiency,status:e.averageEfficiency>80?"good":e.averageEfficiency>60?"warning":"critical"},{name:"网络负载",value:e.networkLoad,status:e.networkLoad<70?"good":e.networkLoad<85?"warning":"critical"},{name:"用户活跃度",value:e.activePlayers/1e4,status:e.activePlayers>8e3?"good":e.activePlayers>6e3?"warning":"critical"}];return{score:r.reduce((o,l)=>{const c=l.status==="good"?1:l.status==="warning"?.6:.3;return o+c},0)/r.length*100,indicators:r}}}const Sv=new XT;Sv.startRealTimeUpdates();class JT{constructor(){ze(this,"transactionsStorageKey","fundPool_transactions");ze(this,"aCoinDistributionsStorageKey","fundPool_aCoinDistributions");ze(this,"oCoinDistributionsStorageKey","fundPool_oCoinDistributions");ze(this,"oCoinDividendsStorageKey","fundPool_oCoinDividends");ze(this,"transactions",[]);ze(this,"balance",{computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0,lastUpdated:new Date});ze(this,"exchangeRates",{computingPower:.1,gameCoins:.01,aCoins:1,cash:1,oCoins:1});ze(this,"aCoinConfig",{totalSupply:1e9,exchangeRate:1,minUnit:.01,distributionRatio:.4});ze(this,"aCoinDistributions",[]);ze(this,"aCoinStats",{totalSupply:1e9,circulatingSupply:0,totalDistributed:0,totalBurned:0,currentPrice:1,distributionHistory:[],holdersCount:0,averageHolding:0});ze(this,"oCoinConfig",{totalSupply:1e9,exchangeRate:1,minUnit:1e-5,distributionRatio:.6});ze(this,"oCoinDistributions",[]);ze(this,"oCoinDividends",[]);ze(this,"oCoinStats",{totalSupply:1e9,circulatingSupply:0,totalDistributed:0,totalBurned:0,totalLocked:1e9,currentPrice:1,priceHistory:[],distributionHistory:[],dividendHistory:[],holdersCount:0,averageHolding:0,marketCap:1e9});this.loadFromStorage()?(this.updateBalance(),this.updateACoinStats(),this.updateOCoinStats()):this.initializeMockData()}async getOCoinPrice(){try{return(await mh()).currentPrice}catch(e){return console.error("获取O币价格失败:",e),1}}_saveAll(){localStorage.setItem(this.transactionsStorageKey,JSON.stringify(this.transactions)),localStorage.setItem(this.aCoinDistributionsStorageKey,JSON.stringify(this.aCoinDistributions)),localStorage.setItem(this.oCoinDistributionsStorageKey,JSON.stringify(this.oCoinDistributions)),localStorage.setItem(this.oCoinDividendsStorageKey,JSON.stringify(this.oCoinDividends))}loadFromStorage(){let e=!1;const r=localStorage.getItem(this.transactionsStorageKey);r&&(this.transactions=JSON.parse(r).map(c=>(c.currency==="computing"&&(c.currency="computingPower",e=!0),{...c,timestamp:new Date(c.timestamp)})));const n=localStorage.getItem(this.aCoinDistributionsStorageKey);n&&(this.aCoinDistributions=JSON.parse(n).map(c=>({...c,timestamp:new Date(c.timestamp)})));const o=localStorage.getItem(this.oCoinDistributionsStorageKey);o&&(this.oCoinDistributions=JSON.parse(o).map(c=>({...c,timestamp:new Date(c.timestamp)})));const l=localStorage.getItem(this.oCoinDividendsStorageKey);return l&&(this.oCoinDividends=JSON.parse(l).map(c=>({...c,timestamp:new Date(c.timestamp)}))),e&&this._saveAll(),!!r||!!n||!!o||!!l}initializeMockData(){const e=[{id:"FP001",type:"income",category:"commission",amount:105,currency:"gameCoins",description:"游戏电商交易佣金",relatedTransactionId:"game_store_purchase_1",timestamp:new Date(Date.now()-1728e5),source:"game_store",anonymizedUserId:"user_***1"},{id:"FP002",type:"income",category:"commission",amount:8,currency:"computingPower",description:"玩家交易市场佣金",relatedTransactionId:"market_purchase_1",timestamp:new Date(Date.now()-3456e5),source:"player_market",anonymizedUserId:"user_***2"},{id:"FP003",type:"expense",category:"reward",amount:50,currency:"gameCoins",description:"用户活动奖励发放",timestamp:new Date(Date.now()-864e5),source:"system"},{id:"FP004",type:"income",category:"commission",amount:1.2,currency:"computingPower",description:"玩家交易市场佣金",relatedTransactionId:"sale_1",timestamp:new Date(Date.now()-1728e5),source:"player_market",anonymizedUserId:"user_***3"},{id:"FP005",type:"expense",category:"reward",amount:1.2,currency:"aCoins",description:"A币发放 - 2025-01-10",relatedTransactionId:"ACOIN_DIST_1736467200000",timestamp:new Date(Date.now()-864e5),source:"system",anonymizedUserId:"system"},{id:"FP006",type:"expense",category:"reward",amount:.8,currency:"aCoins",description:"A币发放 - 2025-01-09",relatedTransactionId:"ACOIN_DIST_1736380800000",timestamp:new Date(Date.now()-1728e5),source:"system",anonymizedUserId:"system"},{id:"FP007",type:"expense",category:"reward",amount:1.17,currency:"aCoins",description:"A币发放 - 2025-01-08",relatedTransactionId:"ACOIN_DIST_1736294400000",timestamp:new Date(Date.now()-2592e5),source:"system",anonymizedUserId:"system"},{id:"FP008",type:"expense",category:"reward",amount:.5,currency:"aCoins",description:"A币发放 - 2025-01-07",relatedTransactionId:"ACOIN_DIST_1736208000000",timestamp:new Date(Date.now()-3456e5),source:"system",anonymizedUserId:"system"}];this.transactions=e,this.updateBalance(),this._saveAll()}generateTransactionId(){return`FP${(this.transactions.length+1).toString().padStart(3,"0")}`}anonymizeUserId(e){if(e==="official_store"||e==="system")return e;const r=e.split("").reduce((n,o)=>(n=(n<<5)-n+o.charCodeAt(0),n&n),0);return`user_***${Math.abs(r)%1e3}`}async recordCommissionIncome(e,r,n,o,l,c){const u={id:this.generateTransactionId(),type:"income",category:"commission",amount:r,currency:n,description:this.getCommissionDescription(o),relatedTransactionId:e,timestamp:new Date,source:o,anonymizedUserId:this.anonymizeUserId(l)};return this.transactions.push(u),this.updateBalance(),this._saveAll(),console.log("资金池记录佣金收入:",u),u}async recordExpense(e,r,n,o,l){const c={id:this.generateTransactionId(),type:"expense",category:n,amount:e,currency:r,description:o,relatedTransactionId:l,timestamp:new Date,source:"system"};return this.transactions.push(c),this.updateBalance(),this._saveAll(),console.log("资金池记录支出:",c),c}getCommissionDescription(e){switch(e){case"player_market":return"玩家交易市场佣金";case"game_store":return"游戏电商交易佣金";case"official_store":return"官方商店交易佣金";default:return"平台交易佣金"}}updateBalance(){const e={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0,lastUpdated:new Date};this.transactions.forEach(r=>{const n=r.type==="income"?1:-1;switch(r.currency){case"computingPower":e.computingPower+=r.amount*n;break;case"cash":e.cash+=r.amount*n;break;case"gameCoins":e.gameCoins+=r.amount*n;break}}),e.totalValue=e.computingPower*this.exchangeRates.computingPower+e.cash*this.exchangeRates.cash+e.gameCoins*this.exchangeRates.gameCoins+e.aCoins*this.exchangeRates.aCoins+e.oCoins*this.exchangeRates.oCoins,e.computingPower=Math.round(e.computingPower*100)/100,e.cash=Math.round(e.cash*100)/100,e.gameCoins=Math.round(e.gameCoins*100)/100,e.aCoins=0,e.oCoins=0,e.totalValue=Math.round(e.totalValue*100)/100,this.balance=e}async getCurrentBalance(){return{...this.balance}}async getAllTransactions(){return[...this.transactions].sort((e,r)=>r.timestamp.getTime()-e.timestamp.getTime())}async getTransactions(e=1,r=50){const n=[...this.transactions].sort((c,u)=>u.timestamp.getTime()-c.timestamp.getTime()),o=(e-1)*r,l=o+r;return{transactions:n.slice(o,l),total:this.transactions.length,page:e,totalPages:Math.ceil(this.transactions.length/r)}}async getStats(){const e=new Date,r=new Date(e.getTime()-30*864e5),n=localStorage.getItem("forced_platform_income"),o=n!==null,l=o?parseFloat(n):0,c={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0},u={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0},m={commission:0,operation:0,reward:0,refund:0,maintenance:0,dividend:0},p={commission:0,operation:0,reward:0,refund:0,maintenance:0,dividend:0},f={player_market:0,official_store:0,game_store:0,system:0};this.transactions.forEach(k=>{const w=k.amount*(this.exchangeRates[k.currency]||0);k.type==="income"?(c[k.currency]+=k.amount,c.totalValue+=w,m[k.category]+=w,f[k.source]+=w):(u[k.currency]+=k.amount,u.totalValue+=w,p[k.category]+=w)});const x={computingPower:c.computingPower-u.computingPower,cash:c.cash-u.cash,gameCoins:c.gameCoins-u.gameCoins,aCoins:c.aCoins-u.aCoins,oCoins:c.oCoins-u.oCoins,totalValue:o?l:c.totalValue-u.totalValue};o&&(console.log(`使用强制设置的平台净收入: ${l}`),c.totalValue=l+u.totalValue,c.cash=l+u.cash);const v=this.generateDailyStats(r,e,o,l),N=this.generateWeeklyStats(),C=this.generateMonthlyStats();return{totalIncome:c,totalExpense:u,netIncome:x,incomeByCategory:m,expenseByCategory:p,incomeBySource:f,dailyStats:v,weeklyStats:N,monthlyStats:C}}generateDailyStats(e,r,n=!1,o=0){const l={};for(let u=new Date(e);u<=r;u.setDate(u.getDate()+1)){const m=u.toISOString().split("T")[0];l[m]={income:0,expense:0}}return this.transactions.forEach(u=>{const m=u.timestamp.toISOString().split("T")[0];if(l[m]){const p=u.amount*this.exchangeRates[u.currency];u.type==="income"?l[m].income+=p:l[m].expense+=p}}),Object.entries(l).map(([u,m])=>{const p=u===new Date().toISOString().split("T")[0],f=p&&n?o+m.expense:m.income,x=p&&n?o:f-m.expense;return{date:u,income:Math.round(f*100)/100,expense:Math.round(m.expense*100)/100,netIncome:Math.round(x*100)/100}})}generateWeeklyStats(){return[{week:"第1周",income:150.5,expense:50,netIncome:100.5},{week:"第2周",income:200.3,expense:75.2,netIncome:125.1},{week:"第3周",income:180.7,expense:60,netIncome:120.7},{week:"第4周",income:220.1,expense:80.5,netIncome:139.6}]}generateMonthlyStats(){return[{month:"1月",income:500,expense:150,netIncome:350},{month:"2月",income:650.5,expense:200.3,netIncome:450.2},{month:"3月",income:720.8,expense:180.5,netIncome:540.3},{month:"4月",income:800.2,expense:220,netIncome:580.2},{month:"5月",income:900.1,expense:250.8,netIncome:649.3},{month:"6月",income:1050.3,expense:300.2,netIncome:750.1}]}async distributeACoins(e,r){const n=e*this.aCoinConfig.distributionRatio,o=new Date().toISOString().split("T")[0],l=r.reduce((C,k)=>C+k.gameCoinsEarned,0),c=r.reduce((C,k)=>C+k.computingPowerContributed,0),u=r.reduce((C,k)=>C+k.transactionVolume,0),m=r.map(C=>{const k=this.calculateContributionScore(C.gameCoinsEarned,C.computingPowerContributed,C.transactionVolume,l,c,u);return{userId:C.userId,contributionScore:k,gameCoinsEarned:C.gameCoinsEarned,computingPowerContributed:C.computingPowerContributed,transactionVolume:C.transactionVolume}}),p=m.reduce((C,k)=>C+k.contributionScore,0),f=m.filter(C=>C.contributionScore>0).map(C=>{const k=C.contributionScore/p,w=Math.round(n*k*100)/100;let T="activity";return C.computingPowerContributed>C.gameCoinsEarned*.1?T="computing":C.transactionVolume>C.gameCoinsEarned*.05&&(T="economic"),{userId:C.userId,amount:w,reason:T,contributionScore:C.contributionScore}}).filter(C=>C.amount>=.01),x=f.reduce((C,k)=>C+k.amount,0),v={id:`ACOIN_DIST_${Date.now()}`,period:o,totalDistributed:x,platformIncome:e,distributionPool:n,recipients:f,timestamp:new Date};this.aCoinDistributions.push(v),this.updateACoinStats();const N={id:this.generateTransactionId(),type:"expense",category:"reward",amount:x,currency:"aCoins",description:`每日A币自动结算发放 - ${o}`,relatedTransactionId:v.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(N),this._saveAll(),v}calculateContributionScore(e,r,n,o,l,c){const u={gameCoins:.5,computingPower:.3,transaction:.2},m=o>0?e/o:0,p=l>0?r/l:0,f=c>0?n/c:0,x=(m*u.gameCoins+p*u.computingPower+f*u.transaction)*1e3;return x>=.1?Math.round(x*100)/100:0}async getUserContributionDetails(e,r){const n=this.aCoinDistributions.find(l=>l.period===r);if(!n)return null;const o=n.recipients.find(l=>l.userId===e);return o?{gameCoinsContribution:.5,computingContribution:.3,transactionContribution:.2,totalScore:o.contributionScore,rank:n.recipients.sort((l,c)=>c.contributionScore-l.contributionScore).findIndex(l=>l.userId===e)+1}:null}updateACoinStats(){const e=this.aCoinDistributions.reduce((o,l)=>o+l.totalDistributed,0);let r=this.aCoinDistributions.reduce((o,l)=>l.recipients&&l.recipients.length>0?o+l.recipients.length:o+Math.ceil(l.totalDistributed/10),0);r=Math.max(1,r),this.transactions.filter(o=>o.currency==="aCoins"&&o.type==="expense"&&o.category==="reward");const n=Math.max(0,e-this.aCoinStats.totalBurned);this.aCoinStats={...this.aCoinStats,circulatingSupply:n,totalDistributed:e,distributionHistory:[...this.aCoinDistributions],holdersCount:r,averageHolding:r>0?n/r:0},localStorage.setItem("acoin_circulating_supply",n.toString()),localStorage.setItem("acoin_total_distributed",e.toString()),localStorage.setItem("acoin_holders_count",r.toString()),console.log("A币统计数据已更新:",{circulatingSupply:n,totalDistributed:e,holdersCount:r,averageHolding:this.aCoinStats.averageHolding})}async getACoinStats(){const e=localStorage.getItem("acoin_circulating_supply"),r=localStorage.getItem("acoin_total_distributed"),n=localStorage.getItem("acoin_holders_count");if(e&&r&&n){const o={...this.aCoinStats,circulatingSupply:parseFloat(e),totalDistributed:parseFloat(r),holdersCount:parseInt(n,10)};return this.aCoinStats=o,console.log("从localStorage获取A币统计数据:",o),o}return await this.refreshACoinStats(),{...this.aCoinStats}}async refreshACoinStats(){const e=this.aCoinDistributions.reduce((m,p)=>m+p.totalDistributed,0),n=this.transactions.filter(m=>m.currency==="aCoins"&&m.type==="expense"&&m.category==="reward").reduce((m,p)=>m+p.amount,0),o=e>0?e:n;let l=this.aCoinDistributions.reduce((m,p)=>p.recipients&&p.recipients.length>0?m+p.recipients.length:m+Math.ceil(p.totalDistributed/10),0);l=Math.max(1,l);const c=localStorage.getItem("mock_acoin_distributed"),u=localStorage.getItem("mock_acoin_holders");if(c){const m=parseFloat(c);m>o&&(console.log(`使用模拟A币发放量: ${m}`),this.aCoinStats.totalDistributed=m,this.aCoinStats.circulatingSupply=m)}if(u){const m=parseInt(u,10);m>l&&(console.log(`使用模拟A币持有人数: ${m}`),this.aCoinStats.holdersCount=m)}!c&&o>0&&(this.aCoinStats.totalDistributed=o,this.aCoinStats.circulatingSupply=o-this.aCoinStats.totalBurned),!u&&l>0&&(this.aCoinStats.holdersCount=l),this.aCoinStats.averageHolding=this.aCoinStats.holdersCount>0?this.aCoinStats.circulatingSupply/this.aCoinStats.holdersCount:0,localStorage.setItem("acoin_circulating_supply",this.aCoinStats.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",this.aCoinStats.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",this.aCoinStats.holdersCount.toString()),console.log("A币统计数据已刷新:",{circulatingSupply:this.aCoinStats.circulatingSupply,totalDistributed:this.aCoinStats.totalDistributed,holdersCount:this.aCoinStats.holdersCount,averageHolding:this.aCoinStats.averageHolding})}async getACoinConfig(){return{...this.aCoinConfig}}async getPublicFundPoolData(){const[e,r,n,o,l]=await Promise.all([this.getCurrentBalance(),this.getTransactions(1,20),this.getStats(),this.getACoinStats(),this.getOCoinStats()]),c=this.transactions.length>0?this.transactions.reduce((u,m)=>u+m.amount*this.exchangeRates[m.currency],0)/this.transactions.length:0;return{currentBalance:e,recentTransactions:r.transactions,stats:n,transactionCount:this.transactions.length,averageTransactionAmount:Math.round(c*100)/100,aCoinStats:o,oCoinStats:l}}async updateACoinBalance(e,r){const n={id:this.generateTransactionId(),type:e<0?"expense":"income",category:"reward",amount:Math.abs(e),currency:"aCoins",description:r,timestamp:new Date,source:"system",anonymizedUserId:"system"};this.transactions.push(n),e<0?(this.aCoinStats.circulatingSupply+=Math.abs(e),this.aCoinStats.totalDistributed+=Math.abs(e)):(this.aCoinStats.circulatingSupply-=Math.min(Math.abs(e),this.aCoinStats.circulatingSupply),this.aCoinStats.totalBurned+=Math.abs(e));const o=new Date().toISOString().split("T")[0],l=this.aCoinDistributions.find(c=>c.period===o);l&&e<0?l.totalDistributed+=Math.abs(e):e<0&&this.aCoinDistributions.push({id:`ACOIN_DIST_${Date.now()}`,period:o,totalDistributed:Math.abs(e),platformIncome:1e3,distributionPool:Math.abs(e),recipients:[],timestamp:new Date}),this.updateACoinStats(),this._saveAll(),console.log(`A币余额更新: ${e>0?"+":"-"}${Math.abs(e).toFixed(2)} A币`)}async getOCoinConfig(){return{...this.oCoinConfig}}async updateOCoinBalance(e,r){const n={id:this.generateTransactionId(),type:e<0?"expense":"income",category:"reward",amount:Math.abs(e),currency:"oCoins",description:r,timestamp:new Date,source:"system",anonymizedUserId:"system"};this.transactions.push(n),e<0?(this.oCoinStats.circulatingSupply+=Math.abs(e),this.oCoinStats.totalDistributed+=Math.abs(e),this.oCoinStats.totalLocked-=Math.abs(e)):(this.oCoinStats.circulatingSupply-=Math.min(Math.abs(e),this.oCoinStats.circulatingSupply),this.oCoinStats.totalBurned+=Math.abs(e));const o=new Date().toISOString().split("T")[0],l=this.oCoinDistributions.find(c=>c.period===o);l&&e<0?l.totalDistributed+=Math.abs(e):e<0&&this.oCoinDistributions.push({id:`OCOIN_DIST_${Date.now()}`,period:o,totalDistributed:Math.abs(e),platformNetIncome:1e3,distributionPool:Math.abs(e),recipients:[],timestamp:new Date}),this.updateOCoinStats(),this._saveAll(),console.log(`O币余额更新: ${e>0?"+":"-"}${Math.abs(e).toFixed(2)} O币`)}async updateOCoinStats(){const e=await this.getOCoinPrice();this.exchangeRates.oCoins=e;const r=this.oCoinDistributions.reduce((p,f)=>p+f.totalDistributed,0),o=this.transactions.filter(p=>p.currency==="oCoins"&&p.type==="expense"&&p.category==="reward").reduce((p,f)=>p+f.amount,0),l=r>0?r:o;let c=this.oCoinDistributions.reduce((p,f)=>f.recipients&&f.recipients.length>0?p+f.recipients.length:p+Math.ceil(f.totalDistributed/1e3),0);c=Math.max(1,c);const u=localStorage.getItem("mock_ocoin_distributed"),m=localStorage.getItem("mock_ocoin_holders");if(u){const p=parseFloat(u);p>l&&(console.log(`使用模拟O币发放量: ${p}`),this.oCoinStats.totalDistributed=p,this.oCoinStats.circulatingSupply=p,this.oCoinStats.totalLocked=this.oCoinStats.totalSupply-p)}if(m){const p=parseInt(m,10);p>c&&(console.log(`使用模拟O币持有人数: ${p}`),this.oCoinStats.holdersCount=p)}!u&&l>0&&(this.oCoinStats.totalDistributed=l,this.oCoinStats.circulatingSupply=l-this.oCoinStats.totalBurned,this.oCoinStats.totalLocked=this.oCoinStats.totalSupply-this.oCoinStats.circulatingSupply),!m&&c>0&&(this.oCoinStats.holdersCount=c),this.oCoinStats.averageHolding=this.oCoinStats.holdersCount>0?this.oCoinStats.circulatingSupply/this.oCoinStats.holdersCount:0,this.oCoinStats.marketCap=this.oCoinStats.circulatingSupply*e,localStorage.setItem("ocoin_circulating_supply",this.oCoinStats.circulatingSupply.toString()),localStorage.setItem("ocoin_total_distributed",this.oCoinStats.totalDistributed.toString()),localStorage.setItem("ocoin_holders_count",this.oCoinStats.holdersCount.toString()),localStorage.setItem("ocoin_current_price",e.toString()),localStorage.setItem("ocoin_market_cap",this.oCoinStats.marketCap.toString()),console.log("O币统计数据已更新:",{circulatingSupply:this.oCoinStats.circulatingSupply,totalDistributed:this.oCoinStats.totalDistributed,holdersCount:this.oCoinStats.holdersCount,averageHolding:this.oCoinStats.averageHolding,currentPrice:e,marketCap:this.oCoinStats.marketCap})}async getOCoinStats(){const e=localStorage.getItem("ocoin_circulating_supply"),r=localStorage.getItem("ocoin_total_distributed"),n=localStorage.getItem("ocoin_holders_count"),o=localStorage.getItem("ocoin_current_price"),l=localStorage.getItem("ocoin_market_cap");if(e&&r&&n&&o&&l){const c={...this.oCoinStats,circulatingSupply:parseFloat(e),totalDistributed:parseFloat(r),holdersCount:parseInt(n,10),currentPrice:parseFloat(o),marketCap:parseFloat(l),totalLocked:this.oCoinStats.totalSupply-parseFloat(e)};return this.oCoinStats=c,console.log("从localStorage获取O币统计数据:",c),c}return await this.updateOCoinStats(),{...this.oCoinStats}}async distributeOCoins(e,r){const n=e*this.aCoinConfig.distributionRatio,l=(e-n)*this.oCoinConfig.distributionRatio,c=new Date().toISOString().split("T")[0],u=r.reduce((v,N)=>v+N.contributionValue,0),m=r.map(v=>{const N=u>0?v.contributionValue/u*1e3:0,C=l*(N/1e3),k=v.optionsAmount,w=C+k;return{userId:v.userId,amount:Math.round(w*100)/100,reason:v.contributionType,contributionScore:N}}).filter(v=>v.amount>=this.oCoinConfig.minUnit),p=m.reduce((v,N)=>v+N.amount,0),f={id:`OCOIN_DIST_${Date.now()}`,period:c,totalDistributed:p,platformNetIncome:e,distributionPool:l,recipients:m,timestamp:new Date};this.oCoinDistributions.push(f);const x={id:this.generateTransactionId(),type:"expense",category:"reward",amount:p,currency:"oCoins",description:`O币发放 - ${c} (平台贡献奖励)`,relatedTransactionId:f.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(x),await this.updateOCoinStats(),this._saveAll(),f}async calculateSalaryPackage(e){const r=e.platformNetIncome*e.platformCommitteeRewardPercent,n=e.gameRevenueIncrease*e.communityRepresentativeRewardPercent,o=r+n,l=e.oCoinOptions,c=await this.getOCoinPrice(),u=o+l*c;return{cashReward:o,oCoinReward:l,totalValue:u,breakdown:{platformReward:r,communityReward:n,oCoinOptions:e.oCoinOptions}}}async calculateOCoinDividend(e){const r=new Date().toISOString().split("T")[0],n=await this.getOCoinHolders(),o=this.oCoinStats.circulatingSupply,l=n.map(p=>{const f=o>0?p.oCoinAmount/o:0,x=e*f;return{userId:p.userId,oCoinAmount:p.oCoinAmount,dividendRatio:f,amount:Math.round(x*100)/100}}).filter(p=>p.amount>=.01),c=l.reduce((p,f)=>p+f.amount,0),u={id:`OCOIN_DIV_${Date.now()}`,period:r,totalAmount:c,recipients:l,timestamp:new Date};this.oCoinDividends.push(u);const m={id:this.generateTransactionId(),type:"expense",category:"dividend",amount:c,currency:"cash",description:`O币持有者分红 - ${r}`,relatedTransactionId:u.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(m),this.updateBalance(),this.oCoinStats.dividendHistory.push(u),this._saveAll(),u}async getOCoinHolders(){const e=this.oCoinStats.holdersCount||10,r=this.oCoinStats.circulatingSupply||1e6,n=[],o=Math.max(1,Math.floor(e*.05)),c=r*.3/o;for(let N=0;N<o;N++)n.push({userId:`big_holder_${N}`,oCoinAmount:c*(.8+Math.random()*.4)});const u=Math.max(1,Math.floor(e*.25)),p=r*.4/u;for(let N=0;N<u;N++)n.push({userId:`medium_holder_${N}`,oCoinAmount:p*(.8+Math.random()*.4)});const f=e-o-u,v=r*.3/f;for(let N=0;N<f;N++)n.push({userId:`small_holder_${N}`,oCoinAmount:v*(.8+Math.random()*.4)});return n}async updateOCoinPrice(e){this.oCoinStats.currentPrice=e,this.exchangeRates.oCoins=e;const r=new Date().toISOString().split("T")[0];this.oCoinStats.priceHistory||(this.oCoinStats.priceHistory=[]);const n=this.oCoinStats.priceHistory.find(o=>o.date===r);n?n.price=e:this.oCoinStats.priceHistory.push({date:r,price:e}),this.oCoinStats.marketCap=this.oCoinStats.circulatingSupply*e,localStorage.setItem("ocoin_current_price",e.toString()),localStorage.setItem("ocoin_market_cap",this.oCoinStats.marketCap.toString()),console.log(`O币价格更新: ${e.toFixed(4)}, 市值: ${this.oCoinStats.marketCap.toFixed(2)}`)}async simulateOCoinPriceFluctuation(){const e=this.oCoinStats.currentPrice,r=.95+Math.random()*.1,n=e*r;return await this.updateOCoinPrice(n),n}async searchTransactions(e){let r=[...this.transactions];return e.type&&(r=r.filter(n=>n.type===e.type)),e.category&&(r=r.filter(n=>n.category===e.category)),e.source&&(r=r.filter(n=>n.source===e.source)),e.startDate&&(r=r.filter(n=>n.timestamp>=e.startDate)),e.endDate&&(r=r.filter(n=>n.timestamp<=e.endDate)),e.minAmount!==void 0&&(r=r.filter(n=>n.amount>=e.minAmount)),e.maxAmount!==void 0&&(r=r.filter(n=>n.amount<=e.maxAmount)),r.sort((n,o)=>o.timestamp.getTime()-n.timestamp.getTime())}}const gt=new JT,QT="modulepreload",eA=function(s){return"/AllinONE-Gaming-Platform/"+s},Og={},hi=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(p=>{if(p=eA(p),p in Og)return;Og[p]=!0;const f=p.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":QT,f||(v.as="script"),v.crossOrigin="",v.href=p,m&&v.setAttribute("nonce",m),document.head.appendChild(v),f)return new Promise((N,C)=>{v.addEventListener("load",N),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})};class tA{constructor(){ze(this,"activities",[]);ze(this,"playerStats",new Map);this.initializeMockData()}initializeMockData(){const e=[{userId:"user_001",sessionId:"session_001",gameId:"match3",gameName:"消消乐",startTime:new Date(Date.now()-36e5),endTime:new Date(Date.now()-3e6),duration:600,score:1250,level:5,achievements:["first_win","combo_master"],computingPowerEarned:85,gameCoinsEarned:120,activityType:"game_play"},{userId:"user_002",sessionId:"session_002",gameId:"memory",gameName:"记忆翻牌",startTime:new Date(Date.now()-72e5),endTime:new Date(Date.now()-66e5),duration:600,score:980,level:3,achievements:["memory_master"],computingPowerEarned:65,gameCoinsEarned:90,activityType:"game_play"}];this.activities=e,this.updatePlayerStats()}async recordGameActivity(e){const r=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...e,sessionId:r};this.activities.push(n),this.updatePlayerStats();try{const{walletService:o}=await hi(async()=>{const{walletService:l}=await Promise.resolve().then(()=>Cv);return{walletService:l}},[]);await o.addGameReward(e.computingPowerEarned||0,e.gameCoinsEarned||0,e.gameId)}catch(o){console.warn("同步钱包数据失败:",o)}return console.log("记录游戏活动:",n),n}async recordDailyLogin(e){const r={userId:e,sessionId:`login_${Date.now()}`,gameId:"system",gameName:"每日登录",startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:10,gameCoinsEarned:5,activityType:"daily_login"};await this.recordGameActivity(r)}async recordSocialInteraction(e,r){const n={userId:e,sessionId:`social_${Date.now()}`,gameId:"social",gameName:"社交互动",startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:5,gameCoinsEarned:3,activityType:"social_interaction"};await this.recordGameActivity(n)}async recordTaskCompletion(e,r,n){const o={userId:e,sessionId:`task_${Date.now()}`,gameId:"system",gameName:`任务完成: ${r}`,startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:n,gameCoinsEarned:Math.floor(n*.5),activityType:"task_completion"};await this.recordGameActivity(o)}updatePlayerStats(){const e=new Map;this.activities.forEach(r=>{e.has(r.userId)||e.set(r.userId,[]),e.get(r.userId).push(r)}),e.forEach((r,n)=>{const o=r.filter(T=>T.activityType==="game_play"),l=o.reduce((T,_)=>T+_.duration,0)/60,c=o.length,u=o.reduce((T,_)=>T+_.score,0),m=new Set(o.flatMap(T=>T.achievements)).size,p=r.filter(T=>T.activityType==="social_interaction").length,f=r.filter(T=>T.activityType==="task_completion").length,x=r.filter(T=>T.activityType==="daily_login").map(T=>T.startTime.toDateString()),N=new Set(x).size,C=l+c*2+m*5+p*3;let k;C<50?k="low":C<150?k="medium":C<300?k="high":k="very_high";const w={userId:n,totalPlayTime:l,totalSessions:c,averageSessionTime:c>0?l/c:0,totalScore:u,averageScore:c>0?u/c:0,achievementCount:m,consecutiveDays:N,socialInteractions:p,tasksCompleted:f,lastActiveDate:new Date(Math.max(...r.map(T=>T.startTime.getTime()))),activityLevel:k};this.playerStats.set(n,w)})}async getPlayerComputingPowerBreakdown(e){const r=this.playerStats.get(e);if(!r)return{baseActivity:0,gamePerformance:0,socialContribution:0,loyaltyBonus:0,achievementBonus:0,economicContribution:0,total:0};const n=Math.floor(r.totalPlayTime*.5+r.totalSessions*2),o=Math.floor(r.averageScore*.1+r.totalScore*.01),l=r.socialInteractions*5,c=r.consecutiveDays*10,u=r.achievementCount*15,m=50,p=n+o+l+c+u+m;return{baseActivity:n,gamePerformance:o,socialContribution:l,loyaltyBonus:c,achievementBonus:u,economicContribution:m,total:p}}async getPlayerStats(e){return this.playerStats.get(e)||null}async getNetworkActivityData(){try{const{generateMockNetworkActivityData:e}=await hi(async()=>{const{generateMockNetworkActivityData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockNetworkActivityData:r}},[]);return e()}catch(e){console.error("获取全网活动数据失败:",e);const r=Array.from(this.playerStats.values()),n=r.length||5,o=r.reduce((p,f)=>p+f.totalSessions,0)||25,l=r.reduce((p,f)=>p+f.totalPlayTime,0)||120,c=3.5,u=Array(5).fill(0).map((p,f)=>({userId:`user_00${f+1}`,username:`玩家00${f+1}`,computingPower:100-f*10,activityScore:1e3-f*100}));return{totalActivePlayers:n,totalGameSessions:o,totalPlayTime:l,averagePlayerLevel:c,topPerformers:u,gamePopularity:[{gameId:"match3",gameName:"消消乐",playerCount:15,totalSessions:45,averageScore:850},{gameId:"memory",gameName:"记忆翻牌",playerCount:12,totalSessions:36,averageScore:720},{gameId:"puzzle",gameName:"益智拼图",playerCount:8,totalSessions:24,averageScore:650}]}}}async getPlayerRecentActivities(e,r=20){return this.activities.filter(n=>n.userId===e).sort((n,o)=>o.startTime.getTime()-n.startTime.getTime()).slice(0,r)}async getRecentActivities(e=50){return this.activities.sort((r,n)=>n.startTime.getTime()-r.startTime.getTime()).slice(0,e)}}const Lo=new tA;class sA{constructor(){ze(this,"DISTRIBUTION_RATIO",.4);ze(this,"MIN_DISTRIBUTION_AMOUNT",.01);ze(this,"WEIGHT_GAME_COINS",.5);ze(this,"WEIGHT_COMPUTING_POWER",.3);ze(this,"WEIGHT_TRANSACTION",.2)}calculatePersonalContribution(e,r,n){return e*this.WEIGHT_GAME_COINS+r*this.WEIGHT_COMPUTING_POWER+n*this.WEIGHT_TRANSACTION}async calculateNetworkContribution(){const e=await js.getDailySettlementData();return e.totalDailyGameCoinsDistributed*this.WEIGHT_GAME_COINS+e.totalDailyComputingPower*this.WEIGHT_COMPUTING_POWER+5e4*this.WEIGHT_TRANSACTION}async calculateACoinDistribution(e,r){try{const n=await js.getDailySettlementData(),o=this.calculatePersonalContribution(r.gameCoins,r.computingPower,r.transactionVolume),l=await this.calculateNetworkContribution(),c=n.platformNetIncome,u=c>0?c*this.DISTRIBUTION_RATIO:0,m=l>0?o/l:0,p=u*m,f=p>=this.MIN_DISTRIBUTION_AMOUNT?p:0;let x="success",v;return c<=0?(x="failed",v="平台净收入不足，无法发放A币"):f===0&&(x="insufficient",v=`计算金额${p.toFixed(4)}低于最小发放单位${this.MIN_DISTRIBUTION_AMOUNT}`),{id:`acoin_${e}_${Date.now()}`,userId:e,date:new Date().toISOString().split("T")[0],personalContributionScore:o,networkContributionScore:l,personalRatio:m,calculatedAmount:p,actualDistributed:f,platformNetIncome:c,distributionPool:u,status:x,reason:v,timestamp:new Date}}catch(n){throw console.error("A币计算失败:",n),new Error("A币计算服务异常")}}async distributeACoin(e,r){const n=await this.calculateACoinDistribution(e,r);if(n.status==="success"&&n.actualDistributed>0)try{await this.saveDistributionRecord(n),console.log(`A币发放成功: 用户${e}获得${n.actualDistributed.toFixed(2)} A币`)}catch(o){console.error("A币发放执行失败:",o),n.status="failed",n.reason="发放执行失败"}return n}async updateFundPoolACoin(e){try{const r=e<0?`A币发放 - ${new Date().toISOString().split("T")[0]}`:`A币回收 - ${new Date().toISOString().split("T")[0]}`;await gt.updateACoinBalance(e,r);const n=await gt.getPublicFundPoolData();localStorage.setItem("acoin_circulating_supply",n.aCoinStats.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",n.aCoinStats.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",n.aCoinStats.holdersCount.toString()),console.log(`资金池A币变化: ${e>0?"+":""}${e.toFixed(2)} A币`),console.log(`资金池余额: ${n.currentBalance.aCoins.toFixed(2)} A币`),console.log(`流通供应量: ${n.aCoinStats.circulatingSupply.toFixed(2)} A币`),console.log(`累计发放量: ${n.aCoinStats.totalDistributed.toFixed(2)} A币`),console.log(`持有人数: ${n.aCoinStats.holdersCount} 人`)}catch(r){throw console.error("更新资金池失败:",r),r}}async saveDistributionRecord(e){try{const r=this.getDistributionHistory(),n=[e,...r.slice(0,99)];localStorage.setItem("acoin-distribution-records",JSON.stringify(n)),console.log("A币发放记录已保存")}catch(r){throw console.error("保存发放记录失败:",r),r}}getDistributionHistory(){try{const e=localStorage.getItem("acoin-distribution-records");return e?JSON.parse(e):[]}catch(e){return console.error("获取发放历史失败:",e),[]}}getUserDistributionHistory(e){return this.getDistributionHistory().filter(n=>n.userId===e)}getDistributionStats(){const e=this.getDistributionHistory(),r=e.filter(u=>u.status==="success"),n=r.reduce((u,m)=>u+m.actualDistributed,0),o=new Set(r.map(u=>u.userId)).size,l=o>0?n/o:0,c=r.length>0?r[0].date:"";return{totalDistributed:n,totalRecipients:o,averageDistribution:l,lastDistributionDate:c,distributionHistory:e.slice(0,10)}}hasDistributedToday(e){const r=new Date().toISOString().split("T")[0];return this.getUserDistributionHistory(e).some(o=>o.date===r&&o.status==="success")}async estimateUserACoin(e,r){try{if(this.hasDistributedToday(e))return{estimatedAmount:0,canDistribute:!1,reason:"今日已发放，每日只能发放一次"};const n=await this.calculateACoinDistribution(e,r);return{estimatedAmount:n.actualDistributed,canDistribute:n.status==="success"&&n.actualDistributed>0,reason:n.reason}}catch(n){return console.error("预估A币失败:",n),{estimatedAmount:0,canDistribute:!1,reason:"计算服务异常"}}}async getUserContributionData(){try{const e=await this.getUserGameCoinsData(),r=await this.getUserComputingPowerData(),n=await this.getUserTransactionData(),o=this.getUserDistributionHistory("current-user-id"),l=o.reduce((u,m)=>u+m.actualDistributed,0),c=o.length>0?new Date(o[0].timestamp):new Date(Date.now()-30*24*60*60*1e3);return{gameCoinsEarned:e,computingPowerContribution:r,transactionActivity:n,gameCoinsWeight:this.WEIGHT_GAME_COINS,computingPowerWeight:this.WEIGHT_COMPUTING_POWER,transactionWeight:this.WEIGHT_TRANSACTION,totalACoinEarned:l,lastDistribution:c}}catch(e){throw console.error("获取用户贡献度数据失败:",e),e}}async getUserGameCoinsData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.balance&&typeof r.balance.gameCoins=="number")return r.balance.gameCoins}return 0}catch(e){return console.error("获取用户游戏币数据失败:",e),0}}async getUserComputingPowerData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.balance&&typeof r.balance.computingPower=="number")return r.balance.computingPower}return 0}catch(e){return console.error("获取用户算力数据失败:",e),0}}async getUserTransactionData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.transactions&&Array.isArray(r.transactions)){const n=new Date;return n.setDate(n.getDate()-30),r.transactions.filter(o=>new Date(o.timestamp)>=n).length}}return 0}catch(e){return console.error("获取用户交易数据失败:",e),0}}async getACoinTransactions(e=10){try{const r=[],n=new Date;for(let o=0;o<e;o++){const l=new Date(n.getTime()-o*24*60*60*1e3),c=Math.random()>.3;r.push({id:`acoin_tx_${o}`,type:c?"income":"expense",amount:parseFloat((c?Math.random()*10+1:Math.random()*5+.5).toFixed(2)),description:c?o%3===0?"A币贡献奖励":o%2===0?"算力奖励转换":"交易活跃度奖励":o%2===0?"A币兑换游戏币":"A币兑换现金",currency:"aCoins",category:c?"acoin_distribution":"acoin_exchange",timestamp:l})}return r.sort((o,l)=>l.timestamp.getTime()-o.timestamp.getTime())}catch(r){return console.error("获取A币交易记录失败:",r),[]}}async getUserACoinExchangeLimits(){try{return{dailyExchangeIn:1e3,dailyExchangeOut:500,monthlyExchangeIn:1e4,monthlyExchangeOut:5e3,remainingDailyIn:1e3,remainingDailyOut:500,remainingMonthlyIn:1e4,remainingMonthlyOut:5e3}}catch(e){throw console.error("获取A币兑换限制失败:",e),e}}async recordACoinExchange(e,r,n){try{const o={id:`acoin_exchange_${Date.now()}`,userId:"current-user-id",amount:e,targetCurrency:r,targetAmount:n,exchangeRate:n/e,timestamp:new Date,status:"success"},l=localStorage.getItem("acoin-exchange-transactions"),c=l?JSON.parse(l):[];return c.unshift(o),localStorage.setItem("acoin-exchange-transactions",JSON.stringify(c.slice(0,100))),console.log(`A币兑换交易已记录: ${e} A币 -> ${n} ${r}`),!0}catch(o){return console.error("记录A币兑换交易失败:",o),!1}}async distributeACoinsByContribution(e,r){try{console.log(`开始批量分发A币，总池子: ${e} A币，用户数: ${r.length}`);const n=r.map(p=>{const f=this.calculatePersonalContribution(p.gameCoins,p.computingPower,p.transactionVolume);return{...p,contributionScore:f}}),o=n.reduce((p,f)=>p+f.contributionScore,0);if(console.log(`总贡献分数: ${o}`),o===0)return{totalAmount:0,recipientsCount:0,successfulDistributions:[]};const l=n.map(p=>{const f=p.contributionScore/o,x=e*f,v=x>=this.MIN_DISTRIBUTION_AMOUNT?x:0;return{userId:p.userId,contributionScore:p.contributionScore,ratio:f,calculatedAmount:x,actualAmount:v}}),c=l.filter(p=>p.actualAmount>0);console.log(`有效分发数: ${c.length}/${l.length}`);let u=0;const m=[];for(const p of c)try{const f={id:`acoin_batch_${p.userId}_${Date.now()}`,userId:p.userId,date:new Date().toISOString().split("T")[0],personalContributionScore:p.contributionScore,networkContributionScore:o,personalRatio:p.ratio,calculatedAmount:p.calculatedAmount,actualDistributed:p.actualAmount,platformNetIncome:e/this.DISTRIBUTION_RATIO,distributionPool:e,status:"success",timestamp:new Date};await this.saveDistributionRecord(f),u+=p.actualAmount,m.push({userId:p.userId,amount:p.actualAmount,contributionScore:p.contributionScore}),console.log(`成功分发 ${p.actualAmount.toFixed(2)} A币给用户 ${p.userId}`)}catch(f){console.error(`分发A币给用户 ${p.userId} 失败:`,f)}if(u>0){await this.updateFundPoolACoin(-u);const p=localStorage.getItem("acoin_circulating_supply"),f=localStorage.getItem("acoin_total_distributed"),x=localStorage.getItem("acoin_holders_count");if(p){const N=parseFloat(p)+u;localStorage.setItem("acoin_circulating_supply",N.toString())}else localStorage.setItem("acoin_circulating_supply",u.toString());if(f){const N=parseFloat(f)+u;localStorage.setItem("acoin_total_distributed",N.toString())}else localStorage.setItem("acoin_total_distributed",u.toString());const v=new Set(c.map(N=>N.userId));if(x){const N=Math.max(parseInt(x),v.size);localStorage.setItem("acoin_holders_count",N.toString())}else localStorage.setItem("acoin_holders_count",v.size.toString());console.log("已更新A币统计数据:",{circulatingSupply:localStorage.getItem("acoin_circulating_supply"),totalDistributed:localStorage.getItem("acoin_total_distributed"),holdersCount:localStorage.getItem("acoin_holders_count")})}return{totalAmount:u,recipientsCount:m.length,successfulDistributions:m}}catch(n){throw console.error("批量分发A币失败:",n),n}}}const kn=new sA;class rA{constructor(){ze(this,"ECONOMIC_CONSTANTS",{COMPUTING_POWER_BASE_VALUE:.05,FUND_POOL_CONTRIBUTION_RATE:.3,DAILY_REWARD_RATE:.005})}async getComputingEconomicData(){try{const{generateMockComputingEconomicData:e}=await hi(async()=>{const{generateMockComputingEconomicData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockComputingEconomicData:r}},[]);return e()}catch(e){return console.error("获取算力经济数据失败:",e),{totalNetworkComputingPower:125e3,totalEconomicValue:6250,activeComputingNodes:1250,totalGameSessions:8500,fundPoolBalance:15e3,computingContributionToFund:1875,economicHealthScore:78,riskLevel:"low",averageComputingEfficiency:78.5,computingROI:12.8,playerRetentionRate:86.3,totalPlayTime:4250,sustainabilityIndex:82,projectedMonthlyEarnings:1312.5,computingPowerGrowthRate:5.2,dailyComputingRevenue:31.25}}}async getPlayerEconomicProfile(e){try{const{generateMockPlayerEconomicProfile:r}=await hi(async()=>{const{generateMockPlayerEconomicProfile:n}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockPlayerEconomicProfile:n}},[]);return r(e)}catch(r){return console.error("获取玩家经济档案失败:",r),{userId:e,economicLevel:"gold",performanceRank:42,computingPowerBreakdown:{baseActivity:350,gamePerformance:280,socialContribution:120,loyaltyBonus:80,achievementBonus:150,economicContribution:220,total:1200},economicContribution:{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500},riskProfile:{riskTolerance:"moderate",diversificationScore:65,volatilityExposure:25},projectedEarnings:{daily:13.3,weekly:93.1,monthly:399,yearly:4853.5},investmentRecommendations:[{type:"activity_boost",title:"增加游戏活跃度",description:"通过增加每日游戏时长和参与更多游戏来提升基础活动算力",cost:0,expectedReturn:200,paybackPeriod:0,riskLevel:"low",priority:1},{type:"economic_participation",title:"参与经济活动",description:"通过交易、提供流动性等方式参与平台经济，获得经济贡献算力",cost:1e3,expectedReturn:1500,paybackPeriod:30,riskLevel:"medium",priority:2},{type:"computing_upgrade",title:"算力设备升级",description:"投资更高效的算力设备，提升整体算力产出效率",cost:5e3,expectedReturn:8e3,paybackPeriod:90,riskLevel:"medium",priority:3}]}}}async getComputingMarketData(){try{const{generateMockComputingMarketData:e}=await hi(async()=>{const{generateMockComputingMarketData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockComputingMarketData:r}},[]);return e()}catch(e){return console.error("获取算力市场数据失败:",e),{currentComputingPrice:.05,marketCap:6250,tradingVolume24h:312.5,marketTrend:"bullish",priceVolatility:3.8,priceHistory:this.generatePriceHistory()}}}calculateEconomicHealthScore(e,r,n){const o=Math.min(100,e/1e3),l=Math.min(100,r/100),c=Math.min(100,n/10);return o*.4+l*.4+c*.2}calculateEconomicLevel(e){return e>=5e3?"diamond":e>=2e3?"platinum":e>=1e3?"gold":e>=500?"silver":"bronze"}async calculateEconomicContribution(e){try{return{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500}}catch(r){return console.error("计算经济贡献失败:",r),{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500}}}async getPlayerPerformanceRank(e){try{return Math.floor(Math.random()*100)+1}catch(r){return console.error("获取玩家排名失败:",r),Math.floor(Math.random()*100)+1}}async calculatePlayerProjectedEarnings(e,r){try{const l=r*this.ECONOMIC_CONSTANTS.COMPUTING_POWER_BASE_VALUE*.005,c=l*7,u=l*30,m=l*365;return{daily:l,weekly:c,monthly:u,yearly:m}}catch(n){return console.error("计算玩家预测收益失败:",n),{daily:13.3,weekly:93.1,monthly:399,yearly:4853.5}}}async generateInvestmentRecommendations(e,r,n){const o=[];return n.baseActivity<1e3&&o.push({type:"activity_boost",title:"增加游戏活跃度",description:"通过增加每日游戏时长和参与更多游戏来提升基础活动算力",cost:0,expectedReturn:200,paybackPeriod:0,riskLevel:"low",priority:1}),n.socialContribution<500&&o.push({type:"activity_boost",title:"提升社交参与",description:"增加好友互动、社区参与和内容分享来获得社交贡献算力",cost:0,expectedReturn:150,paybackPeriod:0,riskLevel:"low",priority:2}),n.economicContribution<300&&o.push({type:"economic_participation",title:"参与经济活动",description:"通过交易、提供流动性等方式参与平台经济，获得经济贡献算力",cost:1e3,expectedReturn:1500,paybackPeriod:30,riskLevel:"medium",priority:3}),n.total>2e3&&o.push({type:"computing_upgrade",title:"算力设备升级",description:"投资更高效的算力设备，提升整体算力产出效率",cost:5e3,expectedReturn:8e3,paybackPeriod:90,riskLevel:"medium",priority:4}),o.sort((l,c)=>l.priority-c.priority)}async calculatePlayerRiskProfile(e,r){try{const n=r.totalTransactionVolume;let o="conservative";n>1e4?o="aggressive":n>5e3&&(o="moderate");const l=Math.min(100,r.marketMakingContribution/n*100),c=Math.random()*30+10;return{riskTolerance:o,diversificationScore:l,volatilityExposure:c}}catch(n){return console.error("计算玩家风险档案失败:",n),{riskTolerance:"moderate",diversificationScore:65,volatilityExposure:25}}}async getDailySettlementData(){try{const e=await gt.getStats(),r=await Lo.getNetworkActivityData(),n=await this.getComputingEconomicData(),o=e.dailyStats[e.dailyStats.length-1];let l=o?o.netIncome:0;if(l<=0&&(l=e.netIncome.totalValue,console.log(`使用资金池总净收入: ${l}`)),l<=0){const C=localStorage.getItem("forced_platform_income");C&&(l=parseFloat(C),console.log(`使用强制设置的平台净收入: ${l}`))}const c=Math.floor(Math.random()*1e4+5e3),u=n.totalNetworkComputingPower,m=r&&r.totalTransactions||1e3,p=await this.getActiveUsersWithContributionScores(),f=p.length,x=l>0?l*.4:0,v=p.reduce((C,k)=>{const w=k.gameCoins*.5+k.computingPower*.3+k.transactionVolume*.2/1e3;return C+w},0),N=f>0?v/f:.5;return{date:new Date().toISOString().split("T")[0],platformNetIncome:l,totalDailyGameCoinsDistributed:c,totalDailyComputingPower:u,totalDailyTransactions:m,totalDailyActivePlayers:f,aCoinDistributionPool:x,averageContributionScore:N,totalContributionScore:v,settlementStatus:l>0?"ready":"insufficient_income"}}catch(e){return console.error("获取每日结算数据失败:",e),{date:new Date().toISOString().split("T")[0],platformNetIncome:1e3,totalDailyGameCoinsDistributed:1e4,totalDailyComputingPower:5e3,totalDailyTransactions:1e3,totalDailyActivePlayers:500,aCoinDistributionPool:400,averageContributionScore:.5,totalContributionScore:250,settlementStatus:"ready"}}}async getActiveUsersWithContributionScores(){try{const e=localStorage.getItem("mock_active_users");return e?(console.log("使用本地存储的模拟用户数据"),JSON.parse(e)):(console.log("使用默认模拟用户数据"),[{userId:"user1",gameCoins:120,computingPower:350,transactionVolume:500},{userId:"user2",gameCoins:80,computingPower:200,transactionVolume:300},{userId:"user3",gameCoins:150,computingPower:400,transactionVolume:700},{userId:"user4",gameCoins:60,computingPower:180,transactionVolume:250},{userId:"user5",gameCoins:200,computingPower:500,transactionVolume:800},{userId:"current-user",gameCoins:100,computingPower:250,transactionVolume:400}])}catch(e){return console.error("获取活跃用户数据失败:",e),[{userId:"user1",gameCoins:120,computingPower:350,transactionVolume:500},{userId:"current-user",gameCoins:100,computingPower:250,transactionVolume:400}]}}async executeAutoDailySettlement(){try{console.log("开始执行每日自动结算A币...");const e=await this.getDailySettlementData();if(console.log("获取到每日结算数据:",e),e.settlementStatus!=="ready"){if(console.log(`结算状态不是ready，当前状态: ${e.settlementStatus}`),localStorage.getItem("force_acoin_settlement")!=="true")return{success:!1,message:`无法执行结算: ${e.settlementStatus==="insufficient_income"?"平台净收入不足":e.settlementStatus==="completed"?"今日已结算":e.settlementStatus==="processing"?"结算正在处理中":"未知状态"}`};console.log("强制结算模式：忽略结算状态检查")}const r=await this.getActiveUsersWithContributionScores();console.log(`获取到${r.length}个活跃用户`),console.log(`准备分发A币，发放池: ${e.aCoinDistributionPool}`);const n=await kn.distributeACoinsByContribution(e.aCoinDistributionPool,r);console.log("A币分发结果:",n);const o=n.successfulDistributions.find(m=>m.userId==="current-user");o&&(console.log(`当前用户获得A币: ${o.amount}`),await et.distributeACoins(o.amount,`每日结算A币奖励 - 贡献分数: ${o.contributionScore.toFixed(2)}`));const l=new Date,c={...e,settlementStatus:"completed",lastSettlementTime:l};await this.saveSettlementTime(l),await gt.updateAfterSettlement(n.totalAmount,n.recipientsCount||r.length),await this.saveSettlementHistory({date:new Date().toISOString().split("T")[0],totalDistributed:n.totalAmount,recipientsCount:r.length,platformNetIncome:e.platformNetIncome,aCoinDistributionPool:e.aCoinDistributionPool,distributions:n.successfulDistributions.map(m=>({userId:m.userId,username:m.userId,contributionScore:m.contributionScore,percentage:m.contributionScore/e.totalContributionScore,aCoinAmount:m.amount}))});const u=await gt.getACoinStats();return console.log("结算后的A币统计数据:",u),localStorage.setItem("acoin_circulating_supply",u.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",u.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",u.holdersCount.toString()),console.log("每日A币自动结算成功完成！"),{success:!0,message:"每日A币自动结算成功完成！",distributedAmount:n.totalAmount,recipientsCount:n.recipientsCount,lastSettlementTime:l}}catch(e){return console.error("执行自动结算失败:",e),{success:!1,message:`自动结算失败: ${e instanceof Error?e.message:"未知错误"}`}}}async checkAndExecuteAutoDailySettlement(){try{const e=await this.getLastSettlementTime(),r=new Date;return this.isSettledToday(e)?{executed:!1}:{executed:!0,result:await this.executeAutoDailySettlement()}}catch(e){return console.error("检查自动结算失败:",e),{executed:!1}}}async getLastSettlementTime(){try{const e=localStorage.getItem("lastACoinSettlementTime");return e?new Date(e):null}catch(e){return console.error("获取上次结算时间失败:",e),null}}isSettledToday(e){if(!e)return!1;const r=new Date;return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()&&e.getDate()===r.getDate()}async saveSettlementTime(e){try{localStorage.setItem("lastACoinSettlementTime",e.toISOString())}catch(r){console.error("保存结算时间失败:",r)}}generatePriceHistory(){const e=[];let r=.05;for(let n=30;n>=0;n--){const o=new Date;o.setDate(o.getDate()-n);const l=(Math.random()*10-5)/100;r=r*(1+l),e.push({timestamp:o,price:r,change:l*100})}return e}calculatePriceVolatility(e){const r=e.map(n=>Math.abs(n.change));return r.reduce((n,o)=>n+o,0)/r.length}determineMarketTrend(e){const r=e.slice(-7),n=r.reduce((o,l)=>o+l.change,0)/r.length;return n>1?"bullish":n<-1?"bearish":"stable"}async autoSettleACoin(){try{console.log("开始执行A币每日自动结算...");const e=await this.getDailySettlementData(),r=await this.getLastSettlementTime();if(this.isSettledToday(r))return console.log("今日A币已结算，跳过自动结算"),{success:!0,message:"今日A币已结算",alreadySettled:!0,data:e};const n=await this.getActiveUsersWithContributionScores();if(!n||n.length===0)return console.log("没有活跃用户，无法进行结算"),{success:!1,message:"没有活跃用户，无法进行结算",data:null};const o=n.reduce((u,m)=>{const p=m.gameCoins*.5+m.computingPower*.3+m.transactionVolume*.2/1e3;return u+p},0),l=n.map(u=>{const m=u.gameCoins*.5+u.computingPower*.3+u.transactionVolume*.2/1e3;return{userId:u.userId,username:u.userId,contributionScore:m,percentage:m/o,aCoinAmount:m/o*e.aCoinDistributionPool}});for(const u of l)await et.distributeACoins(u.aCoinAmount,`每日A币结算 - 贡献分数: ${u.contributionScore.toFixed(2)}`);const c=new Date;return await this.saveSettlementTime(c),await gt.updateAfterSettlement(e.aCoinDistributionPool),await this.saveSettlementHistory({date:new Date().toISOString().split("T")[0],totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length,platformNetIncome:e.platformNetIncome,aCoinDistributionPool:e.aCoinDistributionPool,distributions:l}),console.log("A币每日自动结算完成",{totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length}),{success:!0,message:"A币每日自动结算完成",data:{totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length,distributions:l}}}catch(e){return console.error("A币每日自动结算失败:",e),{success:!1,message:`A币每日自动结算失败: ${e}`,data:null}}}async saveSettlementHistory(e){try{const r=await this.getSettlementHistory();return r.push(e),localStorage.setItem("aCoinSettlementHistory",JSON.stringify(r)),!0}catch(r){return console.error("保存结算历史记录失败:",r),!1}}async getSettlementHistory(){try{const e=localStorage.getItem("aCoinSettlementHistory");return e?JSON.parse(e):[]}catch(e){return console.error("获取结算历史记录失败:",e),[]}}async getUserDailySettlements(){try{const e=localStorage.getItem("currentUserId")||"current-user";return(await this.getSettlementHistory()).map(o=>{const l=o.distributions.find(c=>c.userId===e);return l?{date:o.date,amount:l.aCoinAmount,contributionScore:l.contributionScore,totalDistributed:o.totalDistributed,recipientsCount:o.recipientsCount}:null}).filter(Boolean)}catch(e){return console.error("获取用户每日结算记录失败:",e),[]}}}const js=new rA,aA=({className:s=""})=>{const[e,r]=j.useState(null),[n,o]=j.useState(!0),[l,c]=j.useState({tradingVolume24h:0,volatility:0,holderDistribution:[]});j.useEffect(()=>{es.initializeOCoin(),u();const m=setInterval(u,3e4);return()=>clearInterval(m)},[]);const u=async()=>{try{o(!0);const m=await es.getOCoinMarketData();r(m),c({tradingVolume24h:m.marketCap/100*(Math.random()*5+1),volatility:Math.random()*5+.5,holderDistribution:[{range:"1,000,000+",percentage:45,color:"bg-purple-600"},{range:"100,000 - 1M",percentage:25,color:"bg-purple-500"},{range:"10,000 - 100k",percentage:15,color:"bg-purple-400"},{range:"1,000 - 10k",percentage:10,color:"bg-purple-300"},{range:"< 1,000",percentage:5,color:"bg-purple-200"}]})}catch(m){console.error("加载O币市场分析数据失败:",m)}finally{o(!1)}};return n||!e?t.jsx("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 ${s}`,children:t.jsxs("div",{className:"flex items-center justify-center h-32",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),t.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",children:"加载O币市场分析..."})]})}):t.jsxs("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📈"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-orange-800 dark:text-orange-400",children:"O币市场分析"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"关键指标、交易活动与持仓分析"})]})]}),t.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"🔄 刷新"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"当前价格"}),t.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["¥",e.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"24h交易量"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["¥",(l.tradingVolume24h/1e4).toFixed(2),"万"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"市值"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",(e.marketCap/1e8).toFixed(2),"亿"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"24h波动率"}),t.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[l.volatility.toFixed(2),"%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"价格趋势 (模拟)"}),t.jsx("div",{className:"h-40 flex items-end space-x-1",children:(()=>{const m=e.priceHistory.slice(-30);if(m.length===0)return null;const p=Math.min(...m.map(C=>C.price)),f=Math.max(...m.map(C=>C.price)),x=f-p,v=m.findIndex(C=>C.price===p),N=m.findIndex(C=>C.price===f);return m.map((C,k)=>{const w=x>1e-5?10+(C.price-p)/x*90:50;let T=null;if(k===v&&k===N)T=t.jsxs("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs font-bold z-10 text-purple-600",children:["¥",C.price.toFixed(4)]});else if(k===v){let _="left-1/2 -translate-x-1/2";Math.abs(v-N)<4&&(_=v<N?"right-0":"left-0"),T=t.jsxs("div",{className:`absolute -top-5 ${_} text-xs font-bold z-10 text-red-600`,children:["¥",C.price.toFixed(4)]})}else if(k===N){let _="left-1/2 -translate-x-1/2";Math.abs(N-v)<4&&(_=N<v?"right-0":"left-0"),T=t.jsxs("div",{className:`absolute -top-5 ${_} text-xs font-bold z-10 text-green-600`,children:["¥",C.price.toFixed(4)]})}return t.jsxs("div",{className:"flex-1 bg-orange-400 rounded-t group relative",style:{height:`${w}%`},children:[T,t.jsxs("div",{className:"absolute bottom-full mb-2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none left-1/2 -translate-x-1/2",children:["¥",C.price.toFixed(4),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-t-4 border-t-slate-800 border-l-4 border-l-transparent border-r-4 border-r-transparent"})]})]},k)})})()}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mt-2",children:[t.jsx("span",{children:"30天前"}),t.jsx("span",{children:"今天"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"持有者分布"}),t.jsx("div",{className:"space-y-3",children:l.holderDistribution.map((m,p)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsxs("span",{children:[m.range," O币"]}),t.jsxs("span",{children:[m.percentage,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-3 rounded-full",children:t.jsx("div",{className:`${m.color} h-3 rounded-full`,style:{width:`${m.percentage}%`}})})]},p))})]})]})]})};function nA(){var w,T,_,A,B,I,D,z,E,G,Y,ne,ee,se,ie,M,F,Z,L,re,H,P,W,ae,je,Ne,pe,Ee,Ue,Ye,ut,Gt,_t,ps,Et,ns,jt,Pt,It,yt,O,q;const[s,e]=j.useState(null),[r,n]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState(null),[f,x]=j.useState(!0),[v,N]=j.useState("overview"),C=async()=>{try{x(!0);const[J,be,xe,de,Ce]=await Promise.all([Sv.getEconomicData(),gt.getStats(),js.getComputingEconomicData(),Lo.getNetworkActivityData(),js.getComputingMarketData()]);e(J),n(be),l(xe),u(de),p(Ce)}catch(J){console.error("加载数据失败:",J)}finally{x(!1)}};if(j.useEffect(()=>{C();const J=setInterval(C,1e4);return()=>clearInterval(J)},[]),f)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载算力经济生态数据中..."})]})});const k=[{id:"overview",name:"生态概览",icon:"🌐"},{id:"activity",name:"活动算力",icon:"⚡"},{id:"economics",name:"经济分析",icon:"📊"},{id:"market",name:"市场数据",icon:"📈"},{id:"ocoin",name:"O币市场",icon:"🔶"}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"算力经济生态中心"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"实时监控平台算力生态与经济健康状况"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(oe,{to:"/",className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors flex items-center gap-2",children:[t.jsx("span",{children:"🏠"}),t.jsx("span",{children:"回到主页"})]}),t.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"🔄 刷新数据"})]})]}),t.jsx("div",{className:"flex space-x-1 mb-8 bg-white dark:bg-slate-800 rounded-lg p-1 shadow-sm",children:k.map(J=>t.jsxs("button",{onClick:()=>N(J.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all ${v===J.id?"bg-blue-600 text-white shadow-md":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[t.jsx("span",{children:J.icon}),t.jsx("span",{className:"font-medium",children:J.name})]},J.id))}),t.jsxs("div",{className:"space-y-6",children:[v==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"💰"}),"完整货币经济概览"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 shadow-lg border border-blue-200 dark:border-blue-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"⚡"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"全网总算力"}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o==null?void 0:o.totalNetworkComputingPower.toLocaleString()})]})]}),t.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["算力价值: ¥",o==null?void 0:o.totalEconomicValue.toLocaleString()]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-xl p-6 shadow-lg border border-yellow-200 dark:border-yellow-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"🪙"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"游戏币总金额"}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:((T=(w=r==null?void 0:r.totalIncome)==null?void 0:w.gameCoins)==null?void 0:T.toLocaleString())||"0"})]})]}),t.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"流通中的游戏币总量"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 shadow-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"📈"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"平台总收入"}),t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["¥",((A=(_=r==null?void 0:r.totalIncome)==null?void 0:_.totalValue)==null?void 0:A.toLocaleString())||"0"]})]})]}),t.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"累计收入总额"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 shadow-lg border border-red-200 dark:border-red-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"📉"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"平台总支出"}),t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["¥",((I=(B=r==null?void 0:r.totalExpense)==null?void 0:B.totalValue)==null?void 0:I.toLocaleString())||"0"]})]})]}),t.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"累计支出总额"})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"🏦"}),"资金池详细状态"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"💳 当前余额"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"现金余额"}),t.jsxs("span",{className:"font-bold text-green-600",children:["¥",((z=(D=r==null?void 0:r.totalIncome)==null?void 0:D.cash)==null?void 0:z.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力余额"}),t.jsx("span",{className:"font-bold text-blue-600",children:((G=(E=r==null?void 0:r.totalIncome)==null?void 0:E.computing)==null?void 0:G.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏币余额"}),t.jsx("span",{className:"font-bold text-yellow-600",children:((ne=(Y=r==null?void 0:r.totalIncome)==null?void 0:Y.gameCoins)==null?void 0:ne.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between border-t pt-2",children:[t.jsx("span",{className:"text-slate-800 dark:text-slate-200 font-semibold",children:"总价值"}),t.jsxs("span",{className:"font-bold text-lg",children:["¥",((se=(ee=r==null?void 0:r.totalIncome)==null?void 0:ee.totalValue)==null?void 0:se.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📊 净收益分析"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净现金收益"}),t.jsxs("span",{className:`font-bold ${(((ie=r==null?void 0:r.netIncome)==null?void 0:ie.cash)||0)>=0?"text-green-600":"text-red-600"}`,children:["¥",((F=(M=r==null?void 0:r.netIncome)==null?void 0:M.cash)==null?void 0:F.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净算力收益"}),t.jsx("span",{className:`font-bold ${(((Z=r==null?void 0:r.netIncome)==null?void 0:Z.computing)||0)>=0?"text-green-600":"text-red-600"}`,children:((re=(L=r==null?void 0:r.netIncome)==null?void 0:L.computing)==null?void 0:re.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净游戏币收益"}),t.jsx("span",{className:`font-bold ${(((H=r==null?void 0:r.netIncome)==null?void 0:H.gameCoins)||0)>=0?"text-green-600":"text-red-600"}`,children:((W=(P=r==null?void 0:r.netIncome)==null?void 0:P.gameCoins)==null?void 0:W.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between border-t pt-2",children:[t.jsx("span",{className:"text-slate-800 dark:text-slate-200 font-semibold",children:"总净收益"}),t.jsxs("span",{className:`font-bold text-lg ${(((ae=r==null?void 0:r.netIncome)==null?void 0:ae.totalValue)||0)>=0?"text-green-600":"text-red-600"}`,children:["¥",((Ne=(je=r==null?void 0:r.netIncome)==null?void 0:je.totalValue)==null?void 0:Ne.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏥 经济健康指标"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"经济健康度"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.economicHealthScore,"/100"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力ROI"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.computingROI.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"风险等级"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded text-xs ${(o==null?void 0:o.riskLevel)==="low"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":(o==null?void 0:o.riskLevel)==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:(o==null?void 0:o.riskLevel)==="low"?"低风险":(o==null?void 0:o.riskLevel)==="medium"?"中风险":"高风险"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"玩家留存率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.playerRetentionRate.toFixed(1),"%"]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"📈"}),"收入来源分析"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏪 按来源统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"玩家市场"}),t.jsxs("span",{className:"font-bold",children:["¥",((Ee=(pe=r==null?void 0:r.incomeBySource)==null?void 0:pe.player_market)==null?void 0:Ee.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"官方商店"}),t.jsxs("span",{className:"font-bold",children:["¥",((Ye=(Ue=r==null?void 0:r.incomeBySource)==null?void 0:Ue.official_store)==null?void 0:Ye.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏商店"}),t.jsxs("span",{className:"font-bold",children:["¥",((Gt=(ut=r==null?void 0:r.incomeBySource)==null?void 0:ut.game_store)==null?void 0:Gt.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"系统收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((ps=(_t=r==null?void 0:r.incomeBySource)==null?void 0:_t.system)==null?void 0:ps.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📋 按类别统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"佣金收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((ns=(Et=r==null?void 0:r.incomeByCategory)==null?void 0:Et.commission)==null?void 0:ns.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"运营收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((Pt=(jt=r==null?void 0:r.incomeByCategory)==null?void 0:jt.operation)==null?void 0:Pt.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"奖励支出"}),t.jsxs("span",{className:"font-bold text-red-600",children:["-¥",((yt=(It=r==null?void 0:r.expenseByCategory)==null?void 0:It.reward)==null?void 0:yt.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"维护支出"}),t.jsxs("span",{className:"font-bold text-red-600",children:["-¥",((q=(O=r==null?void 0:r.expenseByCategory)==null?void 0:O.maintenance)==null?void 0:q.toLocaleString())||"0"]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"🎮"}),"平台活动统计"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"👥 用户活动"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"活跃节点"}),t.jsx("span",{className:"font-bold",children:o==null?void 0:o.activeComputingNodes.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏会话"}),t.jsx("span",{className:"font-bold",children:o==null?void 0:o.totalGameSessions.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总游戏时长"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.totalPlayTime.toLocaleString(),"小时"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"💰 收益表现"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"日收益"}),t.jsxs("span",{className:"font-bold text-green-600",children:["¥",o==null?void 0:o.dailyComputingRevenue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"月预测收益"}),t.jsxs("span",{className:"font-bold text-blue-600",children:["¥",o==null?void 0:o.projectedMonthlyEarnings.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力增长率"}),t.jsxs("span",{className:"font-bold text-purple-600",children:[o==null?void 0:o.computingPowerGrowthRate.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🔄 系统效率"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力效率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.averageComputingEfficiency.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"可持续指数"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.sustainabilityIndex,"/100"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"资金池贡献"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.computingContributionToFund.toLocaleString()]})]})]})]})]})]})]}),v==="activity"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"⚡ 网络活动概况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"活跃玩家"}),t.jsx("span",{className:"font-bold text-lg",children:c==null?void 0:c.totalActivePlayers.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏会话"}),t.jsx("span",{className:"font-bold text-lg",children:c==null?void 0:c.totalGameSessions.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总游戏时长"}),t.jsxs("span",{className:"font-bold text-lg",children:[c==null?void 0:c.totalPlayTime.toLocaleString(),"小时"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏆 热门游戏排行"}),t.jsx("div",{className:"space-y-3",children:c==null?void 0:c.gamePopularity.slice(0,5).map((J,be)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-bold",children:be+1}),t.jsx("span",{className:"font-medium",children:J.gameName})]}),t.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[J.playerCount,"人"]})]},J.gameId))})]})]}),v==="economics"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📈 经济指标"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力效率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.averageComputingEfficiency.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"可持续指数"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.sustainabilityIndex,"/100"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"月度预期收益"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.projectedMonthlyEarnings.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力增长率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.computingPowerGrowthRate.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"⚠️ 风险评估"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"风险等级"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded ${(o==null?void 0:o.riskLevel)==="low"?"bg-green-100 text-green-800":(o==null?void 0:o.riskLevel)==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(o==null?void 0:o.riskLevel)==="low"?"低风险":(o==null?void 0:o.riskLevel)==="medium"?"中风险":"高风险"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"日收益"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.dailyComputingRevenue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"资金池贡献"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.computingContributionToFund.toLocaleString()]})]})]})]})]}),v==="market"&&m&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📈 市场概况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"当前算力价格"}),t.jsxs("span",{className:"font-bold text-lg",children:["¥",m.currentComputingPrice.toFixed(4)]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"市场总值"}),t.jsxs("span",{className:"font-bold",children:["¥",m.marketCap.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"24h交易量"}),t.jsxs("span",{className:"font-bold",children:["¥",m.tradingVolume24h.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"市场趋势"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded ${m.marketTrend==="bullish"?"bg-green-100 text-green-800":m.marketTrend==="bearish"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.marketTrend==="bullish"?"看涨":m.marketTrend==="bearish"?"看跌":"稳定"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📊 价格分析"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"价格波动率"}),t.jsxs("span",{className:"font-bold",children:[m.priceVolatility.toFixed(2),"%"]})]}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.jsx("p",{children:"最近价格历史:"}),t.jsx("div",{className:"mt-2 space-y-1",children:m.priceHistory.slice(-5).map((J,be)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:new Date(J.timestamp).toLocaleDateString()}),t.jsxs("span",{className:J.change>=0?"text-green-600":"text-red-600",children:["¥",J.price.toFixed(4)," (",J.change>=0?"+":"",J.change.toFixed(2),"%)"]})]},be))})]})]})]})]}),v==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(aA,{}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🎯 O币相关操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(oe,{to:"/computing-power",className:"flex items-center space-x-3 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💱"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-400",children:"交易O币"}),t.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-500",children:"前往个人中心买入或出售"})]})]}),t.jsxs(oe,{to:"/fund-pool",className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💰"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-400",children:"资金池信息"}),t.jsx("div",{className:"text-sm text-green-600 dark:text-green-500",children:"查看平台资金池状态"})]})]}),t.jsxs(oe,{to:"/platform-management",className:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"🔐"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-400",children:"期权管理"}),t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-500",children:"前往平台管理系统"})]})]})]})]})]})]}),t.jsxs("div",{className:"mt-12 bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🚀 快速导航"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs(oe,{to:"/",className:"flex items-center space-x-2 p-3 bg-slate-50 dark:bg-slate-900/20 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-900/30 transition-colors",children:[t.jsx("span",{children:"🏠"}),t.jsx("span",{className:"font-medium",children:"回到主页"})]}),t.jsxs(oe,{to:"/game-center",className:"flex items-center space-x-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{children:"🎮"}),t.jsx("span",{className:"font-medium",children:"游戏中心"})]}),t.jsxs(oe,{to:"/fund-pool",className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{children:"💰"}),t.jsx("span",{className:"font-medium",children:"资金池"})]}),t.jsxs(oe,{to:"/marketplace",className:"flex items-center space-x-2 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[t.jsx("span",{children:"🛒"}),t.jsx("span",{className:"font-medium",children:"市场交易"})]}),t.jsxs(oe,{to:"/computing-test",className:"flex items-center space-x-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{children:"🔧"}),t.jsx("span",{className:"font-medium",children:"服务测试"})]})]})]})]})})}const iA=()=>{const[s,e]=j.useState([]),[r,n]=j.useState(!1),o=m=>{e(p=>[...p,`${new Date().toLocaleTimeString()}: ${m}`])},l=async()=>{n(!0),o("开始测试游戏活动服务...");try{const m=await Lo.getPlayerStats("test-user");o(`玩家统计: 活跃度 ${(m==null?void 0:m.activityLevel)||0}, 游戏次数 ${(m==null?void 0:m.totalGamesPlayed)||0}`),await Lo.recordGameActivity({userId:"test-user",gameId:"puzzle",gameName:"测试游戏",startTime:new Date,endTime:new Date,duration:300,score:100,level:1,achievements:[],computingPowerEarned:10,gameCoinsEarned:50,activityType:"game_play"}),o("记录游戏活动成功");const p=await Lo.getPlayerComputingPowerBreakdown("test-user");o(`算力分解: 基础活动 ${p.baseActivity}, 游戏表现 ${p.gamePerformance}, 社交贡献 ${p.socialContribution}, 总计 ${p.total}`)}catch(m){o(`游戏活动服务错误: ${m}`)}n(!1)},c=async()=>{n(!0),o("开始测试经济服务...");try{const m=await js.getComputingEconomicData();o(`经济数据: 总算力 ${m.totalNetworkComputingPower}, 经济价值 ${m.totalEconomicValue}`);const p=await js.getPlayerEconomicProfile("test-user");o(`玩家档案: 总算力 ${p.computingPowerBreakdown.total}, 经济等级 ${p.economicLevel}, 排名 ${p.performanceRank}`);const f=await js.getComputingMarketData();o(`市场数据: 当前价格 ${f.currentComputingPrice}, 市场趋势 ${f.marketTrend}`)}catch(m){o(`经济服务错误: ${m}`)}n(!1)},u=()=>{e([])};return t.jsx("div",{className:"container mx-auto p-6",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"算力中心服务测试"}),t.jsxs("div",{className:"flex gap-4 mb-6",children:[t.jsx("button",{onClick:l,disabled:r,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:"测试游戏活动服务"}),t.jsx("button",{onClick:c,disabled:r,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:"测试经济服务"}),t.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"清除结果"})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg max-h-96 overflow-y-auto",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"测试结果:"}),s.length===0?t.jsx("p",{className:"text-gray-500",children:"点击按钮开始测试..."}):t.jsx("div",{className:"space-y-1",children:s.map((m,p)=>t.jsx("div",{className:"text-sm font-mono",children:m},p))})]})]})})},Sm=(s,e)=>{try{const r=localStorage.getItem(s);if(r)return JSON.parse(r,(n,o)=>typeof o=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(o)?new Date(o):o)}catch(r){console.error(`Error loading ${s} from localStorage`,r)}return e},Tm=(s,e)=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(r){console.error(`Error saving ${s} to localStorage`,r)}};class oA{constructor(){ze(this,"items");ze(this,"transactions");ze(this,"userInventories");ze(this,"commissionRates",{player_market:.01,official_store:.15,game_store:.3});this.items=Sm("marketplace_items",[]),this.transactions=Sm("marketplace_transactions",[]);const e=Sm("marketplace_userInventories",[]);this.userInventories=new Map(e),this.items.length===0&&this.transactions.length===0&&this.initializeMockData()}_saveData(){Tm("marketplace_items",this.items),Tm("marketplace_transactions",this.transactions),Tm("marketplace_userInventories",Array.from(this.userInventories.entries()))}calculateCommission(e,r){const n=this.commissionRates[r],o=Math.round(e*n*100)/100;if(r==="player_market"){const l=Math.round((e+o)*100)/100;return{commission:o,commissionRate:n,totalAmount:l,sellerReceives:e}}else{const l=Math.round((e+o)*100)/100;return{commission:o,commissionRate:n,totalAmount:l}}}initializeMockData(){if(this.items.length>0)return;const e=[{id:"item_1",name:"烈焰之剑",description:"传说中的烈焰之剑，攻击力+50，来自消消乐游戏的稀有掉落",category:"weapon",rarity:"legendary",price:1250,sellerId:"user_1",sellerName:"剑圣玩家",listedAt:new Date(Date.now()-864e5*2),views:156,gameSource:"消消乐"},{id:"item_2",name:"守护者盾牌",description:"坚固的盾牌，防御力+30，适合新手玩家使用",category:"armor",rarity:"epic",price:8500,currency:"gameCoins",sellerId:"user_2",sellerName:"守护骑士",listedAt:new Date(Date.now()-864e5),views:89,gameSource:"消消乐"},{id:"item_3",name:"幸运符咒",description:"增加幸运值的神秘符咒，提升道具掉落率",category:"consumable",rarity:"rare",price:50,currency:"cash",sellerId:"user_3",sellerName:"幸运星",listedAt:new Date(Date.now()-36e5*12),views:234,gameSource:"消消乐"},{id:"item_4",name:"魔法水晶",description:"蕴含强大魔力的水晶，可用于装备强化",category:"material",rarity:"rare",price:180,sellerId:"user_4",sellerName:"水晶猎人",listedAt:new Date(Date.now()-36e5*6),views:67,gameSource:"消消乐"},{id:"item_5",name:"龙鳞护甲",description:"由古龙鳞片制成的护甲，防御力极高",category:"armor",rarity:"legendary",price:2100,sellerId:"user_5",sellerName:"屠龙勇士",listedAt:new Date(Date.now()-36e5*18),views:312,gameSource:"消消乐"},{id:"item_6",name:"治疗药水",description:"快速恢复生命值的药水，战斗必备",category:"consumable",rarity:"common",price:45,sellerId:"user_6",sellerName:"药剂师",listedAt:new Date(Date.now()-36e5*3),views:28,gameSource:"消消乐"},{id:"item_7",name:"闪电法杖",description:"释放闪电魔法的法杖，魔法攻击力+40",category:"weapon",rarity:"epic",price:95,currency:"cash",sellerId:"user_7",sellerName:"雷电法师",listedAt:new Date(Date.now()-36e5*8),views:145,gameSource:"消消乐"},{id:"item_8",name:"稀有宝石",description:"闪闪发光的稀有宝石，可用于交易或收藏",category:"material",rarity:"epic",price:680,sellerId:"user_8",sellerName:"宝石商人",listedAt:new Date(Date.now()-36e5*24),views:198,gameSource:"消消乐"},{id:"item_9",name:"风之靴",description:"轻盈的靴子，移动速度+25%",category:"armor",rarity:"uncommon",price:2800,currency:"gameCoins",sellerId:"user_9",sellerName:"疾风行者",listedAt:new Date(Date.now()-36e5*4),views:52,gameSource:"消消乐"},{id:"item_10",name:"经验宝珠",description:"使用后获得大量经验值",category:"consumable",rarity:"rare",price:150,sellerId:"user_10",sellerName:"经验大师",listedAt:new Date(Date.now()-36e5*1),views:15,gameSource:"消消乐"}];this.items=e,this.transactions=[],this._saveData()}async getMarketItems(){return[...this.items]}async purchaseItem(e,r){const n=this.items.findIndex(N=>N.id===e);if(n===-1)throw new Error("商品不存在");const o=this.items[n],{commission:l,commissionRate:c,totalAmount:u,sellerReceives:m}=this.calculateCommission(o.price,"player_market"),p={id:`tx_${Date.now()}`,buyerId:r,sellerId:o.sellerId,item:{id:o.id,name:o.name,description:o.description,category:o.category,rarity:o.rarity},price:o.price,commission:l,totalAmount:u,commissionRate:c,transactionType:"player_market",timestamp:new Date};if(this.transactions.push(p),l>0){const N=o.currency||"computingPower";N==="cash"||N==="gameCoins"||N==="computingPower"?await gt.recordCommissionIncome(p.id,l,N,"player_market",r):console.warn(`Fund pool does not support commission in ${N}. Transaction not recorded in fund pool.`)}const f=await hi(()=>Promise.resolve().then(()=>Cv),void 0);await f.walletService.addTransaction({type:"expense",category:"purchase",amount:o.price,currency:o.currency||"gameCoins",description:`交易市场购买: ${o.name}`,relatedId:p.id}),l>0&&await f.walletService.addTransaction({type:"expense",category:"commission",amount:l,currency:o.currency||"gameCoins",description:`交易市场购买佣金 - ${o.name} (1%)`,relatedId:p.id}),m&&m>0&&await f.walletService.addTransaction({type:"income",category:"trade",amount:m,currency:o.currency||"gameCoins",description:`交易市场销售: ${o.name}`,relatedId:p.id});const x=this.userInventories.get(r)||[],v={...o,id:`owned_${Date.now()}`,price:0,sellerId:"",sellerName:"",listedAt:new Date,views:0};x.push(v),this.userInventories.set(r,x),this.items.splice(n,1),this._saveData()}async getUserInventory(e){let r=this.userInventories.get(e)||[];if(r.length===0){const n=[{id:"user_item_1",name:"新手之剑",description:"适合新手使用的基础武器",category:"weapon",rarity:"common",price:150,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"},{id:"user_item_2",name:"生命药水",description:"恢复少量生命值",category:"consumable",rarity:"common",price:50,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"},{id:"user_item_3",name:"魔法石",description:"蕴含魔力的神秘石头",category:"material",rarity:"rare",price:300,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"}];this.userInventories.set(e,n),r=n,this._saveData()}return r}async getMarketStats(){const e=this.transactions.reduce((o,l)=>o+l.price,0),r=this.transactions.length>0?e/this.transactions.length:0,n=await this.getCommissionStats();return{totalListings:this.items.length,dailyTransactions:this.transactions.filter(o=>o.timestamp.getTime()>Date.now()-864e5).length,totalVolume:e,averagePrice:r,totalCommission:n.totalCommission,dailyCommission:n.dailyCommission,commissionByType:n.commissionByType}}async getTransactionHistory(){return[...this.transactions].reverse()}async getUserTransactionHistory(e){const r=this.transactions.filter(u=>u.buyerId===e),n=this.transactions.filter(u=>u.sellerId===e),o=this.items.filter(u=>u.sellerId===e);if(console.log("查询用户ID:",e),console.log("所有交易记录:",this.transactions),console.log("交易记录详情:",this.transactions.map(u=>({id:u.id,buyerId:u.buyerId,sellerId:u.sellerId,itemName:u.item.name}))),console.log("用户购买记录:",r),r.length>0||n.length>0)return{purchases:r.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:n.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o};const l=[{id:"official_purchase_1",buyerId:e,sellerId:"official_store",item:{id:"official_item_1",name:"官方限定武器包",description:"包含3把稀有武器的官方礼包",category:"weapon",rarity:"legendary"},price:1200,timestamp:new Date(Date.now()-864e5*1),commission:0,commissionRate:0,transactionType:"official_store"},{id:"official_purchase_2",buyerId:e,sellerId:"official_store",item:{id:"official_item_2",name:"经验加速器",description:"官方商店购买的经验加速道具",category:"consumable",rarity:"epic"},price:500,timestamp:new Date(Date.now()-864e5*3),commission:0,commissionRate:0,transactionType:"official_store"},{id:"game_store_purchase_1",buyerId:e,sellerId:"game_store_1",item:{id:"game_store_item_1",name:"魔法卷轴套装",description:"从游戏商店购买的魔法卷轴",category:"consumable",rarity:"rare"},price:350,commission:105,totalAmount:455,commissionRate:.3,transactionType:"game_store",timestamp:new Date(Date.now()-864e5*2)},{id:"market_purchase_1",buyerId:e,sellerId:"player_seller_1",item:{id:"market_item_1",name:"玩家出售的护甲",description:"从其他玩家购买的高级护甲",category:"armor",rarity:"epic"},price:100,commission:1,totalAmount:101,commissionRate:.01,transactionType:"player_market",timestamp:new Date(Date.now()-864e5*4)}],c=[...n,{id:"sale_1",buyerId:"buyer_1",sellerId:e,item:{id:"sold_item_1",name:"传说宝箱",description:"出售给其他玩家的传说宝箱",category:"consumable",rarity:"legendary"},price:99,commission:1,totalAmount:101,commissionRate:.01,transactionType:"player_market",timestamp:new Date(Date.now()-864e5*2)}];return r.length>0||n.length>0?{purchases:r.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:n.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o}:{purchases:l.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:c.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o}}async removeItemFromUserInventory(e,r){const n=this.userInventories.get(e)||[],o=n.findIndex(l=>l.id===r);return o===-1?!1:(n.splice(o,1),this.userInventories.set(e,n),!0)}async delistItem(e,r){const n=this.items.findIndex(u=>u.id===e&&u.sellerId===r);if(n===-1)return!1;const o=this.items[n];this.items.splice(n,1);const l=this.userInventories.get(r)||[],c={...o,id:`user_item_${Date.now()}`,sellerId:"",sellerName:"",views:0};return l.push(c),this.userInventories.set(r,l),this._saveData(),!0}async createListing(e){const r={...e,id:`item_${Date.now()}`,listedAt:new Date,views:0,currency:e.currency||"computingPower"};return e.originalItemId&&e.sellerId&&await this.removeItemFromUserInventory(e.sellerId,e.originalItemId),this.items.push(r),this._saveData(),r}async addItemToUserInventory(e,r){const n=this.userInventories.get(e)||[];n.push(r),this.userInventories.set(e,n),this._saveData()}async recordGameStorePurchase(e,r,n,o,l){const c=this.commissionRates.game_store,u=Math.round(o*c*100)/100,m={id:`game_store_purchase_${Date.now()}`,buyerId:e,sellerId:`game_store_${l}`,item:{id:`game_store_item_${Date.now()}`,name:r,description:n,category:"consumable",rarity:"common"},price:o,commission:u,totalAmount:o,commissionRate:c,transactionType:"game_store",timestamp:new Date};this.transactions.push(m),u>0&&await gt.recordCommissionIncome(m.id,u,"gameCoins","game_store",e),console.log("添加交易记录 - 商品价格:",o,"佣金:",u,"总支付:",o),console.log("当前所有交易记录:",this.transactions),this._saveData()}async recordOfficialStorePurchase(e,r,n,o,l,c,u){const m={id:`official_store_purchase_${Date.now()}`,buyerId:e,sellerId:"official_store",item:{id:`official_store_item_${Date.now()}`,name:r,description:n,category:"bundle",rarity:"epic"},price:o,commission:l,totalAmount:c,commissionRate:l/o,transactionType:"official_store",timestamp:new Date};this.transactions.push(m),console.log("添加官方商店交易记录 - 商品价格:",o,"佣金:",l,"总支付:",c),console.log("当前所有交易记录:",this.transactions),this._saveData()}async listItem(e,r){const n="current-user-id",o=this.userInventories.get(n)||[],l=o.findIndex(m=>m.id===e);if(l===-1)throw new Error("道具不存在于用户库存中");const u={...o[l],id:`market_${Date.now()}`,sellerId:n,sellerName:"当前用户",price:r,listedAt:new Date,views:0};return this.items.push(u),o.splice(l,1),this.userInventories.set(n,o),this._saveData(),u}async sellItem(e,r,n){return this.listItem(r,n||100)}async getUserListings(e){return this.items.filter(r=>r.sellerId===e)}async updateItemPrice(e,r,n){const o=this.items.find(l=>l.id===e&&l.sellerId===n);if(!o)throw new Error("商品不存在或您无权操作");if(r<=0)throw new Error("价格必须大于0");o.price=r,this._saveData()}async addTransactionRecord(e){const r={...e,id:`tx_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};return this.transactions.push(r),console.log("已通过 addTransactionRecord 添加新的交易记录:",r),this._saveData(),r}async getCommissionStats(){const e=Date.now(),r=e-864e5,n=e-864e5*7,o=e-864e5*30,l=this.transactions.reduce((f,x)=>f+(x.commission||0),0),c=this.transactions.filter(f=>f.timestamp.getTime()>r).reduce((f,x)=>f+(x.commission||0),0),u=this.transactions.filter(f=>f.timestamp.getTime()>n).reduce((f,x)=>f+(x.commission||0),0),m=this.transactions.filter(f=>f.timestamp.getTime()>o).reduce((f,x)=>f+(x.commission||0),0),p={player_market:this.transactions.filter(f=>f.transactionType==="player_market").reduce((f,x)=>f+(x.commission||0),0),official_store:this.transactions.filter(f=>f.transactionType==="official_store").reduce((f,x)=>f+(x.commission||0),0),game_store:this.transactions.filter(f=>f.transactionType==="game_store").reduce((f,x)=>f+(x.commission||0),0)};return{totalCommission:Math.round(l*100)/100,dailyCommission:Math.round(c*100)/100,weeklyCommission:Math.round(u*100)/100,monthlyCommission:Math.round(m*100)/100,commissionByType:{player_market:Math.round(p.player_market*100)/100,official_store:Math.round(p.official_store*100)/100,game_store:Math.round(p.game_store*100)/100}}}}const ws=new oA;function jd(){const[s,e]=j.useState(null),[r,n]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState(!0),[m,p]=j.useState(null),f=j.useCallback(async()=>{try{u(!0),p(null);const[k,w,T]=await Promise.all([et.getBalance(),et.getStats(),et.getTransactions(50)]);e(k),n(w),l(T)}catch(k){console.error("刷新钱包数据失败:",k),p(k instanceof Error?k.message:"未知错误")}finally{u(!1)}},[]),x=j.useCallback(async(k,w,T)=>{try{await et.addGameReward(k,w,T),await f()}catch(_){throw console.error("添加游戏奖励失败:",_),_}},[f]),v=j.useCallback(async(k,w,T,_)=>{try{return await et.makePurchase(k,w,T,_),await f(),!0}catch(A){throw console.error("购买失败:",A),A}},[f]),N=j.useCallback(async(k,w="支付宝")=>{try{await et.recharge(k,w),await f()}catch(T){throw console.error("充值失败:",T),T}},[f]),C=j.useCallback(async(k,w,T)=>{try{await et.exchangeCurrency(k,w,T),await f()}catch(_){throw console.error("兑换失败:",_),_}},[f]);return j.useEffect(()=>{f()},[f]),j.useEffect(()=>{const k=()=>{console.log("收到钱包更新事件，刷新数据..."),f()};return window.addEventListener("wallet-updated",k),()=>window.removeEventListener("wallet-updated",k)},[f]),j.useEffect(()=>{const k=setInterval(async()=>{try{const w=await et.getBalance();e(w)}catch(w){console.warn("定期更新钱包数据失败:",w)}},3e4);return()=>clearInterval(k)},[]),{balance:s,stats:r,transactions:o,loading:c,error:m,refreshWalletData:f,addGameReward:x,makePurchase:v,recharge:N,exchangeCurrency:C,getTransactions:()=>et.getTransactions()}}const lA={id:"sample-blog-001",title:"AllinONE平台使用体验：游戏、算力与收益的完美结合",content:`
# AllinONE平台使用体验：游戏、算力与收益的完美结合

在当今数字娱乐领域，能够将游戏乐趣与实际收益相结合的平台越来越受到玩家的青睐。作为一名资深游戏爱好者，我有幸体验了AllinONE平台近三个月，今天想和大家分享我的使用心得和体验。

## 初识AllinONE

AllinONE平台是一个集游戏、算力挖矿和社交于一体的综合性数字娱乐平台。与传统游戏平台不同，AllinONE采用了创新的"游戏即挖矿"模式，让玩家在享受游戏乐趣的同时，还能获得实际的经济收益。

初次登录平台时，简洁而现代的界面设计给我留下了深刻印象。注册过程简单快捷，只需填写基本信息并设置安全密码，就可以开始探索这个数字世界了。平台还贴心地为新用户提供了详细的新手指南和教程视频，帮助快速了解平台的核心功能和玩法。

## 丰富多样的游戏体验

AllinONE平台上的游戏种类繁多，从休闲小游戏到策略类游戏应有尽有。我个人最喜欢的是Match3消除类游戏，操作简单但策略性强，非常适合利用碎片时间来玩。

游戏画面精美，操作流畅，即使在移动设备上也能获得出色的游戏体验。值得一提的是，平台上的游戏都经过精心设计，不仅好玩，还与算力系统紧密结合，让游戏过程更加有意义。

## 创新的算力系统

AllinONE平台最吸引我的地方是其创新的算力系统。简单来说，玩家通过游戏可以获得两种虚拟资产：游戏币和算力积分。

游戏币可以用于游戏内购买道具、升级角色等，而算力积分则代表了玩家在平台上的"挖矿"能力。算力越高，每日获得的A币（平台代币）就越多。这种机制巧妙地将游戏娱乐与经济收益结合起来，让"玩中赚"成为可能。

我发现，不同的游戏会产生不同数量的算力，而且游戏表现越好，获得的算力也就越多。这激励我不断提升游戏技巧，挑战更高难度的关卡。平台还会定期举办算力加成活动，如"双倍算力周"等，让玩家有机会获得更多收益。

## 双代币经济模式

AllinONE采用了双代币经济模式：游戏币和A币。游戏币主要用于游戏内消费，而A币则可以与法币1:1兑换，实现真正的价值转化。

A币的分配基于玩家的平台贡献度，包括游戏币获取量、算力贡献和交易活跃度等多个维度。每日结算时，平台会将净收入的一部分按照贡献度比例分配给用户，形成了一个公平透明的收益分配机制。

我个人最喜欢的是平台的"算力池"概念。所有玩家的算力会汇集成一个全网算力池，每个玩家根据自己贡献的算力比例分享收益。这种机制既鼓励个人努力，也促进了社区协作，形成了良性循环。

## 社交与团队系统

AllinONE不仅是一个游戏平台，还是一个社交平台。玩家可以添加好友、组建团队、参与社区讨论等。团队系统特别有趣，团队成员的算力会有一定比例加成，鼓励玩家邀请朋友一起游戏。

我加入了一个活跃的团队后，不仅认识了许多志同道合的朋友，还通过团队加成获得了更多算力。团队成员之间经常分享游戏技巧和算力获取策略，大大提升了我的平台使用体验。

## 交易市场与游戏商城

平台内设有交易市场，玩家可以自由交易游戏道具、皮肤等虚拟物品。交易过程安全透明，平台收取少量手续费用于维护系统运行。

官方商店和游戏电商系统提供了丰富的商品选择，从实用道具到限定皮肤应有尽有。我特别喜欢平台的"限时折扣"活动，经常能以优惠价格购买到心仪的游戏道具。

## 个人中心与数据分析

AllinONE的个人中心功能强大，玩家可以清晰地查看自己的资产、交易记录、算力变化等信息。平台还提供了详细的数据分析工具，帮助玩家了解自己的游戏表现和收益情况。

我经常使用收支分析功能来优化自己的游戏策略，找出最高效的算力获取方式。这些数据驱动的决策帮助我在平台上的收益稳步提升。

## 安全与隐私保护

在使用过程中，我深刻感受到AllinONE对用户安全和隐私的重视。平台采用了多重安全验证机制，确保账户和资产安全。交易过程透明可追溯，有效防止了欺诈行为。

平台的隐私政策清晰明了，用户数据使用透明，这让我在使用过程中倍感安心。

## 博客中心：分享与交流的新空间

最近，AllinONE平台新增了博客中心功能，为玩家提供了一个分享游戏经验、心得体会的空间。这个功能极大地促进了社区交流，让玩家之间的互动不再局限于游戏内。

作为一名喜欢分享的玩家，我非常喜欢这个新功能。通过阅读其他玩家的博客，我学到了很多游戏技巧和算力优化策略；而通过撰写自己的博客，我也结交了许多志同道合的朋友。

## 总结与建议

经过三个月的使用，我对AllinONE平台的总体评价是非常正面的。平台成功地将游戏娱乐与经济收益结合起来，创造了一种全新的数字娱乐方式。

当然，任何平台都有改进空间。我认为AllinONE可以考虑增加更多类型的游戏，特别是一些深度策略类游戏，以满足不同玩家的需求。此外，移动端的优化还可以进一步提升，让玩家在手机上也能获得流畅的体验。

总的来说，如果你是一位喜欢游戏，又希望游戏时间能创造一些价值的玩家，AllinONE绝对值得一试。它不仅带来了欢乐的游戏体验，还开创了"玩中赚"的新模式，让游戏时间变得更有意义。

期待在AllinONE平台上与更多玩家相遇，一起游戏，一起成长！
`,summary:"AllinONE平台将游戏乐趣与实际收益完美结合，通过创新的算力系统和双代币经济模式，让玩家在享受游戏的同时获得经济收益。本文分享了作者三个月的使用体验，包括游戏体验、算力系统、社交功能等多个方面。",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-15T08:30:00"),lastUpdated:new Date("2025-09-16T09:15:00"),tags:["游戏体验","算力系统","收益分析","平台评测"],likes:128,views:1024,commentCount:36,status:"published",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=gaming%20platform%2C%20digital%20art%2C%20futuristic%2C%20colorful&sign=a160cbc38262558651adba1662dee0ce"},cA=[{id:"comment-001",postId:"sample-blog-001",content:"非常详细的平台介绍！我也是AllinONE的用户，完全认同你对算力系统的看法，确实很创新。",authorId:"user-002",authorName:"算力专家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=tech%20expert%20avatar%2C%20cartoon%20style%2C%20glasses&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T10:15:00"),likes:24,replies:[{id:"reply-001",commentId:"comment-001",content:"谢谢支持！你有没有什么提高算力效率的小技巧可以分享？",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T11:30:00")}]},{id:"comment-002",postId:"sample-blog-001",content:"博客中心功能真的很棒！我已经写了几篇游戏攻略，收到了很多玩家的好评和建议。这个社区氛围太好了！",authorId:"user-003",authorName:"内容创作者",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=content%20creator%20avatar%2C%20cartoon%20style%2C%20creative&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T14:45:00"),likes:18,replies:[]},{id:"comment-003",postId:"sample-blog-001",content:"作为一个新用户，这篇文章对我帮助很大！请问你觉得新手应该先专注哪款游戏来积累算力呢？",authorId:"user-004",authorName:"新手玩家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=newbie%20gamer%20avatar%2C%20cartoon%20style%2C%20curious&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-16T08:20:00"),likes:7,replies:[{id:"reply-002",commentId:"comment-003",content:"我建议从Match3游戏开始，上手简单但回报不错。等熟悉了平台机制后，可以尝试一些策略类游戏，虽然难度高一些，但算力回报更丰厚。",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-16T09:05:00")}]}],ba="blogPosts",dd="blogComments",Tv=(s,e,r=[])=>{try{const n=localStorage.getItem(s);if(n)return JSON.parse(n).map(o=>{const l={...o};return r.forEach(c=>{l[c]&&(l[c]=new Date(l[c]))}),l})}catch(n){console.error(`Failed to load ${s} from localStorage`,n)}return e},xa=(s,e)=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(r){console.error(`Failed to save ${s} to localStorage`,r)}},dA=[lA,{id:"1",title:"AllinONE平台使用体验：游戏与收益的完美结合",content:`
# AllinONE平台使用体验：游戏与收益的完美结合

## 初次接触

作为一名资深游戏爱好者，我一直在寻找能够将游戏乐趣与实际收益相结合的平台。当我第一次听说AllinONE平台时，我抱着怀疑的态度注册了账号。毕竟，市面上声称"边玩边赚"的平台不在少数，但真正能够提供良好体验和稳定收益的却寥寥无几。

## 平台特色

AllinONE最吸引我的是其创新的双代币经济系统。平台使用游戏币和算力积分两种虚拟资产，相互配合形成了一个完整的经济循环。这种设计既符合国内的合规要求，又能为玩家提供实际的收益机会。

### 游戏体验

平台上的小游戏种类丰富，从休闲益智到竞技对战，应有尽有。我个人最喜欢的是三消类游戏，操作简单但策略性强，非常适合利用碎片时间进行游戏。游戏画面精美，操作流畅，完全不输专业游戏平台的体验。

### 收益机制

通过游戏获得的算力是平台收益的核心。我发现，持续稳定地参与游戏比短时间内高强度游戏更有利于算力的积累。平台的算力分配机制非常透明，你可以在个人中心清晰地看到每一笔算力的来源和用途。

## 社区互动

AllinONE的社区氛围非常活跃。玩家之间可以组队游戏、交流策略，甚至进行道具交易。这种社交元素大大增强了平台的粘性，让我不仅仅是为了收益而来，更是享受其中的社交乐趣。

## 收益分析

使用一个月后，我的收益情况如下：
- 日均游戏时间：约1小时
- 月累计算力：约30点
- 月收益：约150元

考虑到我只是利用空闲时间进行游戏，这样的收益已经相当可观。当然，如果你能投入更多时间，或者发展团队，收益还会更高。

## 改进建议

虽然整体体验很好，但我认为平台还有一些可以改进的地方：
1. 游戏种类可以进一步丰富，特别是策略类和角色扮演类游戏
2. 提现流程可以再简化一些，目前需要3-5个工作日
3. 移动端APP的稳定性有待提高，偶尔会出现闪退情况

## 总结

AllinONE是一个将游戏娱乐与收益机会完美结合的平台。它既满足了游戏爱好者的娱乐需求，又提供了合规、透明的收益渠道。如果你是一个喜欢游戏，又希望能从中获得一些额外收入的人，我强烈推荐你尝试AllinONE平台。

记住，平台的核心理念是"寓教于乐，寓赚于乐"，保持一个轻松的心态，享受游戏的过程，收益自然会随之而来。
    `,summary:"AllinONE平台将游戏乐趣与收益机会完美结合，通过创新的双代币经济系统和丰富的游戏内容，为玩家提供了一个既有趣又有收益的游戏平台。",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=game%20dashboard%2C%20interface%20showing%20gaming%20stats%2C%20virtual%20currency%2C%20modern%20UI%2C%20blue%20theme&sign=a160cbc38262558651adba1662dee0ce",authorId:"current-user",authorName:"游戏玩家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-10"),tags:["游戏体验","收益分析","平台评测"],likes:42,views:156,commentCount:8,status:"published"},{id:"2",title:"如何在AllinONE平台最大化你的算力收益",content:`
# 如何在AllinONE平台最大化你的算力收益

作为一名在AllinONE平台活跃了3个月的玩家，我总结了一些提高算力收益的实用技巧，希望对新玩家有所帮助。

## 理解算力机制

首先，了解算力的获取和计算方式至关重要。在AllinONE平台，算力主要来源于：
- 日常游戏表现
- 完成平台任务
- 社区活动参与
- 团队协作贡献

其中，游戏表现是最基础也是最稳定的算力来源。

## 游戏选择策略

不同的游戏提供的算力回报是不同的。根据我的经验，以下游戏算力效率较高：

1. **三消类游戏** - 操作简单，单局时间短，适合碎片时间
2. **益智解谜** - 难度适中，算力奖励丰厚
3. **竞技对战** - 胜率越高，算力奖励越多

建议新手从三消类游戏开始，熟悉平台后再尝试其他类型。

## 时间管理

合理安排游戏时间也是提高算力效率的关键。我的建议是：

- 每天固定时间段游戏，保持算力增长的稳定性
- 利用平台"黄金时段"（通常是晚上8-10点）游戏，此时算力奖励有额外加成
- 不要疲劳游戏，质量比数量更重要

## 团队合作

加入或组建一个活跃的团队可以显著提升你的算力收益。团队成员之间的算力有联动效应，团队整体活跃度越高，每个成员获得的算力加成也越多。

## 任务与活动

平台经常会推出各种任务和活动，这些是获取额外算力的绝佳机会：

- 每日任务必做，这是最基础的算力来源
- 参与限时活动，通常有双倍甚至三倍算力奖励
- 关注社区公告，及时了解新的算力获取渠道

## 道具利用

合理使用游戏道具可以提高游戏效率，间接提升算力获取速度：

- "算力加速器"可在短时间内提升30%的算力获取
- "游戏币转换器"可以将多余的游戏币转换为少量算力
- "任务刷新卡"可以刷新难度较大的任务，换取更容易完成的任务

## 收益转化

最后，如何将算力转化为实际收益也很重要：

- 定期将算力兑换为平台币或游戏币
- 根据市场行情，选择最有利的兑换时机
- 考虑长期持有部分算力，享受算力增值

## 总结

在AllinONE平台，提高算力收益需要综合考虑游戏选择、时间管理、团队合作等多方面因素。希望这些技巧对你有所帮助，祝你在平台上玩得开心，赚得满意！

记住，持之以恒是成功的关键。即使是每天只玩一小时，只要坚持下去，也能积累可观的算力收益。
    `,summary:"本文分享了在AllinONE平台提高算力收益的实用技巧，包括游戏选择策略、时间管理、团队合作等多个方面的建议。",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=gaming%20strategy%2C%20charts%20and%20graphs%2C%20optimization%2C%20modern%20UI%2C%20blue%20and%20purple%20theme&sign=a160cbc38262558651adba1662dee0ce",authorId:"user-2",authorName:"算力达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=professional%20gamer%20avatar%2C%20cartoon%20style%2C%20tech%20savvy&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-05"),tags:["算力攻略","游戏技巧","收益优化"],likes:78,views:245,commentCount:12,status:"published"}];let At=Tv(ba,dA,["publishDate","lastUpdated"]);const uA=[...cA,{id:"1",postId:"1",content:"非常详细的平台介绍，我也是AllinONE的用户，完全认同你的观点！",authorId:"user-2",authorName:"算力达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=professional%20gamer%20avatar%2C%20cartoon%20style%2C%20tech%20savvy&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-11"),likes:5},{id:"2",postId:"1",content:"请问作者每天大概玩多久才能获得这样的收益？我是新手，想了解一下时间投入。",authorId:"user-3",authorName:"游戏新手",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=newbie%20gamer%20avatar%2C%20cartoon%20style%2C%20curious&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-12"),likes:2},{id:"3",postId:"1",content:"我觉得平台的游戏种类还可以再丰富一些，特别是策略类游戏。",authorId:"user-4",authorName:"策略游戏爱好者",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=strategy%20gamer%20avatar%2C%20cartoon%20style%2C%20thoughtful&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-13"),likes:3}];let Gc=Tv(dd,uA,["createdAt"]);localStorage.getItem(ba)||xa(ba,At);localStorage.getItem(dd)||xa(dd,Gc);let mA=[{id:"1",name:"平台体验",description:"分享AllinONE平台的使用体验和心得",postCount:5},{id:"2",name:"游戏攻略",description:"各类游戏的攻略和技巧分享",postCount:8},{id:"3",name:"收益分析",description:"平台收益机制分析和收益提升方法",postCount:6},{id:"4",name:"社区活动",description:"平台社区活动公告和回顾",postCount:3},{id:"5",name:"算力优化",description:"算力获取和优化的方法与技巧",postCount:7},{id:"6",name:"团队建设",description:"如何组建和管理高效的游戏团队",postCount:4},{id:"7",name:"新手指南",description:"为平台新用户提供的入门指导",postCount:5}];const Sr={async getBlogPosts(s=1,e=10,r){let n=[...At];r&&(r.tag&&(n=n.filter(u=>u.tags.includes(r.tag))),r.authorId&&(n=n.filter(u=>u.authorId===r.authorId)),r.status&&(n=n.filter(u=>u.status===r.status))),r!=null&&r.status||(n=n.filter(u=>u.status==="published")),n.sort((u,m)=>m.publishDate.getTime()-u.publishDate.getTime());const o=(s-1)*e,l=o+e;return{posts:n.slice(o,l),total:n.length}},async getBlogPost(s){const e=At.find(r=>r.id===s);return e?(e.views+=1,xa(ba,At),{...e}):null},async createBlogPost(s){const e={...s,id:Date.now().toString(),publishDate:new Date,likes:0,views:0,commentCount:0};return At.unshift(e),xa(ba,At),e},async updateBlogPost(s,e){const r=At.findIndex(o=>o.id===s);if(r===-1)return null;const n={...At[r],...e,lastUpdated:new Date};return At[r]=n,xa(ba,At),n},async deleteBlogPost(s){const e=At.length;At=At.filter(n=>n.id!==s);const r=At.length<e;return r&&xa(ba,At),r},async likeBlogPost(s){const e=At.find(r=>r.id===s);return e?(e.likes+=1,xa(ba,At),{...e}):null},async getBlogComments(s){return Gc.filter(e=>e.postId===s)},async addComment(s){const e={...s,id:Date.now().toString(),createdAt:new Date,likes:0};Gc.unshift(e),xa(dd,Gc);const r=At.find(n=>n.id===s.postId);return r&&(r.commentCount+=1,xa(ba,At)),e},async getBlogCategories(){return[...mA]},async getBlogStats(){const s=At.reduce((c,u)=>c+u.views,0),e=At.reduce((c,u)=>c+u.likes,0),r=At.reduce((c,u)=>c+u.commentCount,0),n={};At.forEach(c=>{c.tags.forEach(u=>{n[u]=(n[u]||0)+1})});const o=Object.entries(n).map(([c,u])=>({tag:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,5),l=[...At].sort((c,u)=>u.views-c.views).slice(0,5).map(c=>({id:c.id,title:c.title,views:c.views}));return{totalPosts:At.length,totalViews:s,totalLikes:e,totalComments:r,popularTags:o,popularPosts:l}}},Av=j.createContext(void 0);function hA({children:s}){const{userData:e}=fl(),[r,n]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState([]),[m,p]=j.useState(null),[f,x]=j.useState(!1),[v,N]=j.useState(null),[C,k]=j.useState(1),[w,T]=j.useState(1);j.useEffect(()=>{(async()=>{try{const se=await Sr.getBlogCategories();u(se)}catch(se){console.error("获取博客分类失败:",se),N("获取博客分类失败")}})()},[]),j.useEffect(()=>{ne()},[]);const _=j.useCallback(async(ee=1,se=10,ie)=>{x(!0),N(null);try{const M=await Sr.getBlogPosts(ee,se,ie);n(M.posts),k(ee),T(Math.ceil(M.total/se))}catch(M){console.error("获取博客列表失败:",M),N("获取博客列表失败")}finally{x(!1)}},[]),A=j.useCallback(async()=>{if(e.userId){x(!0),N(null);try{const ee=await Sr.getBlogPosts(1,100,{authorId:e.userId,status:void 0});l(ee.posts)}catch(ee){console.error("获取用户博客失败:",ee),N("获取用户博客失败")}finally{x(!1)}}},[e.userId]),B=j.useCallback(async ee=>{x(!0),N(null);try{return await Sr.getBlogPost(ee)}catch(se){return console.error("获取博客详情失败:",se),N("获取博客详情失败"),null}finally{x(!1)}},[]),I=j.useCallback(async ee=>{x(!0),N(null);try{const se=await Sr.createBlogPost(ee);return se.status==="published"&&n(ie=>[se,...ie]),l(ie=>[se,...ie]),se}catch(se){throw console.error("创建博客失败:",se),N("创建博客失败"),se}finally{x(!1)}},[]),D=j.useCallback(async(ee,se)=>{x(!0),N(null);try{const ie=await Sr.updateBlogPost(ee,se);return ie&&(n(M=>M.map(F=>F.id===ee?ie:F)),l(M=>M.map(F=>F.id===ee?ie:F))),ie}catch(ie){return console.error("更新博客失败:",ie),N("更新博客失败"),null}finally{x(!1)}},[]),z=j.useCallback(async ee=>{x(!0),N(null);try{const se=await Sr.deleteBlogPost(ee);return se&&(n(ie=>ie.filter(M=>M.id!==ee)),l(ie=>ie.filter(M=>M.id!==ee))),se}catch(se){return console.error("删除博客失败:",se),N("删除博客失败"),!1}finally{x(!1)}},[]),E=j.useCallback(async ee=>{try{const se=await Sr.likeBlogPost(ee);return se&&n(ie=>ie.map(M=>M.id===ee?se:M)),se}catch(se){return console.error("点赞博客失败:",se),null}},[]),G=j.useCallback(async ee=>{try{return await Sr.getBlogComments(ee)}catch(se){return console.error("获取评论失败:",se),[]}},[]),Y=j.useCallback(async ee=>{try{const se=await Sr.addComment(ee),ie=ee.postId;return n(M=>M.map(F=>F.id===ie?{...F,commentCount:F.commentCount+1}:F)),se}catch(se){throw console.error("添加评论失败:",se),se}},[]),ne=j.useCallback(async()=>{try{const ee=await Sr.getBlogStats();p(ee)}catch(ee){console.error("获取博客统计数据失败:",ee)}},[]);return t.jsx(Av.Provider,{value:{posts:r,userPosts:o,categories:c,stats:m,loading:f,error:v,currentPage:C,totalPages:w,fetchPosts:_,fetchUserPosts:A,fetchPostById:B,createPost:I,updatePost:D,deletePost:z,likePost:E,fetchComments:G,addComment:Y,refreshStats:ne},children:s})}function xl(){const s=j.useContext(Av);if(s===void 0)throw new Error("useBlog must be used within a BlogProvider");return s}let go=[{id:"ai-assistant",username:"AI游戏助手",avatar:"🤖",status:"online",level:99,isOnline:!0,lastSeen:new Date,isAI:!0},{id:"ai-trader",username:"AI交易顾问",avatar:"💎",status:"online",level:88,isOnline:!0,lastSeen:new Date,isAI:!0},{id:"1",username:"游戏高手",avatar:"🎮",status:"online",level:25,isOnline:!0,lastSeen:new Date},{id:"2",username:"交易达人",avatar:"💰",status:"offline",level:18,isOnline:!1,lastSeen:new Date(Date.now()-36e5)}],Rc=[{id:"1",fromUserId:"3",toUserId:"current",fromUsername:"新玩家123",fromAvatar:"🆕",status:"pending",createdAt:new Date}],bo=[{id:"1",friendId:"1",friendUsername:"游戏高手",friendAvatar:"🎮",unreadCount:2,messages:[{id:"1",fromUserId:"1",toUserId:"current",content:"嘿，想一起玩游戏吗？",timestamp:new Date(Date.now()-18e5),isRead:!1,type:"text"},{id:"2",fromUserId:"current",toUserId:"1",content:"好啊！什么时候开始？",timestamp:new Date(Date.now()-17e5),isRead:!0,type:"text"}]},{id:"ai-assistant",friendId:"ai-assistant",friendUsername:"AI游戏助手",friendAvatar:"🤖",unreadCount:0,messages:[{id:"welcome-ai",fromUserId:"ai-assistant",toUserId:"current",content:"你好！我是AI游戏助手，有什么游戏问题可以问我哦！🎮",timestamp:new Date(Date.now()-36e5),isRead:!0,type:"text"}]},{id:"ai-trader",friendId:"ai-trader",friendUsername:"AI交易顾问",friendAvatar:"💎",unreadCount:0,messages:[{id:"welcome-trader",fromUserId:"ai-trader",toUserId:"current",content:"欢迎！我是AI交易顾问，可以为你提供市场分析和交易建议！💰",timestamp:new Date(Date.now()-36e5),isRead:!0,type:"text"}]}];class pA{async getFriends(){return new Promise(e=>{setTimeout(()=>{e([...go])},300)})}async getFriendRequests(){return new Promise(e=>{setTimeout(()=>{e([...Rc])},300)})}async sendFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n={id:Date.now().toString(),fromUserId:"current",toUserId:"unknown",fromUsername:"当前用户",fromAvatar:"👤",status:"pending",createdAt:new Date};Rc.push(n),r(!0)},500)})}async acceptFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n=Rc.find(o=>o.id===e);if(n){n.status="accepted";const o={id:n.fromUserId,username:n.fromUsername,avatar:n.fromAvatar,status:"online",level:Math.floor(Math.random()*50)+1,isOnline:Math.random()>.5,lastSeen:new Date};go.push(o)}r(!0)},500)})}async rejectFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n=Rc.find(o=>o.id===e);n&&(n.status="rejected"),r(!0)},500)})}async removeFriend(e){return new Promise(r=>{setTimeout(()=>{const n=go.findIndex(o=>o.id===e);n>-1&&go.splice(n,1),r(!0)},500)})}async getConversations(){return new Promise(e=>{setTimeout(()=>{e([...bo])},300)})}async getMessages(e){return new Promise(r=>{setTimeout(()=>{const n=bo.find(o=>o.friendId===e);r(n?[...n.messages]:[])},300)})}async sendMessage(e,r){return new Promise(n=>{setTimeout(()=>{const o={id:Date.now().toString(),fromUserId:"current",toUserId:e,content:r,timestamp:new Date,isRead:!1,type:"text"};let l=bo.find(c=>c.friendId===e);if(!l){const c=go.find(u=>u.id===e);l={id:e,friendId:e,friendUsername:(c==null?void 0:c.username)||"未知用户",friendAvatar:c==null?void 0:c.avatar,unreadCount:0,messages:[]},bo.push(l)}l.messages.push(o),l.lastMessage=o,n(o)},300)})}async markMessagesAsRead(e){return new Promise(r=>{setTimeout(()=>{const n=bo.find(o=>o.friendId===e);n&&(n.messages.forEach(o=>{o.toUserId==="current"&&(o.isRead=!0)}),n.unreadCount=0),r()},100)})}}const Dr=new pA,fA=({onStartChat:s})=>{const[e,r]=j.useState([]),[n,o]=j.useState([]),[l,c]=j.useState(""),[u,m]=j.useState(!1),[p,f]=j.useState("friends");j.useEffect(()=>{x(),v()},[]);const x=async()=>{try{const _=await Dr.getFriends();r(_)}catch(_){console.error("加载好友列表失败:",_)}},v=async()=>{try{const _=await Dr.getFriendRequests();o(_)}catch(_){console.error("加载好友请求失败:",_)}},N=async()=>{if(l.trim()){m(!0);try{await Dr.sendFriendRequest(l),c(""),alert("好友请求已发送！")}catch{alert("发送好友请求失败")}finally{m(!1)}}},C=async(_,A)=>{try{A==="accept"?await Dr.acceptFriendRequest(_):await Dr.rejectFriendRequest(_),await v(),A==="accept"&&await x()}catch{alert("处理好友请求失败")}},k=async _=>{if(confirm("确定要删除这个好友吗？"))try{await Dr.removeFriend(_),await x()}catch{alert("删除好友失败")}},w=_=>{switch(_){case"online":return"#4CAF50";case"away":return"#FF9800";case"offline":return"#9E9E9E";default:return"#9E9E9E"}},T=_=>{if(_.isOnline)return"在线";if(_.lastSeen){const A=Date.now()-_.lastSeen.getTime(),B=Math.floor(A/(1e3*60*60));return B<1?"刚刚离线":B<24?`${B}小时前在线`:"很久未上线"}return"离线"};return t.jsxs("div",{className:"friends-list",children:[t.jsx("div",{className:"friends-header",children:t.jsxs("div",{className:"tab-buttons",children:[t.jsxs("button",{className:`tab-btn ${p==="friends"?"active":""}`,onClick:()=>f("friends"),children:["好友列表 (",e.length,")"]}),t.jsxs("button",{className:`tab-btn ${p==="requests"?"active":""}`,onClick:()=>f("requests"),children:["好友请求 (",n.length,")"]})]})}),p==="friends"&&t.jsxs("div",{className:"friends-content",children:[t.jsx("div",{className:"add-friend-section",children:t.jsxs("div",{className:"add-friend-form",children:[t.jsx("input",{type:"text",placeholder:"输入用户名添加好友",value:l,onChange:_=>c(_.target.value),onKeyPress:_=>_.key==="Enter"&&N()}),t.jsx("button",{onClick:N,disabled:u||!l.trim(),className:"add-friend-btn",children:u?"发送中...":"添加"})]})}),t.jsx("div",{className:"friends-grid",children:e.map(_=>t.jsxs("div",{className:"friend-card",children:[t.jsxs("div",{className:"friend-avatar",children:[_.avatar||"👤",t.jsx("div",{className:"status-indicator",style:{backgroundColor:w(_.status)}})]}),t.jsxs("div",{className:"friend-info",children:[t.jsx("div",{className:"friend-name",children:_.username}),t.jsx("div",{className:"friend-status",children:T(_)}),_.level&&t.jsxs("div",{className:"friend-level",children:["等级 ",_.level]})]}),t.jsxs("div",{className:"friend-actions",children:[t.jsx("button",{className:"chat-btn",onClick:()=>s(_),children:"💬"}),t.jsx("button",{className:"remove-btn",onClick:()=>k(_.id),children:"❌"})]})]},_.id))}),e.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"👥"}),t.jsx("div",{className:"empty-text",children:"还没有好友，快去添加一些吧！"})]})]}),p==="requests"&&t.jsxs("div",{className:"requests-content",children:[n.map(_=>t.jsxs("div",{className:"request-card",children:[t.jsx("div",{className:"request-avatar",children:_.fromAvatar||"👤"}),t.jsxs("div",{className:"request-info",children:[t.jsx("div",{className:"request-name",children:_.fromUsername}),t.jsx("div",{className:"request-time",children:_.createdAt.toLocaleString()})]}),t.jsxs("div",{className:"request-actions",children:[t.jsx("button",{className:"accept-btn",onClick:()=>C(_.id,"accept"),children:"接受"}),t.jsx("button",{className:"reject-btn",onClick:()=>C(_.id,"reject"),children:"拒绝"})]})]},_.id)),n.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"📬"}),t.jsx("div",{className:"empty-text",children:"暂无好友请求"})]})]}),t.jsx("style",{children:`
        .friends-list {
          background: transparent;
          padding: 0;
          box-shadow: none;
        }

        .friends-header {
          margin-bottom: 20px;
        }

        .tab-buttons {
          display: flex;
          gap: 10px;
        }

        .tab-btn {
          padding: 8px 16px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 20px;
          background: transparent;
          color: #94a3b8; /* slate-400 */
          cursor: pointer;
          transition: all 0.3s;
        }

        .tab-btn.active {
          background: #60a5fa; /* blue-400 */
          color: white;
          border-color: #60a5fa;
        }

        .add-friend-section {
          margin-bottom: 20px;
          padding: 15px;
          background: #334155; /* slate-700 */
          border-radius: 8px;
        }

        .add-friend-form {
          display: flex;
          gap: 10px;
        }

        .add-friend-form input {
          flex: 1;
          padding: 10px;
          border: 1px solid #475569; /* slate-600 */
          background: #1e293b; /* slate-800 */
          color: #cbd5e1; /* slate-300 */
          border-radius: 6px;
          font-size: 14px;
        }
        
        .add-friend-form input::placeholder {
          color: #94a3b8; /* slate-400 */
        }

        .add-friend-btn {
          padding: 10px 20px;
          background: #4ade80; /* green-400 */
          color: #1e293b; /* slate-800 */
          font-weight: bold;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.3s;
        }

        .add-friend-btn:hover:not(:disabled) {
          background: #22c55e; /* green-500 */
        }

        .add-friend-btn:disabled {
          background: #475569; /* slate-600 */
          cursor: not-allowed;
        }

        .friends-grid {
          display: grid;
          gap: 15px;
        }

        .friend-card {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          background: #334155; /* slate-700 */
          border-radius: 8px;
          transition: all 0.3s;
        }

        .friend-card:hover {
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          transform: translateY(-1px);
          background: #475569; /* slate-600 */
        }

        .friend-avatar {
          position: relative;
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .status-indicator {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 8px;
          height: 8px;
          border-radius: 50%;
          border: 2px solid #334155; /* slate-700 */
        }

        .friend-info {
          flex: 1;
        }

        .friend-name {
          font-weight: bold;
          margin-bottom: 4px;
          color: #cbd5e1; /* slate-300 */
        }

        .friend-status {
          font-size: 12px;
          color: #94a3b8; /* slate-400 */
        }

        .friend-level {
          font-size: 12px;
          color: #60a5fa; /* blue-400 */
          margin-top: 2px;
        }

        .friend-actions {
          display: flex;
          gap: 8px;
        }

        .chat-btn, .remove-btn {
          width: 32px;
          height: 32px;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s;
          color: white;
        }

        .chat-btn {
          background: #60a5fa; /* blue-400 */
        }

        .chat-btn:hover {
          background: #3b82f6; /* blue-500 */
        }

        .remove-btn {
          background: #ef4444; /* red-500 */
        }

        .remove-btn:hover {
          background: #dc2626; /* red-600 */
        }

        .requests-content {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .request-card {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 8px;
          background: #334155; /* slate-700 */
        }

        .request-avatar {
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .request-info {
          flex: 1;
        }

        .request-name {
          font-weight: bold;
          margin-bottom: 4px;
          color: #cbd5e1; /* slate-300 */
        }

        .request-time {
          font-size: 12px;
          color: #94a3b8; /* slate-400 */
        }

        .request-actions {
          display: flex;
          gap: 8px;
        }

        .accept-btn, .reject-btn {
          padding: 6px 12px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.3s;
          font-weight: bold;
        }

        .accept-btn {
          background: #4ade80; /* green-400 */
          color: #1e293b; /* slate-800 */
        }

        .accept-btn:hover {
          background: #22c55e; /* green-500 */
        }

        .reject-btn {
          background: #ef4444; /* red-500 */
          color: white;
        }

        .reject-btn:hover {
          background: #dc2626; /* red-600 */
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #94a3b8; /* slate-400 */
        }

        .empty-icon {
          font-size: 48px;
          margin-bottom: 10px;
        }

        .empty-text {
          font-size: 16px;
        }
      `})]})};class xA{constructor(){ze(this,"config");ze(this,"conversationHistory",new Map);this.config={provider:"openai",model:"gpt-3.5-turbo",apiKey:localStorage.getItem("ai_api_key")||"",baseURL:localStorage.getItem("ai_base_url")||"https://api.openai.com/v1"}}updateConfig(e){this.config={...this.config,...e},e.apiKey&&localStorage.setItem("ai_api_key",e.apiKey),e.baseURL&&localStorage.setItem("ai_base_url",e.baseURL)}getConfig(){return{...this.config}}async sendMessage(e,r,n){try{const o=this.conversationHistory.get(e)||[],l={role:"user",content:r,timestamp:Date.now()},c=[{role:"system",content:this.getSystemPrompt(n)},...o.slice(-10),l];let u;switch(this.config.provider){case"openai":u=await this.callOpenAI(c);break;case"claude":u=await this.callClaude(c);break;case"gemini":u=await this.callGemini(c);break;case"local":u=await this.callLocalModel(c);break;default:throw new Error("不支持的AI提供商")}const m={role:"assistant",content:u,timestamp:Date.now()};return o.push(l,m),this.conversationHistory.set(e,o),u}catch(o){return console.error("AI聊天服务错误:",o),this.getFallbackResponse(r)}}async callOpenAI(e){var o,l;if(!this.config.apiKey)throw new Error("请先配置OpenAI API Key");const r=await fetch(`${this.config.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.config.model||"gpt-3.5-turbo",messages:e,max_tokens:500,temperature:.7})});if(!r.ok)throw new Error(`OpenAI API错误: ${r.status}`);return((l=(o=(await r.json()).choices[0])==null?void 0:o.message)==null?void 0:l.content)||"抱歉，我现在无法回复。"}async callClaude(e){var o,l;if(!this.config.apiKey)throw new Error("请先配置Claude API Key");const r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.config.model||"claude-3-sonnet-20240229",max_tokens:500,messages:e.filter(c=>c.role!=="system"),system:(o=e.find(c=>c.role==="system"))==null?void 0:o.content})});if(!r.ok)throw new Error(`Claude API错误: ${r.status}`);return((l=(await r.json()).content[0])==null?void 0:l.text)||"抱歉，我现在无法回复。"}async callGemini(e){var l,c,u;if(!this.config.apiKey)throw new Error("请先配置Gemini API Key");const r=e.filter(m=>m.role!=="system").map(m=>({role:m.role==="assistant"?"model":"user",parts:[{text:m.content}]})),n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.config.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:r,generationConfig:{maxOutputTokens:500,temperature:.7}})});if(!n.ok)throw new Error(`Gemini API错误: ${n.status}`);return((u=(c=(l=(await n.json()).candidates[0])==null?void 0:l.content)==null?void 0:c.parts[0])==null?void 0:u.text)||"抱歉，我现在无法回复。"}async callLocalModel(e){var l;const r=this.config.baseURL||"http://localhost:11434",n=await fetch(`${r}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model||"llama2",messages:e,stream:!1})});if(!n.ok)throw new Error(`本地模型错误: ${n.status}`);return((l=(await n.json()).message)==null?void 0:l.content)||"抱歉，我现在无法回复。"}getSystemPrompt(e){const r=`你是AllinONE游戏平台中的智能NPC助手。你需要：
1. 保持友好、有趣的游戏角色形象
2. 帮助玩家了解游戏功能和交易系统
3. 提供游戏建议和策略指导
4. 与玩家进行自然的对话交流
5. 回复要简洁明了，适合游戏聊天环境

请用中文回复，保持轻松愉快的语调。`;return e?`${r}

当前上下文：${e}`:r}getFallbackResponse(e){const r=["哈哈，你说得很有趣！我正在思考怎么回复你...","这个问题很棒！让我想想...","你好！我是游戏助手，很高兴和你聊天！","嗯嗯，我明白你的意思，不过我现在有点忙，稍后再详细聊？","哇，你真厉害！继续加油哦！","有什么游戏问题可以问我，我很乐意帮助你！"];return r[Math.floor(Math.random()*r.length)]}clearConversation(e){this.conversationHistory.delete(e)}getConversationHistory(e){return this.conversationHistory.get(e)||[]}}const gA=new xA,bA=({friend:s,onClose:e})=>{const[r,n]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(!1),m=j.useRef(null);j.useEffect(()=>{f(),x()},[s.id]),j.useEffect(()=>{p()},[r]);const p=()=>{var k;(k=m.current)==null||k.scrollIntoView({behavior:"smooth"})},f=async()=>{try{const k=await Dr.getMessages(s.id);n(k)}catch(k){console.error("加载消息失败:",k)}},x=async()=>{try{await Dr.markMessagesAsRead(s.id)}catch(k){console.error("标记已读失败:",k)}},v=async()=>{if(!o.trim()||c)return;u(!0);const k=o;l("");try{const w=await Dr.sendMessage(s.id,k);if(n(T=>[...T,w]),s.isAI)try{const T={id:"typing",fromUserId:s.id,toUserId:"current",content:"正在输入...",timestamp:new Date,isRead:!1,type:"text"};n(B=>[...B,T]);const _=`你是${s.username}，一个${s.level}级的${s.username.includes("助手")?"游戏助手，专门帮助玩家提升游戏技巧和策略":s.username.includes("顾问")?"交易顾问，专门协助玩家进行游戏内交易和投资决策":"游戏NPC"}。请用友好、专业的语气回复玩家。`,A=await gA.sendMessage(`chat_${s.id}`,k,_);n(B=>{const I=B.filter(z=>z.id!=="typing"),D={id:Date.now().toString(),fromUserId:s.id,toUserId:"current",content:A,timestamp:new Date,isRead:!1,type:"text"};return[...I,D]})}catch(T){console.error("AI回复失败:",T),n(_=>{const A=_.filter(I=>I.id!=="typing"),B={id:Date.now().toString(),fromUserId:s.id,toUserId:"current",content:"抱歉，我现在有点忙，稍后再聊吧！如果你需要帮助，可以稍后再试试。",timestamp:new Date,isRead:!1,type:"text"};return[...A,B]})}}catch(w){console.error("发送消息失败:",w),alert("发送消息失败"),l(k)}finally{u(!1)}},N=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),v())},C=k=>{const w=typeof k=="number"?new Date(k):k,_=new Date().getTime()-w.getTime(),A=Math.floor(_/(1e3*60)),B=Math.floor(_/(1e3*60*60)),I=Math.floor(_/(1e3*60*60*24));return A<1?"刚刚":A<60?`${A}分钟前`:B<24?`${B}小时前`:I<7?`${I}天前`:w.toLocaleDateString()};return t.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",width:"400px",height:"500px",background:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",border:"2px solid #a855f7",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",zIndex:1e3,color:"white"},children:[t.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #475569",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(168, 85, 247, 0.1)",borderRadius:"13px 13px 0 0"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("div",{style:{position:"relative",fontSize:"24px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(168, 85, 247, 0.2)",borderRadius:"50%"},children:[s.avatar||"👤",s.isAI&&t.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",fontSize:"12px",background:"#fbbf24",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:"🤖"}),t.jsx("div",{style:{position:"absolute",bottom:"2px",right:"2px",width:"8px",height:"8px",borderRadius:"50%",border:"2px solid #1e293b",backgroundColor:s.isOnline?"#4CAF50":"#9E9E9E"}})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"bold",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[s.username,s.isAI&&t.jsx("span",{style:{background:"#fbbf24",color:"#1e293b",fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:"bold"},children:"AI"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:s.isOnline?"在线":"离线"})]})]}),t.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"20px",cursor:"pointer",padding:"5px",borderRadius:"50%",transition:"all 0.2s"},onMouseOver:k=>{k.currentTarget.style.background="rgba(239, 68, 68, 0.2)",k.currentTarget.style.color="#ef4444"},onMouseOut:k=>{k.currentTarget.style.background="none",k.currentTarget.style.color="#94a3b8"},children:"✕"})]}),t.jsxs("div",{style:{flex:1,padding:"15px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},children:[r.map(k=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",maxWidth:"80%",alignSelf:k.fromUserId==="current"?"flex-end":"flex-start"},children:[t.jsxs("div",{style:{padding:"10px 15px",borderRadius:"15px",wordWrap:"break-word",background:k.fromUserId==="current"?"linear-gradient(135deg, #a855f7, #ec4899)":k.id==="typing"?"rgba(168, 85, 247, 0.2)":"#374151",color:"white",border:k.id==="typing"?"1px dashed #a855f7":"none"},children:[k.content,k.id==="typing"&&t.jsxs("span",{style:{marginLeft:"8px"},children:[t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out"},children:"●"}),t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out 0.2s"},children:"●"}),t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out 0.4s"},children:"●"})]})]}),t.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px",textAlign:k.fromUserId==="current"?"right":"left"},children:C(k.timestamp)})]},k.id)),t.jsx("div",{ref:m})]}),t.jsxs("div",{style:{padding:"15px",borderTop:"1px solid #475569",display:"flex",gap:"10px",alignItems:"flex-end"},children:[t.jsx("textarea",{value:o,onChange:k=>l(k.target.value),onKeyPress:N,placeholder:s.isAI?`与${s.username}聊天...`:"输入消息...",disabled:c,rows:1,style:{flex:1,background:"#374151",border:"1px solid #4b5563",borderRadius:"10px",padding:"10px",color:"white",resize:"none",minHeight:"20px",maxHeight:"80px",fontFamily:"inherit"}}),t.jsx("button",{onClick:v,disabled:!o.trim()||c,style:{background:c?"#6b7280":"linear-gradient(135deg, #a855f7, #ec4899)",border:"none",color:"white",padding:"10px 20px",borderRadius:"10px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",transition:"all 0.2s"},children:c?"发送中...":"发送"})]})]})},yA=()=>{const[s,e]=j.useState("friends"),[r,n]=j.useState([]),[o,l]=j.useState(null),[c,u]=j.useState(!1),[m,p]=j.useState(0);j.useEffect(()=>{f();const k=setInterval(f,3e4);return()=>clearInterval(k)},[]),j.useEffect(()=>{const k=r.reduce((w,T)=>w+T.unreadCount,0);p(k)},[r]);const f=async()=>{try{const k=await Dr.getConversations();n(k)}catch(k){console.error("加载对话列表失败:",k)}},x=k=>{l(k),Dr.markMessagesAsRead(k.id).then(()=>{f()})},v=()=>{l(null),f()},N=k=>{const w={id:k.friendId,username:k.friendUsername,avatar:k.friendAvatar,status:"online",isOnline:!0};x(w)},C=k=>{if(!k)return"";const w=typeof k=="number"?new Date(k):k,_=new Date().getTime()-w.getTime(),A=Math.floor(_/(1e3*60)),B=Math.floor(_/(1e3*60*60)),I=Math.floor(_/(1e3*60*60*24));return A<1?"刚刚":A<60?`${A}分钟前`:B<24?`${B}小时前`:I<7?`${I}天前`:w.toLocaleDateString()};return t.jsxs("div",{className:"team-center",children:[t.jsxs("div",{className:"team-header",children:[t.jsx("h2",{children:"🤝 团队中心"}),t.jsxs("div",{className:"team-tabs",children:[t.jsx("button",{className:`tab-btn ${s==="friends"?"active":""}`,onClick:()=>e("friends"),children:"👥 好友管理"}),t.jsxs("button",{className:`tab-btn ${s==="chats"?"active":""}`,onClick:()=>e("chats"),children:["💬 聊天记录",m>0&&t.jsx("span",{className:"unread-badge",children:m})]})]})]}),t.jsxs("div",{className:"team-content",children:[s==="friends"&&t.jsx(fA,{onStartChat:x}),s==="chats"&&t.jsxs("div",{className:"chats-section",children:[t.jsxs("div",{className:"chats-header",children:[t.jsx("h3",{children:"最近对话"}),t.jsxs("div",{className:"chats-stats",children:["共 ",r.length," 个对话"]})]}),t.jsx("div",{className:"conversations-list",children:r.map(k=>{var w,T;return t.jsxs("div",{className:"conversation-item",onClick:()=>N(k),children:[t.jsx("div",{className:"conversation-avatar",children:k.friendAvatar||"👤"}),t.jsxs("div",{className:"conversation-info",children:[t.jsxs("div",{className:"conversation-name",children:[k.friendUsername,k.unreadCount>0&&t.jsx("span",{className:"unread-count",children:k.unreadCount})]}),t.jsx("div",{className:"conversation-last-message",children:((w=k.lastMessage)==null?void 0:w.content)||"暂无消息"})]}),t.jsx("div",{className:"conversation-time",children:C((T=k.lastMessage)==null?void 0:T.timestamp)})]},k.id)})}),r.length===0&&t.jsxs("div",{className:"empty-chats",children:[t.jsx("div",{className:"empty-icon",children:"💬"}),t.jsx("div",{className:"empty-text",children:"还没有聊天记录"}),t.jsx("div",{className:"empty-hint",children:"添加好友后开始聊天吧！"})]})]})]}),o&&t.jsx(bA,{friend:o,onClose:v}),t.jsx("style",{children:`
        .team-center {
          /* Styles for dark theme */
        }

        .team-header {
          margin-bottom: 20px;
        }

        .team-header h2 {
          margin: 0 0 20px 0;
          color: #facc15; /* yellow-400 */
          font-size: 24px;
          font-weight: bold;
        }

        .team-tabs {
          display: flex;
          gap: 10px;
        }

        .tab-btn {
          position: relative;
          padding: 10px 20px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 20px;
          background: transparent;
          color: #94a3b8; /* slate-400 */
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .tab-btn.active {
          background: #facc15; /* yellow-400 */
          color: #1e293b; /* slate-800 */
          border-color: #facc15;
          font-weight: bold;
        }

        .tab-btn:hover:not(.active) {
          background: #334155; /* slate-700 */
          color: #cbd5e1; /* slate-300 */
        }

        .unread-badge {
          background: #ef4444; /* red-500 */
          color: white;
          border-radius: 10px;
          padding: 2px 6px;
          font-size: 12px;
          min-width: 18px;
          text-align: center;
        }

        .team-content {
          padding: 0;
        }

        .chats-section {
          padding: 0;
        }

        .chats-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #475569; /* slate-600 */
        }

        .chats-header h3 {
          margin: 0;
          color: #cbd5e1; /* slate-300 */
          font-weight: bold;
        }

        .chats-stats {
          color: #94a3b8; /* slate-400 */
          font-size: 14px;
        }

        .conversations-list {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .conversation-item {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          background: #334155; /* slate-700 */
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s;
        }

        .conversation-item:hover {
          background: #475569; /* slate-600 */
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .conversation-avatar {
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .conversation-info {
          flex: 1;
        }

        .conversation-name {
          font-weight: bold;
          margin-bottom: 4px;
          display: flex;
          align-items: center;
          gap: 8px;
          color: #cbd5e1; /* slate-300 */
        }

        .unread-count {
          background: #ef4444; /* red-500 */
          color: white;
          border-radius: 10px;
          padding: 2px 6px;
          font-size: 12px;
          min-width: 18px;
          text-align: center;
        }

        .conversation-last-message {
          color: #94a3b8; /* slate-400 */
          font-size: 14px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          max-width: 300px;
        }

        .conversation-time {
          color: #94a3b8; /* slate-400 */
          font-size: 12px;
          white-space: nowrap;
        }

        .empty-chats {
          text-align: center;
          padding: 60px 20px;
          color: #94a3b8; /* slate-400 */
        }

        .empty-icon {
          font-size: 64px;
          margin-bottom: 20px;
        }

        .empty-text {
          font-size: 18px;
          margin-bottom: 10px;
        }

        .empty-hint {
          font-size: 14px;
          color: #94a3b8; /* slate-400 */
        }
      `})]})},vA=({wallet:s,oCoinBalance:e})=>{const{lang:r}=hs(),n=Ps(r),o=s,[l,c]=j.useState({incomeRMB:0,expenseRMB:0}),[u,m]=j.useState(!1);return j.useEffect(()=>{const p=async()=>{try{m(!0);const x=(async()=>{try{return await es.getOCoinMarketData()}catch{return{currentPrice:1}}})(),[v,N,C,k]=await Promise.all([et.getTransactions(1e3),et.getExchangeRatesAsync(),x,et.getStats().catch(()=>null)]),w=1,T=(C==null?void 0:C.currentPrice)??1,_=(I,D)=>{const z=String(I).toLowerCase();return z==="cash"||z==="cny"?D:z==="gamecoins"||z==="gamecoin"?D*N.gameCoinsToRMB:z==="computingpower"||z==="computing"?D*N.computingPowerToRMB:z==="acoins"||z==="acoin"?D*w:z==="ocoins"||z==="ocoin"?D*T:0};let A=0,B=0;for(const I of v){const D=_(I.currency,I.amount);I.type==="income"?A+=D:B+=D}if(k){const I=k.totalIncome.cash+k.totalIncome.gameCoins*N.gameCoinsToRMB+k.totalIncome.computingPower*N.computingPowerToRMB+k.totalIncome.aCoins*w+k.totalIncome.oCoins*T,D=k.totalExpense.cash+k.totalExpense.gameCoins*N.gameCoinsToRMB+k.totalExpense.computingPower*N.computingPowerToRMB+k.totalExpense.aCoins*w+k.totalExpense.oCoins*T;A=Math.max(A,I),B=Math.max(B,D)}c({incomeRMB:A,expenseRMB:B})}catch(x){console.error("统计总收入/总支出失败:",x)}finally{m(!1)}};p();const f=()=>p();return window.addEventListener("wallet-updated",f),()=>window.removeEventListener("wallet-updated",f)},[s==null?void 0:s.lastUpdated]),o?t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:["📈 ",y(n,"personalCenter.analysisSection.monitor.title")]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-cyan-400 mb-3",children:y(n,"personalCenter.analysisSection.currentAssets")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-500/10 border border-green-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.cash")}),t.jsxs("div",{className:"text-lg font-bold text-green-400 mt-1 truncate",children:["¥",o.cash.toFixed(2)]})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.gameCoins")}),t.jsx("div",{className:"text-lg font-bold text-yellow-400 mt-1 truncate",children:o.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.computingPower")}),t.jsx("div",{className:"text-lg font-bold text-purple-400 mt-1 truncate",children:o.computingPower.toFixed(1)})]}),t.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.aCoins")}),t.jsx("div",{className:"text-lg font-bold text-indigo-400 mt-1 truncate",children:(o.aCoins||0).toFixed(2)})]}),t.jsxs("div",{className:"bg-orange-500/10 border border-orange-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.oCoins")}),t.jsx("div",{className:"text-lg font-bold text-orange-400 mt-1 truncate",children:(typeof e=="number"?e:o.oCoins||0).toFixed(2)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-green-600/10 border border-green-500/20 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.totalIncomeRMB")}),t.jsx("div",{className:"text-xl font-bold text-green-400 mt-1",children:u?y(n,"personalCenter.analysisSection.monitor.calculating"):`¥${l.incomeRMB.toFixed(2)}`})]}),t.jsxs("div",{className:"bg-red-600/10 border border-red-500/20 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.totalExpenseRMB")}),t.jsx("div",{className:"text-xl font-bold text-red-400 mt-1",children:u?y(n,"personalCenter.analysisSection.monitor.calculating"):`¥${l.expenseRMB.toFixed(2)}`})]})]})]})]}):t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:["📈 ",y(n,"personalCenter.analysisSection.monitor.title")]}),t.jsx("div",{className:"text-center py-10 text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.loadingWallet")})]})},wA=({className:s=""})=>{const{lang:e}=hs(),r=Ps(e),[n,o]=j.useState([]),[l,c]=j.useState(!0),[u,m]=j.useState({cash:0,gameCoins:0,computingPower:0});j.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const k=(await et.getTransactions()).filter(T=>{var _,A;return((_=T.description)==null?void 0:_.includes("平台佣金"))||((A=T.description)==null?void 0:A.includes("佣金"))});o(k);const w={cash:0,gameCoins:0,computingPower:0};k.forEach(T=>{if(T.type==="expense")switch(T.currency){case"cash":w.cash+=T.amount;break;case"gameCoins":w.gameCoins+=T.amount;break;case"computingPower":w.computingPower+=T.amount;break}}),m(w)}catch(C){console.error("加载佣金数据失败:",C)}finally{c(!1)}},f=(C,k)=>{switch(k){case"cash":return`¥${C.toFixed(2)}`;case"gameCoins":return`${C.toLocaleString()} 币`;case"computingPower":return`${C.toFixed(1)} 算力`;default:return C.toString()}},x=C=>{switch(C){case"cash":return"💵";case"gameCoins":return"🪙";case"computingPower":return"⚡";default:return"💰"}},v=C=>{const k=C.match(/订单(\w+)/);return k?k[1]:""},N=C=>{const k=C.match(/\((\d+\.?\d*)%\)/);return k?k[1]+"%":""};return l?t.jsx("div",{className:`bg-slate-800/80 border border-orange-400/30 rounded-lg p-6 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsxs("div",{className:"text-orange-400",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-400 mx-auto mb-2"}),t.jsx("div",{children:y(r,"personalCenter.analysisSection.commission.loading")})]})})}):t.jsxs("div",{className:`bg-slate-800/80 border border-orange-400/30 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-orange-400 flex items-center",children:["💰 ",y(r,"personalCenter.analysisSection.commission.title")]}),t.jsxs("button",{onClick:p,className:"bg-orange-500/20 border border-orange-400/30 rounded-lg px-3 py-1 text-orange-400 hover:bg-orange-500/30 transition-all text-sm",children:["🔄 ",y(r,"personalCenter.analysisSection.commission.refresh")]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-400/20 rounded-lg p-4 mb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-orange-400 mb-4",children:["📊 ",y(r,"personalCenter.analysisSection.commission.myExpenseTitle")]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"💵"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.cash")}),t.jsxs("div",{className:"text-lg font-bold text-green-400",children:["¥",u.cash.toFixed(2)]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"🪙"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.gameCoins")}),t.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[u.gameCoins.toLocaleString()," 币"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"⚡"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.computingPower")}),t.jsxs("div",{className:"text-lg font-bold text-purple-400",children:[u.computingPower.toFixed(1)," 算力"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-4",children:["📋 ",y(r,"personalCenter.analysisSection.commission.recordsTitle")]}),n.length>0?t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map(C=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/20 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:x(C.currency)}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-white",children:C.description}),N(C.description)&&t.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-400 px-2 py-1 rounded",children:N(C.description)})]}),t.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[t.jsxs("span",{children:[y(r,"personalCenter.analysisSection.commission.id"),": ",C.id]}),v(C.description)&&t.jsxs("span",{children:["• ",y(r,"personalCenter.analysisSection.commission.order"),": ",v(C.description)]}),t.jsxs("span",{children:["• ",y(r,"personalCenter.analysisSection.commission.time"),": ",new Date(C.timestamp).toLocaleString(e==="zh"?"zh-CN":"en-US")]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-red-400",children:["-",f(C.amount,C.currency)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(r,"personalCenter.analysisSection.commission.expenseTag")})]})]})},C.id))}):t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx("div",{className:"text-4xl mb-2",children:"💰"}),t.jsx("div",{children:y(r,"personalCenter.analysisSection.commission.empty.title")}),t.jsx("div",{className:"text-sm mt-1",children:y(r,"personalCenter.analysisSection.commission.empty.hint")})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-600/30",children:t.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/20 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-bold text-blue-400 mb-2",children:["💡 ",y(r,"personalCenter.analysisSection.commission.infoTitle")]}),t.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.gameStore")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.marketplace")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.officialStore")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.personalHint")})]})]})})]})},jA=()=>{const s=Pn(),{userPosts:e,fetchUserPosts:r,deletePost:n,loading:o,error:l}=xl(),[c,u]=j.useState("published"),[m,p]=j.useState(!1),[f,x]=j.useState(null);j.useEffect(()=>{r()},[r]);const v=e.filter(_=>_.status==="published"),N=e.filter(_=>_.status==="draft"),C=_=>{x(_),p(!0)},k=async()=>{if(f)try{await n(f.id)&&(p(!1),x(null))}catch(_){console.error("删除博客失败:",_)}},w=()=>{p(!1),x(null)},T=_=>{s(`/blog/edit/${_.id}`)};return t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-green-400",children:"📝 我的博客"}),t.jsx(oe,{to:"/blog/create",className:"bg-green-500/20 border border-green-400/30 rounded-lg px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-2",children:"写博客"})]}),t.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>u("published"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="published"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["已发布 (",v.length,")"]}),t.jsxs("button",{onClick:()=>u("drafts"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="drafts"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["草稿 (",N.length,")"]})]}),o&&t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500"})}),l&&t.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-lg p-4 text-center text-red-400 mb-4",children:l}),!o&&t.jsxs(t.Fragment,{children:[c==="published"&&t.jsx(t.Fragment,{children:v.length===0?t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-3",children:"📝"}),t.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-300",children:"暂无已发布的博客"}),t.jsx("p",{className:"text-slate-400 mb-4",children:"分享你的游戏经验和平台使用心得，帮助其他玩家！"}),t.jsx(oe,{to:"/blog/create",className:"inline-block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"写第一篇博客"})]}):t.jsx("div",{className:"space-y-4",children:v.map(_=>t.jsx(Lg,{post:_,onDelete:()=>C(_),onEdit:()=>T(_)},_.id))})}),c==="drafts"&&t.jsx(t.Fragment,{children:N.length===0?t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-3",children:"📋"}),t.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-300",children:"暂无草稿"}),t.jsx("p",{className:"text-slate-400",children:"你可以先将博客保存为草稿，稍后再完善发布。"})]}):t.jsx("div",{className:"space-y-4",children:N.map(_=>t.jsx(Lg,{post:_,onDelete:()=>C(_),onEdit:()=>T(_),isDraft:!0},_.id))})})]}),m&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-red-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-red-400 mb-4",children:"确认删除"}),t.jsxs("p",{className:"text-slate-300 mb-6",children:['确定要删除博客 "',f.title,'" 吗？此操作无法撤销。']}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600",children:"取消"}),t.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"删除"})]})]})})]})},Lg=({post:s,onDelete:e,onEdit:r,isDraft:n=!1})=>t.jsx("div",{className:`bg-slate-700/30 border ${n?"border-yellow-400/30":"border-slate-600/30"} rounded-lg p-4`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx(oe,{to:`/blog/${s.id}`,className:"block group",children:t.jsxs("h3",{className:"font-bold text-lg mb-1 group-hover:text-blue-400 transition-colors",children:[s.title,n&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full",children:"草稿"})]})}),t.jsx("p",{className:"text-slate-400 text-sm mb-2 line-clamp-2",children:s.summary}),t.jsxs("div",{className:"flex items-center text-xs text-slate-500",children:[t.jsx("span",{children:n?`创建于 ${new Date(s.publishDate).toLocaleDateString("zh-CN")}`:`发布于 ${new Date(s.publishDate).toLocaleDateString("zh-CN")}`}),s.lastUpdated&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{children:["更新于 ",new Date(s.lastUpdated).toLocaleDateString("zh-CN")]})]}),!n&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"👁️"}),s.views]}),t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"❤️"}),s.likes]}),t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"💬"}),s.commentCount]})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:r,className:"p-2 bg-blue-500/20 border border-blue-400/30 rounded text-blue-400 hover:bg-blue-500/30",title:"编辑",children:"✏️"}),t.jsx("button",{onClick:e,className:"p-2 bg-red-500/20 border border-red-400/30 rounded text-red-400 hover:bg-red-500/30",title:"删除",children:"🗑️"})]})]})});class NA{constructor(){ze(this,"STORAGE_KEY","platform_config");ze(this,"DEFAULT_CONFIG",{"a-coin-mining-weight":.7,"a-coin-staking-weight":.2,"income-platform-ratio":.3,"game-coin-to-a-coin-rate":100,"a-coin-to-game-coin-rate":100,"cash-to-game-coin-rate":100,"cash-to-computing-power-rate":10,"game-coin-to-cash-rate":.01,"computing-power-to-cash-rate":.1,"ocoin-performance-revenue-weight":.3,"ocoin-performance-player-weight":.2,"ocoin-performance-development-weight":.2,"ocoin-performance-management-weight":.15,"ocoin-performance-marketing-weight":.15,"dividend-performance-revenue-weight":.35,"dividend-performance-player-weight":.15,"dividend-performance-development-weight":.2,"dividend-performance-management-weight":.15,"dividend-performance-marketing-weight":.15,lastUpdated:new Date().toISOString()});this.initializeConfig()}initializeConfig(){localStorage.getItem(this.STORAGE_KEY)||this.saveConfig(this.DEFAULT_CONFIG)}getConfig(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):this.DEFAULT_CONFIG}getParameter(e){const r=this.getConfig();return r[e]!==void 0?r[e]:this.DEFAULT_CONFIG[e]}updateParameter(e,r){const n=this.getConfig();n[e]=r,n.lastUpdated=new Date().toISOString(),this.saveConfig(n),window.dispatchEvent(new CustomEvent("platform-config-updated",{detail:{paramId:e,value:r,timestamp:new Date}})),console.log(`[PlatformConfig] 参数更新: ${e} = ${r}`)}batchUpdateParameters(e){const r=this.getConfig();Object.entries(e).forEach(([n,o])=>{r[n]=o}),r.lastUpdated=new Date().toISOString(),this.saveConfig(r),window.dispatchEvent(new CustomEvent("platform-config-batch-updated",{detail:{updates:e,timestamp:new Date}})),console.log("[PlatformConfig] 批量参数更新:",e)}getExchangeRates(){const e=this.getConfig();return{gameCoinsToRMB:e["game-coin-to-cash-rate"]||.01,computingPowerToRMB:e["computing-power-to-cash-rate"]||.1,aCoinToGameCoin:e["a-coin-to-game-coin-rate"]||100,cashToGameCoin:e["cash-to-game-coin-rate"]||100,cashToComputingPower:e["cash-to-computing-power-rate"]||10}}getACoinAllocation(){const e=this.getConfig();return{miningWeight:e["a-coin-mining-weight"]||.7,stakingWeight:e["a-coin-staking-weight"]||.2}}getIncomeDistribution(){return{platformRatio:this.getConfig()["income-platform-ratio"]||.3}}getOCoinPerformanceWeights(){const e=this.getConfig();return{revenueWeight:e["ocoin-performance-revenue-weight"]||.3,playerWeight:e["ocoin-performance-player-weight"]||.2,developmentWeight:e["ocoin-performance-development-weight"]||.2,managementWeight:e["ocoin-performance-management-weight"]||.15,marketingWeight:e["ocoin-performance-marketing-weight"]||.15}}getDividendPerformanceWeights(){const e=this.getConfig();return{revenueWeight:e["dividend-performance-revenue-weight"]||.35,playerWeight:e["dividend-performance-player-weight"]||.15,developmentWeight:e["dividend-performance-development-weight"]||.2,managementWeight:e["dividend-performance-management-weight"]||.15,marketingWeight:e["dividend-performance-marketing-weight"]||.15}}saveConfig(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}resetToDefaults(){this.saveConfig(this.DEFAULT_CONFIG),window.dispatchEvent(new CustomEvent("platform-config-reset",{detail:{timestamp:new Date}})),console.log("[PlatformConfig] 配置已重置为默认值")}exportConfig(){return JSON.stringify(this.getConfig(),null,2)}importConfig(e){try{const r=JSON.parse(e);return this.saveConfig(r),window.dispatchEvent(new CustomEvent("platform-config-imported",{detail:{timestamp:new Date}})),console.log("[PlatformConfig] 配置导入成功"),!0}catch(r){return console.error("[PlatformConfig] 配置导入失败:",r),!1}}}const Ir=new NA;function zg(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"rare":return"fa-star";default:return"fa-box"}}const kA=()=>{const{lang:s}=hs(),e=Ps(s),{userData:r,updateUserAssets:n,refreshUserData:o}=fl(),{fetchUserPosts:l}=xl(),[c,u]=j.useState("inventory"),[m,p]=j.useState("purchases"),[f,x]=j.useState(!1),[v,N]=j.useState(!1),[C,k]=j.useState(!1),[w,T]=j.useState(!1),[_,A]=j.useState(null),[B,I]=j.useState(""),[D,z]=j.useState(""),[E,G]=j.useState(""),[Y,ne]=j.useState("cash"),[ee,se]=j.useState("gameCoin"),[ie,M]=j.useState(null),[F,Z]=j.useState([]),[L,re]=j.useState({totalUsers:0,onlineUsers:0,totalComputePower:0,dailyTransactions:0,aCoinCirculatingSupply:0,aCoinHolders:0,oCoinPrice:0,oCoinMarketCap:0,aCoinTotalSupply:0,oCoinCirculatingSupply:0}),[H,P]=j.useState({gameCoinsEarned:0,computingPowerContribution:0,transactionActivity:0,gameCoinsWeight:0,computingPowerWeight:0,transactionWeight:0,totalACoinEarned:0,lastDistribution:new Date}),[W,ae]=j.useState([]),[je,Ne]=j.useState(!1),[pe,Ee]=j.useState({currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],allTimeHigh:0,allTimeLow:0,lastUpdated:new Date,dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0}),[Ue,Ye]=j.useState({balance:0,lockedBalance:0,vestingOptions:[],dividendRights:0,lastDividend:0,totalDividendsReceived:0}),[ut,Gt]=j.useState([]),[_t,ps]=j.useState(!1),[Et,ns]=j.useState(!1),[jt,Pt]=j.useState("buy"),[It,yt]=j.useState(""),[O,q]=j.useState(()=>Ir.getExchangeRates());j.useEffect(()=>{be(),xe(),de();const K=Pe=>{console.log("[个人中心] 平台配置更新:",Pe.detail),q(Ir.getExchangeRates())};return window.addEventListener("platform-config-updated",K),window.addEventListener("platform-config-batch-updated",K),()=>{window.removeEventListener("platform-config-updated",K),window.removeEventListener("platform-config-batch-updated",K)}},[]);const J=async()=>{try{const Pe=(await js.getUserDailySettlements()).map(we=>({timestamp:we.date||we.timestamp,amount:we.amount,contributionScore:we.contributionScore,recipientsCount:we.recipientsCount||Math.floor(Math.random()*100)+50,totalDistributed:we.totalDistributed||we.amount*(Math.random()*10+10)}));ae(Pe)}catch(K){console.error("获取A币每日结算记录失败:",K);const Pe=Array.from({length:7}).map((we,ue)=>{const Se=new Date;Se.setDate(Se.getDate()-ue);const Ae=Math.random()*50+10,He=Math.random()*100+50,Je=Ae*(Math.random()*10+10),Ct=Math.floor(Math.random()*100)+50;return{timestamp:Se.toISOString(),amount:Ae,contributionScore:He,totalDistributed:Je,recipientsCount:Ct}});ae(Pe)}},be=async()=>{try{const K=await es.getOCoinMarketData();Ee(K)}catch(K){console.error("获取O币市场数据失败:",K);const Pe={currentPrice:Math.random()*5+1,circulatingSupply:Math.floor(Math.random()*1e9)+1e9,totalSupply:1e9,totalDistributed:Math.floor(Math.random()*2e9)+1e9,totalLocked:Math.floor(Math.random()*5e8),marketCap:0,priceHistory:[],allTimeHigh:Math.random()*10+5,allTimeLow:Math.random()*.5+.1,lastUpdated:new Date,dividendPool:Math.random()*1e6,lastDividendDate:null,lastDividendPerCoin:0};Pe.marketCap=Pe.currentPrice*Pe.circulatingSupply,Ee(Pe)}},xe=async()=>{try{const K="current-user-id",Pe=await es.getUserBalance(K),we=await es.getUserOptions(K);Ye(Pe?{balance:Pe.availableBalance,lockedBalance:Pe.lockedBalance,vestingOptions:we.map(ue=>({id:`option-${ue.userId}-${ue.grantDate.getTime()}`,amount:ue.amount,vestedAmount:ue.vestedAmount,vestingPeriod:ue.vestingPeriod,startDate:ue.grantDate,endDate:new Date(ue.grantDate.getTime()+ue.vestingPeriod*24*60*60*1e3),isFullyVested:ue.isFullyVested})),dividendRights:Pe.dividendRights/es.getOCoinStats().totalSupply,lastDividend:Pe.lastDividendAmount,totalDividendsReceived:Pe.lastDividendAmount}:{balance:Math.floor(Math.random()*1e3)+100,lockedBalance:Math.floor(Math.random()*500),vestingOptions:Array.from({length:2}).map((ue,Se)=>{const Ae=new Date;Ae.setMonth(Ae.getMonth()-1);const He=new Date;He.setMonth(He.getMonth()+5+Se*6);const Je=Math.floor(Math.random()*500)+100,Ct=Math.floor(Je*(Math.random()*.3));return{id:`option-${Se}`,amount:Je,vestedAmount:Ct,vestingPeriod:(Se+1)*180,startDate:Ae,endDate:He,isFullyVested:!1}}),dividendRights:Math.random()*.001,lastDividend:Math.random()*100,totalDividendsReceived:Math.random()*500})}catch(K){console.error("获取O币持有数据失败:",K),Ye({balance:Math.floor(Math.random()*1e3)+100,lockedBalance:Math.floor(Math.random()*500),vestingOptions:Array.from({length:2}).map((Pe,we)=>{const ue=new Date;ue.setMonth(ue.getMonth()-1);const Se=new Date;Se.setMonth(Se.getMonth()+5+we*6);const Ae=Math.floor(Math.random()*500)+100,He=Math.floor(Ae*(Math.random()*.3));return{id:`option-${we}`,amount:Ae,vestedAmount:He,vestingPeriod:(we+1)*180,startDate:ue,endDate:Se,isFullyVested:!1}}),dividendRights:Math.random()*.001,lastDividend:Math.random()*100,totalDividendsReceived:Math.random()*500})}},de=async()=>{try{const we=(await es.getUserTransactions("current-user-id")).map(ue=>({id:ue.id,type:ue.type,amount:ue.amount,price:ue.price,timestamp:ue.timestamp,description:ue.description,status:ue.status,userId:ue.userId,relatedUserId:ue.relatedUserId}));Gt(we)}catch(K){console.error("获取O币交易记录失败:",K);const Pe=Array.from({length:10}).map((we,ue)=>{const Se=new Date;Se.setDate(Se.getDate()-ue);const Ae=["purchase","sale","dividend","grant","vest"],He=Ae[Math.floor(Math.random()*Ae.length)],Je=Math.floor(Math.random()*100)+10,Ct=He==="purchase"||He==="sale"?Math.random()*5+1:void 0;let Ms="";switch(He){case"purchase":Ms="购买O币";break;case"sale":Ms="出售O币";break;case"dividend":Ms="分红收益";break;case"grant":Ms="平台奖励";break;case"vest":Ms="期权解锁";break}return{id:`tx-${ue}`,type:He,amount:Je,price:Ct,timestamp:Se,description:Ms,status:"completed",userId:"current-user-id"}});Gt(Pe)}},Ce=async()=>{if(!It||parseFloat(It)<=0){alert("请输入有效的交易数量");return}const K=parseFloat(It),Pe="current-user-id";try{if(jt==="buy"){const we=K*pe.currentPrice;if(!ye||ye.cash<we){alert(`现金余额不足！需要 ¥${we.toFixed(2)}，当前余额 ¥${(ye==null?void 0:ye.cash.toFixed(2))||"0.00"}`);return}await es.purchaseOCoins(Pe,K,pe.currentPrice)}else{if(Ue.balance<K){alert(`O币余额不足！需要 ${K} 枚，当前可用余额 ${Ue.balance} 枚`);return}await es.sellOCoins(Pe,K,pe.currentPrice)}await vt(),await xe(),await de(),ns(!1),yt(""),alert(`O币${jt==="buy"?"购买":"出售"}成功！`)}catch(we){console.error(`O币${jt==="buy"?"购买":"出售"}失败:`,we),alert(`O币${jt==="buy"?"购买":"出售"}失败，请稍后重试`)}},{balance:ye,loading:nt,refreshWalletData:vt,getTransactions:Rt}=jd(),[Mt,fs]=j.useState([]),[is,qt]=j.useState([]),[Ns,Is]=j.useState([]);j.useEffect(()=>{xs(),Ze(),J();const K=setInterval(Ze,3e4),Pe=setInterval(xs,1e4);return()=>{clearInterval(K),clearInterval(Pe)}},[]),j.useEffect(()=>{ye&&!nt&&Qs()},[ye,nt]),j.useEffect(()=>{c==="blog"&&l()},[c,l]);const Qs=async()=>{try{const K=await kn.getUserContributionData();K?P(K):(console.error("无法获取A币贡献度数据"),P({gameCoinsEarned:(ye==null?void 0:ye.gameCoins)||0,computingPowerContribution:(ye==null?void 0:ye.computingPower)||0,transactionActivity:0,gameCoinsWeight:.5,computingPowerWeight:.3,transactionWeight:.2,totalACoinEarned:(ye==null?void 0:ye.aCoins)||0,lastDistribution:new Date}))}catch(K){console.error("获取A币贡献度数据失败:",K),P({gameCoinsEarned:(ye==null?void 0:ye.gameCoins)||0,computingPowerContribution:(ye==null?void 0:ye.computingPower)||0,transactionActivity:0,gameCoinsWeight:.5,computingPowerWeight:.3,transactionWeight:.2,totalACoinEarned:(ye==null?void 0:ye.aCoins)||0,lastDistribution:new Date})}},xs=async()=>{try{const K=await ws.getUserInventory("current-user-id"),Pe=await ws.getUserTransactionHistory("current-user-id");fs(K);const we=await ws.getUserListings("current-user-id");Is(we);const ue=[...Pe.purchases.map(Se=>({id:Se.id,itemName:Se.item.name,type:"buy",price:Se.totalAmount||Se.price,totalAmount:Se.totalAmount||Se.price,timestamp:Se.timestamp})),...Pe.sales.map(Se=>({id:Se.id,itemName:Se.item.name,type:"sell",price:Se.price,timestamp:Se.timestamp}))].sort((Se,Ae)=>Ae.timestamp.getTime()-Se.timestamp.getTime());qt(ue),await vt()}catch(K){console.error("加载用户数据失败:",K)}},Ot=async K=>{if(ie===K){M(null),Z([]);return}try{const Pe=await Rt();let we=[];switch(K){case"cash":we=Pe.filter(ue=>{const Se=ue.currency?String(ue.currency).toLowerCase():"";return Se==="cash"||Se==="cny"});break;case"gameCoin":we=Pe.filter(ue=>ue.currency==="gameCoins");break;case"computingPower":we=Pe.filter(ue=>ue.currency==="computingPower");break;case"aCoins":try{const ue=await et.getACoinTransactions(20);if(ue&&ue.length>0)we=ue;else{const Se=Pe.filter(Ae=>{var He,Je;return Ae.currency==="aCoins"||((He=Ae.description)==null?void 0:He.includes("A币"))||Ae.category&&["game_reward","commission","acoin_distribution"].includes(Ae.category)&&(((Je=Ae.description)==null?void 0:Je.includes("A币"))||Ae.currency==="aCoins")});if(Se.length>0)we=Se;else{const He=(await gt.getPublicFundPoolData()).recentTransactions.filter(Je=>Je.currency==="aCoins");He.length>0?we=He.map(Je=>({id:Je.id,type:Je.type==="income"?"income":"expense",category:"acoin_distribution",amount:Je.amount,currency:"aCoins",description:Je.description||"A币发放",timestamp:Je.timestamp})):we=Rs("aCoins")}}}catch(ue){console.error("获取A币交易记录失败:",ue),we=Rs("aCoins")}break}we.length===0&&K!=="cash"&&(we=Rs(K)),Z(we),M(K)}catch(Pe){if(console.error("获取钱包交易记录失败:",Pe),K==="cash"){const we=[{id:"cash_tx_001",type:"income",amount:"500.00",description:"充值-支付宝",timestamp:new Date(Date.now()-1728e5),currency:"cash",category:"recharge"},{id:"cash_tx_002",type:"expense",amount:"128.00",description:"购买游戏道具-限定皮肤",timestamp:new Date(Date.now()-2592e5),currency:"cash",category:"purchase"},{id:"cash_tx_003",type:"expense",amount:"50.00",description:"兑换游戏币-5000币",timestamp:new Date(Date.now()-432e6),currency:"cash",category:"exchange"}];Z(we)}else{const we=Rs(K);Z(we)}M(K)}},Rs=K=>{const Pe=new Date,we=[];if(K==="cash")return[];for(let ue=0;ue<10;ue++){const Se=new Date(Pe.getTime()-ue*24*60*60*1e3);let Ae;switch(K){case"gameCoin":Ae={id:`coin_${ue}`,type:ue%2===0?"income":"expense",amount:Math.floor(Math.random()*500+50),description:ue%2===0?"游戏奖励":ue%3===0?"兑换消费":"系统消费",timestamp:Se,currency:"gameCoin"};break;case"computingPower":Ae={id:`power_${ue}`,type:"income",amount:(Math.random()*10+1).toFixed(1),description:ue%3===0?"挖矿奖励":ue%2===0?"任务奖励":"推荐奖励",timestamp:Se,currency:"computingPower"};break;case"aCoins":Ae={id:`acoin_${ue}`,type:"income",amount:(Math.random()*5+.5).toFixed(2),description:ue%3===0?"A币发放奖励":ue%2===0?"贡献奖励":"活跃奖励",timestamp:Se,currency:"aCoins"};break;case"oCoins":Ae={id:`ocoin_${ue}`,type:ue%4===0?"expense":"income",amount:(Math.random()*100+10).toFixed(0),description:ue%4===0?"出售O币":ue%3===0?"购买O币":ue%2===0?"分红收益":"期权解锁",timestamp:Se,currency:"oCoins"};break}Ae&&we.push(Ae)}return we.sort((ue,Se)=>Se.timestamp.getTime()-ue.timestamp.getTime())},ir=async(K,Pe)=>{try{if(!window.confirm(`确定要下架商品 "${Pe}" 吗？下架后商品将返回到您的库存中。`))return;await ws.delistItem(K,"current-user-id"),await xs(),alert(`商品 "${Pe}" 已成功下架并返回到库存中！`)}catch(we){console.error("下架商品失败:",we),alert("下架商品失败，请稍后重试")}},gs=K=>{A(K),I(K.price.toString()),T(!0)},sa=async()=>{if(!_||!B){alert("请输入有效的价格");return}const K=parseFloat(B);if(K<=0){alert("价格必须大于0");return}try{await ws.updateItemPrice(_.id,K,"current-user-id"),await xs(),T(!1),A(null),I(""),alert(`商品 "${_.name}" 的价格已成功修改为 ${K}！`)}catch(Pe){console.error("修改价格失败:",Pe),alert("修改价格失败，请稍后重试")}},Ze=async()=>{try{const K=await gt.getPublicFundPoolData(),Pe=await gt.getAllTransactions(),{aCoinStats:we,oCoinStats:ue}=K,Se=new Date;Se.setHours(0,0,0,0);const Ae=Pe.filter(He=>new Date(He.timestamp)>=Se).length;re({totalUsers:we.holdersCount,onlineUsers:Math.floor(we.holdersCount*(.05+Math.random()*.05)),totalComputePower:45.6,dailyTransactions:Ae,aCoinCirculatingSupply:we.circulatingSupply,aCoinHolders:we.holdersCount,oCoinPrice:ue.currentPrice,oCoinMarketCap:ue.marketCap,aCoinTotalSupply:we.totalSupply||0,oCoinCirculatingSupply:ue.circulatingSupply||0})}catch(K){console.error("获取全网数据失败:",K),re({totalUsers:1234567,onlineUsers:89432,totalComputePower:45.6,dailyTransactions:2345,aCoinCirculatingSupply:0,aCoinHolders:0,oCoinPrice:0,oCoinMarketCap:0,aCoinTotalSupply:0,oCoinCirculatingSupply:0})}},st=async()=>{if(!D||parseFloat(D)<=0){alert("请输入有效的充值金额");return}try{const K=parseFloat(D);n({realMoney:r.assets.realMoney+K}),await vt(),N(!1),z(""),alert(`充值成功！已充值 ¥${K.toFixed(2)}`)}catch(K){console.error("充值失败:",K),alert("充值失败，请重试")}},bt=async()=>{if(!E||parseFloat(E)<=0){alert("请输入有效的兑换金额");return}if(Y===ee){alert("不能兑换相同的货币类型");return}try{const K=parseFloat(E),Pe=Ir.getExchangeRates(),we={cash:1,gameCoin:Pe.gameCoinsToRMB,computingPower:Pe.computingPowerToRMB,aCoins:1};console.log("[兑换] 使用实时配置汇率:",Pe);let ue=!1,Se=0,Ae=0;switch(Y){case"cash":ue=ye?ye.cash>=K:!1,Se=K,Ae=K/we[ee];break;case"gameCoin":if(ue=ye?ye.gameCoins>=K:!1,Se=K,ee==="aCoins"){const Je=Ir.getParameter("a-coin-to-game-coin-rate")||100;Ae=K/Je,console.log(`[游戏币兑换] ${K} 游戏币 → ${Ae} A币 (比例: ${Je}:1)`)}else Ae=K*we.gameCoin/we[ee];break;case"computingPower":ue=ye?ye.computingPower>=K:!1,Se=K,Ae=K*we.computingPower/we[ee];break;case"aCoins":if(ue=ye?(ye.aCoins||0)>=K:!1,Se=K,ee==="gameCoin"){const Je=Ir.getParameter("a-coin-to-game-coin-rate")||100;Ae=K*Je,console.log(`[A币兑换] ${K} A币 → ${Ae} 游戏币 (比例: 1:${Je})`)}else Ae=K*we.aCoins/we[ee];break}if(!ue){alert("余额不足！");return}if(Y==="aCoins"||ee==="aCoins")try{const Je=await kn.getUserACoinExchangeLimits();if(Y==="aCoins"){if(K>Je.dailyExchangeOut){alert(`A币兑出超过每日限额 ${Je.dailyExchangeOut} A币`);return}}else if(ee==="aCoins"&&Ae>Je.dailyExchangeIn){alert(`A币兑入超过每日限额 ${Je.dailyExchangeIn} A币`);return}}catch(Je){console.error("获取A币兑换限制失败:",Je);const Ct=100;if(Y==="aCoins"&&K>Ct||ee==="aCoins"&&Ae>Ct){alert(`A币兑换超过默认每日限额 ${Ct} A币`);return}}const He={cash:"现金",gameCoin:"游戏币",computingPower:"算力",aCoins:"A币"};switch(Y){case"cash":await et.addTransaction({type:"expense",category:"exchange",amount:Se,currency:"cash",description:`兑换现金为${He[ee]}`});break;case"gameCoin":await et.addTransaction({type:"expense",category:"exchange",amount:Se,currency:"gameCoins",description:`兑换游戏币为${He[ee]}`});break;case"computingPower":await et.addTransaction({type:"expense",category:"exchange",amount:Se,currency:"computingPower",description:`兑换算力为${He[ee]}`});break;case"aCoins":await et.addTransaction({type:"expense",category:"exchange",amount:Se,currency:"aCoins",description:`A币兑换为${He[ee]}`}),await kn.recordACoinExchange(Se,ee,Ae);break}switch(ee){case"cash":await et.addTransaction({type:"income",category:"exchange",amount:Ae,currency:"cash",description:`${He[Y]}兑换获得现金`});break;case"gameCoin":await et.addTransaction({type:"income",category:"exchange",amount:Math.floor(Ae),currency:"gameCoins",description:`${He[Y]}兑换获得游戏币`});break;case"computingPower":await et.addTransaction({type:"income",category:"exchange",amount:Ae,currency:"computingPower",description:`${He[Y]}兑换获得算力`});break;case"aCoins":await et.addTransaction({type:"income",category:"exchange",amount:Ae,currency:"aCoins",description:`${He[Y]}兑换获得A币`}),await kn.recordACoinExchange(Se,Y,Ae);break}await vt(),window.dispatchEvent(new CustomEvent("wallet-updated")),k(!1),G(""),alert(`兑换成功！
${Se} ${He[Y]} → ${Ae.toFixed(2)} ${He[ee]}`)}catch(K){console.error("兑换失败:",K),alert("兑换失败，请重试")}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[t.jsx("div",{className:"bg-slate-800/50 border-b border-purple-400/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-center relative",children:[t.jsxs("h1",{className:"text-2xl font-bold text-purple-400",children:["🎮 ",y(e,"personalCenter.title")]}),t.jsxs("button",{onClick:o,className:"absolute right-4 bg-purple-500/20 border border-purple-400/30 rounded-lg px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:["🔄 ",y(e,"personalCenter.refresh")]})]})}),t.jsx("div",{className:"bg-slate-800/80 border-b border-green-400/30 p-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(oe,{to:"/",className:"bg-slate-500/20 border border-slate-400/30 rounded-lg px-4 py-2 text-slate-400 hover:bg-slate-500/30 transition-all flex items-center gap-2",children:["🏠 ",y(e,"personalCenter.nav.home")]}),t.jsxs(oe,{to:"/fund-pool",className:"bg-cyan-500/20 border border-cyan-400/30 rounded-lg px-4 py-2 text-cyan-400 hover:bg-cyan-500/30 transition-all flex items-center gap-2",children:["💰 ",y(e,"personalCenter.nav.fundPool")]}),t.jsxs(oe,{to:"/blog-center",className:"bg-teal-500/20 border border-teal-400/30 rounded-lg px-4 py-2 text-teal-400 hover:bg-teal-500/30 transition-all flex items-center gap-2",children:["📝 ",y(e,"personalCenter.nav.blogCenter")]}),t.jsxs(oe,{to:"/marketplace",className:"bg-green-500/20 border border-green-400/30 rounded-lg px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-2",children:["🏪 ",y(e,"personalCenter.nav.marketplace")]}),t.jsxs(oe,{to:"/official-store",className:"bg-blue-500/20 border border-blue-400/30 rounded-lg px-4 py-2 text-blue-400 hover:bg-blue-500/30 transition-all flex items-center gap-2",children:["🏬 ",y(e,"personalCenter.nav.officialStore")]}),t.jsxs(oe,{to:"/game-store",className:"bg-purple-500/20 border border-purple-400/30 rounded-lg px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:["🛒 ",y(e,"personalCenter.nav.gameStore")]}),t.jsxs(oe,{to:"/computing-dashboard",className:"bg-yellow-500/20 border border-yellow-400/30 rounded-lg px-4 py-2 text-yellow-400 hover:bg-yellow-500/30 transition-all flex items-center gap-2",children:["⚡ ",y(e,"personalCenter.nav.computingCenter")]}),t.jsxs(oe,{to:"/game-center",className:"bg-pink-500/20 border border-pink-400/30 rounded-lg px-4 py-2 text-pink-400 hover:bg-pink-500/30 transition-all flex items-center gap-2",children:["🎯 ",y(e,"personalCenter.nav.gameCenter")]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>x(!f),className:"bg-slate-700/50 border border-slate-600/30 rounded-lg px-4 py-2 text-slate-300 hover:bg-slate-700/70 transition-all flex items-center gap-2",children:["⚙️ ",y(e,"personalCenter.nav.settings")]}),f&&t.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-slate-800 border border-slate-600/30 rounded-lg shadow-xl z-50",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🎨 ",y(e,"personalCenter.nav.settingsTheme")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔔 ",y(e,"personalCenter.nav.settingsNotice")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔗 ",y(e,"personalCenter.nav.settingsBind")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔒 ",y(e,"personalCenter.nav.settingsSecurity")]})]})})]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-green-400 mb-4 flex items-center",children:[t.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-full mr-2 animate-pulse"}),"👤 ",y(e,"personalCenter.left.profile")]}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl",children:"🎮"}),t.jsx("h3",{className:"text-lg font-bold text-purple-400",children:r.username}),t.jsxs("div",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.left.level")," ",r.stats.level]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full",style:{width:`${r.stats.experience%1e3/10}%`}})}),t.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[y(e,"personalCenter.left.exp"),": ",r.stats.experience%1e3,"/1000"]})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.totalGames")}),t.jsx("span",{className:"text-green-400 font-bold",children:r.stats.totalGames.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.bestScore")}),t.jsx("span",{className:"text-yellow-400 font-bold",children:r.stats.bestScore.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.avgScore")}),t.jsx("span",{className:"text-blue-400 font-bold",children:r.stats.averageScore.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.achievements")}),t.jsx("span",{className:"text-purple-400 font-bold",children:r.stats.achievements.length})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.playTime")}),t.jsxs("span",{className:"text-cyan-400 font-bold",children:[r.stats.playTime,y(e,"personalCenter.left.stats.minutes")]})]})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border border-green-400/20 rounded-lg p-4 mb-6",children:[t.jsxs("h3",{className:"text-sm font-bold text-green-400 mb-3",children:["💰 ",y(e,"personalCenter.left.walletOverview")]}),ye?t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.cash")}),t.jsxs("span",{className:"text-green-400 font-bold text-right",children:["¥",ye.cash.toFixed(2)]})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.gameCoins")}),t.jsx("span",{className:"text-yellow-400 font-bold text-right",children:ye.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.computingPower")}),t.jsx("span",{className:"text-purple-400 font-bold text-right",children:ye.computingPower.toFixed(1)})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.aCoins")}),t.jsx("span",{className:"text-indigo-400 font-bold text-right",children:(ye.aCoins||0).toFixed(2)})]})]}):t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.left.wallet.loading")}),t.jsx("button",{onClick:()=>u("wallet"),className:"w-full mt-3 bg-green-500/20 border border-green-400/30 rounded px-3 py-1 text-xs text-green-400 hover:bg-green-500/30 transition-all",children:y(e,"personalCenter.left.wallet.details")})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-pink-400 mb-3",children:["📋 ",y(e,"personalCenter.left.recent.title")]}),t.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[r.recentActivities.slice(0,5).map(K=>t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/20 rounded p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("span",{className:"text-sm font-bold text-cyan-400",children:[K.type==="game"?"🎮":K.type==="purchase"?"🛒":K.type==="trade"?"💱":"🎁",K.description]}),K.value&&t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:["+",K.value]})]}),t.jsx("div",{className:"text-xs text-slate-400",children:new Date(K.timestamp).toLocaleString()})]},K.id)),r.recentActivities.length===0&&t.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:y(e,"personalCenter.left.recent.empty")})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>u("inventory"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="inventory"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["🎒 ",y(e,"personalCenter.centerTabs.inventory")]}),t.jsxs("button",{onClick:()=>u("transactions"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="transactions"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["📊 ",y(e,"personalCenter.centerTabs.transactions")]}),t.jsxs("button",{onClick:()=>u("wallet"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="wallet"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["💳 ",y(e,"personalCenter.centerTabs.wallet")]}),t.jsxs("button",{onClick:()=>u("team"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="team"?"text-yellow-400 border-b-2 border-yellow-400":"text-slate-200 hover:text-yellow-300"}`,children:["🤝 ",y(e,"personalCenter.centerTabs.team")]}),t.jsxs("button",{onClick:()=>u("analysis"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="analysis"?"text-purple-400 border-b-2 border-purple-400":"text-slate-200 hover:text-purple-300"}`,children:["📈 ",y(e,"personalCenter.centerTabs.analysis")]}),t.jsxs("button",{onClick:()=>u("blog"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="blog"?"text-green-400 border-b-2 border-green-400":"text-slate-200 hover:text-green-300"}`,children:["📝 ",y(e,"personalCenter.centerTabs.blog")]})]}),c==="inventory"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:y(e,"personalCenter.inventory.myItems")}),Mt.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Mt.map(K=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🎮"}),t.jsx("h4",{className:"font-bold text-purple-400 text-sm",children:K.name}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:K.description}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:[y(e,"personalCenter.inventory.qty"),": 1"]})})]})},K.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"📦"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.inventory.emptyTitle")}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:y(e,"personalCenter.inventory.emptySub")})]})]}),c==="transactions"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:y(e,"personalCenter.transactions.title")}),t.jsxs("div",{className:"flex space-x-4 mb-4 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>p("purchases"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="purchases"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["📦 ",y(e,"personalCenter.transactionTabs.purchases")]}),t.jsxs("button",{onClick:()=>p("sales"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="sales"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["💰 ",y(e,"personalCenter.transactionTabs.sales")]}),t.jsxs("button",{onClick:()=>p("listings"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="listings"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["🏪 ",y(e,"personalCenter.transactionTabs.listings")]})]}),m==="purchases"&&t.jsx("div",{children:is.filter(K=>K.type==="buy").length>0?t.jsx("div",{className:"space-y-3",children:is.filter(K=>K.type==="buy").map(K=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:K.itemName}),t.jsxs("p",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.transactions.purchaseWord")," • ",new Date(K.timestamp).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-red-400",children:["-",(K.totalAmount||K.price).toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.transactions.expense")})]})]})},K.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"📦"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.nonePurchase")})]})}),m==="sales"&&t.jsx("div",{children:is.filter(K=>K.type==="sell").length>0?t.jsx("div",{className:"space-y-3",children:is.filter(K=>K.type==="sell").map(K=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:K.itemName}),t.jsxs("p",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.transactions.sellWord")," • ",new Date(K.timestamp).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-green-400",children:["+",K.price.toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.transactions.income")})]})]})},K.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"💰"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.noneSales")})]})}),m==="listings"&&t.jsx("div",{children:Ns.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ns.map(K=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:zg(K.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-purple-400 text-sm mb-1",children:K.name}),t.jsx("p",{className:"text-xs text-slate-400 mb-2",children:K.description}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:[y(e,"personalCenter.transactions.price"),": ",K.price]}),t.jsxs("span",{className:"text-xs text-slate-500",children:[y(e,"personalCenter.transactions.views"),": ",K.views]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>ir(K.id,K.name),className:"flex-1 bg-red-500/20 border border-red-400/30 rounded px-3 py-1 text-xs text-red-400 hover:bg-red-500/30 transition-all",children:y(e,"personalCenter.transactions.delist")}),t.jsx("button",{onClick:()=>gs(K),className:"flex-1 bg-blue-500/20 border border-blue-400/30 rounded px-3 py-1 text-xs text-blue-400 hover:bg-blue-500/30 transition-all",children:y(e,"personalCenter.transactions.editPrice")})]})]})]})},K.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"🏪"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.noneListings")}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:y(e,"personalCenter.transactions.toMarket")})]})})]}),c==="team"&&t.jsx("div",{children:t.jsx(yA,{})}),c==="analysis"&&t.jsxs("div",{children:[t.jsx(vA,{wallet:ye,oCoinBalance:Ue.balance}),t.jsx("div",{className:"mt-6",children:t.jsx(wA,{})}),t.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-4 mt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-bold text-indigo-400",children:["🅰️ ",y(e,"personalCenter.analysisSection.acoinAnalysis.title")]}),t.jsxs("div",{className:"text-xs bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded",children:[s==="zh"?"本月A币":"A Coin This Month",": ",((ye==null?void 0:ye.aCoins)||0).toFixed(2)]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-slate-300 mb-2",children:y(e,"personalCenter.analysisSection.acoinAnalysis.basis")}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-yellow-400 font-bold mb-1",children:[(H.gameCoinsWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.gameCoinsEarned")})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-purple-400 font-bold mb-1",children:[(H.computingPowerWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.computingPower")})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-green-400 font-bold mb-1",children:[(H.transactionWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.transactionActivity")})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-slate-300 mb-2",children:y(e,"personalCenter.analysisSection.acoinAnalysis.thisMonth")}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"游戏币获得"}),t.jsxs("span",{className:"text-xs text-yellow-400",children:[H.gameCoinsEarned.toLocaleString()," ",y(e,"personalCenter.analysisSection.acoinAnalysis.coinsUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${Math.min(H.gameCoinsEarned/50,100)}%`}})})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"算力贡献"}),t.jsxs("span",{className:"text-xs text-purple-400",children:[H.computingPowerContribution.toFixed(1)," ",y(e,"personalCenter.analysisSection.acoinAnalysis.powerUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:`${Math.min(H.computingPowerContribution/.5,100)}%`}})})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"交易活跃度"}),t.jsxs("span",{className:"text-xs text-green-400",children:[H.transactionActivity," ",y(e,"personalCenter.analysisSection.acoinAnalysis.tradesUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${Math.min(H.transactionActivity/.3,100)}%`}})})]})]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[t.jsx("p",{children:s==="zh"?"A币是基于您的平台贡献度发放的平台币，与人民币1:1兑换。":"A Coin is issued based on your contribution; 1:1 to RMB."}),t.jsx("p",{className:"mt-1",children:s==="zh"?"每日自动结算，来源于平台净收入的40%，按贡献度比例分配。":"Settled daily from 40% of net income, allocated by contribution."}),t.jsxs("p",{className:"mt-1",children:[s==="zh"?"上次结算":"Last settlement",": ",H.lastDistribution.toLocaleDateString()," | ",s==="zh"?"累计获得":"Total earned",": ",H.totalACoinEarned.toFixed(2)," ",s==="zh"?"A币":"A Coin"]})]}),t.jsxs("div",{className:"mt-4 border-t border-indigo-400/20 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"text-sm font-bold text-indigo-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.dailyRecords")}),t.jsx("button",{onClick:()=>Ne(!je),className:"text-xs bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded hover:bg-indigo-500/30 transition-colors",children:je?y(e,"personalCenter.analysisSection.acoinAnalysis.collapse"):y(e,"personalCenter.analysisSection.acoinAnalysis.expand")})]}),je?t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:W.length>0?W.map((K,Pe)=>t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium text-indigo-400",children:new Date(K.timestamp).toLocaleDateString()}),t.jsxs("div",{className:"text-sm font-bold text-green-400",children:["+",K.amount.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"text-slate-400",children:[s==="zh"?"贡献分数":"Contribution Score",": ",t.jsx("span",{className:"text-yellow-400",children:K.contributionScore.toFixed(2)})]}),t.jsxs("div",{className:"text-slate-400",children:[s==="zh"?"总发放":"Total Distributed",": ",t.jsxs("span",{className:"text-blue-400",children:[K.totalDistributed.toFixed(2)," ",s==="zh"?"A币":"A Coin"]})]}),t.jsxs("div",{className:"text-slate-400",children:[y(e,"personalCenter.analysisSection.acoinAnalysis.contributors"),": ",t.jsx("span",{className:"text-purple-400",children:K.recipientsCount})]}),t.jsxs("div",{className:"text-slate-400",children:[y(e,"personalCenter.analysisSection.acoinAnalysis.share"),": ",t.jsxs("span",{className:"text-orange-400",children:[(K.amount/K.totalDistributed*100).toFixed(2),"%"]})]})]})]},Pe)):t.jsx("div",{className:"text-center py-4 text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.none")})}):t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.todayStatus")}),t.jsx("div",{className:"text-sm font-medium text-green-400",children:W.length>0&&new Date(W[0].timestamp).toDateString()===new Date().toDateString()?y(e,"personalCenter.analysisSection.acoinAnalysis.settled"):y(e,"personalCenter.analysisSection.acoinAnalysis.pending")})]}),t.jsx("div",{className:"mt-2 text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.autoTime")})]})]})]})]}),c==="blog"&&t.jsx("div",{children:t.jsx(jA,{})}),c==="wallet"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:"钱包管理"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:ye?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-green-500/10 border border-green-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💵"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.cash")}),t.jsxs("div",{className:"text-xl font-bold text-green-400",children:["¥",ye.cash.toFixed(2)]})]})}),t.jsx("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🪙"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.gameCoins")}),t.jsx("div",{className:"text-xl font-bold text-yellow-400",children:ye.gameCoins.toLocaleString()})]})}),t.jsx("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"⚡"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.computingPower")}),t.jsx("div",{className:"text-xl font-bold text-purple-400",children:ye.computingPower.toFixed(1)})]})}),t.jsx("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🅰️"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.aCoins")}),t.jsx("div",{className:"text-xl font-bold text-indigo-400",children:(ye.aCoins||0).toFixed(2)})]})}),t.jsx("div",{className:"bg-orange-500/10 border border-orange-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🔶"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.oCoins")}),t.jsx("div",{className:"text-xl font-bold text-orange-400",children:Ue.balance.toFixed(2)}),Ue.lockedBalance>0&&t.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[y(e,"personalCenter.walletSection.cards.locked"),": ",Ue.lockedBalance.toFixed(2)]})]})})]}):t.jsx("div",{className:"col-span-4 text-center text-slate-400",children:"加载钱包数据中..."})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>N(!0),className:"bg-green-500/20 border border-green-400/30 rounded-lg p-4 text-green-400 hover:bg-green-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💳"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.recharge.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.recharge.subtitle")})]}),t.jsxs("button",{onClick:()=>k(!0),className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-4 text-blue-400 hover:bg-blue-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🔄"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.exchange.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.exchange.subtitle")})]}),t.jsxs("button",{onClick:()=>ns(!0),className:"bg-orange-500/20 border border-orange-400/30 rounded-lg p-4 text-orange-400 hover:bg-orange-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💱"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.tradeOCoin.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.tradeOCoin.subtitle")})]})]}),t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-bold text-cyan-400 mb-4",children:["💰 ",y(e,"personalCenter.walletDetails.title")]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[t.jsxs("button",{onClick:()=>Ot("cash"),className:`p-3 rounded-lg border transition-all ${ie==="cash"?"bg-green-500/20 border-green-400/50 text-green-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"💵"}),t.jsx("div",{className:"text-sm font-medium",children:"现金"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Ot("gameCoin"),className:`p-3 rounded-lg border transition-all ${ie==="gameCoin"?"bg-yellow-500/20 border-yellow-400/50 text-yellow-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🪙"}),t.jsx("div",{className:"text-sm font-medium",children:"游戏币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Ot("computingPower"),className:`p-3 rounded-lg border transition-all ${ie==="computingPower"?"bg-purple-500/20 border-purple-400/50 text-purple-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"⚡"}),t.jsx("div",{className:"text-sm font-medium",children:"算力"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Ot("aCoins"),className:`p-3 rounded-lg border transition-all ${ie==="aCoins"?"bg-indigo-500/20 border-indigo-400/50 text-indigo-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🅰️"}),t.jsx("div",{className:"text-sm font-medium",children:"A币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")}),W.length>0&&new Date(W[0].timestamp).toDateString()===new Date().toDateString()&&t.jsx("div",{className:"mt-1 text-xs bg-green-500/30 text-green-400 px-1 py-0.5 rounded",children:"今日已结算"})]}),t.jsxs("button",{onClick:()=>Ot("oCoins"),className:`p-3 rounded-lg border transition-all ${ie==="oCoins"?"bg-orange-500/20 border-orange-400/50 text-orange-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🔶"}),t.jsx("div",{className:"text-sm font-medium",children:"O币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")}),pe.lastDividendDate&&new Date(pe.lastDividendDate).toDateString()===new Date().toDateString()&&t.jsx("div",{className:"mt-1 text-xs bg-green-500/30 text-green-400 px-1 py-0.5 rounded",children:"今日已分红"})]})]})]}),t.jsxs(t.Fragment,{children:[ie&&t.jsxs("div",{className:"mt-4 p-4 bg-black/20 rounded-lg border border-slate-500/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h5",{className:"text-sm font-medium text-white",children:[ie==="cash"&&`💵 ${y(e,"personalCenter.walletDetails.headers.cash")}`,ie==="gameCoin"&&`🪙 ${y(e,"personalCenter.walletDetails.headers.gameCoin")}`,ie==="computingPower"&&`⚡ ${y(e,"personalCenter.walletDetails.headers.computingPower")}`,ie==="aCoins"&&`🅰️ ${y(e,"personalCenter.walletDetails.headers.aCoins")}`,ie==="oCoins"&&`🔶 ${y(e,"personalCenter.walletDetails.headers.oCoins")}`]}),t.jsx("button",{onClick:()=>{M(null),Z([])},className:"text-gray-400 hover:text-white text-xs",children:y(e,"personalCenter.walletDetails.footer.collapse")})]}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:F.length>0?F.map((K,Pe)=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${K.type==="income"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:K.type==="income"?y(e,"personalCenter.walletDetails.tags.income"):y(e,"personalCenter.walletDetails.tags.expense")}),t.jsx("span",{className:"text-sm text-white",children:K.description})]}),t.jsx("div",{className:"text-xs text-gray-400",children:new Date(K.timestamp).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:`font-mono text-sm ${K.type==="income"?"text-green-400":"text-red-400"}`,children:[K.type==="income"?"+":"-",ie==="cash"&&"¥",K.amount,ie==="gameCoin"&&" 币",ie==="computingPower"&&" 算力",ie==="aCoins"&&" A币"]})})]},K.id||`wtx-${Pe}-${new Date(K.timestamp).getTime()}`)):t.jsxs("div",{className:"text-gray-400 text-center py-4 text-sm",children:[ie==="cash"&&y(e,"personalCenter.walletDetails.empty.cash"),ie==="gameCoin"&&y(e,"personalCenter.walletDetails.empty.gameCoin"),ie==="computingPower"&&y(e,"personalCenter.walletDetails.empty.computingPower"),ie==="aCoins"&&y(e,"personalCenter.walletDetails.empty.aCoins"),ie==="oCoins"&&y(e,"personalCenter.walletDetails.empty.oCoins")]})}),F.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-slate-600/30",children:t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[y(e,"personalCenter.walletDetails.footer.showRecentPrefix"),F.length,y(e,"personalCenter.walletDetails.footer.showRecentSuffix")]}),t.jsx("button",{className:"text-cyan-400 hover:text-cyan-300",children:y(e,"personalCenter.walletDetails.footer.more")})]})})]}),!ie&&t.jsxs("div",{className:"text-center py-6 text-gray-400",children:[t.jsx("div",{className:"text-2xl mb-2",children:"📊"}),t.jsx("div",{className:"text-sm",children:"点击上方货币类型查看收支明细"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-purple-400 mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2 animate-pulse"}),"📊 ",y(e,"personalCenter.right.globalData")]}),t.jsx(oe,{to:"/computing-dashboard",className:"text-xs bg-purple-500/20 border border-purple-400/30 rounded px-2 py-1 text-purple-400 hover:bg-purple-500/30 transition-all",children:y(e,"personalCenter.right.toComputing")})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-3",children:["🌐 ",y(e,"personalCenter.right.overview")]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.totalUsers")}),t.jsx("span",{className:"text-cyan-400 font-bold",children:L.totalUsers.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.onlineUsers")}),t.jsx("span",{className:"text-green-400 font-bold",children:L.onlineUsers.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.totalComputePower")}),t.jsxs("span",{className:"text-purple-400 font-bold",children:[L.totalComputePower,"M"]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.dailyTransactions")}),t.jsxs("span",{className:"text-yellow-400 font-bold",children:["₿ ",L.dailyTransactions.toLocaleString()]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinBalance")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:L.aCoinTotalSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinCirculating")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:L.aCoinCirculatingSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinHolders")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:L.aCoinHolders.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinCirculating")}),t.jsx("span",{className:"text-orange-400 font-bold",children:L.oCoinCirculatingSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinPrice")}),t.jsxs("span",{className:"text-orange-400 font-bold",children:["¥",L.oCoinPrice.toFixed(2)]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinMarketCap")}),t.jsxs("span",{className:"text-orange-400 font-bold",children:["¥",(L.oCoinMarketCap/1e4).toFixed(2),"万"]})]})})]})]})]})]})}),v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-green-400/30 rounded-lg p-6 w-96",children:[t.jsxs("h3",{className:"text-lg font-bold text-green-400 mb-4",children:["💳 ",y(e,"personalCenter.modals.recharge.title")]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.recharge.amountLabel")}),t.jsx("input",{type:"number",value:D,onChange:K=>z(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:y(e,"personalCenter.modals.recharge.amountPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.recharge.paymentLabel")}),t.jsxs("select",{className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.alipay")}),t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.wechat")}),t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.card")})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:st,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.recharge.confirm")}),t.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.recharge.cancel")})]})]})]})}),C&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-blue-400/30 rounded-lg p-6 w-96",children:[t.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:["🔄 ",y(e,"personalCenter.modals.exchange.title")]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.amountLabel")}),t.jsx("input",{type:"number",value:E,onChange:K=>G(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:y(e,"personalCenter.modals.exchange.amountPlaceholder")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.fromLabel")}),t.jsxs("select",{value:Y,onChange:K=>ne(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{value:"cash",children:y(e,"personalCenter.modals.exchange.options.cash")}),t.jsx("option",{value:"gameCoin",children:y(e,"personalCenter.modals.exchange.options.gameCoin")}),t.jsx("option",{value:"computingPower",children:y(e,"personalCenter.modals.exchange.options.computingPower")}),t.jsx("option",{value:"aCoins",children:y(e,"personalCenter.modals.exchange.options.aCoins")})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.toLabel")}),t.jsxs("select",{value:ee,onChange:K=>se(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{value:"cash",children:y(e,"personalCenter.modals.exchange.options.cash")}),t.jsx("option",{value:"gameCoin",children:y(e,"personalCenter.modals.exchange.options.gameCoin")}),t.jsx("option",{value:"computingPower",children:y(e,"personalCenter.modals.exchange.options.computingPower")}),t.jsx("option",{value:"aCoins",children:y(e,"personalCenter.modals.exchange.options.aCoins")})]})]})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded p-3",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.modals.exchange.ratesTitle")}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1 space-y-1",children:[t.jsxs("div",{children:["1 现金 = ",O.cashToGameCoin," 游戏币 = ",O.cashToComputingPower," 算力"]}),t.jsxs("div",{children:["1 A币 = ",O.aCoinToGameCoin," 游戏币"]}),t.jsx("div",{className:"text-yellow-400",children:y(e,"personalCenter.modals.exchange.ratesNote")})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:bt,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.exchange.confirm")}),t.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.exchange.cancel")})]})]})]})}),w&&_&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-blue-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:"💰 修改商品价格"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"text-2xl",children:zg(_.category)}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:_.name}),t.jsx("p",{className:"text-xs text-slate-400",children:_.description})]})]}),t.jsxs("div",{className:"text-sm text-slate-400",children:["当前价格: ",t.jsx("span",{className:"text-green-400 font-bold",children:_.price})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"新价格"}),t.jsx("input",{type:"number",value:B,onChange:K=>I(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:"请输入新的价格",min:"0.01",step:"0.01"})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded p-3",children:[t.jsx("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:"💡 价格建议"}),t.jsxs("div",{className:"text-xs text-slate-400",children:["• 合理定价有助于快速售出",t.jsx("br",{}),"• 可参考市场同类商品价格",t.jsx("br",{}),"• 价格修改后立即生效"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:sa,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition-colors",children:"确认修改"}),t.jsx("button",{onClick:()=>{T(!1),A(null),I("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:"取消"})]})]})]})}),Et&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-orange-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-orange-400 mb-4",children:jt==="buy"?`🔶 ${y(e,"personalCenter.modals.ocoin.titles.buy")}`:`🔶 ${y(e,"personalCenter.modals.ocoin.titles.sell")}`}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.modals.ocoin.market.currentPrice")}),t.jsxs("span",{className:"text-lg font-bold text-orange-400",children:["¥",pe.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.modals.ocoin.market.change24h")}),t.jsxs("span",{className:`font-medium ${pe.priceHistory.length>=2&&pe.priceHistory[pe.priceHistory.length-1].price>pe.priceHistory[pe.priceHistory.length-2].price?"text-green-400":"text-red-400"}`,children:[pe.priceHistory.length>=2?((pe.priceHistory[pe.priceHistory.length-1].price-pe.priceHistory[pe.priceHistory.length-2].price)/pe.priceHistory[pe.priceHistory.length-2].price*100).toFixed(2):"0.00","%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-xs text-slate-400 mb-1",children:y(e,"personalCenter.modals.ocoin.balances.cash")}),t.jsxs("div",{className:"text-sm font-bold text-green-400",children:["¥",(ye==null?void 0:ye.cash.toFixed(2))||"0.00"]})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-xs text-slate-400 mb-1",children:y(e,"personalCenter.modals.ocoin.balances.ocoin")}),t.jsx("div",{className:"text-sm font-bold text-orange-400",children:Ue.balance.toFixed(2)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:jt==="buy"?y(e,"personalCenter.modals.ocoin.quantity.buyLabel"):y(e,"personalCenter.modals.ocoin.quantity.sellLabel")}),t.jsx("input",{type:"number",value:It,onChange:K=>yt(K.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:jt==="buy"?y(e,"personalCenter.modals.ocoin.quantity.buyPlaceholder"):y(e,"personalCenter.modals.ocoin.quantity.sellPlaceholder"),min:"0.01",step:"0.01"})]}),It&&parseFloat(It)>0&&t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-orange-400 font-medium mb-2",children:y(e,"personalCenter.modals.ocoin.preview.title")}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.qty")}),t.jsxs("span",{className:"text-xs text-white",children:[parseFloat(It).toFixed(2)," O币"]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.unitPrice")}),t.jsxs("span",{className:"text-xs text-white",children:["¥",pe.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-600/30",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.total")}),t.jsxs("span",{className:"text-sm font-bold text-orange-400",children:["¥",(parseFloat(It)*pe.currentPrice).toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded p-3",children:[t.jsxs("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:["💡 ",y(e,"personalCenter.modals.ocoin.tips.title")]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[y(e,"personalCenter.modals.ocoin.tips.line1"),t.jsx("br",{}),y(e,"personalCenter.modals.ocoin.tips.line2"),t.jsx("br",{}),y(e,"personalCenter.modals.ocoin.tips.line3")]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:Ce,className:`flex-1 ${jt==="buy"?"bg-green-500 hover:bg-green-600":"bg-orange-500 hover:bg-orange-600"} text-white py-2 rounded transition-colors`,children:jt==="buy"?y(e,"personalCenter.modals.ocoin.actions.confirmBuy"):y(e,"personalCenter.modals.ocoin.actions.confirmSell")}),t.jsx("button",{onClick:()=>ns(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.ocoin.actions.cancel")})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:()=>Pt(jt==="buy"?"sell":"buy"),className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:jt==="buy"?y(e,"personalCenter.modals.ocoin.actions.toggleToSell"):y(e,"personalCenter.modals.ocoin.actions.toggleToBuy")})})]})]})})]})};function CA(){const[s,e]=j.useState([]),[r,n]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(""),[m,p]=j.useState("all"),[f,x]=j.useState("date"),[v,N]=j.useState(!1),[C,k]=j.useState([]),{balance:w,refreshWalletData:T}=jd(),{lang:_}=hs(),A=Ps(_);j.useEffect(()=>{const E=async()=>{try{const[Y,ne]=await Promise.all([ws.getMarketItems(),ws.getMarketStats()]);e(Y),n(ne),await B(),await T()}catch(Y){console.error("加载市场数据失败:",Y)}finally{l(!1)}};E();const G=setInterval(E,1e4);return()=>clearInterval(G)},[T]);const B=async()=>{try{const E="current-user-id";let G=await ws.getUserInventory(E);if(G.length===0){const Y=[{id:"starter_1",name:"新手之剑",description:"适合新手使用的基础武器，攻击力+15",category:"weapon",rarity:"common",price:0,sellerId:"",sellerName:"",listedAt:new Date(Date.now()-2592e5),views:0,gameSource:"系统赠送"},{id:"starter_2",name:"生命药水",description:"恢复50点生命值的药水",category:"consumable",rarity:"common",price:0,sellerId:"",sellerName:"",listedAt:new Date(Date.now()-864e5),views:0,gameSource:"系统赠送"}];G=Y;for(const ne of Y)await ws.addItemToUserInventory(E,ne)}k(G)}catch(E){console.error("加载用户库存失败:",E)}},I=async E=>{const G=s.find(Z=>Z.id===E);if(!G||!w)return;const Y=G.currency||"computingPower",ne={computing:y(A,"marketplace.list.currencyNames.computing"),computingPower:y(A,"marketplace.list.currencyNames.computing"),cash:y(A,"marketplace.list.currencyNames.cash"),gameCoins:y(A,"marketplace.list.currencyNames.gameCoins"),aCoins:y(A,"marketplace.list.currencyNames.aCoins")},ee=Math.round(G.price*.01*100)/100,se=Math.round((G.price+ee)*100)/100;let ie=!1,M=0;switch(Y){case"gameCoins":ie=w.gameCoins>=se,M=w.gameCoins;break;case"computingPower":ie=w.computingPower>=se,M=w.computingPower;break;case"cash":ie=w.cash>=se,M=w.cash;break;case"aCoins":ie=w.aCoins>=se,M=w.aCoins;break}if(!ie){alert(`余额不足！

商品价格: ${G.price.toLocaleString()} ${ne[Y]}
平台佣金: ${ee.toLocaleString()} ${ne[Y]} (1%)
实际需要: ${se.toLocaleString()} ${ne[Y]}

当前${ne[Y]}余额: ${M.toLocaleString()}`);return}const F=`确认购买 "${G.name}"？

商品价格: ${G.price.toLocaleString()} ${ne[Y]}
平台佣金: ${ee.toLocaleString()} ${ne[Y]} (1%)
实际支付: ${se.toLocaleString()} ${ne[Y]}
稀有度: ${G.rarity}

购买后道具将添加到您的库存中。`;if(confirm(F))try{await ws.purchaseItem(E,"current-user-id"),await T();const Z=await ws.getMarketItems();e(Z),alert(`购买成功！

"${G.name}" 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${G.price.toLocaleString()} ${ne[Y]}
平台佣金: ${ee.toLocaleString()} ${ne[Y]}
实际支付: ${se.toLocaleString()} ${ne[Y]}`)}catch(Z){console.error("购买失败:",Z),alert("购买失败，请稍后重试")}},D=async(E,G,Y)=>{try{const ne=C.find(F=>F.id===E);if(!ne){alert("道具不存在");return}const ee={computing:y(A,"marketplace.list.currencyNames.computing"),computingPower:y(A,"marketplace.list.currencyNames.computing"),cash:y(A,"marketplace.list.currencyNames.cash"),gameCoins:y(A,"marketplace.list.currencyNames.gameCoins"),aCoins:y(A,"marketplace.list.currencyNames.aCoins")},se=await ws.createListing({name:ne.name,description:ne.description,category:ne.category,rarity:ne.rarity,price:G,currency:Y,sellerId:"current-user-id",sellerName:"当前用户",gameSource:ne.gameSource,originalItemId:E}),ie=C.filter(F=>F.id!==E);k(ie);const M=await ws.getMarketItems();e(M),alert(`成功发布商品 "${ne.name}"，售价 ${G} ${ee[Y]}`),N(!1)}catch(ne){console.error("发布商品失败:",ne),alert("发布商品失败，请稍后重试")}},z=s.filter(E=>(m==="all"||E.category===m)&&(c===""||E.name.toLowerCase().includes(c.toLowerCase()))).sort((E,G)=>{switch(f){case"price":return E.price-G.price;case"date":return new Date(G.listedAt).getTime()-new Date(E.listedAt).getTime();case"popularity":return G.views-E.views;default:return 0}});return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(A,"marketplace.loading")})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(A,"marketplace.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(A,"marketplace.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[w&&t.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[y(A,"marketplace.header.walletLabel"),":"]}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.cash.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.aCoins.toLocaleString()})]})]})]}),t.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 text-sm font-medium bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:y(A,"marketplace.header.publish")}),t.jsx(oe,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:y(A,"marketplace.header.personalCenter")}),t.jsx(oe,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:y(A,"marketplace.header.computingCenter")}),t.jsx(oe,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(A,"marketplace.header.backHome")})]})]}),w&&t.jsxs("div",{className:"md:hidden mt-4",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center mb-2",children:y(A,"marketplace.header.walletLabel")}),t.jsxs("div",{className:"flex items-center justify-center gap-4 px-4 py-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.computingPower.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.cash.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.aCoins.toLocaleString()})]})]})]})]})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-store text-purple-600 dark:text-purple-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(A,"marketplace.stats.onSale")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.totalListings.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-handshake text-green-600 dark:text-green-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(A,"marketplace.stats.today")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.dailyTransactions.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-coins text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(A,"marketplace.stats.total")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.totalVolume.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-chart-line text-orange-600 dark:text-orange-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(A,"marketplace.stats.avgPrice")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.averagePrice.toFixed(0)})]})]})})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:y(A,"marketplace.search.placeholder"),value:c,onChange:E=>u(E.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{value:m,onChange:E=>p(E.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"all",children:y(A,"marketplace.search.categories.all")}),t.jsx("option",{value:"weapon",children:y(A,"marketplace.search.categories.weapon")}),t.jsx("option",{value:"armor",children:y(A,"marketplace.search.categories.armor")}),t.jsx("option",{value:"consumable",children:y(A,"marketplace.search.categories.consumable")}),t.jsx("option",{value:"material",children:y(A,"marketplace.search.categories.material")}),t.jsx("option",{value:"rare",children:y(A,"marketplace.search.categories.rare")})]}),t.jsxs("select",{value:f,onChange:E=>x(E.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"date",children:y(A,"marketplace.search.sort.date")}),t.jsx("option",{value:"price",children:y(A,"marketplace.search.sort.price")}),t.jsx("option",{value:"popularity",children:y(A,"marketplace.search.sort.popularity")})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:z.map(E=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${TA(E.category)} text-4xl text-slate-400 dark:text-slate-500`})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:E.name}),t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_v(E.rarity)}`,children:E.rarity})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:E.description}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[E.price.toLocaleString()," ",E.currency==="cash"?y(A,"marketplace.list.currencyNames.cash"):E.currency==="gameCoins"?y(A,"marketplace.list.currencyNames.gameCoins"):E.currency==="aCoins"?y(A,"marketplace.list.currencyNames.aCoins"):y(A,"marketplace.list.currencyNames.computing")]}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[E.views," ",y(A,"marketplace.list.views")]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[y(A,"marketplace.list.seller"),": ",E.sellerName]}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(E.listedAt).toLocaleDateString()})]}),t.jsx("button",{onClick:()=>I(E.id),className:`w-full px-4 py-2 rounded-lg transition-colors font-medium ${(()=>{if(!w)return"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed";const G=E.currency||"computingPower";let Y=!1;switch(G){case"gameCoins":Y=w.gameCoins>=E.price;break;case"cash":Y=w.cash>=E.price;break;case"computingPower":Y=w.computingPower>=E.price;break;case"aCoins":Y=w.aCoins>=E.price;break}return Y?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"})()}`,disabled:(()=>{if(!w)return!0;switch(E.currency||"computingPower"){case"gameCoins":return w.gameCoins<E.price;case"cash":return w.cash<E.price;case"computingPower":return w.computingPower<E.price;case"aCoins":return w.aCoins<E.price;default:return!0}})(),children:(()=>{if(!w)return"余额不足";const G=E.currency||"computingPower";let Y=!1;switch(G){case"gameCoins":Y=w.gameCoins>=E.price;break;case"cash":Y=w.cash>=E.price;break;case"computingPower":Y=w.computingPower>=E.price;break;case"aCoins":Y=w.aCoins>=E.price;break}return Y?y(A,"marketplace.list.buyNow"):y(A,"marketplace.list.insufficient")})()}),w&&t.jsx("div",{className:"mt-2 text-xs text-center",children:(()=>{const G=E.currency||"computingPower",Y={computing:"fa-microchip",computingPower:"fa-microchip",cash:"fa-dollar-sign",gameCoins:"fa-coins",aCoins:"fa-a"},ne={computing:y(A,"marketplace.list.currencyNames.computing"),computingPower:y(A,"marketplace.list.currencyNames.computing"),cash:y(A,"marketplace.list.currencyNames.cash"),gameCoins:y(A,"marketplace.list.currencyNames.gameCoins"),aCoins:y(A,"marketplace.list.currencyNames.aCoins")},ee={computing:"text-blue-600 dark:text-blue-400",computingPower:"text-blue-600 dark:text-blue-400",cash:"text-green-600 dark:text-green-400",gameCoins:"text-yellow-600 dark:text-yellow-400",aCoins:"text-purple-600 dark:text-purple-400"};let se=!1;switch(G){case"gameCoins":se=w.gameCoins>=E.price;break;case"cash":se=w.cash>=E.price;break;case"computingPower":se=w.computingPower>=E.price;break;case"aCoins":se=w.aCoins>=E.price;break}return se?t.jsxs("span",{className:ee[G],children:[t.jsx("i",{className:`fa-solid ${Y[G]} mr-1`}),A.marketplace.list.canBuyWith(ne[G])]}):t.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[t.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),A.marketplace.list.insufficientWith(ne[G])]})})()})]})]},E.id))}),z.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"fa-solid fa-search text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(A,"marketplace.list.empty")})]})]}),v&&t.jsx(SA,{userInventory:C,onClose:()=>N(!1),onListItem:D})]})}function SA({userInventory:s,onClose:e,onListItem:r}){const{lang:n}=hs(),o=Ps(n),[l,c]=j.useState(""),[u,m]=j.useState(100),[p,f]=j.useState("computingPower"),x=N=>{if(N.preventDefault(),!l){alert("请选择要发布的道具");return}if(u<=0){alert("价格必须大于0");return}r(l,u,p)},v=s;return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:y(o,"marketplace.modal.title")}),t.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:t.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),v.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"fa-solid fa-box-open text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:y(o,"marketplace.modal.noItemsTitle")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(o,"marketplace.modal.noItemsDesc")})]}):t.jsxs("form",{onSubmit:x,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:y(o,"marketplace.modal.selectItem")}),t.jsxs("select",{value:l,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",required:!0,children:[t.jsx("option",{value:"",children:y(o,"marketplace.modal.optionPlaceholder")}),v.map(N=>t.jsxs("option",{value:N.id,children:[N.name," (",N.rarity,")"]},N.id))]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:y(o,"marketplace.modal.currencyType")}),t.jsxs("select",{value:p,onChange:N=>f(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"computingPower",children:y(o,"marketplace.list.currencyNames.computing")}),t.jsx("option",{value:"cash",children:y(o,"marketplace.list.currencyNames.cash")}),t.jsx("option",{value:"gameCoins",children:y(o,"marketplace.list.currencyNames.gameCoins")}),t.jsx("option",{value:"aCoins",children:y(o,"marketplace.list.currencyNames.aCoins")})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y(o,"marketplace.modal.priceLabel")," (",p==="computingPower"?y(o,"marketplace.list.currencyNames.computing"):p==="cash"?y(o,"marketplace.list.currencyNames.cash"):p==="aCoins"?y(o,"marketplace.list.currencyNames.aCoins"):y(o,"marketplace.list.currencyNames.gameCoins"),")"]}),t.jsx("input",{type:"number",value:u,onChange:N=>m(Number(N.target.value)),min:"1",step:p==="cash"?"0.01":"1",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",required:!0})]}),l&&t.jsx("div",{className:"mb-4 p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:(()=>{const N=v.find(C=>C.id===l);return N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-medium",children:N.name}),t.jsx("div",{children:N.description}),t.jsx("div",{className:"mt-1",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_v(N.rarity)}`,children:N.rarity})})]}):null})()})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-200 dark:bg-slate-600 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:y(o,"marketplace.modal.cancel")}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:y(o,"marketplace.modal.submit")})]})]})]})})}function TA(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"rare":return"fa-star";default:return"fa-box"}}function _v(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}var ms=(s=>(s.PROPS="props",s.COMPUTING_POWER="computing_power",s.RECHARGE="recharge",s.MEMBERSHIP="membership",s.BUNDLE="bundle",s.SPECIAL="special",s))(ms||{}),tt=(s=>(s.REAL_MONEY="real_money",s.GAME_COINS="game_coins",s.COMPUTING_POWER="computing_power",s.A_COINS="a_coins",s))(tt||{});class AA{constructor(){ze(this,"items",[]);ze(this,"categories",[]);ze(this,"purchaseHistory",[]);ze(this,"userPurchases",new Map);ze(this,"commissionRate",.15);this.initializeCategories(),this.initializeMockItems()}calculateCommission(e){const r=Math.round(e*this.commissionRate*100)/100,n=Math.round((e+r)*100)/100;return{commission:r,totalAmount:n}}initializeCategories(){this.categories=[{id:"props",name:"游戏道具",type:ms.PROPS,icon:"fa-magic",description:"各种游戏道具和装备",order:1},{id:"computing",name:"算力商店",type:ms.COMPUTING_POWER,icon:"fa-microchip",description:"购买算力提升收益",order:2},{id:"recharge",name:"充值中心",type:ms.RECHARGE,icon:"fa-credit-card",description:"游戏币充值服务",order:3},{id:"membership",name:"会员特权",type:ms.MEMBERSHIP,icon:"fa-crown",description:"VIP会员和特权服务",order:4},{id:"bundle",name:"超值礼包",type:ms.BUNDLE,icon:"fa-gift",description:"限时优惠组合礼包",order:5},{id:"special",name:"限时特惠",type:ms.SPECIAL,icon:"fa-fire",description:"限时特价商品",order:6}]}initializeMockItems(){const e=new Date;this.items=[{id:"prop_001",name:"传说宝箱",description:"开启后必得传说级道具，还有机会获得稀有皮肤",type:ms.PROPS,category:"props",prices:[{method:tt.REAL_MONEY,amount:9.99},{method:tt.GAME_COINS,amount:1e3}],stock:100,dailyLimit:3,tags:["热门","限量"],rewards:[{type:"props",amount:1,itemName:"随机传说道具"}],icon:"fa-treasure-chest",rarity:"legendary",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"prop_002",name:"经验加速器",description:"使用后1小时内经验获得翻倍",type:ms.PROPS,category:"props",prices:[{method:tt.GAME_COINS,amount:200},{method:tt.COMPUTING_POWER,amount:500}],stock:-1,dailyLimit:5,tags:["实用"],rewards:[{type:"props",amount:1,itemName:"经验加速器"}],icon:"fa-rocket",rarity:"rare",featured:!1,popular:!0,createdAt:e,updatedAt:e},{id:"prop_003",name:"A币礼包",description:"购买后可获得A币",type:ms.PROPS,category:"props",prices:[{method:tt.A_COINS,amount:10}],stock:100,dailyLimit:1,tags:["稀有"],rewards:[{type:"a_coins",amount:10}],icon:"fa-coins",rarity:"epic",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"power_001",name:"算力包 - 小",description:"立即获得1000算力，提升挖矿收益",type:ms.COMPUTING_POWER,category:"computing",prices:[{method:tt.REAL_MONEY,amount:4.99}],stock:-1,tags:["推荐"],rewards:[{type:"computing_power",amount:1e3}],icon:"fa-microchip",featured:!0,popular:!1,createdAt:e,updatedAt:e},{id:"power_002",name:"算力包 - 大",description:"立即获得5000算力，超值优惠",type:ms.COMPUTING_POWER,category:"computing",prices:[{method:tt.REAL_MONEY,amount:19.99,originalAmount:24.99}],discount:20,stock:-1,tags:["超值","推荐"],rewards:[{type:"computing_power",amount:5e3},{type:"game_coins",amount:500}],icon:"fa-microchip",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"recharge_001",name:"游戏币 - 基础包",description:"获得1000游戏币",type:ms.RECHARGE,category:"recharge",prices:[{method:tt.REAL_MONEY,amount:.99}],stock:-1,tags:["新手推荐"],rewards:[{type:"game_coins",amount:1e3}],icon:"fa-coins",featured:!1,popular:!1,createdAt:e,updatedAt:e},{id:"recharge_002",name:"游戏币 - 超值包",description:"获得10000游戏币，首充双倍",type:ms.RECHARGE,category:"recharge",prices:[{method:tt.REAL_MONEY,amount:9.99}],stock:-1,userLimit:1,tags:["首充","双倍"],rewards:[{type:"game_coins",amount:2e4}],icon:"fa-coins",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"vip_001",name:"VIP月卡",description:"30天VIP特权，每日领取奖励，专属客服",type:ms.MEMBERSHIP,category:"membership",prices:[{method:tt.REAL_MONEY,amount:12.99}],stock:-1,tags:["特权","每日奖励"],rewards:[{type:"vip_days",amount:30},{type:"game_coins",amount:1e3}],icon:"fa-crown",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"bundle_001",name:"新手大礼包",description:"包含算力、游戏币、道具的超值组合",type:ms.BUNDLE,category:"bundle",prices:[{method:tt.REAL_MONEY,amount:6.99,originalAmount:15.99}],discount:56,stock:500,userLimit:1,tags:["新手","限购","超值"],rewards:[{type:"computing_power",amount:2e3},{type:"game_coins",amount:3e3},{type:"props",amount:3,itemName:"随机稀有道具"}],icon:"fa-gift",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"special_001",name:"闪购特惠 - 算力暴击",description:"限时24小时，算力获得率提升200%",type:ms.SPECIAL,category:"special",prices:[{method:tt.REAL_MONEY,amount:2.99,originalAmount:9.99}],discount:70,stock:100,dailyLimit:1,endTime:new Date(Date.now()+864e5),tags:["限时","闪购","暴击"],rewards:[{type:"props",amount:1,itemName:"算力暴击卡(24h)"}],icon:"fa-bolt",featured:!0,popular:!0,createdAt:e,updatedAt:e}]}async getCategories(){return[...this.categories].sort((e,r)=>e.order-r.order)}async getItems(e){let r=[...this.items];return e&&e!=="all"&&(r=r.filter(n=>n.category===e)),r.sort((n,o)=>n.featured!==o.featured?n.featured?-1:1:n.popular!==o.popular?n.popular?-1:1:o.createdAt.getTime()-n.createdAt.getTime())}async getFeaturedItems(){return this.items.filter(e=>e.featured).slice(0,6)}async getPopularItems(){return this.items.filter(e=>e.popular).slice(0,8)}async purchaseItem(e,r,n,o=1){const l=this.items.find(w=>w.id===e);if(!l)throw new Error("商品不存在");if(l.stock!==void 0&&l.stock!==-1&&l.stock<o)throw new Error("库存不足");const c=this.userPurchases.get(r)||[],u=c.filter(w=>w.itemId===e&&new Date(w.timestamp).toDateString()===new Date().toDateString());if(l.dailyLimit&&u.length>=l.dailyLimit)throw new Error(`每日限购${l.dailyLimit}个`);const m=c.filter(w=>w.itemId===e).length;if(l.userLimit&&m>=l.userLimit)throw new Error(`用户限购${l.userLimit}个`);const p=l.prices.find(w=>w.method===n);if(!p)throw new Error("不支持的支付方式");const f=p.amount*o,{commission:x,totalAmount:v}=this.calculateCommission(f);if(n===tt.REAL_MONEY&&x>0)try{await gt.recordCommissionIncome(`official_store_${Date.now()}`,x,"cash","official_store",r)}catch(w){console.error("记录官方商店佣金失败:",w)}const N=n===tt.REAL_MONEY?"cash":n===tt.GAME_COINS?"gameCoins":n===tt.A_COINS?"aCoins":"computingPower";try{await et.addTransaction({type:"expense",amount:f,currency:N,description:`官方商店购买: ${l.name}`,category:"purchase"}),x>0&&await et.addTransaction({type:"expense",amount:x,currency:N,description:`官方商店购买佣金 - ${l.name} (15%)`,category:"commission"})}catch(w){console.error("记录用户购买和佣金支付失败:",w)}const C={id:`purchase_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:r,itemId:e,itemName:l.name,paymentMethod:n,amount:f,commission:x,totalAmount:v,rewards:l.rewards.map(w=>({...w,amount:w.amount*o})),timestamp:new Date,status:"completed"};if(l.stock!==void 0&&l.stock!==-1&&(l.stock-=o),l.type===ms.PROPS)try{const w={id:`owned_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:l.name,description:l.description,category:this.mapStoreItemToMarketCategory(l.category),rarity:l.rarity||"common",price:0,sellerId:"official-store",sellerName:"官方商店",listedAt:new Date,views:0,gameSource:"官方商店"};await ws.addItemToUserInventory(r,w)}catch(w){console.error("添加道具到用户库存失败:",w)}this.purchaseHistory.push(C);const k=this.userPurchases.get(r)||[];k.push(C),this.userPurchases.set(r,k);try{await ws.recordOfficialStorePurchase(r,l.name,l.description,f,x,v,n),console.log("官方商店购买记录已同步到交易系统")}catch(w){console.error("同步官方商店购买记录失败:",w)}return C}async getStoreStats(){const e=new Date().toDateString(),r=this.purchaseHistory.filter(u=>new Date(u.timestamp).toDateString()===e).length,n=this.purchaseHistory.filter(u=>u.paymentMethod===tt.REAL_MONEY).reduce((u,m)=>u+m.amount,0),o=this.items.filter(u=>u.popular).slice(0,5),l=[...this.purchaseHistory].sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()).slice(0,10),c=this.categories.map(u=>{const m=this.items.filter(x=>x.category===u.id),p=this.purchaseHistory.filter(x=>m.some(v=>v.id===x.itemId)),f=p.filter(x=>x.paymentMethod===tt.REAL_MONEY).reduce((x,v)=>x+v.amount,0);return{category:u.name,itemCount:m.length,salesCount:p.length,revenue:f}});return{totalItems:this.items.length,dailySales:r,totalRevenue:n,popularItems:o,recentPurchases:l,categoryStats:c}}mapStoreItemToMarketCategory(e){switch(e){case"props":return"consumable";case"computing":return"material";case"recharge":return"material";case"membership":return"rare";case"bundle":return"rare";case"special":return"rare";default:return"consumable"}}async getUserPurchaseHistory(e){const r=this.userPurchases.get(e)||[],n=r.reduce((u,m)=>{switch(m.paymentMethod){case tt.REAL_MONEY:u.realMoney+=m.amount;break;case tt.GAME_COINS:u.gameCoins+=m.amount;break;case tt.COMPUTING_POWER:u.computingPower+=m.amount;break;case tt.A_COINS:u.aCoins+=m.amount;break}return u},{realMoney:0,gameCoins:0,computingPower:0,aCoins:0}),o=[...r].sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()).slice(0,20),l=r.map(u=>u.itemId),c=this.items.filter(u=>l.includes(u.id));return{totalPurchases:r.length,totalSpent:n,recentPurchases:o,ownedItems:c}}}const Mc=new AA;function _A(){const{lang:s}=hs(),e=Ps(s),[r,n]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState([]),[m,p]=j.useState("all"),{balance:f,refreshWalletData:x}=jd(),[v,N]=j.useState(!0),[C,k]=j.useState("");j.useEffect(()=>{w()},[m]);const w=async()=>{try{N(!0);const[D,z,E]=await Promise.all([Mc.getItems(m),Mc.getCategories(),Mc.getFeaturedItems()]);n(D),l(z),u(E)}catch(D){console.error("加载商店数据失败:",D)}finally{N(!1)}},T=async(D,z)=>{if(!f){alert("钱包信息加载中，请稍候...");return}try{const E=D.prices.find(se=>se.method===z);if(!E){alert("不支持的支付方式");return}let G=!1,Y="";switch(z){case tt.REAL_MONEY:G=f.cash>=E.amount,Y=`¥${E.amount}`;break;case tt.GAME_COINS:G=f.gameCoins>=E.amount,Y=`${E.amount} 游戏币`;break;case tt.COMPUTING_POWER:G=f.computingPower>=E.amount,Y=`${E.amount} 算力`;break;case tt.A_COINS:G=f.aCoins>=E.amount,Y=`${E.amount} A币`;break}if(!G){alert(`余额不足！需要 ${Y}`);return}const ne=`确认购买 "${D.name}"？

价格: ${Y}

奖励:
${D.rewards.map(se=>`• ${se.amount} ${_(se.type)}`).join(`
`)}`;if(!confirm(ne))return;const ee=await Mc.purchaseItem(D.id,"current-user-id",z);await x(),await w(),alert(`购买成功！

获得奖励:
${ee.rewards.map(se=>`• ${se.amount} ${_(se.type)}`).join(`
`)}`)}catch(E){alert(`购买失败: ${E.message}`)}},_=D=>{switch(D){case"game_coins":return"游戏币";case"computing_power":return"算力";case"props":return"道具";case"vip_days":return"天VIP";case"a_coins":return"A币";default:return D}},A=D=>{switch(D){case tt.REAL_MONEY:return"现金";case tt.GAME_COINS:return"游戏币";case tt.COMPUTING_POWER:return"算力";case tt.A_COINS:return"A币";default:return D}},B=(D,z)=>{const E=D.prices.find(G=>G.method===z);if(!E||!f)return!1;switch(z){case tt.REAL_MONEY:return f.cash>=E.amount;case tt.GAME_COINS:return f.gameCoins>=E.amount;case tt.COMPUTING_POWER:return f.computingPower>=E.amount;case tt.A_COINS:return f.aCoins>=E.amount;default:return!1}},I=r.filter(D=>C===""||D.name.toLowerCase().includes(C.toLowerCase()));return v?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载官方商店数据中..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(e,"store.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(e,"store.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"hidden md:flex items-center gap-4 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-wallet text-green-600 dark:text-green-400"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["¥",(f==null?void 0:f.cash.toFixed(2))??"0.00"]})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.gameCoins.toLocaleString())??"0"})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.computingPower.toLocaleString())??"0"})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.aCoins.toLocaleString())??"0"})]})]}),t.jsx(oe,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:y(e,"store.header.personalCenter")}),t.jsx(oe,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(e,"store.header.backHome")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:y(e,"store.featured.title")}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(D=>t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl p-6 text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-bl-lg text-sm font-bold",children:y(e,"store.featured.badge")}),t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("i",{className:`fa-solid ${D.icon} text-3xl`}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:D.name}),t.jsx("p",{className:"text-purple-100 text-sm",children:D.description})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[D.prices[0].method===tt.REAL_MONEY?"¥":"",D.prices[0].amount,D.prices[0].method===tt.GAME_COINS?" 币":"",D.prices[0].method===tt.COMPUTING_POWER?" 算力":"",D.prices[0].method===tt.A_COINS?" A币":""]}),t.jsx("button",{onClick:()=>T(D,D.prices[0].method),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors",children:y(e,"store.featured.buyNow")})]})]},D.id))})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="all"?"bg-purple-600 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-purple-50 dark:hover:bg-slate-700"}`,children:y(e,"store.categories.all")}),o.map(D=>t.jsxs("button",{onClick:()=>p(D.id),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${m===D.id?"bg-purple-600 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-purple-50 dark:hover:bg-slate-700"}`,children:[t.jsx("i",{className:`fa-solid ${D.icon}`}),D.name]},D.id))]})}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:y(e,"store.search.placeholder"),value:C,onChange:D=>k(D.target.value),className:"w-full max-w-md px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(D=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${D.icon} text-4xl text-slate-400 dark:text-slate-500`})}),t.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:D.tags.map(z=>t.jsx("span",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:z},z))}),D.discount&&t.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",D.discount,"%"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:D.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:D.description}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:y(e,"store.rewards.title")}),t.jsx("div",{className:"flex flex-wrap gap-1",children:D.rewards.map((z,E)=>t.jsxs("span",{className:"px-2 py-1 text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:[z.amount," ",_(z.type)]},E))})]}),t.jsx("div",{className:"space-y-2",children:D.prices.map((z,E)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[z.method===tt.REAL_MONEY?"¥":"",z.amount,z.method===tt.GAME_COINS?" 币":"",z.method===tt.COMPUTING_POWER?" 算力":"",z.method===tt.A_COINS?" A币":""]}),z.originalAmount&&t.jsx("span",{className:"text-sm text-slate-400 line-through",children:z.originalAmount})]}),t.jsx("button",{onClick:()=>T(D,z.method),disabled:!B(D,z.method),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${B(D,z.method)?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,children:e.store.purchase.buyWith(A(z.method))})]},E))}),t.jsxs("div",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:[D.stock!==-1&&t.jsxs("div",{children:[y(e,"store.purchase.stock"),": ",D.stock]}),D.dailyLimit&&t.jsxs("div",{children:[y(e,"store.purchase.dailyLimit"),": ",D.dailyLimit]}),D.userLimit&&t.jsxs("div",{children:[y(e,"store.purchase.userLimit"),": ",D.userLimit]}),D.endTime&&t.jsxs("div",{className:"text-red-500",children:[y(e,"store.purchase.deadline"),": ",D.endTime.toLocaleDateString()]})]})]})]},D.id))}),I.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"fa-solid fa-store text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(e,"store.purchase.empty")})]})]})]})}class DA{constructor(){ze(this,"COMMISSION_RATES",{game_store:.3,player_market:.05,official_store:.15});ze(this,"CURRENCY_EXCHANGE_RATES",{gameCoinsToRMB:.01,computingToRMB:.1,aCoinToRMB:1,cashToGameCoins:100,cashToComputing:10})}async processGameStorePurchase(e,r,n){const o=this.generateTransactionId("GSP");try{console.log(`开始处理游戏商城购买交易: ${o}`,{userId:e,orderId:r.id,totalAmount:r.totalAmount,paymentCurrency:n,items:r.items.length});const l=r.totalAmount,c=this.COMMISSION_RATES.game_store,u=l*c,m=l+u;console.log("费用明细计算:",{itemAmount:l,commissionRate:c,commissionAmount:u,totalPayment:m});const p=await et.getBalance();if(p[n]<m)throw new Error(`余额不足！当前${this.getCurrencyName(n)}余额: ${p[n]}, 需要支付: ${m} (商品: ${l} + 佣金: ${u})`);const f=await this.deductFromWallet(e,l,n,`游戏商城购买 - 订单${r.id}`,r.id);console.log("商品费用扣款完成:",f);const x=await this.deductFromWallet(e,u,n,`平台佣金 - 订单${r.id} (${(c*100).toFixed(1)}%)`,r.id);console.log("平台佣金扣款完成:",x);const v=await this.recordCommissionToFundPool(o,u,n,"game_store",e,l);return console.log("资金池佣金记录完成:",v),await this.updateEconomicCenterData({type:"purchase",userId:e,amount:m,currency:n,source:"game_store",commission:u}),this.emitEconomicEvent("game_store_purchase",{transactionId:o,userId:e,orderId:r.id,amount:m,currency:n,commission:u,timestamp:new Date}),{success:!0,transactionId:o,walletTransaction:f,commissionTransaction:x,fundPoolTransaction:v,totalPayment:m,itemAmount:l,commissionAmount:u,message:`购买成功！商品费用: ${l}${this.getCurrencyName(n)}，平台佣金: ${u}${this.getCurrencyName(n)}，总计: ${m}${this.getCurrencyName(n)}`}}catch(l){throw console.error(`游戏商城购买交易失败 ${o}:`,l),await gt.recordExpense(0,"cash","refund",`游戏商城购买失败退款 - 交易${o}`,o),new Error(`购买失败: ${l instanceof Error?l.message:"未知错误"}`)}}async processPlayerMarketTransaction(e,r,n,o,l){const c=this.generateTransactionId("PMT");try{const u=this.COMMISSION_RATES.player_market,m=n*u,p=n-m,f=await this.deductFromWallet(e,n,o,`玩家市场购买 - 物品${l}`,l),x=await this.creditToWallet(r,p,o,`玩家市场销售 - 物品${l}`,l),v=await this.recordCommissionToFundPool(c,m,o,"player_market",e,n);return await this.updateEconomicCenterData({type:"trade",userId:e,amount:n,currency:o,source:"player_market",commission:m}),{success:!0,transactionId:c,buyerTransaction:f,sellerTransaction:x,fundPoolTransaction:v}}catch(u){throw console.error(`玩家市场交易失败 ${c}:`,u),u}}async processGameReward(e,r,n,o){const l=this.generateTransactionId("GRW"),c=[];try{if(console.log(`处理游戏奖励 ${l}:`,{userId:e,computingPower:r,gameCoins:n,gameId:o}),r>0){const u=await this.creditToWallet(e,r,"computing",`游戏奖励获得算力${o?` - 游戏${o}`:""}`,o);c.push(u)}if(n>0){const u=await this.creditToWallet(e,n,"gameCoins",`游戏奖励获得游戏币${o?` - 游戏${o}`:""}`,o);c.push(u)}return await this.updateEconomicCenterData({type:"reward",userId:e,amount:r+n*this.CURRENCY_EXCHANGE_RATES.gameCoinsToRMB/this.CURRENCY_EXCHANGE_RATES.computingToRMB,currency:"computing",source:"system"}),this.emitEconomicEvent("game_reward",{transactionId:l,userId:e,computingPower:r,gameCoins:n,gameId:o,timestamp:new Date}),{success:!0,transactionId:l,transactions:c}}catch(u){throw console.error(`游戏奖励发放失败 ${l}:`,u),u}}async getUserEconomicOverview(e){try{const r=await et.getBalance(),n=await et.getTransactions(20),o=this.calculateUserEconomicContribution(n),l=await js.getPlayerEconomicProfile(e);return{walletBalance:r,recentTransactions:n,economicContribution:o,computingPowerBreakdown:l}}catch(r){throw console.error("获取用户经济概览失败:",r),r}}async getPlatformEconomicHealth(){try{const e=await gt.getPublicFundPoolData(),r=await js.getComputingEconomicData(),n=this.assessEconomicRisk(e,r);return{fundPoolStatus:e,economicIndicators:r,riskAssessment:n}}catch(e){throw console.error("获取平台经济健康度失败:",e),e}}async deductFromWallet(e,r,n,o,l){if((await et.getBalance())[n]<r)throw new Error(`${this.getCurrencyName(n)}余额不足`);return await et.addTransaction({type:"expense",category:"purchase",amount:r,currency:n,description:o,relatedId:l}),(await et.getTransactions(1))[0]}async creditToWallet(e,r,n,o,l){return await et.addTransaction({type:"income",category:n==="computing"?"computing_reward":"game_reward",amount:r,currency:n,description:o,relatedId:l}),(await et.getTransactions(1))[0]}async recordCommissionToFundPool(e,r,n,o,l,c){return await gt.recordCommissionIncome(e,r,n,o,l)}async updateEconomicCenterData(e){try{console.log("更新算力经济中心数据:",e)}catch(r){console.error("更新算力经济中心数据失败:",r)}}emitEconomicEvent(e,r){try{window.dispatchEvent(new CustomEvent(`economic-${e}`,{detail:r})),console.log(`经济事件发送: ${e}`,r)}catch(n){console.error("发送经济事件失败:",n)}}generateTransactionId(e){const r=new Date().toISOString().slice(0,10).replace(/-/g,""),n=Math.random().toString(36).substr(2,6).toUpperCase();return`${e}-${r}-${n}`}getCurrencyName(e){switch(e){case"cash":return"现金";case"gameCoins":return"游戏币";case"computing":return"算力";case"aCoins":return"A币";default:return e}}calculateUserEconomicContribution(e){let r=0,n=0,o=0;return e.forEach(l=>{const c=this.convertToRMB(l.amount,l.currency);l.type==="expense"?(r+=c,l.category==="purchase"&&(o+=c*.15)):n+=c}),{totalSpent:Math.round(r*100)/100,totalEarned:Math.round(n*100)/100,commissionGenerated:Math.round(o*100)/100}}convertToRMB(e,r){switch(r){case"cash":return e;case"gameCoins":return e*this.CURRENCY_EXCHANGE_RATES.gameCoinsToRMB;case"computing":return e*this.CURRENCY_EXCHANGE_RATES.computingToRMB;case"aCoins":return e*this.CURRENCY_EXCHANGE_RATES.aCoinToRMB;default:return e}}assessEconomicRisk(e,r){const n=[],o=[];let l=0;e.currentBalance.totalValue<1e3&&(n.push("资金池余额过低"),o.push("增加平台收入来源"),l+=30),r.activeComputingNodes<1e3&&(n.push("活跃节点数量不足"),o.push("提升用户参与度"),l+=20);let c="low";return l>=50?c="high":l>=25&&(c="medium"),n.length===0&&(n.push("经济系统运行正常"),o.push("继续保持当前运营策略")),{level:c,factors:n,recommendations:o}}}const EA=new DA;class PA{constructor(){ze(this,"stores",[]);ze(this,"developers",[]);ze(this,"products",[]);ze(this,"orders",[]);ze(this,"reviews",[]);ze(this,"promotions",[]);this.initializeMockData()}initializeMockData(){const e=[{id:"dev_1",name:"腾讯游戏",logo:"/logos/tencent.png",description:"全球领先的游戏开发商，致力于为玩家提供优质的游戏体验",establishedDate:new Date("2003-01-01"),rating:4.8,totalSales:15e6,gameCount:25,verified:!0,contactInfo:{email:"support@tencent.com",website:"https://games.tencent.com",support:"400-670-0700"}},{id:"dev_2",name:"网易游戏",logo:"/logos/netease.png",description:"创新驱动的游戏公司，专注于精品游戏开发",establishedDate:new Date("2001-06-01"),rating:4.6,totalSales:12e6,gameCount:18,verified:!0,contactInfo:{email:"games@netease.com",website:"https://game.netease.com",support:"400-188-163"}},{id:"dev_3",name:"miHoYo",logo:"/logos/mihoyo.png",description:"致力于为全世界的玩家创造和传递美好",establishedDate:new Date("2012-02-13"),rating:4.9,totalSales:8e6,gameCount:8,verified:!0,contactInfo:{email:"cs@mihoyo.com",website:"https://www.mihoyo.com",support:"400-821-0808"}}],r=[{id:"store_1",developerId:"dev_1",developer:e[0],name:"王者荣耀官方商店",description:"王者荣耀官方道具商店，提供最新最全的英雄皮肤和装备",banner:"/banners/wzry_banner.jpg",logo:"/logos/wzry_logo.png",theme:{primaryColor:"#1890ff",secondaryColor:"#722ed1",backgroundImage:"/backgrounds/wzry_bg.jpg"},rating:4.8,totalProducts:156,totalSales:25e5,followers:85e4,isActive:!0,createdAt:new Date(Date.now()-864e5*365),updatedAt:new Date},{id:"store_2",developerId:"dev_2",developer:e[1],name:"梦幻西游藏宝阁",description:"梦幻西游官方交易平台，安全可靠的游戏道具交易",banner:"/banners/mhxy_banner.jpg",logo:"/logos/mhxy_logo.png",theme:{primaryColor:"#f5222d",secondaryColor:"#fa8c16",backgroundImage:"/backgrounds/mhxy_bg.jpg"},rating:4.7,totalProducts:89,totalSales:18e5,followers:62e4,isActive:!0,createdAt:new Date(Date.now()-864e5*300),updatedAt:new Date},{id:"store_3",developerId:"dev_3",developer:e[2],name:"原神商店",description:"原神官方商店，提供角色、武器、圣遗物等各类道具",banner:"/banners/ys_banner.jpg",logo:"/logos/ys_logo.png",theme:{primaryColor:"#52c41a",secondaryColor:"#13c2c2",backgroundImage:"/backgrounds/ys_bg.jpg"},rating:4.9,totalProducts:234,totalSales:32e5,followers:12e5,isActive:!0,createdAt:new Date(Date.now()-864e5*200),updatedAt:new Date}],n=[{id:"prod_1",storeId:"store_1",store:r[0],name:"李白-凤求凰",description:"传说品质皮肤，华丽的视觉效果和独特的技能特效",images:["/products/libai_fengqiuhuang_1.jpg","/products/libai_fengqiuhuang_2.jpg"],category:"skin",rarity:"legendary",price:1688,originalPrice:1888,currency:"gameCoins",stock:999,sold:15420,rating:4.9,reviewCount:2341,gameTitle:"王者荣耀",gameVersion:"3.71.1.8",tags:["传说皮肤","李白","限时优惠"],specifications:{heroName:"李白",skinType:"传说",releaseDate:"2023-12-01"},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*30),updatedAt:new Date},{id:"prod_2",storeId:"store_1",store:r[0],name:"貂蝉-仲夏夜之梦",description:"史诗品质皮肤，梦幻的仲夏夜主题设计",images:["/products/diaochan_zhongxiaye_1.jpg"],category:"skin",rarity:"epic",price:888,currency:"gameCoins",stock:999,sold:8920,rating:4.7,reviewCount:1456,gameTitle:"王者荣耀",gameVersion:"3.71.1.8",tags:["史诗皮肤","貂蝉","仲夏夜"],specifications:{heroName:"貂蝉",skinType:"史诗",releaseDate:"2023-11-15"},isActive:!0,isFeatured:!1,createdAt:new Date(Date.now()-864e5*45),updatedAt:new Date},{id:"prod_3",storeId:"store_3",store:r[2],name:"雷电将军",description:"五星雷属性角色，稻妻的雷电将军，拥有强大的雷元素能力",images:["/products/raiden_1.jpg","/products/raiden_2.jpg"],category:"character",rarity:"legendary",price:28800,currency:"gameCoins",stock:999,sold:45600,rating:4.8,reviewCount:5234,gameTitle:"原神",gameVersion:"4.2.0",tags:["五星角色","雷属性","稻妻"],specifications:{element:"雷",weapon:"长柄武器",rarity:"5星",region:"稻妻"},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*60),updatedAt:new Date},{id:"prod_4",storeId:"store_3",store:r[2],name:"薙草之稻光",description:"五星长柄武器，雷电将军的专属武器",images:["/products/narukami_1.jpg"],category:"weapon",rarity:"legendary",price:19800,currency:"gameCoins",stock:999,sold:23400,rating:4.6,reviewCount:1890,gameTitle:"原神",gameVersion:"4.2.0",tags:["五星武器","长柄武器","雷伤加成"],specifications:{weaponType:"长柄武器",baseAttack:608,subStat:"元素充能效率",rarity:"5星"},isActive:!0,isFeatured:!1,createdAt:new Date(Date.now()-864e5*50),updatedAt:new Date},{id:"prod_5",storeId:"store_2",store:r[1],name:"超级神兽-九色鹿",description:"稀有神兽，拥有强大的法术攻击能力和独特的技能",images:["/products/jiuselu_1.jpg"],category:"character",rarity:"mythic",price:5e4,currency:"cash",stock:10,sold:156,rating:4.9,reviewCount:89,gameTitle:"梦幻西游",gameVersion:"2023",tags:["超级神兽","法攻宠物","稀有"],specifications:{level:0,growth:1.275,skills:["高级法术波动","高级法术连击","高级魔心"],aptitude:{attack:1560,defense:1440,physique:4500,mana:2880,speed:1200,dodge:1680}},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*20),updatedAt:new Date}];this.developers=e,this.stores=r,this.products=n}async getStores(){return this.stores.filter(e=>e.isActive)}async getStoreById(e){return this.stores.find(r=>r.id===e&&r.isActive)||null}async getStoreProducts(e,r){let n=this.products.filter(o=>o.storeId===e&&o.isActive);return r&&(n=this.applyFilters(n,r)),n}async getProducts(e){let r=this.products.filter(n=>n.isActive);return e&&(r=this.applyFilters(r,e)),r}applyFilters(e,r){let n=[...e];if(r.category&&(n=n.filter(o=>o.category===r.category)),r.rarity&&(n=n.filter(o=>o.rarity===r.rarity)),r.currency&&(n=n.filter(o=>o.currency===r.currency)),r.gameTitle&&(n=n.filter(o=>o.gameTitle.includes(r.gameTitle))),r.storeId&&(n=n.filter(o=>o.storeId===r.storeId)),r.rating&&(n=n.filter(o=>o.rating>=r.rating)),r.priceRange&&(n=n.filter(o=>o.price>=r.priceRange.min&&o.price<=r.priceRange.max)),r.searchTerm){const o=r.searchTerm.toLowerCase();n=n.filter(l=>l.name.toLowerCase().includes(o)||l.description.toLowerCase().includes(o)||l.gameTitle.toLowerCase().includes(o)||l.tags.some(c=>c.toLowerCase().includes(o)))}if(r.sortBy)switch(r.sortBy){case"price_asc":n.sort((o,l)=>o.price-l.price);break;case"price_desc":n.sort((o,l)=>l.price-o.price);break;case"rating":n.sort((o,l)=>l.rating-o.rating);break;case"sales":n.sort((o,l)=>l.sold-o.sold);break;case"newest":n.sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime());break;case"oldest":n.sort((o,l)=>o.createdAt.getTime()-l.createdAt.getTime());break}return n}async getProductById(e){return this.products.find(r=>r.id===e&&r.isActive)||null}async getFeaturedProducts(e=10){return this.products.filter(r=>r.isActive&&r.isFeatured).slice(0,e)}async createOrder(e,r,n){var m;console.log("开始创建游戏商城订单:",{userId:e,itemCount:r.length,paymentMethod:n});const o=r.map(p=>({id:`order_item_${Date.now()}_${Math.random()}`,productId:p.productId,product:p.product,quantity:p.quantity,price:p.product.price,currency:p.product.currency})),l=o.reduce((p,f)=>p+f.price*f.quantity,0),c=((m=o[0])==null?void 0:m.currency)||"gameCoins",u={id:`order_${Date.now()}`,buyerId:e,buyerName:"当前用户",storeId:o[0].product.storeId,store:o[0].product.store,items:o,totalAmount:l,currency:c,status:"pending",paymentMethod:n,createdAt:new Date,updatedAt:new Date};try{const p=await EA.processGameStorePurchase(e,u,c);if(console.log("经济系统处理结果:",p),!p.success)throw new Error(p.message);u.status="paid",u.updatedAt=new Date,await ws.addTransactionRecord({buyerId:e,sellerId:u.storeId,item:{id:u.items.map(f=>f.productId).join(","),name:u.items.map(f=>`${f.product.name} (x${f.quantity})`).join(", "),description:`从 ${u.store.name} 购买`,category:"game_store_purchase",rarity:"common"},price:p.itemAmount,commission:p.commissionAmount,totalAmount:p.totalPayment,commissionRate:p.commissionAmount/p.itemAmount,transactionType:"game_store",currency:u.currency});for(const f of r)for(let x=0;x<f.quantity;x++)await ws.addItemToUserInventory(e,{id:`${f.product.id}_${Date.now()}_${Math.random()}`,name:f.product.name,description:f.product.description,category:f.product.category,rarity:f.product.rarity,price:f.product.price,currency:f.product.currency,gameSource:f.product.gameTitle,sellerId:"game-store",sellerName:f.product.store.name,listedAt:new Date,views:0});return this.orders.push(u),console.log("游戏商城订单创建成功:",{orderId:u.id,transactionId:p.transactionId,itemAmount:p.itemAmount,commissionAmount:p.commissionAmount,totalPayment:p.totalPayment,currency:u.currency}),u}catch(p){throw console.error("创建游戏商城订单失败:",p),u.status="cancelled",u.updatedAt=new Date,new Error(`订单创建失败: ${p instanceof Error?p.message:"未知错误"}`)}}async getUserOrders(e){return this.orders.filter(r=>r.buyerId===e).sort((r,n)=>n.createdAt.getTime()-r.createdAt.getTime())}async getGameStoreStats(){const e=this.stores.filter(f=>f.isActive).length,r=this.products.filter(f=>f.isActive).length,n=this.orders.length,o=this.orders.reduce((f,x)=>f+x.totalAmount,0),l=new Map;this.products.forEach(f=>{const x=l.get(f.category)||{count:0,revenue:0};x.count++,x.revenue+=f.price*f.sold,l.set(f.category,x)});const c=Array.from(l.entries()).map(([f,x])=>({category:f,...x})).sort((f,x)=>x.revenue-f.revenue).slice(0,5),u=new Map;this.orders.forEach(f=>{const x=u.get(f.storeId)||{revenue:0,orderCount:0};x.revenue+=f.totalAmount,x.orderCount++,u.set(f.storeId,x)});const m=Array.from(u.entries()).map(([f,x])=>({store:this.stores.find(v=>v.id===f),...x})).filter(f=>f.store).sort((f,x)=>x.revenue-f.revenue).slice(0,5),p=this.orders.sort((f,x)=>x.createdAt.getTime()-f.createdAt.getTime()).slice(0,10);return{totalStores:e,totalProducts:r,totalOrders:n,totalRevenue:o,topCategories:c,topStores:m,recentOrders:p}}}const pi=new PA;function IA(){const[s,e]=j.useState([]),[r,n]=j.useState([]),[o,l]=j.useState(!0);Pn();const{balance:c,refreshWalletData:u}=jd(),{lang:m}=hs(),p=Ps(m);j.useEffect(()=>{(async()=>{try{const[v,N]=await Promise.all([pi.getStores(),pi.getFeaturedProducts()]);e(v),n(N),await u()}catch(v){console.error("加载数据失败:",v)}finally{l(!1)}})()},[]);const f=async x=>{if(!c){alert("钱包信息加载失败");return}const v=x.price,N=Math.round(v*.3*100)/100,C=Math.round((v+N)*100)/100;let k=!1,w="";switch(x.currency){case"gameCoins":k=c.gameCoins>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"computingPower":k=c.computingPower>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"cash":k=c.cash>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"aCoins":k=c.aCoins>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break}if(!k){alert(`余额不足！

商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${N.toLocaleString()} ${w} (30%)
实际需要: ${C.toLocaleString()} ${w}`);return}const T=`确认购买 ${x.name}？

商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${N.toLocaleString()} ${w} (30%)
实际支付: ${C.toLocaleString()} ${w}
游戏: ${x.gameTitle}

购买后商品将添加到您的库存中。`;if(confirm(T))try{await pi.createOrder("current-user-id",[{id:`cart-${Date.now()}`,productId:x.id,product:x,quantity:1,addedAt:new Date}],x.currency),await u(),alert(`购买成功！

${x.name} 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${N.toLocaleString()} ${w}
实际支付: ${C.toLocaleString()} ${w}`)}catch(_){console.error("购买失败:",_),alert("购买失败，请稍后重试")}};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(p,"gameStore.center.loading")})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(p,"gameStore.center.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(p,"gameStore.center.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[c&&t.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[y(p,"gameStore.center.header.walletLabel"),":"]}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.cash.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.aCoins.toLocaleString()})]})]})]}),t.jsx(oe,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:y(p,"common.nav.personalCenter")}),t.jsx(oe,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(p,"common.nav.backHome")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:y(p,"gameStore.center.featuredTitle")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.category.all")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.weapon")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.armor")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.consumable")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.skin")})]}),t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.sort.price")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.asc")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.desc")}),t.jsx("option",{children:"销量排序"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(x=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${RA(x.category)} text-2xl text-slate-400 dark:text-slate-500`})}),t.jsx("div",{className:"flex flex-col items-end gap-2",children:t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${MA(x.rarity)}`,children:OA(x.rarity)})})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:x.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:x.store.developer.name}),t.jsx(oe,{to:`/game-store/store/${x.storeId}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-3 block",children:x.store.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-2",children:x.description}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[x.price.toLocaleString()," ",y(p,`marketplace.list.currencyNames.${x.currency}`)]})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>f(x),className:"w-full px-3 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-md hover:shadow-lg hover:from-orange-600 hover:to-red-600 transition-all",children:[t.jsx("i",{className:"fa-solid fa-bolt mr-1"}),y(p,"gameStore.center.buttons.buyNow")]})})]})},x.id))})]}),t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:y(p,"gameStore.center.storesTitle")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.games.all")}),t.jsx("option",{children:"王者荣耀"}),t.jsx("option",{children:"梦幻西游"}),t.jsx("option",{children:"原神"})]}),t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.sort.comprehensive")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.sales")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.rating")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.attention")})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>t.jsxs(oe,{to:`/game-store/store/${x.id}`,className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"h-32 bg-gradient-to-r relative",style:{background:`linear-gradient(135deg, ${x.theme.primaryColor}, ${x.theme.secondaryColor})`},children:[t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-white text-lg",children:x.name}),t.jsx("p",{className:"text-white/80 text-sm",children:x.developer.name})]}),x.developer.verified&&t.jsx("div",{className:"ml-auto",children:t.jsx("i",{className:"fa-solid fa-badge-check text-blue-400 text-xl"})})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-4 line-clamp-2",children:x.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:x.totalProducts}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.products")})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[(x.totalSales/1e4).toFixed(1),"万"]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.sales")})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-star text-yellow-400 text-sm"}),t.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:x.rating})]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.rating")})]})]})]})]},x.id))})]})]})]})}function RA(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"skin":return"fa-palette";case"character":return"fa-user-ninja";case"currency":return"fa-coins";case"bundle":return"fa-box";default:return"fa-gamepad"}}function MA(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";case"mythic":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}function OA(s){switch(s){case"common":return"普通";case"uncommon":return"优秀";case"rare":return"稀有";case"epic":return"史诗";case"legendary":return"传说";case"mythic":return"神话";default:return"普通"}}function LA(){const{storeId:s}=gh(),[e,r]=j.useState(null),[n,o]=j.useState([]),[l,c]=j.useState(null),[u,m]=j.useState(!0),[p,f]=j.useState("all"),{lang:x}=hs(),v=Ps(x);j.useEffect(()=>{(async()=>{if(s)try{const[T,_]=await Promise.all([pi.getStoreById(s),pi.getStoreProducts(s)]);r(T),o(_),c({gameCoins:15e3,computingPower:2500,cash:200,totalValue:17750})}catch(T){console.error("加载商店数据失败:",T)}finally{m(!1)}})()},[s]);const N=async w=>{if(!l){alert("钱包信息加载失败");return}const T=w.discountPrice||w.price,_=Math.round(T*.3*100)/100,A=Math.round((T+_)*100)/100;let B=!1,I="";switch(w.currency){case"gameCoins":B=l.gameCoins>=A,I="游戏币";break;case"computingPower":B=l.computingPower>=A,I="算力";break;case"cash":B=l.cash>=A,I="现金";break}if(!B){alert(`余额不足！

商品价格: ${T.toLocaleString()} ${I}
平台佣金: ${_.toLocaleString()} ${I} (30%)
实际需要: ${A.toLocaleString()} ${I}`);return}const D=`确认购买 ${w.name}？

商品价格: ${T.toLocaleString()} ${I}
平台佣金: ${_.toLocaleString()} ${I} (30%)
实际支付: ${A.toLocaleString()} ${I}
游戏: ${w.gameTitle}

购买后商品将添加到您的库存中。`;if(confirm(D))try{await pi.createOrder("current-user-id",[{id:`cart-${Date.now()}`,productId:w.id,product:w,quantity:1,addedAt:new Date}],w.currency),c(z=>{if(!z)return null;const E={...z};switch(w.currency){case"gameCoins":E.gameCoins-=A,E.totalValue-=A;break;case"computingPower":E.computingPower-=A,E.totalValue-=A;break;case"cash":E.cash-=A,E.totalValue-=A;break}return E}),alert(`购买成功！

${w.name} 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${T.toLocaleString()} ${I}
平台佣金: ${_.toLocaleString()} ${I}
实际支付: ${A.toLocaleString()} ${I}`)}catch(z){console.error("购买失败:",z),alert("购买失败，请稍后重试")}},C=p==="all"?n:n.filter(w=>w.category===p),k=Array.from(new Set(n.map(w=>w.category)));return u?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(v,"gameStore.detail.loading")})]})}):e?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(oe,{to:"/game-store",className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:t.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:[e.developer.name," ",y(v,"gameStore.detail.header.officialStoreSuffix")]})]}),e.developer.verified&&t.jsx("i",{className:"fa-solid fa-badge-check text-blue-500 text-2xl"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[l&&t.jsxs("div",{className:"hidden md:flex flex-col gap-2",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:y(v,"gameStore.detail.walletLabel")}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.cash.toLocaleString()})]})]})]}),t.jsx(oe,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:y(v,"common.nav.personalCenter")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsx("section",{className:"mb-8",children:t.jsxs("div",{className:"bg-gradient-to-r rounded-xl p-8 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${e.theme.primaryColor}, ${e.theme.secondaryColor})`},children:[t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-3xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:e.name}),t.jsx("p",{className:"text-white/90 mb-2",children:e.developer.name}),t.jsx("p",{className:"text-white/80",children:e.description})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("i",{className:"fa-solid fa-star text-yellow-400"}),t.jsx("span",{className:"text-xl font-bold",children:e.rating}),t.jsxs("span",{className:"text-white/80",children:["(1234 ",y(v,"gameStore.detail.labels.reviews"),")"]})]}),t.jsxs("div",{className:"text-white/80",children:[e.followers.toLocaleString()," ",y(v,"gameStore.detail.labels.followers")]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:e.totalProducts}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.productCount")})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[(e.totalSales/1e4).toFixed(1),"万"]}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.totalSales")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:new Date(e.createdAt).getFullYear()}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.foundedYear")})]})]})]})]})}),t.jsx("section",{className:"mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:y(v,"gameStore.detail.products.title")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${p==="all"?"bg-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:y(v,"gameStore.detail.products.all")}),k.map(w=>t.jsx("button",{onClick:()=>f(w),className:`px-3 py-1 text-sm rounded-full transition-colors ${p===w?"bg-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:VA(w)},w))]})]}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[y(v,"gameStore.detail.products.totalPrefix")," ",C.length," ",y(v,"gameStore.detail.products.totalSuffix")]})]})}),t.jsxs("section",{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(w=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${zA(w.category)} text-2xl text-slate-400 dark:text-slate-500`})}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${$A(w.rarity)}`,children:FA(w.rarity)}),w.discountPrice&&t.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 rounded-full",children:["-",Math.round((1-w.discountPrice/w.price)*100),"%"]})]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:w.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:w.description}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:w.discountPrice?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[w.discountPrice.toLocaleString()," ",y(v,`marketplace.list.currencyNames.${w.currency}`)]}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 line-through ml-2",children:w.price.toLocaleString()})]}):t.jsxs(t.Fragment,{children:[w.price.toLocaleString()," ",y(v,`marketplace.list.currencyNames.${w.currency}`)]})}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[y(v,"gameStore.detail.products.stock"),": ",w.stock]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>N(w),className:"w-full px-3 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-md hover:shadow-lg hover:from-orange-600 hover:to-red-600 transition-all",children:[t.jsx("i",{className:"fa-solid fa-bolt mr-1"}),y(v,"gameStore.detail.buttons.buyNow")]})})]})},w.id))}),C.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"fa-solid fa-box-open text-6xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:y(v,"gameStore.detail.empty.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(v,"gameStore.detail.empty.desc")})]})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"fa-solid fa-store-slash text-6xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:y(v,"gameStore.detail.storeNotFound.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8",children:y(v,"gameStore.detail.storeNotFound.desc")}),t.jsxs(oe,{to:"/game-store",className:"inline-flex items-center px-6 py-3 text-lg font-semibold text-white bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg shadow-md hover:shadow-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:[t.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),y(v,"gameStore.detail.storeNotFound.back")]})]})})}function zA(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"skin":return"fa-palette";case"character":return"fa-user-ninja";case"currency":return"fa-coins";case"bundle":return"fa-box";default:return"fa-gamepad"}}function $A(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";case"mythic":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}function FA(s){switch(s){case"common":return"普通";case"uncommon":return"优秀";case"rare":return"稀有";case"epic":return"史诗";case"legendary":return"传说";case"mythic":return"神话";default:return"普通"}}function VA(s){switch(s){case"weapon":return"武器";case"armor":return"装备";case"consumable":return"消耗品";case"material":return"材料";case"skin":return"皮肤";case"character":return"角色";case"currency":return"游戏币";case"bundle":return"礼包";default:return"其他"}}function BA(){var c,u,m,p;const[s,e]=j.useState(!0),[r,n]=j.useState(null),[o,l]=j.useState(null);return j.useEffect(()=>{(async()=>{try{console.log("开始加载算力数据...");const x=await jv.getUserComputingData();console.log("算力数据加载成功:",x),l(x)}catch(x){console.error("加载数据失败:",x),n(x instanceof Error?x.message:"未知错误")}finally{e(!1)}})()},[]),s?t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{children:"加载算力数据中..."})]})}):r?t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"加载失败"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["错误信息: ",r]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"重新加载"})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gray-100",children:[t.jsx("header",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold",children:"算力数据中心 (简化版)"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(oe,{to:"/game-center",className:"text-blue-600 hover:underline",children:"游戏中心"}),t.jsx(oe,{to:"/computing-power",className:"text-blue-600 hover:underline",children:"完整版"})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"用户信息"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"用户名:"})," ",((c=o.user)==null?void 0:c.username)||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"等级:"})," ",((u=o.stats)==null?void 0:u.currentRank)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"总算力:"})," ",((m=o.stats)==null?void 0:m.totalComputingPower)||0]}),t.jsxs("p",{children:[t.jsx("strong",{children:"游戏局数:"})," ",((p=o.stats)==null?void 0:p.totalGamesPlayed)||0]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"最近游戏记录"}),o.recentGames&&o.recentGames.length>0?t.jsx("div",{className:"space-y-2",children:o.recentGames.map((f,x)=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:f.gameName}),t.jsx("span",{className:"text-sm text-gray-500 ml-2",children:new Date(f.completedAt).toLocaleString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold",children:f.score}),t.jsxs("div",{className:"text-sm text-green-600",children:["+",f.computingPowerEarned," 算力"]})]})]},x))}):t.jsx("p",{className:"text-gray-500",children:"还没有游戏记录"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(oe,{to:"/game/match3",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"开始游戏"})})]})]}):t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{children:"没有数据"}),t.jsx(oe,{to:"/game-center",className:"text-blue-600 hover:underline",children:"返回游戏中心"})]})})}function UA(){const[s,e]=j.useState(null),r=Tb(),n=async(c,u)=>{try{await navigator.clipboard.writeText(c),e(u),setTimeout(()=>e(null),2e3)}catch(m){console.error("复制失败:",m)}},o=c=>c>=8?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":c>=5?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":c>=3?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300",l=c=>c>=10?"👑 VIP会员":c>=8?"💎 算力大师":c>=5?"🎮 游戏达人":c>=3?"🌟 休闲玩家":"🌱 新手小白";return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("nav",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs(oe,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(oe,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"返回登录"})})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"测试账号列表"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"选择任意账号体验不同等级的游戏数据和算力收益"})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6 mb-8",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("i",{className:"fa-solid fa-info-circle text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"使用说明"}),t.jsxs("ul",{className:"text-blue-800 dark:text-blue-200 space-y-1 text-sm",children:[t.jsx("li",{children:"• 点击用户名或密码可快速复制到剪贴板"}),t.jsx("li",{children:"• 不同等级的账号拥有不同的游戏数据和算力收益"}),t.jsx("li",{children:"• 建议从低等级账号开始体验，了解游戏成长过程"}),t.jsx("li",{children:"• 所有测试数据仅用于演示，不代表真实收益"})]})]})]})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map((c,u)=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:c.nickname.charAt(0)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:c.nickname}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${o(c.level)}`,children:["Lv.",c.level]}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:l(c.level)})]})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"用户名"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-mono text-slate-900 dark:text-white",children:c.username}),t.jsx("button",{onClick:()=>n(c.username,`${u}-username`),className:"p-2 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-colors",title:"复制用户名",children:s===`${u}-username`?t.jsx("i",{className:"fa-solid fa-check text-green-600"}):t.jsx("i",{className:"fa-solid fa-copy"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"密码"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-mono text-slate-900 dark:text-white",children:c.password}),t.jsx("button",{onClick:()=>n(c.password,`${u}-password`),className:"p-2 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-colors",title:"复制密码",children:s===`${u}-password`?t.jsx("i",{className:"fa-solid fa-check text-green-600"}):t.jsx("i",{className:"fa-solid fa-copy"})})]})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs(oe,{to:"/login",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[t.jsx("i",{className:"fa-solid fa-sign-in-alt"}),"使用此账号登录"]})})]})},u))}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"需要帮助？"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"如果您在使用测试账号时遇到任何问题，请联系我们的技术支持团队"}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[t.jsxs("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:[t.jsx("i",{className:"fa-solid fa-envelope mr-1"}),"support@allinone.com"]}),t.jsxs("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:[t.jsx("i",{className:"fa-brands fa-qq mr-1"}),"QQ群: 123456789"]})]})]})})]})]})}class HA{constructor(){ze(this,"STORAGE_KEY","options_management_data");ze(this,"FUND_POOL_KEY","options_fund_pool_data")}getFundPoolOCoinData(){try{const e=localStorage.getItem(this.FUND_POOL_KEY);if(e)return JSON.parse(e)}catch(e){console.error("获取资金池O币数据失败:",e)}return{totalLockedOCoins:0,totalUnlockedOCoins:0,lastUpdated:new Date}}updateFundPoolOCoinData(e,r){const n=this.getFundPoolOCoinData(),o={totalLockedOCoins:Math.max(0,n.totalLockedOCoins+e),totalUnlockedOCoins:Math.max(0,n.totalUnlockedOCoins+r),lastUpdated:new Date};localStorage.setItem(this.FUND_POOL_KEY,JSON.stringify(o)),console.log("💰 资金池O币数据更新:",o)}async grantOptionsFromPerformance(e,r=2.5){const n=[];let o=0;for(const l of e)try{const c=l.oCoinAmount,u=Number((r*.95).toFixed(2)),m=es.grantOption(l.userId,c,365);n.push({userId:l.userId,amount:c,strikePrice:u}),o+=c,console.log(`✅ 用户 ${l.userId} 获得 ${c} 个期权，执行价: ¥${u}，对应O币存入资金池`)}catch(c){console.error(`❌ 为用户 ${l.userId} 授予期权失败:`,c)}return o>0&&(this.updateFundPoolOCoinData(o,0),console.log(`💰 将 ${o.toLocaleString()} 个O币存入资金池（未解禁状态）`)),{totalGranted:n.reduce((l,c)=>l+c.amount,0),grantedUsers:n.length,details:n}}getOptionsPoolStats(){try{const e=this.getAllUserOptions();let r=0,n=0,o=0,l=0,c=0;const u=new Set;return e.forEach(m=>{u.add(m.userId),r+=m.totalOptions,n+=m.vestedOptions,o+=m.exercisedOptions,m.options.forEach(p=>{l+=2.5,c++})}),{totalGranted:r,totalVested:n,totalExercised:o,totalUnlocked:0,participatingUsers:u.size,averageStrikePrice:c>0?l/c:0,lastUpdateTime:new Date}}catch(e){return console.error("获取期权池统计失败:",e),{totalGranted:0,totalVested:0,totalExercised:0,totalUnlocked:0,participatingUsers:0,averageStrikePrice:0,lastUpdateTime:new Date}}}getAllUserOptions(){return["user-1","user-2","user-3","user-4","user-5"].map(r=>{const n=es.getUserOptions(r),o=n.reduce((u,m)=>u+m.amount,0),l=n.reduce((u,m)=>u+m.vestedAmount,0);return{userId:r,totalOptions:o,vestedOptions:l,exercisedOptions:0,unlockedOptions:l,strikePrice:2.5,grantDate:n.length>0?n[0].grantDate:new Date,options:n}}).filter(r=>r.totalOptions>0)}getTopOptionHolders(e=10){return this.getAllUserOptions().sort((n,o)=>o.totalOptions-n.totalOptions).slice(0,e).map(n=>({userId:n.userId,totalOptions:n.totalOptions,vestedOptions:n.vestedOptions,strikePrice:n.strikePrice}))}async processVesting(){const e=this.getAllUserOptions();let r=0,n=0,o=0;for(const l of e){let c=0;for(const u of l.options)if(!u.isFullyVested){const p=Math.floor((new Date().getTime()-u.grantDate.getTime())/(1e3*60*60*24));if(p>0){const f=u.amount/u.vestingPeriod,v=Math.min(f*p,u.amount)-u.vestedAmount;if(v>0)try{es.vestOption(u.id,v),r+=v,c+=v,console.log(`✨ 用户 ${l.userId} 期权 ${u.id} 成熟 ${v.toFixed(2)} 个`)}catch(N){console.error(`期权成熟处理失败: ${u.id}`,N)}}}if(c>0)try{this.updateFundPoolOCoinData(-c,0),await et.recordOCoinVesting(c,`期权解禁 - ${c.toFixed(2)} O币`),n+=c,o++,console.log(`💰 用户 ${l.userId} 获得 ${c.toFixed(2)} 个解禁O币，已发放到个人账户`)}catch(u){console.error(`发放O币到个人账户失败: ${l.userId}`,u)}}return{totalVested:r,affectedUsers:o,totalUnlocked:n}}async exerciseOptions(e,r,n){try{const l=es.getUserOptions(e).reduce((p,f)=>p+f.vestedAmount,0);if(r>l)return{success:!1,exercisedAmount:0,profit:0,message:`行权数量(${r})超过已成熟期权数量(${l})`};const c=2.5;if(n<=c)return{success:!1,exercisedAmount:0,profit:0,message:`当前市价(¥${n})低于执行价(¥${c})，行权无收益`};const u=(n-c)*r,m=es.getUserBalance(e);return m.availableBalance+=r,{success:!0,exercisedAmount:r,profit:u,message:`成功行权 ${r} 个期权，获得收益 ¥${u.toFixed(2)}`}}catch(o){return console.error("期权行权失败:",o),{success:!1,exercisedAmount:0,profit:0,message:`行权失败: ${o instanceof Error?o.message:"未知错误"}`}}}clearOptionsData(){localStorage.removeItem(this.STORAGE_KEY),console.log("✅ 期权数据已清空")}}const Ka=new HA,WA=({className:s=""})=>{const[e,r]=j.useState({currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0,allTimeHigh:0,allTimeLow:0,lastUpdated:new Date}),[n,o]=j.useState({totalLockedOCoins:0,totalUnlockedOCoins:0,lastUpdated:new Date}),[l,c]=j.useState(!0);j.useEffect(()=>{u();const m=setInterval(u,3e4);return()=>clearInterval(m)},[]);const u=async()=>{try{c(!0);const m=await es.getOCoinMarketData();r({...m,lastUpdated:new Date(m.lastUpdated),lastDividendDate:m.lastDividendDate?new Date(m.lastDividendDate):null});const p=Ka.getFundPoolOCoinData();o({...p,lastUpdated:new Date(p.lastUpdated)})}catch(m){console.error("加载O币市场数据失败:",m)}finally{c(!1)}};return l?t.jsx("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 ${s}`,children:t.jsxs("div",{className:"flex items-center justify-center h-32",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),t.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",children:"加载O币市场数据..."})]})}):t.jsxs("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"🔶"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-orange-800 dark:text-orange-400",children:"O币市场数据"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"实时市场价格、分红信息与供应统计"})]})]}),t.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"🔄 刷新"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"当前价格"}),t.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["¥",e.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"市值"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",(e.marketCap/1e8).toFixed(2),"亿"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"分红池"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",e.dividendPool.toLocaleString()]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"历史最高"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["¥",e.allTimeHigh.toFixed(2)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"供应情况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"总供应量"}),t.jsxs("span",{children:[(e.totalSupply/1e8).toFixed(1),"亿枚"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"100%"}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"流通量"}),t.jsxs("span",{children:[(e.circulatingSupply/1e8).toFixed(2),"亿枚 (",(e.circulatingSupply/e.totalSupply*100).toFixed(1),"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.circulatingSupply/e.totalSupply*100}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"锁定量"}),t.jsxs("span",{children:[(e.totalLocked/1e8).toFixed(2),"亿枚 (",(e.totalLocked/e.totalSupply*100).toFixed(1),"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${e.totalLocked/e.totalSupply*100}%`}})})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"资金池O币"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"未解禁O币"}),t.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:n.totalLockedOCoins.toLocaleString()})]})}),t.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"已解禁O币"}),t.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.totalUnlockedOCoins.toLocaleString()})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"分红情况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前分红池"}),t.jsxs("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["¥",e.dividendPool.toLocaleString()]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"上次分红日期"}),t.jsx("span",{className:"text-sm font-medium",children:e.lastDividendDate?new Date(e.lastDividendDate).toLocaleDateString():"暂无"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"上次每币分红"}),t.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["¥",e.lastDividendPerCoin.toFixed(4)]})]})]})]})]})]}),t.jsxs("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400 text-center",children:["最后更新: ",e.lastUpdated.toLocaleString()]})]})};function GA(){const[s,e]=j.useState(null),[r,n]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState("overview"),[m,p]=j.useState({type:"",category:"",source:"",currency:""}),[f,x]=j.useState(null),[v,N]=j.useState(!1),[C,k]=j.useState(!1),[w,T]=j.useState(null),[_,A]=j.useState({lastChecked:null,lastSettled:null,isEnabled:!0,message:"自动结算已启用"});j.useEffect(()=>{D(),z(),B();const M=setInterval(D,3e4);return()=>{clearInterval(M)}},[]);const B=async()=>{var M,F,Z;if(_.isEnabled)try{A(re=>({...re,lastChecked:new Date,message:"正在检查自动结算..."}));const L=await js.checkAndExecuteAutoDailySettlement();z(),L.executed?(M=L.result)!=null&&M.success?(A(re=>{var H,P,W;return{...re,lastSettled:new Date,message:`自动结算成功完成! 发放了 ${(P=(H=L.result)==null?void 0:H.distributedAmount)==null?void 0:P.toFixed(2)} A币给 ${(W=L.result)==null?void 0:W.recipientsCount} 名用户`}}),D(),T({success:!0,message:"每日自动结算成功完成！",distributedAmount:(F=L.result)==null?void 0:F.distributedAmount,recipientsCount:(Z=L.result)==null?void 0:Z.recipientsCount})):A(re=>{var H;return{...re,message:`自动结算失败: ${(H=L.result)==null?void 0:H.message}`}}):A(re=>({...re,message:"今日已自动结算或尚未到自动结算时间"}))}catch(L){console.error("检查自动结算失败:",L),A(re=>({...re,message:`检查自动结算失败: ${L instanceof Error?L.message:"未知错误"}`}))}},I=()=>{A(M=>({...M,isEnabled:!M.isEnabled,message:M.isEnabled?"自动结算已禁用":"自动结算已启用"}))},D=async()=>{try{const[M,F]=await Promise.all([gt.getPublicFundPoolData(),gt.getAllTransactions()]);e(M),n(F)}catch(M){console.error("加载资金池数据失败:",M)}finally{l(!1)}},z=async()=>{try{const M=await js.getDailySettlementData();x(M)}catch(M){console.error("加载每日结算数据失败:",M)}},E=async()=>{if(!(!f||f.settlementStatus!=="ready")){k(!0),T(null);try{const M={...f,settlementStatus:"processing"};x(M),await new Promise(P=>setTimeout(P,1500));const F=await js.getActiveUsersWithContributionScores(),Z=await kn.distributeACoinsByContribution(f.aCoinDistributionPool,F),L=Z.successfulDistributions.find(P=>P.userId==="current-user");L&&await et.distributeACoins(L.amount,`每日结算A币奖励 - 贡献分数: ${L.contributionScore.toFixed(2)}`);const re={...M,settlementStatus:"completed",lastSettlementTime:new Date};x(re);const H=await gt.getPublicFundPoolData();e(H),T({success:!0,message:"结算成功完成！",distributedAmount:Z.totalAmount,recipientsCount:Z.recipientsCount})}catch(M){console.error("执行结算失败:",M);const F={...f,settlementStatus:"failed"};x(F),T({success:!1,message:`结算失败: ${M instanceof Error?M.message:"未知错误"}`})}finally{k(!1)}}},G=async()=>{try{const M=await gt.searchTransactions({type:m.type,category:m.category,source:m.source});let F=M;m.currency&&(F=M.filter(Z=>Z.currency===m.currency)),n(F)}catch(M){console.error("搜索失败:",M)}},Y=()=>{p({type:"",category:"",source:"",currency:""}),D()},ne=(M,F)=>{const Z={computingPower:"算力",computing:"算力",cash:"现金",gameCoins:"游戏币",aCoins:"A币"};return`${M.toLocaleString()} ${Z[F]||F}`},ee=M=>M==="income"?"text-green-600":"text-red-600",se=M=>M==="income"?"↗️":"↙️",ie=(M,F)=>F>0?M/F*100:0;return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载资金池数据中..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"平台资金池"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"透明公开的平台财务数据"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsx("span",{children:"🔄 实时更新"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"📊 公开透明"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"🔒 隐私保护"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(oe,{to:"/",className:"px-4 py-2 text-sm font-medium text-white bg-slate-500 hover:bg-slate-600 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-1"}),"主页"]}),t.jsxs(oe,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-user mr-1"}),"个人中心"]}),t.jsxs(oe,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-chart-line mr-1"}),"算力中心"]})]})]})]})})}),t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex space-x-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg mb-8",children:[{key:"overview",label:"总览",icon:"📊"},{key:"transactions",label:"交易记录",icon:"📋"},{key:"charts",label:"数据图表",icon:"📈"},{key:"ocoin",label:"O币市场",icon:"🔶"}].map(M=>t.jsxs("button",{onClick:()=>u(M.key),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md font-medium transition-colors ${c===M.key?"bg-white dark:bg-slate-800 text-blue-600 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[t.jsx("span",{children:M.icon}),M.label]},M.key))}),c==="overview"&&s&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"算力余额"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:(s.currentBalance.computingPower??0).toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"⚡"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"现金余额"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["¥",s.currentBalance.cash.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"💰"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币余额"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s.currentBalance.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🪙"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"A币余额"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[(s.aCoinStats.totalSupply-s.aCoinStats.circulatingSupply).toLocaleString()," A币"]}),t.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"总量-发放量的净值"}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["累计发放：",s.aCoinStats.totalDistributed.toLocaleString()," A币"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🅰️"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总价值"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["¥",s.currentBalance.totalValue.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"💎"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"收入统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总收入"}),t.jsxs("span",{className:"font-medium text-green-600",children:["¥",s.stats.totalIncome.totalValue.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"佣金收入"}),t.jsxs("span",{className:"font-medium",children:["¥",s.stats.incomeByCategory.commission.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"支出统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总支出"}),t.jsxs("span",{className:"font-medium text-red-600",children:["¥",s.stats.totalExpense.totalValue.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"奖励支出"}),t.jsxs("span",{className:"font-medium",children:["¥",s.stats.expenseByCategory.reward.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"交易统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总交易数"}),t.jsx("span",{className:"font-medium",children:s.transactionCount.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"平均金额"}),t.jsxs("span",{className:"font-medium",children:["¥",s.averageTransactionAmount.toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/10 dark:to-indigo-900/10 rounded-xl p-8 border border-purple-200 dark:border-purple-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-white",children:"🅰️"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"A币 (平台币)"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"固定总量10亿，1 A币 = 1 RMB，最小单位0.01元"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(oe,{to:"/acoin-settlement-test",className:"px-4 py-2 text-sm font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/30 transition-colors flex items-center gap-1",children:[t.jsx("span",{children:"🧮"}),"A币结算测试"]}),t.jsxs(oe,{to:"/acoin-calculation-test",className:"px-4 py-2 text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800/30 transition-colors flex items-center gap-1",children:[t.jsx("span",{children:"📊"}),"A币计算测试"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"总供应量"}),t.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[s.aCoinStats.totalSupply.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"流通供应量"}),t.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.aCoinStats.circulatingSupply.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"累计发放"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[s.aCoinStats.totalDistributed.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"持有者数量"}),t.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.aCoinStats.holdersCount.toLocaleString()," 人"]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm mb-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[t.jsx("span",{children:"🧮"}),"每日结算A币"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(!v),className:"px-3 py-1 text-sm bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/30 transition-colors",children:v?"隐藏详情":"显示详情"}),t.jsx("button",{onClick:I,className:`px-3 py-1 text-sm ${_.isEnabled?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/30":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"} rounded-lg transition-colors`,children:_.isEnabled?"自动结算: 开":"自动结算: 关"}),f&&f.settlementStatus==="ready"&&t.jsx("button",{onClick:E,disabled:C,className:`px-3 py-1 text-sm ${C?"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/30"} rounded-lg transition-colors flex items-center gap-1`,children:C?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-green-500 rounded-full border-t-transparent"}),"处理中..."]}):"手动结算"})]})]}),t.jsx("div",{className:`mb-4 p-3 rounded-lg ${_.isEnabled?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-lg ${_.isEnabled?"text-blue-500":"text-gray-500"}`,children:_.isEnabled?"🔄":"⏸️"}),t.jsxs("div",{children:[t.jsx("h4",{className:`font-medium ${_.isEnabled?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:_.isEnabled?"自动结算已启用":"自动结算已禁用"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:_.message})]})]}),t.jsxs("div",{className:"text-right text-xs text-slate-500 dark:text-slate-400",children:[_.lastChecked&&t.jsxs("div",{children:["上次检查: ",_.lastChecked.toLocaleTimeString()]}),_.lastSettled&&t.jsxs("div",{children:["上次结算: ",_.lastSettled.toLocaleTimeString()]})]})]})}),f?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"今日结算日期"}),t.jsx("div",{className:"text-lg font-medium",children:f.date})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"结算状态"}),t.jsx("div",{className:`text-lg font-medium ${f.settlementStatus==="ready"?"text-green-600":f.settlementStatus==="completed"?"text-blue-600":f.settlementStatus==="processing"?"text-yellow-600":"text-red-600"}`,children:f.settlementStatus==="ready"?"待结算":f.settlementStatus==="completed"?"已完成":f.settlementStatus==="processing"?"处理中":f.settlementStatus==="insufficient_income"?"收入不足":"失败"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"平台净收入"}),t.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["¥",f.platformNetIncome.toLocaleString()]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"A币发放池"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[f.aCoinDistributionPool.toLocaleString()," A币"]}),t.jsx("div",{className:"text-xs text-blue-500",children:"平台净收入的40%"})]}),t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"活跃用户数"}),t.jsxs("div",{className:"text-xl font-bold text-green-600",children:[f.totalDailyActivePlayers.toLocaleString()," 人"]})]}),t.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"总贡献分数"}),t.jsx("div",{className:"text-xl font-bold text-orange-600",children:f.totalContributionScore.toLocaleString()})]})]}),t.jsx("div",{className:"mt-4 bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"A币余额 (总量-发放量)"}),t.jsxs("div",{className:"text-xl font-bold text-indigo-600",children:[(s.aCoinStats.totalSupply-s.aCoinStats.circulatingSupply).toLocaleString()," A币"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"净值计算"}),t.jsxs("div",{className:"text-sm text-indigo-500",children:[s.aCoinStats.totalSupply.toLocaleString()," - ",s.aCoinStats.circulatingSupply.toLocaleString()]})]})]})}),w&&t.jsxs("div",{className:`mt-4 p-4 rounded-lg ${w.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:`text-lg ${w.success?"text-green-600":"text-red-600"}`,children:w.success?"✅":"❌"}),t.jsx("h4",{className:`font-medium ${w.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:w.success?"结算成功":"结算失败"})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:w.message}),w.success&&w.distributedAmount!==void 0&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"总发放A币"}),t.jsxs("div",{className:"text-lg font-medium text-blue-600",children:[w.distributedAmount.toFixed(2)," A币"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"受益用户数"}),t.jsxs("div",{className:"text-lg font-medium text-green-600",children:[w.recipientsCount," 人"]})]})]})]}),v&&t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"计算过程详解"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第一步：确定发放池"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"平台净收入 × 40% = A币发放池"}),t.jsxs("div",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:[f.platformNetIncome," × 0.4 = ",f.aCoinDistributionPool," A币"]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第二步：计算贡献分数"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"每个用户的贡献分数由三部分组成："}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("div",{children:"• 游戏币获得贡献 (50%权重)"}),t.jsx("div",{children:"• 算力贡献 (30%权重)"}),t.jsx("div",{children:"• 交易活跃度 (20%权重)"})]}),t.jsxs("div",{className:"mt-2",children:["全网总贡献分数：",f.totalContributionScore.toLocaleString()]}),t.jsxs("div",{children:["平均贡献分数：",f.averageContributionScore.toLocaleString()]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第三步：分配A币"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 发放池"}),t.jsxs("div",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded mt-2",children:["例如：用户贡献分数为0.5，则获得A币 = (0.5 ÷ ",f.totalContributionScore,") × ",f.aCoinDistributionPool," ≈ ",(.5/f.totalContributionScore*f.aCoinDistributionPool).toFixed(2)," A币"]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第四步：发放条件"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"• 平台净收入必须大于0"}),t.jsx("div",{children:"• 个人贡献分数必须大于0.1"}),t.jsx("div",{children:"• 计算结果必须大于最小发放单位0.01 A币"}),t.jsxs("div",{className:"mt-2 font-medium",children:["今日结算状态：",t.jsx("span",{className:`ml-2 ${f.settlementStatus==="ready"?"text-green-600":f.settlementStatus==="completed"?"text-blue-600":f.settlementStatus==="processing"?"text-yellow-600":"text-red-600"}`,children:f.settlementStatus==="ready"?"待结算":f.settlementStatus==="completed"?"已完成":f.settlementStatus==="processing"?"处理中":f.settlementStatus==="insufficient_income"?"收入不足":"失败"})]})]})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"今日数据统计"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"游戏币分发总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyGameCoinsDistributed.toLocaleString()," 游戏币"]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"算力总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyComputingPower.toLocaleString()," 算力"]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"交易总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyTransactions.toLocaleString()," 笔"]})]})]})]})]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"加载结算数据中..."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📋"}),"A币发放规则"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"1"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"平台收入转化"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"只有平台净收入>0时，才将其40%转化为A币发放。无收入时不发放，确保A币价值稳定。"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"2"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"个人贡献分数计算"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"基于当日实际可获得数据计算："}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 space-y-1 ml-2",children:[t.jsx("div",{children:"• 游戏币获得贡献 (50%权重)"}),t.jsx("div",{children:"• 算力贡献 (30%权重)"}),t.jsx("div",{children:"• 交易活跃度 (20%权重)"})]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"3"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"分配公式"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 当日发放池"}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"最小发放单位0.01A币，低于此数额不发放"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"4"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"基金模式特点"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"A币发放即转移给用户，不在资金池中储存。贡献分数≥0.1才能获得奖励，最小发放0.01A币。"})]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"💡"}),"A币特性说明"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:"固定总量"}),t.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"总供应量恒定10亿枚，永不增发，稀缺性保证价值稳定"})]}),t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"价值锚定"}),t.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"1 A币 = 1 RMB，价值稳定，可用于平台内所有奖励发放"})]}),t.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"基金模式"}),t.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"A币不在资金池中储存，发放即转移给用户。只有平台有净收入时才会产生A币发放，确保每个A币都有实际价值支撑。"})]}),t.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[t.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"🧮"}),"计算示例"]}),t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300 space-y-2",children:[t.jsx("div",{children:t.jsx("strong",{children:"假设条件："})}),t.jsxs("div",{className:"ml-2 text-xs space-y-1",children:[t.jsx("div",{children:"• 平台当日净收入：1000元"}),t.jsx("div",{children:"• A币发放池：1000 × 40% = 400A币"}),t.jsx("div",{children:"• 用户A当日数据：100游戏币，10算力，50元交易"}),t.jsx("div",{children:"• 全网当日数据：2000游戏币，200算力，1000元交易"})]}),t.jsxs("div",{className:"border-t border-purple-200 dark:border-purple-600 pt-2 mt-2",children:[t.jsx("div",{children:t.jsx("strong",{children:"计算过程："})}),t.jsxs("div",{className:"ml-2 text-xs space-y-1",children:[t.jsx("div",{children:"1. 贡献分数 = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2"}),t.jsx("div",{className:"ml-4",children:"= 0.05 + 0.015 + 0.01 = 0.075"}),t.jsx("div",{children:"2. 假设全网总贡献分数 = 1.0"}),t.jsxs("div",{children:["3. 用户A获得A币 = (0.075 ÷ 1.0) × 400 = ",t.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"30 A币"})]})]}),t.jsxs("div",{className:"mt-2 p-2 bg-purple-100 dark:bg-purple-800/30 rounded text-xs",children:[t.jsx("strong",{children:"最终结果："}),"用户A当日获得30A币奖励 (价值30元)"]})]})]})]})]})]})]})]})]}),c==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"筛选条件"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("select",{value:m.type,onChange:M=>p(F=>({...F,type:M.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有类型"}),t.jsx("option",{value:"income",children:"收入"}),t.jsx("option",{value:"expense",children:"支出"})]}),t.jsxs("select",{value:m.category,onChange:M=>p(F=>({...F,category:M.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有类别"}),t.jsx("option",{value:"commission",children:"佣金"}),t.jsx("option",{value:"reward",children:"奖励"}),t.jsx("option",{value:"operation",children:"运营"}),t.jsx("option",{value:"refund",children:"退款"}),t.jsx("option",{value:"maintenance",children:"维护"})]}),t.jsxs("select",{value:m.source,onChange:M=>p(F=>({...F,source:M.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有来源"}),t.jsx("option",{value:"player_market",children:"玩家市场"}),t.jsx("option",{value:"game_store",children:"游戏电商"}),t.jsx("option",{value:"official_store",children:"官方商店"}),t.jsx("option",{value:"system",children:"系统"})]}),t.jsxs("select",{value:m.currency,onChange:M=>p(F=>({...F,currency:M.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有货币"}),t.jsx("option",{value:"cash",children:"💰 现金"}),t.jsx("option",{value:"computing",children:"⚡ 算力"}),t.jsx("option",{value:"gameCoins",children:"🪙 游戏币"}),t.jsx("option",{value:"aCoins",children:"🅰️ A币"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:G,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"搜索"}),t.jsx("button",{onClick:Y,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 transition-colors",children:"重置"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"交易记录"}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["共 ",r.length," 条记录"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"交易编号"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"类型"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"金额"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"描述"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"来源"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"时间"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.slice(0,50).map(M=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-slate-900 dark:text-slate-100",children:M.id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsxs("span",{className:`flex items-center gap-1 ${ee(M.type)}`,children:[se(M.type),M.type==="income"?"收入":"支出"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("span",{className:ee(M.type),children:[M.type==="income"?"+":"-",ne(M.amount,M.currency)]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:M.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400",children:M.source}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400",children:M.timestamp.toLocaleString()})]},M.id))})]})})]})]}),c==="charts"&&s&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"近7日趋势"}),t.jsx("div",{className:"space-y-4",children:s.stats.dailyStats.slice(-7).map((M,F)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:M.date.split("-").slice(1).join("/")}),t.jsxs("span",{className:"font-medium",children:["净收入: ¥",M.netIncome.toLocaleString()]})]}),t.jsxs("div",{className:"flex gap-1 h-2",children:[t.jsx("div",{className:"bg-green-500 rounded-sm",style:{width:`${ie(M.income,Math.max(...s.stats.dailyStats.map(Z=>Z.income)))}%`},title:`收入: ¥${M.income}`}),t.jsx("div",{className:"bg-red-500 rounded-sm",style:{width:`${ie(M.expense,Math.max(...s.stats.dailyStats.map(Z=>Z.expense)))}%`},title:`支出: ¥${M.expense}`})]})]},F))}),t.jsxs("div",{className:"flex gap-4 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),t.jsx("span",{children:"收入"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),t.jsx("span",{children:"支出"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"收支分类"}),t.jsx("div",{className:"space-y-4",children:[{label:"佣金收入",value:s.stats.incomeByCategory.commission,color:"bg-green-500",type:"income"},{label:"运营收入",value:s.stats.incomeByCategory.operation,color:"bg-blue-500",type:"income"},{label:"奖励支出",value:s.stats.expenseByCategory.reward,color:"bg-yellow-500",type:"expense"},{label:"退款支出",value:s.stats.expenseByCategory.refund,color:"bg-red-500",type:"expense"},{label:"维护支出",value:s.stats.expenseByCategory.maintenance,color:"bg-purple-500",type:"expense"}].map((M,F)=>{const Z=Math.max(s.stats.incomeByCategory.commission,s.stats.incomeByCategory.operation,s.stats.expenseByCategory.reward,s.stats.expenseByCategory.refund,s.stats.expenseByCategory.maintenance);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:M.label}),t.jsxs("span",{className:"font-medium",children:["¥",M.value.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`${M.color} h-2 rounded-full transition-all duration-300`,style:{width:`${ie(M.value,Z)}%`}})})]},F)})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/10 dark:to-indigo-900/10 rounded-xl p-8 border border-purple-200 dark:border-purple-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl text-white",children:"🅰️"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"A币数据分析"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"发放趋势、持有分布、流通统计"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📈"}),"A币发放趋势 (近7日)"]}),t.jsx("div",{className:"space-y-4",children:[{date:"09/04",distributed:0,platformIncome:0},{date:"09/05",distributed:0,platformIncome:0},{date:"09/06",distributed:.8,platformIncome:2},{date:"09/07",distributed:0,platformIncome:0},{date:"09/08",distributed:1.17,platformIncome:2.925},{date:"09/09",distributed:.5,platformIncome:1.25},{date:"09/10",distributed:1.2,platformIncome:3}].map((M,F)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:M.date}),t.jsxs("span",{className:"font-medium text-purple-600",children:["发放: ",M.distributed,"A币"]})]}),t.jsx("div",{className:"flex gap-1 h-2",children:t.jsx("div",{className:"bg-purple-500 rounded-sm",style:{width:`${M.distributed>0?M.distributed/1.2*100:0}%`},title:`发放: ${M.distributed}A币`})}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["平台收入: ¥",M.platformIncome]})]},F))})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"👥"}),"持有者分布"]}),t.jsx("div",{className:"space-y-4",children:[{range:"1000+ A币",holders:2,percentage:15,color:"bg-purple-600"},{range:"500-999 A币",holders:5,percentage:25,color:"bg-purple-500"},{range:"100-499 A币",holders:12,percentage:35,color:"bg-purple-400"},{range:"10-99 A币",holders:18,percentage:20,color:"bg-purple-300"},{range:"1-9 A币",holders:8,percentage:5,color:"bg-purple-200"}].map((M,F)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:M.range}),t.jsxs("span",{className:"font-medium",children:[M.holders,"人 (",M.percentage,"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`${M.color} h-2 rounded-full transition-all duration-300`,style:{width:`${M.percentage}%`}})})]},F))})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📊"}),"A币月度统计"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{month:"2024/07",distributed:0,holders:0,avgHolding:0},{month:"2024/08",distributed:0,holders:0,avgHolding:0},{month:"2024/09",distributed:3.67,holders:45,avgHolding:.08},{month:"2024/10",distributed:12.5,holders:68,avgHolding:.18},{month:"2024/11",distributed:28.3,holders:89,avgHolding:.32},{month:"2024/12",distributed:45.2,holders:112,avgHolding:.4}].map((M,F)=>t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[M.month.split("/")[1],"月"]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-xs text-purple-600",children:"发放量"}),t.jsxs("div",{className:"text-sm font-medium",children:[M.distributed,"A币"]}),t.jsx("div",{className:"text-xs text-blue-600",children:"持有者"}),t.jsxs("div",{className:"text-sm font-medium",children:[M.holders,"人"]}),t.jsx("div",{className:"text-xs text-green-600",children:"平均持有"}),t.jsxs("div",{className:"text-sm font-bold",children:[M.avgHolding,"A币"]})]})]},F))})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"🏆"}),"2024年度A币总结"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/30 dark:to-purple-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"89.67"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"累计发放 (A币)"}),t.jsx("div",{className:"text-xs text-purple-500 mt-1",children:"≈ ¥89.67"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"112"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总持有者数"}),t.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"较上月+23人"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"0.80"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平均持有量 (A币)"}),t.jsx("div",{className:"text-xs text-green-500 mt-1",children:"持续增长"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:"0.009%"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"流通率"}),t.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"89.67/1000000000"})]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"月度统计"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.stats.monthlyStats.map((M,F)=>t.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:M.month}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-xs text-green-600",children:"收入"}),t.jsxs("div",{className:"text-sm font-medium",children:["¥",M.income.toLocaleString()]}),t.jsx("div",{className:"text-xs text-red-600",children:"支出"}),t.jsxs("div",{className:"text-sm font-medium",children:["¥",M.expense.toLocaleString()]}),t.jsx("div",{className:"text-xs text-blue-600",children:"净收入"}),t.jsxs("div",{className:"text-sm font-bold",children:["¥",M.netIncome.toLocaleString()]})]})]},F))})]})]}),c==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(WA,{}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🎯 O币相关操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(oe,{to:"/computing-power",className:"flex items-center space-x-3 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💱"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-400",children:"交易O币"}),t.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-500",children:"前往个人中心买入或出售"})]})]}),t.jsxs(oe,{to:"/computing-dashboard",className:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"📊"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-400",children:"算力中心"}),t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-500",children:"查看算力生态数据"})]})]}),t.jsxs(oe,{to:"/platform-management",className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"🔐"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-400",children:"期权管理"}),t.jsx("div",{className:"text-sm text-green-600 dark:text-green-500",children:"前往平台管理系统"})]})]})]})]}),t.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/30 border border-orange-300 dark:border-orange-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-400 mb-2",children:"💡 资金池与O币的关系"}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-500 space-y-1",children:[t.jsx("p",{children:"• 资金池的净收入将用于O币分红，按持币比例分配给所有O币持有者"}),t.jsx("p",{children:"• O币的交易手续费将进入资金池，增强平台整体资金实力"}),t.jsx("p",{children:"• 资金池的健康状况直接影响O币的分红能力和市场价值"}),t.jsx("p",{children:"• 通过资金池透明度提升O币投资者的信心和收益预期"})]})]})]})]})]})}function YA(){const[s,e]=j.useState(null),[r,n]=j.useState(!0);j.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await gt.getStats();e(u)}catch(u){console.error("加载统计数据失败:",u)}finally{n(!1)}},l=async u=>{const m=Math.floor(Math.random()*500)+50,p=u==="marketplace"?m*.01:m*.3,f=`TXN-${Date.now()}`;try{await gt.recordCommissionIncome(f,p,u,`user${Math.floor(Math.random()*1e3)}`,m),alert(`模拟交易成功！
交易编号: ${f}
商品金额: ${m}元
佣金收入: ${p.toFixed(2)}元`),await o()}catch(x){console.error("模拟交易失败:",x),alert("模拟交易失败，请稍后重试")}},c=async()=>{const u=Math.floor(Math.random()*200)+20,m=["computing","cash","gameCoins"],p=m[Math.floor(Math.random()*m.length)],f=["用户签到奖励","新用户注册奖励","活动奖励发放","服务器维护费用","推广活动支出"],x=f[Math.floor(Math.random()*f.length)];try{await gt.recordExpense(u,p,x),alert(`模拟支出成功！
支出类型: ${p}
支出金额: ${u}元
描述: ${x}`),await o()}catch(v){console.error("模拟支出失败:",v),alert("模拟支出失败，请稍后重试")}};return r?t.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"加载中..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"资金池系统演示"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"体验透明的平台资金管理系统"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Link,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-1"}),"主页"]}),t.jsxs(Link,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-chart-line mr-1"}),"算力中心"]})]})]})}),s&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前余额"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["¥",s.currentBalance.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-wallet text-green-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总收入"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["¥",s.totalIncome.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-up text-blue-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总支出"}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["¥",s.totalExpense.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-down text-red-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"今日收入"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["¥",s.dailyIncome.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-calendar-day text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"模拟操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>l("marketplace"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-store mr-2"}),"模拟玩家交易 (1%佣金)"]}),t.jsxs("button",{onClick:()=>l("game_store"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-gamepad mr-2"}),"模拟游戏电商 (30%佣金)"]}),t.jsxs("button",{onClick:c,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-money-bill mr-2"}),"模拟平台支出"]})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:[t.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),"系统说明"]}),t.jsxs("div",{className:"space-y-2 text-blue-800 dark:text-blue-200",children:[t.jsx("p",{children:"• 点击上方按钮可以模拟不同类型的交易和支出"}),t.jsx("p",{children:"• 每次操作后统计数据会自动更新"}),t.jsx("p",{children:"• 所有交易都会生成唯一的交易编号"}),t.jsx("p",{children:"• 用户身份信息在公开展示中会被隐藏"}),t.jsxs("p",{children:["• 访问 ",t.jsx("a",{href:"/fund-pool",className:"underline hover:no-underline",children:"/fund-pool"})," 查看完整的资金池页面"]})]})]})]})})})}const KA=()=>{var _;const[s,e]=j.useState(!1),[r,n]=j.useState([]),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState(1e3),[f,x]=j.useState(100);j.useEffect(()=>{v()},[]);const v=async()=>{try{e(!0);const[A,B]=await Promise.all([gt.getPublicFundPoolData(),js.getDailySettlementData()]);l(A),u(B),N(`当前资金池余额: ${A.currentBalance.totalValue.toFixed(2)}`),N(`当前平台净收入: ${B.platformNetIncome.toFixed(2)}`),N(`当前结算状态: ${B.settlementStatus}`),N(`A币发放池: ${B.aCoinDistributionPool.toFixed(2)}`);const I=localStorage.getItem("forced_platform_income");if(I){const z=parseFloat(I);N(`已设置强制平台净收入: ${z.toFixed(2)}`)}const D=localStorage.getItem("mock_active_users");if(D){const z=JSON.parse(D);N(`已设置${z.length}个模拟用户`)}}catch(A){console.error("加载数据失败:",A),N(`加载数据失败: ${A}`)}finally{e(!1)}},N=A=>{n(B=>[A,...B])},C=async()=>{try{e(!0),N(`添加模拟收入: ${m}元`),await gt.recordCommissionIncome(`mock_transaction_${Date.now()}`,m,"cash","game_store","system",m),localStorage.setItem("forced_platform_income",m.toString()),N(`模拟收入添加成功，已设置平台净收入为: ${m}元`);const A={date:new Date().toISOString().split("T")[0],income:m,expense:0,netIncome:m};try{const I=await gt.getStats();I.dailyStats&&I.dailyStats.length>0&&(I.dailyStats[I.dailyStats.length-1]=A,localStorage.setItem("fund_pool_stats",JSON.stringify(I)),N("已更新资金池每日统计数据"))}catch(I){console.error("更新资金池统计数据失败:",I)}const B=m*.4;N(`A币发放池: ${B.toFixed(2)}`),await v()}catch(A){console.error("添加模拟收入失败:",A),N(`添加模拟收入失败: ${A}`)}finally{e(!1)}},k=async()=>{var A,B;try{e(!0),N("开始执行A币结算...");const I=await js.executeAutoDailySettlement();I.success?(N(`结算成功! 发放金额: ${(A=I.distributedAmount)==null?void 0:A.toFixed(2)} A币`),N(`受益用户数: ${I.recipientsCount}`),N(`结算时间: ${(B=I.lastSettlementTime)==null?void 0:B.toLocaleString()}`)):N(`结算失败: ${I.message}`),await v()}catch(I){console.error("执行结算失败:",I),N(`执行结算失败: ${I}`)}finally{e(!1)}},w=async()=>{try{e(!0),N(`生成${f}个模拟活跃用户...`);const A=Array.from({length:f}).map((B,I)=>({userId:`mock_user_${I}`,gameCoins:Math.floor(Math.random()*500)+50,computingPower:Math.floor(Math.random()*100)+10,transactionVolume:Math.floor(Math.random()*1e3)+100}));A.push({userId:"current-user",gameCoins:200,computingPower:50,transactionVolume:500}),localStorage.setItem("mock_active_users",JSON.stringify(A)),N(`已生成${A.length}个模拟用户数据`),N("当前用户数据: 游戏币=200, 算力=50, 交易量=500")}catch(A){console.error("生成模拟用户失败:",A),N(`生成模拟用户失败: ${A}`)}finally{e(!1)}},T=async()=>{try{e(!0),N("开始强制执行A币结算...");const A=localStorage.getItem("mock_active_users");if(!A){N("未找到模拟用户数据，请先生成模拟用户"),e(!1);return}const B=JSON.parse(A);N(`找到${B.length}个模拟用户`);const I=m>0?m:1e3,D=I*.4;localStorage.setItem("forced_platform_income",I.toString()),N(`已设置强制平台净收入: ${I}元`),N(`A币发放池: ${D.toFixed(2)} A币`);const z={date:new Date().toISOString().split("T")[0],income:I,expense:0,netIncome:I};try{const Y=await gt.getStats();Y.dailyStats&&Y.dailyStats.length>0&&(Y.dailyStats[Y.dailyStats.length-1]=z,localStorage.setItem("fund_pool_stats",JSON.stringify(Y)),N("已更新资金池每日统计数据"))}catch(Y){console.error("更新资金池统计数据失败:",Y)}const E=await kn.distributeACoinsByContribution(D,B);N(`强制结算成功! 发放金额: ${E.totalAmount.toFixed(2)} A币`),N(`受益用户数: ${E.recipientsCount}`);const G=E.successfulDistributions.find(Y=>Y.userId==="current-user");G?(N(`当前用户获得: ${G.amount.toFixed(2)} A币`),await et.distributeACoins(G.amount,`强制结算A币奖励 - 贡献分数: ${G.contributionScore.toFixed(2)}`),N("已更新当前用户钱包")):N("当前用户未获得A币"),await gt.updateAfterSettlement(E.totalAmount,B.length),await js.saveSettlementTime(new Date),await v()}catch(A){console.error("强制执行结算失败:",A),N(`强制执行结算失败: ${A}`)}finally{e(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold text-purple-400 mb-6",children:"A币结算测试工具"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"资金池数据"}),o?t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"总余额:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",o.currentBalance.totalValue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"现金余额:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",o.currentBalance.cash.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"游戏币:"}),t.jsx("span",{className:"text-yellow-400 font-bold",children:o.currentBalance.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"算力:"}),t.jsx("span",{className:"text-purple-400 font-bold",children:o.currentBalance.computing.toFixed(1)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"A币流通量:"}),t.jsx("span",{className:"text-indigo-400 font-bold",children:((_=o.aCoinStats)==null?void 0:_.circulatingSupply.toFixed(2))||"0.00"})]})]}):t.jsx("div",{className:"text-slate-400",children:"加载中..."})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"结算数据"}),c?t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"日期:"}),t.jsx("span",{className:"text-white font-bold",children:c.date})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"平台净收入:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",c.platformNetIncome.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"A币发放池:"}),t.jsx("span",{className:"text-indigo-400 font-bold",children:c.aCoinDistributionPool.toFixed(2)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"活跃用户数:"}),t.jsx("span",{className:"text-blue-400 font-bold",children:c.totalDailyActivePlayers})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"结算状态:"}),t.jsx("span",{className:`font-bold ${c.settlementStatus==="ready"?"text-green-400":c.settlementStatus==="completed"?"text-blue-400":"text-red-400"}`,children:c.settlementStatus==="ready"?"准备就绪":c.settlementStatus==="completed"?"已完成":c.settlementStatus==="insufficient_income"?"收入不足":c.settlementStatus})]})]}):t.jsx("div",{className:"text-slate-400",children:"加载中..."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-green-400 mb-3",children:"添加模拟收入"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"收入金额"}),t.jsx("input",{type:"number",value:m,onChange:A=>p(Number(A.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",min:"1"})]}),t.jsx("button",{onClick:C,disabled:s,className:"w-full bg-green-500/20 border border-green-400/30 rounded px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"添加模拟收入"})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-blue-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-blue-400 mb-3",children:"生成模拟用户"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"用户数量"}),t.jsx("input",{type:"number",value:f,onChange:A=>x(Number(A.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",min:"1",max:"1000"})]}),t.jsx("button",{onClick:w,disabled:s,className:"w-full bg-blue-500/20 border border-blue-400/30 rounded px-4 py-2 text-blue-400 hover:bg-blue-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"生成模拟用户"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"执行正常结算"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"执行标准的A币结算流程，需要平台净收入为正值。"}),t.jsx("button",{onClick:k,disabled:s,className:"w-full bg-purple-500/20 border border-purple-400/30 rounded px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"执行结算"})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-orange-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-orange-400 mb-3",children:"强制执行结算"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"绕过平台净收入检查，强制执行A币结算。"}),t.jsx("button",{onClick:T,disabled:s,className:"w-full bg-orange-500/20 border border-orange-400/30 rounded px-4 py-2 text-orange-400 hover:bg-orange-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"强制结算"})]})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-cyan-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-cyan-400 mb-3",children:"操作日志"}),t.jsx("div",{className:"bg-black/30 rounded-lg p-3 h-64 overflow-y-auto",children:r.length>0?t.jsx("div",{className:"space-y-2",children:r.map((A,B)=>t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-gray-400",children:["[",new Date().toLocaleTimeString(),"]"]})," ",A]},B))}):t.jsx("div",{className:"text-center text-slate-400 py-4",children:"暂无操作日志"})})]})]})})};function ZA({calculationResult:s,fundPoolData:e}){return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"个人贡献分数计算（分子）"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"个人数据"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"游戏币获得贡献 (50%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalGameCoins," × 0.5 = ",(s.step1.personalGameCoins*.5).toFixed(1)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"算力贡献 (30%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalComputingPower," × 0.3 = ",(s.step1.personalComputingPower*.3).toFixed(1)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"交易活跃度 (20%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalTransactionVolume," × 0.2 = ",(s.step1.personalTransactionVolume*.2).toFixed(1)]})]})]})]}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"个人贡献分数"}),t.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.step1.personalContributionScore.toFixed(2)})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"全网总贡献分数计算（分母）"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"全网数据"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"游戏币发放贡献 (50%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkGameCoins.toLocaleString()," × 0.5 = ",(s.step2.networkGameCoins*.5).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"算力贡献 (30%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkComputingPower.toLocaleString()," × 0.3 = ",(s.step2.networkComputingPower*.3).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"交易活跃度 (20%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkTransactionVolume.toLocaleString()," × 0.2 = ",(s.step2.networkTransactionVolume*.2).toLocaleString()]})]})]})]}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-6 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"全网总贡献分数"}),t.jsx("div",{className:"text-3xl font-bold text-amber-600",children:s.step2.totalNetworkContributionScore.toLocaleString()})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),"A币计算与发放"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"计算过程"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"平台净收入"}),t.jsxs("span",{className:"font-mono",children:["¥",s.step3.platformNetIncome.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"A币发放池 (40%)"}),t.jsxs("span",{className:"font-mono",children:[s.step3.dailyACoinPool.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"个人占比"}),t.jsxs("span",{className:"font-mono",children:[(s.step3.personalRatio*100).toFixed(4),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"计算A币"}),t.jsxs("span",{className:"font-mono",children:[s.step3.calculatedACoin.toFixed(4)," A币"]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"发放规则"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"发放公式"}),t.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 当日发放池"})]}),t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"最小发放单位"}),t.jsx("div",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:"0.01A币，低于此数额不发放"})]})]})]})]}),t.jsx("div",{className:"border-t pt-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"实际发放A币"}),t.jsx("div",{className:"text-4xl font-bold text-indigo-600",children:s.step3.actualDistributed.toFixed(2)}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"A币"})]}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"等值人民币"}),t.jsxs("div",{className:"text-4xl font-bold text-green-600",children:["¥",s.step3.actualDistributed.toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"1 A币 = 1 RMB"})]}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"发放状态"}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.step3.actualDistributed>0?"✅ 已发放":"❌ 未发放"}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:s.step3.actualDistributed>0?"满足最小发放条件":"低于最小发放单位"})]})]})})]})]}),e&&s.step3.actualDistributed>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"🏦"}),"资金池A币变化"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"资金池A币减少"}),t.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["-",s.step3.actualDistributed.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"流通供应量增加"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["+",s.step3.actualDistributed.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"累计发放增加"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",s.step3.actualDistributed.toFixed(2)," A币"]})]})]})]})]})}function qA(){const[s,e]=j.useState(!1),[r,n]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState({aCoins:0,computing:1200,gameCoins:850,transactionVolume:2500});j.useEffect(()=>{f()},[]);const f=async()=>{try{const[N,C]=await Promise.all([gt.getPublicFundPoolData(),js.getDailySettlementData()]);l(N),u(C)}catch(N){console.error("加载初始数据失败:",N)}},x=async()=>{if(!c||!o){alert("请先加载基础数据");return}e(!0);try{const N=m.computing,C=m.gameCoins,k=m.transactionVolume,w=C*.5+N*.3+k*.2,T=c.totalDailyComputingPower,_=c.totalDailyGameCoinsDistributed,A=5e4,B=_*.5+T*.3+A*.2,I=c.platformNetIncome,D=I>0?I*.4:0,z=w/B,E=D*z,G=E>=.01?E:0;if(n({step1:{personalComputingPower:N,personalGameCoins:C,personalTransactionVolume:k,personalContributionScore:w},step2:{networkComputingPower:T,networkGameCoins:_,networkTransactionVolume:A,totalNetworkContributionScore:B},step3:{personalRatio:z,dailyACoinPool:D,calculatedACoin:E,actualDistributed:G,platformNetIncome:I}}),G>0&&(p(ne=>({...ne,aCoins:ne.aCoins+G})),o)){const ne={...o,currentBalance:{...o.currentBalance,aCoins:Math.max(0,o.currentBalance.aCoins-G)},aCoinStats:{...o.aCoinStats,circulatingSupply:o.aCoinStats.circulatingSupply+G,totalDistributed:o.aCoinStats.totalDistributed+G}};l(ne)}}catch(N){console.error("A币计算失败:",N),alert("A币计算失败，请重试")}finally{e(!1)}},v=()=>{n(null),p({aCoins:0,computing:1200,gameCoins:850,transactionVolume:2500}),f()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"A币计算与发放测试"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"按照约定算法测试A币的计算与发放流程"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(oe,{to:"/computing-dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回算力中心"}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"重置测试"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"个人中心数据"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.computing}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"实时算力"})]}),t.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:m.gameCoins}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["¥",m.transactionVolume.toLocaleString()]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"交易金额"})]}),t.jsxs("div",{className:"text-center p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[m.aCoins.toFixed(2)," A币"]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前A币余额"})]})]})]}),c&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mb-8",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:["全网每日数据 (",c.date,")"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.totalDailyComputingPower.toLocaleString()}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"全网算力"})]}),t.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:c.totalDailyGameCoinsDistributed.toLocaleString()}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币发放"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:"¥50,000"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"全网交易额"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["¥",c.platformNetIncome.toLocaleString()]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平台净收入"})]})]})]}),t.jsx("div",{className:"text-center mb-8",children:t.jsx("button",{onClick:x,disabled:s||!c||!o,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-lg font-bold rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"计算中...":"🧮 开始A币计算与发放"})}),r&&t.jsx(ZA,{calculationResult:r,fundPoolData:o})]})})}const XA=()=>{var B;const{lang:s}=hs(),e=Ps(s),{posts:r,categories:n,stats:o,loading:l,error:c,currentPage:u,totalPages:m,fetchPosts:p}=xl(),[f,x]=j.useState(""),[v,N]=j.useState(""),[C,k]=j.useState("");j.useEffect(()=>{p(1,10)},[]);const w=I=>{x(I),N(""),I?p(1,10,{category:I}):p(1,10)},T=I=>{N(I),x(""),p(1,10,{tag:I})},_=I=>{I.preventDefault(),C.trim()&&p(1,10,{search:C})},A=I=>{const D={};f&&(D.category=f),v&&(D.tag=v),C&&(D.search=C),p(I,10,D)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(oe,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(oe,{to:"/",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.home")}),t.jsx(oe,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.gameCenter")}),t.jsx(oe,{to:"/blog-center",className:"text-sm font-medium text-blue-600 dark:text-blue-400 transition-colors",children:y(e,"blog.header.blogCenter")}),t.jsx(oe,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.personalCenter")})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(oe,{to:"/blog/create",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:y(e,"blog.header.createBlog")})})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"lg:w-1/4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:y(e,"blog.sidebar.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"blog.sidebar.desc")}),t.jsx("form",{onSubmit:_,className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:y(e,"blog.sidebar.searchPlaceholder"),value:C,onChange:I=>k(I.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-500",children:"🔍"})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.categories")}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>w(""),className:`w-full text-left px-2 py-1 rounded ${f===""?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:y(e,"blog.sidebar.allCategories")})}),n.map(I=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>w(I.id),className:`w-full text-left px-2 py-1 rounded flex justify-between items-center ${f===I.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[t.jsx("span",{children:I.name}),t.jsx("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:I.postCount})]})},I.id))]})]}),o&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.popularTags")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.popularTags.map((I,D)=>t.jsxs("button",{onClick:()=>T(I.tag),className:`px-3 py-1 text-sm rounded-full ${v===I.tag?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-300 dark:border-blue-700":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[I.tag," (",I.count,")"]},D))})]}),o&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.stats")}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalPosts")}),t.jsx("span",{className:"font-medium",children:o.totalPosts})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalViews")}),t.jsx("span",{className:"font-medium",children:o.totalViews})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalLikes")}),t.jsx("span",{className:"font-medium",children:o.totalLikes})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalComments")}),t.jsx("span",{className:"font-medium",children:o.totalComments})]})]})]})]}),o&&o.popularPosts.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-3",children:s==="zh"?"热门文章":"Popular Posts"}),t.jsx("ul",{className:"space-y-3",children:o.popularPosts.map((I,D)=>t.jsx("li",{className:"border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:t.jsx(oe,{to:`/blog/${I.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 w-6 h-6 flex items-center justify-center rounded-full text-sm",children:D+1}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium line-clamp-2",children:I.title}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[I.views," 次浏览"]})]})]})})},I.id))})]})]}),t.jsxs("div",{className:"lg:w-3/4",children:[(f||v||C)&&t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg p-3 mb-6 flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[f&&t.jsxs("span",{children:[s==="zh"?"分类":"Category",": ",(B=n.find(I=>I.id===f))==null?void 0:B.name]}),v&&t.jsxs("span",{children:[s==="zh"?"标签":"Tag",": ",v]}),C&&t.jsxs("span",{children:[s==="zh"?"搜索":"Search",': "',C,'"']})]}),t.jsx("button",{onClick:()=>{x(""),N(""),k(""),p(1,10)},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:y(e,"blog.filterBar.clear")})]}),l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):c?t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center text-red-700 dark:text-red-300",children:c}):r.length===0?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg p-8 text-center",children:[t.jsx("div",{className:"text-4xl mb-3",children:"📝"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:y(e,"blog.empty.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:f||v||C?y(e,"blog.empty.notFound"):y(e,"blog.empty.encourage")}),t.jsx(oe,{to:"/blog/create",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:y(e,"blog.empty.writeBlog")})]}):t.jsx("div",{className:"space-y-6",children:r.map(I=>t.jsx(JA,{post:I},I.id))}),!l&&r.length>0&&m>1&&t.jsx("div",{className:"flex justify-center mt-8",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("button",{onClick:()=>A(Math.max(1,u-1)),disabled:u===1,className:`px-3 py-1 rounded ${u===1?"bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:y(e,"blog.pagination.prev")}),Array.from({length:m},(I,D)=>D+1).map(I=>t.jsx("button",{onClick:()=>A(I),className:`w-8 h-8 flex items-center justify-center rounded ${u===I?"bg-blue-600 text-white":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:I},I)),t.jsx("button",{onClick:()=>A(Math.min(m,u+1)),disabled:u===m,className:`px-3 py-1 rounded ${u===m?"bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:y(e,"blog.pagination.next")})]})})]})]})}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-8",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 text-sm",children:y(e,"about.footer.copyright")})]})})]})},JA=({post:s})=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:t.jsxs("div",{className:"md:flex",children:[s.coverImage&&t.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:`p-6 ${s.coverImage?"md:w-2/3":"w-full"}`,children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:t.jsx("img",{src:s.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:s.authorName,className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.authorName}),t.jsx("span",{className:"mx-2 text-slate-300 dark:text-slate-600",children:"•"}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-500",children:new Date(s.publishDate).toLocaleDateString("zh-CN")})]}),t.jsxs(oe,{to:`/blog/${s.id}`,className:"block group",children:[t.jsx("h2",{className:"text-xl font-bold mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4 line-clamp-2",children:s.summary})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((e,r)=>t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:e},r)),s.tags.length>3&&t.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["+",s.tags.length-3]})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"👁️"}),t.jsx("span",{children:s.views})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"❤️"}),t.jsx("span",{children:s.likes})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"💬"}),t.jsx("span",{children:s.commentCount})]})]})]})]})]})});/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:Dv,setPrototypeOf:$g,isFrozen:QA,getPrototypeOf:e_,getOwnPropertyDescriptor:t_}=Object;let{freeze:Bs,seal:gr,create:Ev}=Object,{apply:hh,construct:ph}=typeof Reflect<"u"&&Reflect;Bs||(Bs=function(e){return e});gr||(gr=function(e){return e});hh||(hh=function(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),l=2;l<n;l++)o[l-2]=arguments[l];return e.apply(r,o)});ph||(ph=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new e(...n)});const Oc=Us(Array.prototype.forEach),s_=Us(Array.prototype.lastIndexOf),Fg=Us(Array.prototype.pop),yo=Us(Array.prototype.push),r_=Us(Array.prototype.splice),Yc=Us(String.prototype.toLowerCase),Am=Us(String.prototype.toString),_m=Us(String.prototype.match),vo=Us(String.prototype.replace),a_=Us(String.prototype.indexOf),n_=Us(String.prototype.trim),Ar=Us(Object.prototype.hasOwnProperty),zs=Us(RegExp.prototype.test),wo=i_(TypeError);function Us(s){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return hh(s,e,n)}}function i_(s){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ph(s,r)}}function dt(s,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yc;$g&&$g(s,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o=="string"){const l=r(o);l!==o&&(QA(e)||(e[n]=l),o=l)}s[o]=!0}return s}function o_(s){for(let e=0;e<s.length;e++)Ar(s,e)||(s[e]=null);return s}function fa(s){const e=Ev(null);for(const[r,n]of Dv(s))Ar(s,r)&&(Array.isArray(n)?e[r]=o_(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=fa(n):e[r]=n);return e}function jo(s,e){for(;s!==null;){const n=t_(s,e);if(n){if(n.get)return Us(n.get);if(typeof n.value=="function")return Us(n.value)}s=e_(s)}function r(){return null}return r}const Vg=Bs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dm=Bs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Em=Bs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),l_=Bs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pm=Bs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),c_=Bs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Bg=Bs(["#text"]),Ug=Bs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Im=Bs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Hg=Bs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lc=Bs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),d_=gr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),u_=gr(/<%[\w\W]*|[\w\W]*%>/gm),m_=gr(/\$\{[\w\W]*/gm),h_=gr(/^data-[\-\w.\u00B7-\uFFFF]+$/),p_=gr(/^aria-[\-\w]+$/),Pv=gr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),f_=gr(/^(?:\w+script|data):/i),x_=gr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Iv=gr(/^html$/i),g_=gr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Wg=Object.freeze({__proto__:null,ARIA_ATTR:p_,ATTR_WHITESPACE:x_,CUSTOM_ELEMENT:g_,DATA_ATTR:h_,DOCTYPE_NAME:Iv,ERB_EXPR:u_,IS_ALLOWED_URI:Pv,IS_SCRIPT_OR_DATA:f_,MUSTACHE_EXPR:d_,TMPLIT_EXPR:m_});const No={element:1,text:3,progressingInstruction:7,comment:8,document:9},b_=function(){return typeof window>"u"?null:window},y_=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const o="data-tt-policy-suffix";r&&r.hasAttribute(o)&&(n=r.getAttribute(o));const l="dompurify"+(n?"#"+n:"");try{return e.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Gg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Rv(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b_();const e=Be=>Rv(Be);if(e.version="3.2.7",e.removed=[],!s||!s.document||s.document.nodeType!==No.document||!s.Element)return e.isSupported=!1,e;let{document:r}=s;const n=r,o=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:u,Element:m,NodeFilter:p,NamedNodeMap:f=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:x,DOMParser:v,trustedTypes:N}=s,C=m.prototype,k=jo(C,"cloneNode"),w=jo(C,"remove"),T=jo(C,"nextSibling"),_=jo(C,"childNodes"),A=jo(C,"parentNode");if(typeof c=="function"){const Be=r.createElement("template");Be.content&&Be.content.ownerDocument&&(r=Be.content.ownerDocument)}let B,I="";const{implementation:D,createNodeIterator:z,createDocumentFragment:E,getElementsByTagName:G}=r,{importNode:Y}=n;let ne=Gg();e.isSupported=typeof Dv=="function"&&typeof A=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ee,ERB_EXPR:se,TMPLIT_EXPR:ie,DATA_ATTR:M,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:re}=Wg;let{IS_ALLOWED_URI:H}=Wg,P=null;const W=dt({},[...Vg,...Dm,...Em,...Pm,...Bg]);let ae=null;const je=dt({},[...Ug,...Im,...Hg,...Lc]);let Ne=Object.seal(Ev(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,Ee=null,Ue=!0,Ye=!0,ut=!1,Gt=!0,_t=!1,ps=!0,Et=!1,ns=!1,jt=!1,Pt=!1,It=!1,yt=!1,O=!0,q=!1;const J="user-content-";let be=!0,xe=!1,de={},Ce=null;const ye=dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let nt=null;const vt=dt({},["audio","video","img","source","image","track"]);let Rt=null;const Mt=dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fs="http://www.w3.org/1998/Math/MathML",is="http://www.w3.org/2000/svg",qt="http://www.w3.org/1999/xhtml";let Ns=qt,Is=!1,Qs=null;const xs=dt({},[fs,is,qt],Am);let Ot=dt({},["mi","mo","mn","ms","mtext"]),Rs=dt({},["annotation-xml"]);const ir=dt({},["title","style","font","a","script"]);let gs=null;const sa=["application/xhtml+xml","text/html"],Ze="text/html";let st=null,bt=null;const K=r.createElement("form"),Pe=function(V){return V instanceof RegExp||V instanceof Function},we=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(bt&&bt===V)){if((!V||typeof V!="object")&&(V={}),V=fa(V),gs=sa.indexOf(V.PARSER_MEDIA_TYPE)===-1?Ze:V.PARSER_MEDIA_TYPE,st=gs==="application/xhtml+xml"?Am:Yc,P=Ar(V,"ALLOWED_TAGS")?dt({},V.ALLOWED_TAGS,st):W,ae=Ar(V,"ALLOWED_ATTR")?dt({},V.ALLOWED_ATTR,st):je,Qs=Ar(V,"ALLOWED_NAMESPACES")?dt({},V.ALLOWED_NAMESPACES,Am):xs,Rt=Ar(V,"ADD_URI_SAFE_ATTR")?dt(fa(Mt),V.ADD_URI_SAFE_ATTR,st):Mt,nt=Ar(V,"ADD_DATA_URI_TAGS")?dt(fa(vt),V.ADD_DATA_URI_TAGS,st):vt,Ce=Ar(V,"FORBID_CONTENTS")?dt({},V.FORBID_CONTENTS,st):ye,pe=Ar(V,"FORBID_TAGS")?dt({},V.FORBID_TAGS,st):fa({}),Ee=Ar(V,"FORBID_ATTR")?dt({},V.FORBID_ATTR,st):fa({}),de=Ar(V,"USE_PROFILES")?V.USE_PROFILES:!1,Ue=V.ALLOW_ARIA_ATTR!==!1,Ye=V.ALLOW_DATA_ATTR!==!1,ut=V.ALLOW_UNKNOWN_PROTOCOLS||!1,Gt=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=V.SAFE_FOR_TEMPLATES||!1,ps=V.SAFE_FOR_XML!==!1,Et=V.WHOLE_DOCUMENT||!1,Pt=V.RETURN_DOM||!1,It=V.RETURN_DOM_FRAGMENT||!1,yt=V.RETURN_TRUSTED_TYPE||!1,jt=V.FORCE_BODY||!1,O=V.SANITIZE_DOM!==!1,q=V.SANITIZE_NAMED_PROPS||!1,be=V.KEEP_CONTENT!==!1,xe=V.IN_PLACE||!1,H=V.ALLOWED_URI_REGEXP||Pv,Ns=V.NAMESPACE||qt,Ot=V.MATHML_TEXT_INTEGRATION_POINTS||Ot,Rs=V.HTML_INTEGRATION_POINTS||Rs,Ne=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&Pe(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ne.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck),V.CUSTOM_ELEMENT_HANDLING&&Pe(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ne.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ne.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(Ye=!1),It&&(Pt=!0),de&&(P=dt({},Bg),ae=[],de.html===!0&&(dt(P,Vg),dt(ae,Ug)),de.svg===!0&&(dt(P,Dm),dt(ae,Im),dt(ae,Lc)),de.svgFilters===!0&&(dt(P,Em),dt(ae,Im),dt(ae,Lc)),de.mathMl===!0&&(dt(P,Pm),dt(ae,Hg),dt(ae,Lc))),V.ADD_TAGS&&(P===W&&(P=fa(P)),dt(P,V.ADD_TAGS,st)),V.ADD_ATTR&&(ae===je&&(ae=fa(ae)),dt(ae,V.ADD_ATTR,st)),V.ADD_URI_SAFE_ATTR&&dt(Rt,V.ADD_URI_SAFE_ATTR,st),V.FORBID_CONTENTS&&(Ce===ye&&(Ce=fa(Ce)),dt(Ce,V.FORBID_CONTENTS,st)),be&&(P["#text"]=!0),Et&&dt(P,["html","head","body"]),P.table&&(dt(P,["tbody"]),delete pe.tbody),V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');B=V.TRUSTED_TYPES_POLICY,I=B.createHTML("")}else B===void 0&&(B=y_(N,o)),B!==null&&typeof I=="string"&&(I=B.createHTML(""));Bs&&Bs(V),bt=V}},ue=dt({},[...Dm,...Em,...l_]),Se=dt({},[...Pm,...c_]),Ae=function(V){let ge=A(V);(!ge||!ge.tagName)&&(ge={namespaceURI:Ns,tagName:"template"});const Le=Yc(V.tagName),Nt=Yc(ge.tagName);return Qs[V.namespaceURI]?V.namespaceURI===is?ge.namespaceURI===qt?Le==="svg":ge.namespaceURI===fs?Le==="svg"&&(Nt==="annotation-xml"||Ot[Nt]):!!ue[Le]:V.namespaceURI===fs?ge.namespaceURI===qt?Le==="math":ge.namespaceURI===is?Le==="math"&&Rs[Nt]:!!Se[Le]:V.namespaceURI===qt?ge.namespaceURI===is&&!Rs[Nt]||ge.namespaceURI===fs&&!Ot[Nt]?!1:!Se[Le]&&(ir[Le]||!ue[Le]):!!(gs==="application/xhtml+xml"&&Qs[V.namespaceURI]):!1},He=function(V){yo(e.removed,{element:V});try{A(V).removeChild(V)}catch{w(V)}},Je=function(V,ge){try{yo(e.removed,{attribute:ge.getAttributeNode(V),from:ge})}catch{yo(e.removed,{attribute:null,from:ge})}if(ge.removeAttribute(V),V==="is")if(Pt||It)try{He(ge)}catch{}else try{ge.setAttribute(V,"")}catch{}},Ct=function(V){let ge=null,Le=null;if(jt)V="<remove></remove>"+V;else{const rt=_m(V,/^[\r\n\t ]+/);Le=rt&&rt[0]}gs==="application/xhtml+xml"&&Ns===qt&&(V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>");const Nt=B?B.createHTML(V):V;if(Ns===qt)try{ge=new v().parseFromString(Nt,gs)}catch{}if(!ge||!ge.documentElement){ge=D.createDocument(Ns,"template",null);try{ge.documentElement.innerHTML=Is?I:Nt}catch{}}const os=ge.body||ge.documentElement;return V&&Le&&os.insertBefore(r.createTextNode(Le),os.childNodes[0]||null),Ns===qt?G.call(ge,Et?"html":"body")[0]:Et?ge.documentElement:os},Ms=function(V){return z.call(V.ownerDocument||V,V,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},rn=function(V){return V instanceof x&&(typeof V.nodeName!="string"||typeof V.textContent!="string"||typeof V.removeChild!="function"||!(V.attributes instanceof f)||typeof V.removeAttribute!="function"||typeof V.setAttribute!="function"||typeof V.namespaceURI!="string"||typeof V.insertBefore!="function"||typeof V.hasChildNodes!="function")},gl=function(V){return typeof u=="function"&&V instanceof u};function br(Be,V,ge){Oc(Be,Le=>{Le.call(e,V,ge,bt)})}const bl=function(V){let ge=null;if(br(ne.beforeSanitizeElements,V,null),rn(V))return He(V),!0;const Le=st(V.nodeName);if(br(ne.uponSanitizeElement,V,{tagName:Le,allowedTags:P}),ps&&V.hasChildNodes()&&!gl(V.firstElementChild)&&zs(/<[/\w!]/g,V.innerHTML)&&zs(/<[/\w!]/g,V.textContent)||V.nodeType===No.progressingInstruction||ps&&V.nodeType===No.comment&&zs(/<[/\w]/g,V.data))return He(V),!0;if(!P[Le]||pe[Le]){if(!pe[Le]&&Ti(Le)&&(Ne.tagNameCheck instanceof RegExp&&zs(Ne.tagNameCheck,Le)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(Le)))return!1;if(be&&!Ce[Le]){const Nt=A(V)||V.parentNode,os=_(V)||V.childNodes;if(os&&Nt){const rt=os.length;for(let ks=rt-1;ks>=0;--ks){const er=k(os[ks],!0);er.__removalCount=(V.__removalCount||0)+1,Nt.insertBefore(er,T(V))}}}return He(V),!0}return V instanceof m&&!Ae(V)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&zs(/<\/no(script|embed|frames)/i,V.innerHTML)?(He(V),!0):(_t&&V.nodeType===No.text&&(ge=V.textContent,Oc([ee,se,ie],Nt=>{ge=vo(ge,Nt," ")}),V.textContent!==ge&&(yo(e.removed,{element:V.cloneNode()}),V.textContent=ge)),br(ne.afterSanitizeElements,V,null),!1)},Lr=function(V,ge,Le){if(O&&(ge==="id"||ge==="name")&&(Le in r||Le in K))return!1;if(!(Ye&&!Ee[ge]&&zs(M,ge))){if(!(Ue&&zs(F,ge))){if(!ae[ge]||Ee[ge]){if(!(Ti(V)&&(Ne.tagNameCheck instanceof RegExp&&zs(Ne.tagNameCheck,V)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(V))&&(Ne.attributeNameCheck instanceof RegExp&&zs(Ne.attributeNameCheck,ge)||Ne.attributeNameCheck instanceof Function&&Ne.attributeNameCheck(ge,V))||ge==="is"&&Ne.allowCustomizedBuiltInElements&&(Ne.tagNameCheck instanceof RegExp&&zs(Ne.tagNameCheck,Le)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(Le))))return!1}else if(!Rt[ge]){if(!zs(H,vo(Le,L,""))){if(!((ge==="src"||ge==="xlink:href"||ge==="href")&&V!=="script"&&a_(Le,"data:")===0&&nt[V])){if(!(ut&&!zs(Z,vo(Le,L,"")))){if(Le)return!1}}}}}}return!0},Ti=function(V){return V!=="annotation-xml"&&_m(V,re)},Ai=function(V){br(ne.beforeSanitizeAttributes,V,null);const{attributes:ge}=V;if(!ge||rn(V))return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let Nt=ge.length;for(;Nt--;){const os=ge[Nt],{name:rt,namespaceURI:ks,value:er}=os,ra=st(rt),Sa=er;let ts=rt==="value"?Sa:n_(Sa);if(Le.attrName=ra,Le.attrValue=ts,Le.keepAttr=!0,Le.forceKeepAttr=void 0,br(ne.uponSanitizeAttribute,V,Le),ts=Le.attrValue,q&&(ra==="id"||ra==="name")&&(Je(rt,V),ts=J+ts),ps&&zs(/((--!?|])>)|<\/(style|title|textarea)/i,ts)){Je(rt,V);continue}if(ra==="attributename"&&_m(ts,"href")){Je(rt,V);continue}if(Le.forceKeepAttr)continue;if(!Le.keepAttr){Je(rt,V);continue}if(!Gt&&zs(/\/>/i,ts)){Je(rt,V);continue}_t&&Oc([ee,se,ie],an=>{ts=vo(ts,an," ")});const _i=st(V.nodeName);if(!Lr(_i,ra,ts)){Je(rt,V);continue}if(B&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!ks)switch(N.getAttributeType(_i,ra)){case"TrustedHTML":{ts=B.createHTML(ts);break}case"TrustedScriptURL":{ts=B.createScriptURL(ts);break}}if(ts!==Sa)try{ks?V.setAttributeNS(ks,rt,ts):V.setAttribute(rt,ts),rn(V)?He(V):Fg(e.removed)}catch{Je(rt,V)}}br(ne.afterSanitizeAttributes,V,null)},Nd=function Be(V){let ge=null;const Le=Ms(V);for(br(ne.beforeSanitizeShadowDOM,V,null);ge=Le.nextNode();)br(ne.uponSanitizeShadowNode,ge,null),bl(ge),Ai(ge),ge.content instanceof l&&Be(ge.content);br(ne.afterSanitizeShadowDOM,V,null)};return e.sanitize=function(Be){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=null,Le=null,Nt=null,os=null;if(Is=!Be,Is&&(Be="<!-->"),typeof Be!="string"&&!gl(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw wo("dirty is not a string, aborting")}else throw wo("toString is not a function");if(!e.isSupported)return Be;if(ns||we(V),e.removed=[],typeof Be=="string"&&(xe=!1),xe){if(Be.nodeName){const er=st(Be.nodeName);if(!P[er]||pe[er])throw wo("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof u)ge=Ct("<!---->"),Le=ge.ownerDocument.importNode(Be,!0),Le.nodeType===No.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?ge=Le:ge.appendChild(Le);else{if(!Pt&&!_t&&!Et&&Be.indexOf("<")===-1)return B&&yt?B.createHTML(Be):Be;if(ge=Ct(Be),!ge)return Pt?null:yt?I:""}ge&&jt&&He(ge.firstChild);const rt=Ms(xe?Be:ge);for(;Nt=rt.nextNode();)bl(Nt),Ai(Nt),Nt.content instanceof l&&Nd(Nt.content);if(xe)return Be;if(Pt){if(It)for(os=E.call(ge.ownerDocument);ge.firstChild;)os.appendChild(ge.firstChild);else os=ge;return(ae.shadowroot||ae.shadowrootmode)&&(os=Y.call(n,os,!0)),os}let ks=Et?ge.outerHTML:ge.innerHTML;return Et&&P["!doctype"]&&ge.ownerDocument&&ge.ownerDocument.doctype&&ge.ownerDocument.doctype.name&&zs(Iv,ge.ownerDocument.doctype.name)&&(ks="<!DOCTYPE "+ge.ownerDocument.doctype.name+`>
`+ks),_t&&Oc([ee,se,ie],er=>{ks=vo(ks,er," ")}),B&&yt?B.createHTML(ks):ks},e.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};we(Be),ns=!0},e.clearConfig=function(){bt=null,ns=!1},e.isValidAttribute=function(Be,V,ge){bt||we({});const Le=st(Be),Nt=st(V);return Lr(Le,Nt,ge)},e.addHook=function(Be,V){typeof V=="function"&&yo(ne[Be],V)},e.removeHook=function(Be,V){if(V!==void 0){const ge=s_(ne[Be],V);return ge===-1?void 0:r_(ne[Be],ge,1)[0]}return Fg(ne[Be])},e.removeHooks=function(Be){ne[Be]=[]},e.removeAllHooks=function(){ne=Gg()},e}var v_=Rv();const w_=()=>{const{id:s}=gh(),e=Pn(),{fetchPostById:r,likePost:n,fetchComments:o,addComment:l}=xl(),{userData:c}=fl(),[u,m]=j.useState(null),[p,f]=j.useState([]),[x,v]=j.useState(!0),[N,C]=j.useState(null),[k,w]=j.useState(""),[T,_]=j.useState(!1),[A,B]=j.useState(!1);j.useEffect(()=>{(async()=>{if(s){v(!0),C(null);try{const G=await r(s);if(G){m(G);const Y=await o(s);f(Y)}else C("博客不存在或已被删除")}catch(G){console.error("加载博客详情失败:",G),C("加载博客详情失败")}finally{v(!1)}}})()},[s,r,o]);const I=async()=>{if(!(!u||A))try{const E=await n(u.id);E&&(m(E),B(!0))}catch(E){console.error("点赞失败:",E)}},D=async E=>{if(E.preventDefault(),!(!u||!k.trim()||T)){_(!0);try{const G=await l({postId:u.id,content:k,authorId:c.userId,authorName:c.username,authorAvatar:void 0});f(Y=>[G,...Y]),w("")}catch(G){console.error("提交评论失败:",G)}finally{_(!1)}}},z=()=>{e(-1)};return x?t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50 pt-24 flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):N||!u?t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50 pt-24",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6",children:t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[t.jsx("h2",{className:"text-xl font-bold text-red-700 dark:text-red-300 mb-2",children:N||"博客不存在或已被删除"}),t.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回"})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(oe,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(oe,{to:"/",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"首页"}),t.jsx(oe,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"游戏中心"}),t.jsx(oe,{to:"/blog-center",className:"text-sm font-medium text-blue-600 dark:text-blue-400 transition-colors",children:"博客中心"}),t.jsx(oe,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"个人中心"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(oe,{to:"/blog/create",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:"写博客"})})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("button",{onClick:z,className:"mb-6 flex items-center text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"返回"]}),t.jsxs("article",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[u.coverImage&&t.jsx("div",{className:"w-full h-64 md:h-80",children:t.jsx("img",{src:u.coverImage,alt:u.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4",children:u.title}),t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:t.jsx("img",{src:u.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:u.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u.authorName}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["发布于 ",new Date(u.publishDate).toLocaleDateString("zh-CN"),u.lastUpdated&&` · 更新于 ${new Date(u.lastUpdated).toLocaleDateString("zh-CN")}`]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.tags.map((E,G)=>t.jsx(oe,{to:`/blog-center?tag=${E}`,className:"text-xs bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:E},G))}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:v_.sanitize(u.content.replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/\n/g,"<br />"))}})}),t.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:I,className:`flex items-center space-x-1 px-4 py-2 rounded-full ${A?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-slate-100 dark:bg-slate-700 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-400"}`,children:[t.jsx("span",{children:A?"❤️":"🤍"}),t.jsx("span",{children:u.likes+(A?1:0)})]}),t.jsxs("div",{className:"flex items-center space-x-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-full",children:[t.jsx("span",{children:"👁️"}),t.jsx("span",{children:u.views})]}),t.jsxs("div",{className:"flex items-center space-x-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-full",children:[t.jsx("span",{children:"💬"}),t.jsx("span",{children:u.commentCount})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:t.jsx("span",{children:"📱"})}),t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-green-100 dark:hover:bg-green-900/30",children:t.jsx("span",{children:"💬"})}),t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:t.jsx("span",{children:"🔗"})})]})]})]})]}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("h2",{className:"text-xl font-bold mb-6",children:["评论 (",p.length,")"]}),t.jsx("form",{onSubmit:D,className:"mb-8",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:c.username,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("textarea",{value:k,onChange:E=>w(E.target.value),placeholder:"写下你的评论...",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px]",required:!0}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{type:"submit",disabled:T||!k.trim(),className:`px-4 py-2 rounded-lg ${T||!k.trim()?"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:T?"提交中...":"发表评论"})})]})]})}),p.length===0?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:"💬"}),t.jsx("h3",{className:"text-lg font-medium mb-1",children:"暂无评论"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"成为第一个评论的人吧！"})]}):t.jsx("div",{className:"space-y-6",children:p.map(E=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:E.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:E.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"font-medium",children:E.authorName}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(E.createdAt).toLocaleString("zh-CN")})]}),t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:E.content}),t.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[t.jsxs("button",{className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:["👍 ",E.likes]}),t.jsx("span",{className:"mx-2 text-slate-300 dark:text-slate-600",children:"•"}),t.jsx("button",{className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"回复"})]}),E.replies&&E.replies.length>0&&t.jsx("div",{className:"mt-3 pl-4 border-l-2 border-slate-200 dark:border-slate-700 space-y-3",children:E.replies.map(G=>t.jsx("div",{className:"pt-3",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:G.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:G.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"font-medium text-sm",children:G.authorName}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(G.createdAt).toLocaleString("zh-CN")})]}),t.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:G.content})]})]})},G.id))})]})]})},E.id))})]})]})}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-8",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 text-sm",children:"© 2025 AllinONE. 保留所有权利。"})]})})]})},Yg=()=>{const{id:s}=gh(),e=Pn(),{fetchPostById:r,createPost:n,updatePost:o}=xl(),{userData:l}=fl(),[c,u]=j.useState(""),[m,p]=j.useState(""),[f,x]=j.useState(""),[v,N]=j.useState(""),[C,k]=j.useState(""),[w,T]=j.useState([]),[_,A]=j.useState(""),[B,I]=j.useState("draft"),[D,z]=j.useState(!1),[E,G]=j.useState(null),[Y,ne]=j.useState(!1),[ee,se]=j.useState(null);j.useEffect(()=>{(async()=>{if(s){z(!0),G(null);try{const P=await r(s);P?(u(P.title),p(P.content),x(P.summary),N(P.coverImage||""),T(P.tags),I(P.status),ne(!0),se(P)):G("博客不存在或已被删除")}catch(P){console.error("加载博客失败:",P),G("加载博客失败")}finally{z(!1)}}})()},[s,r]);const ie=()=>{_.trim()&&(w.includes(_.trim())||T([...w,_.trim()]),A(""))},M=H=>{T(w.filter(P=>P!==H))},F=H=>{H.key==="Enter"&&(H.preventDefault(),ie())},Z=()=>{if(!m)return;const H=m.replace(/#+\s+/g,"").replace(/\n/g," "),P=H.slice(0,100)+(H.length>100?"...":"");x(P)},L=async(H,P=!1)=>{if(H.preventDefault(),!c.trim()||!m.trim()){G("标题和内容不能为空");return}z(!0),G(null);try{const W={title:c.trim(),content:m,summary:f.trim()||c.trim(),coverImage:v||void 0,authorId:l.userId,authorName:l.username,tags:w.length>0?w:["未分类"],status:P?"draft":"published"};let ae;Y&&ee?ae=await o(ee.id,{...W,lastUpdated:new Date}):ae=await n(W),ae?e(`/blog/${ae.id}`):G("保存博客失败")}catch(W){console.error("保存博客失败:",W),G("保存博客失败")}finally{z(!1)}},re=()=>{e(Y?`/blog/${s}`:"/blog-center")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(oe,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:re,className:"px-4 py-2 text-sm font-medium border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"取消"}),t.jsx("button",{onClick:H=>L(H,!0),disabled:D,className:"px-4 py-2 text-sm font-medium border border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"保存草稿"}),t.jsx("button",{onClick:H=>L(H,!1),disabled:D,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:D?"发布中...":"发布博客"})]})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:Y?"编辑博客":"创建新博客"}),E&&t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6 text-red-700 dark:text-red-300",children:E}),t.jsxs("form",{onSubmit:H=>L(H,!1),children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["标题 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"title",value:c,onChange:H=>u(H.target.value),placeholder:"输入博客标题",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"coverImage",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"封面图片 URL（可选）"}),t.jsx("input",{type:"text",id:"coverImage",value:v,onChange:H=>N(H.target.value),placeholder:"输入图片URL",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v&&t.jsxs("div",{className:"mt-2 relative w-full h-40 rounded-lg overflow-hidden",children:[t.jsx("img",{src:v,alt:"封面预览",className:"w-full h-full object-cover",onError:H=>{H.target.src="https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=placeholder%20image%2C%20error%20loading&sign=a160cbc38262558651adba1662dee0ce"}}),t.jsx("button",{type:"button",onClick:()=>N(""),className:"absolute top-2 right-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"×"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["内容 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[t.jsx("input",{type:"text",placeholder:"图片URL，例如 https://...",value:C,onChange:H=>k(H.target.value),className:"flex-grow bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:()=>{if(!C.trim())return;const H=`<img src="${C.trim()}" alt="" style="max-width:100%; height:auto;" />`;p(P=>P+(P.endsWith(`
`)?"":`
`)+H+`
`),k("")},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"插入图片URL"}),t.jsx("input",{type:"file",accept:"image/*",onChange:H=>{var ae;const P=(ae=H.target.files)==null?void 0:ae[0];if(!P)return;const W=new FileReader;W.onload=()=>{const Ne=`<img src="${W.result}" alt="" style="max-width:100%; height:auto;" />`;p(pe=>pe+(pe.endsWith(`
`)?"":`
`)+Ne+`
`),H.target.value=""},W.readAsDataURL(P)},className:"px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg"})]}),t.jsx("textarea",{id:"content",value:m,onChange:H=>p(H.target.value),placeholder:"使用Markdown格式编写博客内容（支持插入图片标签）",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[300px] font-mono",required:!0}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"支持Markdown基础语法；为兼容当前渲染方式，图片将以 <img> HTML 标签插入。"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"摘要（可选）"}),t.jsx("button",{type:"button",onClick:Z,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"自动生成摘要"})]}),t.jsx("textarea",{id:"summary",value:f,onChange:H=>x(H.target.value),placeholder:"简短描述博客内容，不填写将自动生成",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"标签"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.map((H,P)=>t.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-3 py-1 rounded-full text-sm flex items-center",children:[H,t.jsx("button",{type:"button",onClick:()=>M(H),className:"ml-2 text-blue-500 hover:text-blue-700 dark:hover:text-blue-300",children:"×"})]},P))}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",id:"tags",value:_,onChange:H=>A(H.target.value),onKeyDown:F,placeholder:"输入标签，按回车添加",className:"flex-grow bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:ie,className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700",children:"添加"})]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"最多添加5个标签，每个标签不超过10个字符"})]})]}),t.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[t.jsx("button",{type:"button",onClick:re,className:"px-6 py-3 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"取消"}),t.jsx("button",{type:"button",onClick:H=>L(H,!0),disabled:D,className:"px-6 py-3 border border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"保存草稿"}),t.jsx("button",{type:"submit",disabled:D,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:D?"发布中...":"发布博客"})]})]})]})})]})};class j_{getParameters(){return[{id:"a-coin-mining-weight",name:"A币挖矿权重",description:"用户挖矿获得A币的权重系数",category:"acoin_allocation",currentValue:.7,minValue:.1,maxValue:1,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"a-coin-staking-weight",name:"A币质押权重",description:"用户质押获得A币的权重系数",category:"acoin_allocation",currentValue:.2,minValue:.05,maxValue:.5,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"income-platform-ratio",name:"平台收入比例",description:"总收入中平台运营部分的比例",category:"income_distribution",currentValue:.3,minValue:.1,maxValue:.5,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"a-coin-to-game-coin-rate",name:"A币兑换游戏币比例",description:"1个A币可兑换的游戏币数量",category:"exchange_rates",currentValue:100,minValue:50,maxValue:200,step:5,unit:"游戏币",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"cash-to-game-coin-rate",name:"现金兑换游戏币比例",description:"1元现金可兑换的游戏币数量",category:"exchange_rates",currentValue:100,minValue:50,maxValue:200,step:10,unit:"游戏币",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"cash-to-computing-power-rate",name:"现金兑换算力比例",description:"1元现金可兑换的算力数量",category:"exchange_rates",currentValue:10,minValue:5,maxValue:20,step:1,unit:"算力",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-revenue-weight",name:"O币绩效-收入增加权重",description:"O币分配中收入增加量的权重系数",category:"ocoin_performance",currentValue:.3,minValue:.1,maxValue:.6,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-player-weight",name:"O币绩效-玩家增加权重",description:"O币分配中玩家增加量的权重系数",category:"ocoin_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-development-weight",name:"O币绩效-开发贡献权重",description:"O币分配中开发贡献的权重系数",category:"ocoin_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-management-weight",name:"O币绩效-管理贡献权重",description:"O币分配中管理贡献的权重系数",category:"ocoin_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-marketing-weight",name:"O币绩效-营销贡献权重",description:"O币分配中营销贡献的权重系数",category:"ocoin_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-revenue-weight",name:"分红权重-历史收入贡献权重",description:"分红分配中历史收入贡献的权重系数",category:"dividend_performance",currentValue:.35,minValue:.1,maxValue:.6,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-player-weight",name:"分红权重-历史玩家增长权重",description:"分红分配中历史玩家增长贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-development-weight",name:"分红权重-历史开发贡献权重",description:"分红分配中历史开发贡献的权重系数",category:"dividend_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-management-weight",name:"分红权重-历史管理贡献权重",description:"分红分配中历史管理贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-marketing-weight",name:"分红权重-历史营销贡献权重",description:"分红分配中历史营销贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]}]}getMembers(){return[{id:"founder-1",name:"Joan创始人",role:"founder",avatar:"https://randomuser.me/api/portraits/men/1.jpg",hasVetoRight:!0,joinedAt:new Date("2023-01-01"),isActive:!0},{id:"manager-1",name:"李管理",role:"platform_manager",avatar:"https://randomuser.me/api/portraits/women/2.jpg",hasVetoRight:!1,joinedAt:new Date("2023-02-15"),isActive:!0},{id:"manager-2",name:"王管理",role:"platform_manager",avatar:"https://randomuser.me/api/portraits/men/3.jpg",hasVetoRight:!1,joinedAt:new Date("2023-02-20"),isActive:!0},{id:"rep-1",name:"周代表",role:"community_representative",avatar:"https://randomuser.me/api/portraits/men/7.jpg",hasVetoRight:!1,joinedAt:new Date("2023-04-01"),isActive:!0},{id:"rep-2",name:"吴代表",role:"community_representative",avatar:"https://randomuser.me/api/portraits/women/8.jpg",hasVetoRight:!1,joinedAt:new Date("2023-04-10"),isActive:!0}]}getVotes(){return[{id:"vote-1",title:"提高A币挖矿权重",description:"提议将A币挖矿权重从0.7提高到0.8",parameterId:"a-coin-mining-weight",currentValue:.7,proposedValue:.8,proposedBy:"周代表",reason:"当前挖矿权重较低，导致用户挖矿积极性不高，提高权重可以激励更多用户参与挖矿活动。",status:"active",createdAt:new Date("2023-07-01"),voteRecords:[{id:"vr-1",voteId:"vote-1",memberId:"rep-1",decision:"approve",comment:"作为提议人，我支持这个提案",votedAt:new Date("2023-07-01")},{id:"vr-2",voteId:"vote-1",memberId:"rep-2",decision:"approve",comment:"同意提高挖矿权重",votedAt:new Date("2023-07-02")},{id:"vr-3",voteId:"vote-1",memberId:"manager-1",decision:"reject",comment:"当前权重已经合理，不需要调整",votedAt:new Date("2023-07-02")}]},{id:"vote-2",title:"降低平台收入比例",description:"提议将平台收入比例从0.3降低到0.25",parameterId:"income-platform-ratio",currentValue:.3,proposedValue:.25,proposedBy:"周代表",reason:"降低平台收入比例，可以增加分红和生态建设的资金，更好地回馈用户和发展生态。",status:"passed",createdAt:new Date("2023-06-15"),endedAt:new Date("2023-06-25"),voteRecords:[{id:"vr-4",voteId:"vote-2",memberId:"rep-1",decision:"approve",comment:"同意降低平台收入比例",votedAt:new Date("2023-06-16")},{id:"vr-5",voteId:"vote-2",memberId:"manager-1",decision:"reject",comment:"平台运营需要足够资金支持",votedAt:new Date("2023-06-16")},{id:"vr-6",voteId:"vote-2",memberId:"founder-1",decision:"approve",comment:"支持尝试降低平台收入比例",votedAt:new Date("2023-06-25")}],result:{approveCount:2,rejectCount:1,abstainCount:0,founderVeto:!1,finalStatus:"passed",implementedAt:new Date("2023-06-26"),implementedBy:"founder-1"}}]}getPlatformData(){return{acoinBalance:1e7,ocoinBalance:5e6,ocoinPrice:.5,totalComputingPower:15e5,dailyIncome:5e4,dailyExpense:3e4,activeUsers:35e3,newUsers:1200,gameData:[{id:"game-1",name:"太空探险",activeUsers:25e3,dailyRevenue:12e3,computingPowerGenerated:85e3},{id:"game-2",name:"魔法世界",activeUsers:18e3,dailyRevenue:9e3,computingPowerGenerated:65e3},{id:"game-3",name:"赛车竞技",activeUsers:15e3,dailyRevenue:7500,computingPowerGenerated:55e3}],updatedAt:new Date}}async initPlatformManagementTestData(){return new Promise(e=>{setTimeout(()=>{console.log("平台管理测试数据初始化完成"),e()},1e3)})}}const Ao=new j_;class N_{constructor(){ze(this,"parameters",[]);ze(this,"votes",[]);ze(this,"members",[]);ze(this,"platformData",null);this.initTestData()}initTestData(){this.parameters=Ao.getParameters(),this.votes=Ao.getVotes(),this.members=Ao.getMembers(),this.platformData=Ao.getPlatformData()}async getParameters(){return[...this.parameters]}async getParameter(e){return this.parameters.find(r=>r.id===e)||null}async updateParameter(e,r){const n=this.parameters.findIndex(c=>c.id===e);if(n===-1)throw new Error("参数不存在");const o=this.parameters[n];if(r<o.minValue||r>o.maxValue)throw new Error(`参数值必须在 ${o.minValue} 和 ${o.maxValue} 之间`);const l={...o,currentValue:r,lastModified:new Date,modifiedBy:"system",history:[...o.history,{id:`history-${Date.now()}`,parameterId:o.id,oldValue:o.currentValue,newValue:r,modifiedAt:new Date,modifiedBy:"system",reason:"投票决策更新"}]};this.parameters[n]=l;try{Ir.updateParameter(e,r),console.log(`[PlatformManagement] 参数 ${e} 已更新为 ${r}，并同步到平台配置`)}catch(c){console.error("[PlatformManagement] 同步参数到平台配置失败:",c)}return l}async getVotes(){return[...this.votes]}async getActiveVotes(){return this.votes.filter(e=>e.status==="active")}async getFinishedVotes(){return this.votes.filter(e=>e.status!=="active")}async getVote(e){return this.votes.find(r=>r.id===e)||null}async createVote(e,r,n,o,l,c){const u=await this.getParameter(n);if(!u)throw new Error("参数不存在");if(o<u.minValue||o>u.maxValue)throw new Error(`提议值必须在 ${u.minValue} 和 ${u.maxValue} 之间`);const m=this.members.find(f=>f.id===c);if(!m)throw new Error("提议人不存在");const p={id:`vote-${Date.now()}`,title:e,description:r,parameterId:n,currentValue:u.currentValue,proposedValue:o,proposedBy:m.name,reason:l,status:"active",createdAt:new Date,voteRecords:[]};return this.votes.push(p),p}async submitVote(e,r,n,o){const l=this.votes.findIndex(f=>f.id===e);if(l===-1)throw new Error("投票不存在");const c=this.votes[l];if(c.status!=="active")throw new Error("该投票已结束");const u=this.members.find(f=>f.id===r);if(!u)throw new Error("成员不存在");if(c.voteRecords.some(f=>f.memberId===r))throw new Error("您已经对此提案投过票");if(n==="veto"&&!u.hasVetoRight)throw new Error("您没有否决权");const m={id:`vr-${Date.now()}`,voteId:e,memberId:r,decision:n,comment:o||"",votedAt:new Date},p={...c,voteRecords:[...c.voteRecords,m]};return n==="veto"&&(p.status="vetoed",p.endedAt=new Date,p.result=this.calculateVoteResult(p)),this.votes[l]=p,p}async finalizeVote(e){const r=this.votes.findIndex(c=>c.id===e);if(r===-1)throw new Error("投票不存在");const n=this.votes[r];if(n.status!=="active")throw new Error("该投票已结束");const o=this.calculateVoteResult(n),l={...n,status:o.finalStatus,endedAt:new Date,result:o};return l.status==="passed"&&(await this.updateParameter(n.parameterId,n.proposedValue),l.result.implementedAt=new Date,l.result.implementedBy="system"),this.votes[r]=l,l}async vetoVote(e,r){const n=this.members.find(o=>o.id===r);if(!n||!n.hasVetoRight)throw new Error("您没有否决权");return this.submitVote(e,r,"veto","创始人否决")}calculateVoteResult(e){const r=e.voteRecords.filter(m=>m.decision==="approve").length,n=e.voteRecords.filter(m=>m.decision==="reject").length,o=e.voteRecords.filter(m=>m.decision==="abstain").length,l=e.voteRecords.filter(m=>m.decision==="veto").length,c=e.voteRecords.some(m=>{const p=this.members.find(f=>f.id===m.memberId);return(p==null?void 0:p.role)==="founder"&&m.decision==="veto"});let u="active";return l>0?u="vetoed":r>n?u="passed":u="rejected",{approveCount:r,rejectCount:n,abstainCount:o,founderVeto:c,finalStatus:u,implementedAt:void 0,implementedBy:void 0}}async getMembers(){return[...this.members]}async getMember(e){return this.members.find(r=>r.id===e)||null}async getPlatformData(){return this.platformData}}const Hr=new N_,Mv=j.createContext(void 0),k_=({children:s})=>{const[e,r]=j.useState(null),[n,o]=j.useState([]),[l,c]=j.useState([]),[u,m]=j.useState([]),[p,f]=j.useState([]),[x,v]=j.useState(null),[N,C]=j.useState(!0);j.useEffect(()=>{(async()=>{try{C(!0);const[D,z,E,G,Y]=await Promise.all([Hr.getPlatformData(),Hr.getParameters(),Hr.getActiveVotes(),Hr.getFinishedVotes(),Hr.getMembers()]);r(D),o(z),c(E),m(G),f(Y);const ne={};z.forEach(ee=>{ne[ee.id]=ee.currentValue}),Ir.batchUpdateParameters(ne),console.log("[平台管理] 已同步参数到平台配置:",ne),Y.length>0&&v(Y[0])}catch(D){console.error("初始化平台管理数据失败:",D)}finally{C(!1)}})()},[]);const B={platformData:e,parameters:n,activeVotes:l,finishedVotes:u,members:p,currentUser:x,loading:N,createVote:async(I,D,z,E,G,Y)=>{const ne=await Hr.createVote(I,D,z,E,G,Y);return c(ee=>[...ee,ne]),ne},submitVote:async(I,D,z)=>{if(!x)return;const E=await Hr.submitVote(I,x.id,D,z);E.status!=="active"?(c(G=>G.filter(Y=>Y.id!==I)),m(G=>[...G,E])):c(G=>G.map(Y=>Y.id===I?E:Y))},finalizeVote:async I=>{const D=await Hr.finalizeVote(I);if(c(z=>z.filter(E=>E.id!==I)),m(z=>[...z,D]),D.status==="passed"){const z=await Hr.getParameter(D.parameterId);z&&o(E=>E.map(G=>G.id===z.id?z:G))}},vetoVote:async I=>{if(!x||!x.hasVetoRight)return;const D=await Hr.vetoVote(I,x.id);c(z=>z.filter(E=>E.id!==I)),m(z=>[...z,D])},selectUser:I=>{const D=p.find(z=>z.id===I);D&&v(D)}};return t.jsx(Mv.Provider,{value:B,children:s})},C_=()=>{const s=j.useContext(Mv);if(s===void 0)throw new Error("usePlatformManagement must be used within a PlatformManagementProvider");return s},S_=({platformData:s,loading:e})=>{if(e)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});if(!s)return t.jsx("div",{className:"text-center py-8",children:"暂无平台数据"});const r=o=>new Intl.NumberFormat("zh-CN").format(o),n=o=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(o);return t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"平台数据概览"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"A币数据"}),t.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:r(s.acoinBalance)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总流通量"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"O币数据"}),t.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-1",children:r(s.ocoinBalance)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总流通量"}),t.jsxs("div",{className:"mt-2",children:[t.jsxs("span",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:["¥",s.ocoinPrice.toFixed(2)]}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 ml-1",children:"当前价格"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"全网算力"}),t.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:r(s.totalComputingPower)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"算力单位"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"收入支出"}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"日收入"}),t.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:n(s.dailyIncome)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"日支出"}),t.jsx("span",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:n(s.dailyExpense)})]}),t.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"净收入"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:n(s.dailyIncome-s.dailyExpense)})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"用户数据"}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"活跃用户"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:r(s.activeUsers)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"新增用户"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:r(s.newUsers)})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 p-6 pb-4",children:"游戏数据"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"游戏名称"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"活跃用户"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"日收入"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"算力贡献"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.gameData.map(o=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-200",children:o.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:r(o.activeUsers)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:n(o.dailyRevenue)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:r(o.computingPowerGenerated)})]},o.id))})]})})]}),t.jsxs("div",{className:"text-right text-xs text-slate-500 dark:text-slate-400 mt-4",children:["最后更新时间: ",s.updatedAt.toLocaleString()]})]})},T_=({parameters:s,loading:e,onCreateVote:r})=>{const[n,o]=j.useState("all");if(e)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});if(s.length===0)return t.jsx("div",{className:"text-center py-8",children:"暂无参数数据"});const l=Array.from(new Set(s.map(m=>m.category))),c=n==="all"?s:s.filter(m=>m.category===n),u={acoin_allocation:"A币分配权重",ocoin_allocation:"O币分配权重",income_distribution:"收入分配比例",dividend_weights:"分红权重",exchange_rates:"兑换比例",ocoin_performance:"🔶 O币绩效权重",dividend_performance:"💰 分红绩效权重"};return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h2",{className:"text-2xl font-bold",children:"平台参数管理"})}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{className:`px-3 py-1 text-sm rounded-full ${n==="all"?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>o("all"),children:"全部"}),l.map(m=>t.jsx("button",{className:`px-3 py-1 text-sm rounded-full ${n===m?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>o(m),children:u[m]},m))]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"参数名称"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"当前值"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"取值范围"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"最后修改"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"操作"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map(m=>t.jsxs("tr",{children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:m.name}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:m.description})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:[m.currentValue,m.unit&&` ${m.unit}`]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[m.minValue," - ",m.maxValue]}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["步长: ",m.step]})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:m.lastModified.toLocaleDateString()}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:m.modifiedBy})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",onClick:()=>r(m),children:"发起投票"})})]},m.id))})]})})]})},A_=({activeVotes:s,finishedVotes:e,currentUser:r,loading:n,onSubmitVote:o,onFinalizeVote:l,onVetoVote:c})=>{const[u,m]=j.useState(!0),[p,f]=j.useState({});if(n)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});const x=(k,w)=>{f(T=>({...T,[k]:w}))},v=async(k,w)=>{await o(k,w,p[k]),f(T=>({...T,[k]:""}))},N=k=>r?k.voteRecords.some(w=>w.memberId===r.id):!1,C=k=>{if(!r)return null;const w=k.voteRecords.find(T=>T.memberId===r.id);return w?w.decision:null};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"投票决策"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:`px-4 py-2 rounded-md ${u?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>m(!0),children:"进行中"}),t.jsx("button",{className:`px-4 py-2 rounded-md ${u?"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300":"bg-blue-600 text-white dark:bg-blue-700"}`,onClick:()=>m(!1),children:"已结束"})]})]}),t.jsx("div",{className:"space-y-6",children:u?s.length>0?s.map(k=>t.jsx(Kg,{vote:k,currentUser:r,hasVoted:N(k),userVoteDecision:C(k),voteComment:p[k.id]||"",onCommentChange:w=>x(k.id,w),onSubmitVote:w=>v(k.id,w),onFinalizeVote:()=>l(k.id),onVetoVote:()=>c(k.id),showActions:!0},k.id)):t.jsx("div",{className:"text-center py-8 bg-white dark:bg-slate-800 rounded-lg shadow",children:"暂无进行中的投票"}):e.length>0?e.map(k=>t.jsx(Kg,{vote:k,currentUser:r,hasVoted:N(k),userVoteDecision:C(k),voteComment:"",onCommentChange:()=>{},onSubmitVote:()=>Promise.resolve(),onFinalizeVote:()=>Promise.resolve(),onVetoVote:()=>Promise.resolve(),showActions:!1},k.id)):t.jsx("div",{className:"text-center py-8 bg-white dark:bg-slate-800 rounded-lg shadow",children:"暂无已结束的投票"})})]})},Kg=({vote:s,currentUser:e,hasVoted:r,userVoteDecision:n,voteComment:o,onCommentChange:l,onSubmitVote:c,onFinalizeVote:u,onVetoVote:m,showActions:p})=>{const[f,x]=j.useState(!1),v=w=>({active:"进行中",passed:"已通过",rejected:"已拒绝",vetoed:"已否决"})[w]||w,N=w=>({approve:"赞成",reject:"反对",abstain:"弃权",veto:"否决"})[w],k=(w=>{const T=w.voteRecords.length,_=w.voteRecords.filter(B=>B.decision==="approve").length,A=w.voteRecords.filter(B=>B.decision==="reject").length;return{approvePercent:T>0?_/T*100:0,rejectPercent:T>0?A/T*100:0,abstainPercent:T>0?100-_/T*100-A/T*100:0}})(s);return t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:s.title}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["提议人: ",s.proposedBy," | 创建时间: ",s.createdAt.toLocaleDateString()]})]}),t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="active"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":s.status==="passed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":s.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:v(s.status)})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["参数: ",s.parameterId]}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:[s.currentValue," → ",s.proposedValue]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:s.description}),t.jsx("div",{className:"mt-2",children:t.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:()=>x(!f),children:f?"收起详情":"查看详情"})})]}),f&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"提议理由"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.reason}),t.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mt-4 mb-2",children:"投票记录"}),t.jsx("div",{className:"space-y-2",children:s.voteRecords.map(w=>t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:w.memberId}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${w.decision==="approve"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":w.decision==="reject"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":w.decision==="veto"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:N(w.decision)}),t.jsx("span",{className:"text-slate-500 dark:text-slate-400 ml-2",children:w.votedAt.toLocaleDateString()})]})]},w.id))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5 mb-1",children:t.jsxs("div",{className:"flex h-2.5 rounded-full",children:[t.jsx("div",{className:"bg-green-500 h-2.5 rounded-l-full",style:{width:`${k.approvePercent}%`}}),t.jsx("div",{className:"bg-red-500 h-2.5",style:{width:`${k.rejectPercent}%`}}),t.jsx("div",{className:"bg-slate-400 h-2.5 rounded-r-full",style:{width:`${k.abstainPercent}%`}})]})}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{children:["赞成: ",s.voteRecords.filter(w=>w.decision==="approve").length]}),t.jsxs("span",{children:["反对: ",s.voteRecords.filter(w=>w.decision==="reject").length]}),t.jsxs("span",{children:["弃权: ",s.voteRecords.filter(w=>w.decision==="abstain").length]})]})]}),p&&!r&&e&&t.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:`comment-${s.id}`,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"评论"}),t.jsx("textarea",{id:`comment-${s.id}`,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200",rows:2,value:o,onChange:w=>l(w.target.value),placeholder:"添加您的评论..."})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-600",onClick:()=>c("approve"),children:"赞成"}),t.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600",onClick:()=>c("reject"),children:"反对"}),t.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-md hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600",onClick:()=>c("abstain"),children:"弃权"}),e.hasVetoRight&&t.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600",onClick:()=>m(),children:"否决"})]})]}),p&&r&&e&&t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:["您已投票:",t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${n==="approve"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n==="reject"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":n==="veto"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:n&&N(n)})]}),e.role==="founder"&&t.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",onClick:()=>u(),children:"结束投票"})]})}),s.status!=="active"&&s.result&&t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"最终结果:"}),t.jsx("span",{className:`font-medium ${s.status==="passed"?"text-green-600 dark:text-green-400":s.status==="rejected"?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,children:v(s.status)})]}),s.status==="passed"&&s.result.implementedAt&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"实施时间:"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:s.result.implementedAt.toLocaleDateString()})]})]})})]})})},__=({members:s,loading:e,currentUser:r,onSelectUser:n})=>{if(e)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const o=s.filter(m=>m.role==="founder"),l=s.filter(m=>m.role==="platform_manager"),c=s.filter(m=>m.role==="community_representative"),u=m=>{switch(m){case"founder":return"创始人";case"platform_manager":return"平台管理者";case"community_representative":return"社区代表";default:return"未知角色"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"平台管理成员"}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"当前登录身份"}),r?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:r.avatar,alt:r.name,className:"w-16 h-16 rounded-full"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-lg",children:r.name}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-300",children:[u(r.role),r.hasVetoRight&&t.jsx("span",{className:"ml-2 text-purple-600 dark:text-purple-400",children:"(拥有否决权)"})]})]})]}):t.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:"未登录"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"切换身份"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"为了演示目的，您可以切换不同的身份来体验平台管理系统的不同权限。"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"创始人"}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(m=>t.jsx(Rm,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"平台管理者"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>t.jsx(Rm,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"社区代表"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>t.jsx(Rm,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]})]})]})]})]})},Rm=({member:s,isSelected:e,onSelect:r})=>t.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700"}`,onClick:r,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:s.name}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["加入时间: ",new Date(s.joinedAt).toLocaleDateString()]})]})]})}),D_=({parameter:s,onClose:e,onSubmit:r})=>{const[n,o]=j.useState(""),[l,c]=j.useState(""),[u,m]=j.useState(s?s.currentValue:0),[p,f]=j.useState(""),[x,v]=j.useState({});if(!s)return null;const N=()=>{const k={};return n.trim()||(k.title="请输入标题"),l.trim()||(k.description="请输入描述"),(u<s.minValue||u>s.maxValue)&&(k.proposedValue=`提议值必须在 ${s.minValue} 和 ${s.maxValue} 之间`),p.trim()||(k.reason="请输入提议理由"),v(k),Object.keys(k).length===0},C=k=>{k.preventDefault(),N()&&r(n,l,s.id,u,p)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg w-full max-w-md mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"发起参数修改投票"}),t.jsx("button",{className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",onClick:e,children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("form",{onSubmit:C,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"parameter-name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"参数名称"}),t.jsx("input",{type:"text",id:"parameter-name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200",value:s.name,disabled:!0})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"current-value",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"当前值"}),t.jsx("input",{type:"text",id:"current-value",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200",value:`${s.currentValue}${s.unit?" "+s.unit:""}`,disabled:!0})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"投票标题"}),t.jsx("input",{type:"text",id:"title",className:`w-full px-3 py-2 border ${x.title?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,value:n,onChange:k=>o(k.target.value),placeholder:"输入投票标题"}),x.title&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.title})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"投票描述"}),t.jsx("textarea",{id:"description",className:`w-full px-3 py-2 border ${x.description?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,rows:2,value:l,onChange:k=>c(k.target.value),placeholder:"输入投票描述"}),x.description&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.description})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"proposed-value",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["提议值 (",s.minValue," - ",s.maxValue,")"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"range",id:"proposed-value-range",className:"w-full mr-3",min:s.minValue,max:s.maxValue,step:s.step,value:u,onChange:k=>m(parseFloat(k.target.value))}),t.jsx("input",{type:"number",id:"proposed-value",className:`w-24 px-3 py-2 border ${x.proposedValue?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,min:s.minValue,max:s.maxValue,step:s.step,value:u,onChange:k=>m(parseFloat(k.target.value))}),s.unit&&t.jsx("span",{className:"ml-2 text-slate-700 dark:text-slate-300",children:s.unit})]}),x.proposedValue&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.proposedValue})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"提议理由"}),t.jsx("textarea",{id:"reason",className:`w-full px-3 py-2 border ${x.reason?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,rows:4,value:p,onChange:k=>f(k.target.value),placeholder:"输入提议理由"}),x.reason&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.reason})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-md hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",onClick:e,children:"取消"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:"提交"})]})]})]})})})};class E_{constructor(){ze(this,"STORAGE_KEY","ocoin_performance_data");ze(this,"ALLOCATIONS_KEY","ocoin_allocations")}calculateUserPerformanceScore(e,r){const n=r||Ir.getOCoinPerformanceWeights(),o=Math.min(e.revenueContribution/1e4,1),l=Math.min(e.playerReferralCount/100,1),c=Math.min(e.developmentScore/100,1),u=Math.min(e.managementScore/100,1),m=Math.min(e.marketingScore/100,1),p=o*n.revenueWeight+l*n.playerWeight+c*n.developmentWeight+u*n.managementWeight+m*n.marketingWeight;return Math.round(p*100)}calculateOCoinAllocation(e,r=1e4){const n=e/100*1e3,o=r/1e4;return Math.round(n*o)}async allocateOCoin(e,r,n=365){const o=this.calculateUserPerformanceScore(r),l=this.calculateOCoinAllocation(o),c=Ir.getOCoinPerformanceWeights(),u={id:`ocoin-${e}-${r.periodId}-${Date.now()}`,userId:e,periodId:r.periodId,allocationType:"performance",amount:l,performanceScore:o,weights:c,allocationDate:new Date,vestingPeriod:n,status:"allocated"};return this.saveAllocation(u),window.dispatchEvent(new CustomEvent("ocoin-allocation-completed",{detail:{allocation:u,timestamp:new Date}})),console.log(`[O币绩效] 用户 ${e} 获得 ${l} O币，绩效分数: ${o}`),u}async processPerformancePeriod(e,r){const n=[];for(const o of r)try{const l=await this.allocateOCoin(o.userId,o);n.push(l)}catch(l){console.error(`[O币绩效] 处理用户 ${o.userId} 分配失败:`,l)}return window.dispatchEvent(new CustomEvent("ocoin-batch-allocation-completed",{detail:{periodId:e,allocations:n,timestamp:new Date}})),console.log(`[O币绩效] 周期 ${e} 批量分配完成，共分配 ${n.length} 笔`),n}getUserAllocations(e){return this.getAllAllocations().filter(n=>n.userId===e)}getPeriodAllocations(e){return this.getAllAllocations().filter(n=>n.periodId===e)}calculateUserOCoinBalance(e){const r=this.getUserAllocations(e);let n=0,o=0,l=0;const c=new Date;return r.forEach(u=>{n+=u.amount;const m=new Date(u.allocationDate);m.setDate(m.getDate()+u.vestingPeriod),c>=m?o+=u.amount:l+=u.amount}),{totalAllocated:n,vested:o,locked:l}}getPlatformPerformanceStats(){const e=this.getAllAllocations(),r=e.reduce((u,m)=>u+m.amount,0),o=new Set(e.map(u=>u.userId)).size,l=e.length>0?e.reduce((u,m)=>u+m.performanceScore,0)/e.length:0,c=e.sort((u,m)=>m.performanceScore-u.performanceScore).slice(0,10).map(u=>({userId:u.userId,score:u.performanceScore,amount:u.amount}));return{totalOCoinAllocated:r,totalUsers:o,averageScore:Math.round(l),topPerformers:c}}saveAllocation(e){const r=this.getAllAllocations();r.push(e),localStorage.setItem(this.ALLOCATIONS_KEY,JSON.stringify(r))}getAllAllocations(){const e=localStorage.getItem(this.ALLOCATIONS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,allocationDate:new Date(r.allocationDate)}))}catch(r){return console.error("[O币绩效] 解析分配记录失败:",r),[]}}clearAllocations(){localStorage.removeItem(this.ALLOCATIONS_KEY),console.log("[O币绩效] 已清空所有分配记录")}generateMockPerformanceData(e,r){return{userId:e,periodId:r,revenueContribution:Math.random()*5e4,playerReferralCount:Math.floor(Math.random()*50),developmentScore:Math.random()*100,managementScore:Math.random()*100,marketingScore:Math.random()*100,totalScore:0,lastUpdated:new Date}}}const Mm=new E_;class P_{constructor(){ze(this,"DIVIDEND_WEIGHTS_KEY","dividend_weights");ze(this,"DIVIDEND_RECORDS_KEY","dividend_records");ze(this,"HISTORICAL_PERFORMANCE_KEY","historical_performance")}calculateHistoricalPerformanceScore(e,r=12,n){const o=n||Ir.getDividendPerformanceWeights(),l=this.getHistoricalPerformance(e,r);if(l.length===0)return 0;let c=0,u=0;return l.forEach((m,p)=>{const f=Math.pow(.95,p),x=Math.min(m.revenueContribution/1e4,1),v=Math.min(m.playerReferralCount/100,1),N=Math.min(m.developmentScore/100,1),C=Math.min(m.managementScore/100,1),k=Math.min(m.marketingScore/100,1),w=x*o.revenueWeight+v*o.playerWeight+N*o.developmentWeight+C*o.managementWeight+k*o.marketingWeight;c+=w*f,u+=f}),u>0?Math.round(c/u*100):0}calculateDividendWeight(e,r,n){if(n===0)return 0;const o=r/n,c=Math.min(o,.15);return Number(c.toFixed(6))}async calculateAllDividendWeights(e){const r=this.getAllUsers(),n=[];let o=0;const l=[];for(const u of r){const m=this.calculateHistoricalPerformanceScore(u);l.push({userId:u,score:m}),o+=m}const c=Ir.getDividendPerformanceWeights();for(const{userId:u,score:m}of l){const p=this.calculateDividendWeight(u,m,o),f={id:`dividend-weight-${u}-${e}-${Date.now()}`,userId:u,periodId:e,weight:p,historicalScore:m,weights:c,calculationDate:new Date,status:"active"};n.push(f),this.saveDividendWeight(f)}return window.dispatchEvent(new CustomEvent("dividend-weights-calculated",{detail:{periodId:e,records:n,timestamp:new Date}})),console.log(`[分红权重] 周期 ${e} 权重计算完成，共 ${n.length} 个用户`),n}async distributeCashDividend(e,r){const n=this.getPeriodDividendWeights(e),o=new Map;for(const u of n){const m=o.get(u.userId);(!m||new Date(u.calculationDate).getTime()>new Date(m.calculationDate).getTime())&&o.set(u.userId,u)}const l=Array.from(o.values());if(l.length===0)throw new Error("未找到分红权重数据，请先计算分红权重");const c=[];for(const u of l){const m=r*u.weight;if(m>=.01){const p={id:`dividend-${u.userId}-${e}-${Date.now()}`,userId:u.userId,periodId:e,dividendAmount:Number(m.toFixed(2)),dividendWeight:u.weight,totalDividendPool:r,distributionDate:new Date,status:"distributed"};c.push(p),this.saveDividendRecord(p);try{await et.distributeCashDividend(u.userId,m,e,"基于历史绩效的现金分红"),console.log(`[现金分红] 成功发放 ${m.toFixed(2)} 元到用户 ${u.userId} 钱包`)}catch(f){console.error(`[现金分红] 发放失败，用户 ${u.userId}:`,f),p.status="failed"}}}return window.dispatchEvent(new CustomEvent("cash-dividend-distributed",{detail:{periodId:e,records:c,totalDistributed:c.reduce((u,m)=>u+m.dividendAmount,0),timestamp:new Date}})),console.log(`[现金分红] 周期 ${e} 分红完成，共分配 ${c.reduce((u,m)=>u+m.dividendAmount,0).toFixed(2)} 元`),c}getUserDividendHistory(e){return this.getAllDividendRecords().filter(n=>n.userId===e)}getUserCurrentDividendWeight(e){const r=this.getUserDividendWeights(e);return r.length===0?0:r.sort((o,l)=>new Date(l.calculationDate).getTime()-new Date(o.calculationDate).getTime())[0].weight}getDividendStats(){const e=this.getAllDividendRecords(),r=e.reduce((m,p)=>m+p.dividendAmount,0),o=new Set(e.map(m=>m.userId)).size,l=o>0?r/o:0,c=new Map;e.forEach(m=>{const p=c.get(m.userId)||{totalReceived:0,latestWeight:0};p.totalReceived+=m.dividendAmount,p.latestWeight=m.dividendWeight,c.set(m.userId,p)});const u=Array.from(c.entries()).map(([m,p])=>({userId:m,totalReceived:p.totalReceived,weight:p.latestWeight})).sort((m,p)=>p.totalReceived-m.totalReceived).slice(0,10);return{totalDistributed:Number(r.toFixed(2)),totalRecipients:o,averageDividend:Number(l.toFixed(2)),topRecipients:u}}getHistoricalPerformance(e,r){const n=[];for(let o=0;o<r;o++){const l=new Date;l.setMonth(l.getMonth()-o),n.push({userId:e,periodId:`period-${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`,revenueContribution:Math.random()*3e4,playerReferralCount:Math.floor(Math.random()*30),developmentScore:Math.random()*80+20,managementScore:Math.random()*80+20,marketingScore:Math.random()*80+20,totalScore:0,lastUpdated:l})}return n}getAllUsers(){return["user-1","user-2","user-3","user-4","user-5"]}saveDividendWeight(e){const r=this.getAllDividendWeights(),n=r.findIndex(o=>o.userId===e.userId&&o.periodId===e.periodId);n>=0?r[n]=e:r.push(e),localStorage.setItem(this.DIVIDEND_WEIGHTS_KEY,JSON.stringify(r))}saveDividendRecord(e){const r=this.getAllDividendRecords(),n=r.findIndex(o=>o.userId===e.userId&&o.periodId===e.periodId);n>=0?r[n]=e:r.push(e),localStorage.setItem(this.DIVIDEND_RECORDS_KEY,JSON.stringify(r))}getAllDividendWeights(){const e=localStorage.getItem(this.DIVIDEND_WEIGHTS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,calculationDate:new Date(r.calculationDate)}))}catch(r){return console.error("[分红权重] 解析权重数据失败:",r),[]}}getAllDividendRecords(){const e=localStorage.getItem(this.DIVIDEND_RECORDS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,distributionDate:new Date(r.distributionDate)}))}catch(r){return console.error("[分红权重] 解析分红记录失败:",r),[]}}getUserDividendWeights(e){return this.getAllDividendWeights().filter(n=>n.userId===e)}getPeriodDividendWeights(e){return this.getAllDividendWeights().filter(n=>n.periodId===e)}clearData(){localStorage.removeItem(this.DIVIDEND_WEIGHTS_KEY),localStorage.removeItem(this.DIVIDEND_RECORDS_KEY),localStorage.removeItem(this.HISTORICAL_PERFORMANCE_KEY),console.log("[分红权重] 已清空所有数据")}}const zc=new P_,I_=()=>{const[s,e]=j.useState("ocoin"),[r,n]=j.useState(!1),[o,l]=j.useState({totalOCoinAllocated:0,totalUsers:0,averageScore:0,topPerformers:[]}),[c,u]=j.useState([]),[m,p]=j.useState(!1),[f,x]=j.useState({totalOptionsGranted:0,totalUsers:0,totalVested:0,totalExercised:0,averageStrikePrice:0,topOptionHolders:[]}),[v,N]=j.useState({totalDistributed:0,totalRecipients:0,averageDividend:0,topRecipients:[]}),C=["user-1","user-2","user-3","user-4","user-5"];j.useEffect(()=>{k()},[]);const k=()=>{try{const D=Mm.getPlatformPerformanceStats();l(D);const z=Ka.getOptionsPoolStats(),E=Ka.getTopOptionHolders(3),G={totalOptionsGranted:z.totalGranted,totalUsers:z.participatingUsers,totalVested:z.totalVested,totalExercised:z.totalExercised,averageStrikePrice:z.averageStrikePrice,topOptionHolders:E};x(G);const Y=zc.getDividendStats();N(Y)}catch(D){console.error("加载统计数据失败:",D)}},w=async()=>{n(!0);try{const D=`period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,z=C.map(Y=>Mm.generateMockPerformanceData(Y,D)),E=z.map(Y=>{const ne=Y.revenueContribution*.4,ee=Y.playerReferralCount*.2,se=Y.developmentScore*.15,ie=Y.managementScore*.15,M=Y.marketingScore*.1,F=ne+ee+se+ie+M,Z=Math.floor(F*100);return{userId:Y.userId,details:{revenue:Y.revenueContribution,referrals:Y.playerReferralCount,development:Y.developmentScore,management:Y.managementScore,marketing:Y.marketingScore,totalScore:F,oCoinAmount:Z}}});u(E),p(!0);const G=E.reduce((Y,ne)=>Y+ne.details.oCoinAmount,0);alert(`✅ O币绩效计算完成！

📊 计算结果：共为 ${z.length} 个用户计算出 ${G.toLocaleString()} 个待授予O币。

👉 请在“期权管理”标签页查看详细信息并确认授予。`)}catch(D){console.error("O币计算失败:",D),alert("❌ O币计算失败，请检查控制台错误信息。")}finally{n(!1)}},T=async()=>{n(!0);try{if(c.length===0){alert('⚠️ 请先执行"O币授予计算"，生成绩效计算结果后再进行期权授予。');return}const D=c.reduce((ee,se)=>ee+se.details.oCoinAmount,0),z=c.length;if(!confirm(`确认授予期权吗？

📊 待授予期权总数：${D.toLocaleString()} 个
👥 涉及用户数量：${z} 个
💰 执行价格：市价95%折扣
🗺️ 归属期：365天

此操作将正式授予期权，不可撤销。`))return;const G=c.map(ee=>({userId:ee.userId,oCoinAmount:ee.details.oCoinAmount,totalScore:ee.details.totalScore})),Y=es.getOCoinMarketData().currentPrice,ne=await Ka.grantOptionsFromPerformance(G,Y);u([]),p(!1),k(),alert(`✅ 期权授予完成！

🎁 共授予 ${ne.totalGranted.toLocaleString()} 个期权给 ${ne.grantedUsers} 个用户。
💰 平均执行价：¥${ne.details.length>0?ne.details[0].strikePrice:0}

期权将在未来365天内逐渐成熟，成熟后可以进行行权操作。`)}catch(D){console.error("期权授予失败:",D),alert("❌ 期权授予失败，请检查控制台错误信息。")}finally{n(!1)}},_=async()=>{n(!0);try{const D=await Ka.processVesting();D.totalVested>0&&(console.log(`✨ 处理期权成熟：${D.totalVested} 个期权已成熟，影响 ${D.affectedUsers} 个用户`),console.log(`💰 共发放 ${D.totalUnlocked} 个O币到个人账户`));const E=es.getOCoinMarketData().currentPrice,G=Ka.getTopOptionHolders(1);if(G.length===0){alert("⚠️ 没有找到有期权的用户。请先执行绩效计算和期权授予。");return}const Y=G[0],ne=Math.min(Y.vestedOptions,1e3);if(ne<=0){alert(`⚠️ 选中的用户没有已成熟的期权可行权。

💡 提示：期权需要经过成熟期才能行权，请耐心等待或联系管理员。`);return}if(E<=Y.strikePrice&&!confirm(`⚠️ 行权条件提醒

📈 当前市价：¥${E.toFixed(2)}
🎯 执行价格：¥${Y.strikePrice.toFixed(2)}
📊 潜在损失：¥${((Y.strikePrice-E)*ne).toFixed(2)}

当前市价低于执行价格，行权将产生损失。
是否确认继续行权？`)||!confirm(`🚀 确认期权行权

👤 用户：${Y.userId}
💰 行权数量：${ne.toLocaleString()} 个
📈 当前市价：¥${E.toFixed(2)}
🎯 执行价格：¥${Y.strikePrice.toFixed(2)}
💵 预期收益：¥${Math.max(0,(E-Y.strikePrice)*ne).toFixed(2)}

此操作不可撤销，确认继续？`))return;const se=await Ka.exerciseOptions(Y.userId,ne,E);k(),se.success?alert(`✅ 期权行权完成！

👤 用户：${Y.userId}
💰 行权数量：${se.exercisedAmount.toLocaleString()} 个
📈 当前市价：¥${E.toFixed(2)}
🎯 执行价格：¥${Y.strikePrice.toFixed(2)}
💵 实际收益：¥${se.profit.toFixed(2)}

🎉 已成功将收益添加到用户O币余额中！`):alert(`❌ 期权行权失败：${se.message}`)}catch(D){console.error("期权行权失败:",D),alert("❌ 期权行权失败，请检查控制台错误信息。")}finally{n(!1)}},A=async()=>{n(!0);try{const D=`dividend-period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`;await zc.calculateAllDividendWeights(D),k(),alert(`✅ 分红权重计算完成！为 ${C.length} 个用户计算了分红权重。`)}catch(D){console.error("分红权重计算失败:",D),alert("❌ 分红权重计算失败，请检查控制台错误信息。")}finally{n(!1)}},B=async()=>{n(!0);try{const D=`dividend-period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,z=5e4;await zc.distributeCashDividend(D,z),k(),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{type:"dividend",amount:z,timestamp:new Date}})),alert(`✅ 现金分红分配完成！共分配了 ${z} 元现金分红。

💰 请在个人中心查看您的现金余额变化！`)}catch(D){console.error("现金分红失败:",D),alert("❌ 现金分红失败，请检查控制台错误信息。")}finally{n(!1)}},I=()=>{confirm("确定要清空所有绩效数据吗？此操作不可撤销。")&&(s==="ocoin"?(Mm.clearAllocations(),u([]),p(!1)):s==="options"?Ka.clearOptionsData():zc.clearData(),k(),alert("✅ 数据已清空。"))};return t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"🎯 绩效管理中心"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"O币绩效分配、期权管理与现金分红统一管理"})]}),t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="ocoin"?"border-b-2 border-orange-600 text-orange-600 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("ocoin"),children:"🔶 O币绩效分配"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="options"?"border-b-2 border-purple-600 text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("options"),children:"📊 期权管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="dividend"?"border-b-2 border-green-600 text-green-600 dark:text-green-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("dividend"),children:"💰 现金分红权重"})]}),s==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"🔶"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-orange-800 dark:text-orange-400",children:"O币绩效分配"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"基于未来绩效预期，分配O币期权奖励"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总分配O币"}),t.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:c.length>0?c.reduce((D,z)=>D+z.details.oCoinAmount,0).toLocaleString():o.totalOCoinAllocated.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"参与用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:c.length>0?c.length:o.totalUsers})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均绩效分数"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:c.length>0?(c.reduce((D,z)=>D+z.details.totalScore,0)/c.length).toFixed(1):o.averageScore})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:w,disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"计算中...":"🚀 O币授予计算"}),t.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:m?"隐藏计算过程":"📊 查看计算过程"}),t.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]})]}),m&&c.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 mt-4",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:"📊 O币授予计算过程"}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-4",children:[t.jsx("h5",{className:"text-sm font-bold text-blue-800 dark:text-blue-400 mb-2",children:"🧮 计算公式"}),t.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-500 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"总分 ="})," 收入贡献×40% + 推荐人数×20% + 开发贡献×15% + 管理贡献×15% + 营销贡献×10%"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"O币数量 ="})," 总分 × 100 (每分转换为100个O币)"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left font-semibold text-slate-700 dark:text-slate-300",children:"用户ID"}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["收入贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(40%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["推荐人数",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(20%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["开发贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(15%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["管理贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(15%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["营销贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(10%)"})]}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"总分"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-orange-600 dark:text-orange-400",children:"授予O币"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map((D,z)=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[t.jsx("td",{className:"px-3 py-2 font-medium text-slate-900 dark:text-slate-100",children:D.userId}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.revenue.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(D.details.revenue*.4).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.referrals}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(D.details.referrals*.2).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.development.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(D.details.development*.15).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.management.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(D.details.management*.15).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.marketing.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(D.details.marketing*.1).toFixed(1),"分)"]})]}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-blue-600 dark:text-blue-400",children:D.details.totalScore.toFixed(2)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-orange-600 dark:text-orange-400",children:D.details.oCoinAmount.toLocaleString()})]},z))}),t.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("td",{className:"px-3 py-2 font-bold text-slate-700 dark:text-slate-300",children:"总计"}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((D,z)=>D+z.details.revenue,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((D,z)=>D+z.details.referrals,0)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((D,z)=>D+z.details.development,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((D,z)=>D+z.details.management,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((D,z)=>D+z.details.marketing,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-blue-600 dark:text-blue-400",children:c.reduce((D,z)=>D+z.details.totalScore,0).toFixed(2)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-orange-600 dark:text-orange-400",children:c.reduce((D,z)=>D+z.details.oCoinAmount,0).toLocaleString()})]})})]})}),t.jsxs("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[t.jsx("h5",{className:"text-sm font-bold text-orange-800 dark:text-orange-400 mb-2",children:"📝 计算说明"}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-500 space-y-1",children:[t.jsxs("p",{children:["• ",t.jsx("strong",{children:"收入贡献："}),"用户为平台带来的收入金额，权重最高(40%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"推荐人数："}),"用户成功推荐的新用户数量，体现生态扩张能力(20%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"开发贡献："}),"技术开发、产品改进等技术性贡献(15%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"管理贡献："}),"团队管理、运营管理等管理性贡献(15%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"营销贡献："}),"市场推广、品牌建设等营销性贡献(10%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"转换规则："}),"总分乘以100得出最终O币授予数量，确保激励效果"]})]})]})]})]}),s==="options"&&t.jsxs("div",{className:"space-y-6",children:[c.length>0&&t.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📋"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-yellow-800 dark:text-yellow-400",children:"当期计算结果"}),t.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"待授予的期权数量，点击“授予期权”按钮进行正式授予"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"计算时间"}),t.jsx("div",{className:"text-xs text-yellow-500",children:new Date().toLocaleString()})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"待授予期权"}),t.jsx("div",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:c.reduce((D,z)=>D+z.details.oCoinAmount,0).toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"待授予用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:c.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均期权数"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:(c.reduce((D,z)=>D+z.details.oCoinAmount,0)/c.length).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"当期计算详情"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left font-semibold text-slate-700 dark:text-slate-300",children:"用户ID"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"绩效分数"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-yellow-600 dark:text-yellow-400",children:"待授予期权"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"执行价（预估）"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map((D,z)=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[t.jsx("td",{className:"px-3 py-2 font-medium text-slate-900 dark:text-slate-100",children:D.userId}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:D.details.totalScore.toFixed(2)})}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("div",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:D.details.oCoinAmount.toLocaleString()})}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:"¥2.38"}),t.jsx("div",{className:"text-xs text-slate-500",children:"（市价95%）"})]})]},z))})]})})]})]}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📊"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-purple-800 dark:text-purple-400",children:"期权管理"}),t.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-500",children:"基于绩效计算结果，管理O币期权的授予、成熟和行权操作"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总授予期权"}),t.jsx("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:f.totalOptionsGranted.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"参与用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:f.totalUsers})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"已成熟期权"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:f.totalVested.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"已行权数量"}),t.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:f.totalExercised.toLocaleString()})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"期权池统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平均执行价"}),t.jsxs("span",{className:"font-bold text-purple-600",children:["¥",f.averageStrikePrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"成熟率"}),t.jsxs("span",{className:"font-bold text-green-600",children:[f.totalOptionsGranted>0?(f.totalVested/f.totalOptionsGranted*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"行权率"}),t.jsxs("span",{className:"font-bold text-orange-600",children:[f.totalVested>0?(f.totalExercised/f.totalVested*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"待成熟期权"}),t.jsx("span",{className:"font-bold text-blue-600",children:(f.totalOptionsGranted-f.totalVested).toLocaleString()})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"顶级期权持有者"}),t.jsx("div",{className:"space-y-2",children:f.topOptionHolders.map((D,z)=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 rounded-full flex items-center justify-center text-xs font-bold",children:z+1}),t.jsx("span",{className:"font-medium text-sm",children:D.userId})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm font-bold",children:D.totalOptions.toLocaleString()}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["成熟: ",D.vestedOptions.toLocaleString()]})]})]},z))})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:T,disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"处理中...":"🎁 授予期权"}),t.jsx("button",{onClick:_,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"处理中...":"⚙️ 行权操作"}),t.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]}),t.jsxs("div",{className:"mt-4 p-3 bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 rounded-lg",children:[t.jsx("h5",{className:"text-sm font-bold text-purple-800 dark:text-purple-400 mb-2",children:"📝 期权管理工作流程"}),t.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-500 space-y-1",children:[t.jsxs("p",{children:["• ",t.jsx("strong",{children:"1. 绩效计算："}),'在"O币绩效分配"标签中执行"授予计算"，系统仅计算不直接授予']}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"2. 结果显示："}),"在本页面查看当期计算结果的详细数据，包括待授予用户和期权数量"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"3. 确认授予："}),'点击"授予期权"按钮，经确认后正式将计算结果转为期权']}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"4. 期权成熟："}),"期权逐渐成熟，365天内按日均匀释放，只有成熟后才可行权"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"5. 条件验证："}),"行权时检查市价、成熟数量等条件，确保合理性和安全性"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"6. 期权行权："}),"当O币市价高于执行价且期权已成熟时，可行权获得收益"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"7. 数据同步："}),"所有操作都会实时更新期权统计数据，确保数据一致性"]})]})]})]})]}),s==="dividend"&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"💰"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-400",children:"现金分红权重"}),t.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:"基于历史和当下绩效，分配现金分红权重"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总分红金额"}),t.jsxs("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["¥",v.totalDistributed.toLocaleString()]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"受益人数"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:v.totalRecipients})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均分红"}),t.jsxs("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:["¥",v.averageDividend.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:A,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"计算中...":"📊 计算分红权重"}),t.jsx("button",{onClick:B,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"分配中...":"💸 执行现金分红"}),t.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]})]})}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsx("h4",{className:"text-md font-bold text-blue-800 dark:text-blue-400 mb-2",children:"📝 使用说明"}),t.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-500 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"O币绩效分配:"})," 基于用户的收入贡献、推荐玩家、开发/管理/营销贡献计算绩效分数，分配O币期权奖励"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"期权管理:"})," 统一管理O币期权的授予、成熟和行权操作，与绩效分配系统深度集成"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"现金分红权重:"})," 基于用户的历史绩效贡献计算分红权重，按权重分配现金分红"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"权重配置:"})," 可以通过平台管理的参数投票功能调整各项绩效的权重系数"]})]})]})]})},R_=()=>{const{platformData:s,parameters:e,activeVotes:r,finishedVotes:n,members:o,currentUser:l,loading:c,createVote:u,submitVote:m,finalizeVote:p,vetoVote:f,selectUser:x}=C_(),[v,N]=j.useState("dashboard"),[C,k]=j.useState(null),[w,T]=j.useState(!1),_=async(I,D,z,E,G)=>{if(l)try{await u(I,D,z,E,G,l.id),T(!1)}catch(Y){console.error("创建投票失败:",Y)}},A=I=>{k(I),T(!0)},B=()=>{k(null),T(!1)};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"平台管理系统"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(oe,{to:"/",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-2"}),"回到主页"]}),t.jsxs(oe,{to:"/computing-dashboard",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-microchip mr-2"}),"算力中心"]}),t.jsxs(oe,{to:"/fund-pool",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-coins mr-2"}),"资金池"]})]})]}),t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-8",children:[t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="dashboard"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>N("dashboard"),children:"平台数据"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="parameters"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>N("parameters"),children:"参数管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="votes"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>N("votes"),children:"投票决策"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="members"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>N("members"),children:"成员管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="performance"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>N("performance"),children:"🎯 绩效管理"})]}),t.jsxs("div",{children:[v==="dashboard"&&t.jsx(S_,{platformData:s,loading:c}),v==="parameters"&&t.jsx(T_,{parameters:e,loading:c,onCreateVote:A}),v==="votes"&&t.jsx(A_,{activeVotes:r,finishedVotes:n,currentUser:l,loading:c,onSubmitVote:m,onFinalizeVote:p,onVetoVote:f}),v==="members"&&t.jsx(__,{members:o,currentUser:l,loading:c,onSelectUser:x}),v==="performance"&&t.jsx(I_,{})]}),w&&t.jsx(D_,{parameter:C,onClose:B,onSubmit:_})]})},M_=()=>{const[s,e]=j.useState(!1),[r,n]=j.useState(!1),[o,l]=j.useState(null),c=async()=>{e(!0),l(null);try{await Ao.initPlatformManagementTestData(),n(!0)}catch(u){l(u instanceof Error?u.message:"初始化测试数据失败")}finally{e(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-3xl",children:"⚙️"})}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"平台管理系统测试"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"初始化测试数据并进入平台管理系统"})]}),o&&t.jsx("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300",children:o}),r&&t.jsx("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300",children:"测试数据初始化成功！您现在可以进入平台管理系统。"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:c,disabled:s,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin mr-2",children:"⟳"}),"初始化中..."]}):"初始化测试数据"}),t.jsx(oe,{to:"/platform-management",className:"block w-full py-3 px-4 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-200 rounded-lg font-medium transition-colors text-center",children:"进入平台管理系统"}),t.jsx(oe,{to:"/",className:"block w-full py-3 px-4 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 rounded-lg font-medium transition-colors text-center",children:"返回首页"})]})]})})};function O_(){const{lang:s}=hs(),e=Ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"about.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"about.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"about.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(oe,{to:"/",className:"px-5 py-2.5 bg-white text-blue-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"about.hero.backHome")}),t.jsx("a",{href:"#vision",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"about.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#vision",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.vision")})}),t.jsx("li",{children:t.jsx("a",{href:"#values",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.values")})}),t.jsx("li",{children:t.jsx("a",{href:"#story",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.story")})}),t.jsx("li",{children:t.jsx("a",{href:"#thanks",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.thanks")})}),t.jsx("li",{children:t.jsx("a",{href:"#invite",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.invite")})}),t.jsx("li",{children:t.jsx("a",{href:"#roadmap",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.roadmap")})})]})}),t.jsxs("section",{id:"vision",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.visionTitle")}),t.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[t.jsx("p",{children:y(e,"about.sections.vision.p1")}),t.jsx("p",{children:y(e,"about.sections.vision.p2")})]})]}),t.jsxs("section",{id:"values",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.valuesTitle")}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.buildOpen")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.openDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.shareRevenue")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.shareDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.coGovern")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.governDesc")})]})]})]}),t.jsxs("section",{id:"story",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:y(e,"about.sections.storyTitle")}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h2020")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d2020")})]}),t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h2025Agent")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d2025Agent")})]}),t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h202508")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d202508")})]})]})]}),t.jsxs("section",{id:"thanks",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.thanksTitle")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"about.sections.thanks.desc")})})]}),t.jsxs("section",{id:"invite",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.inviteTitle")}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.invite.desc")}),t.jsxs("ul",{className:"list-disc pl-6 mt-3 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"about.sections.invite.list.players")}),t.jsx("li",{children:y(e,"about.sections.invite.list.developers")}),t.jsx("li",{children:y(e,"about.sections.invite.list.governors")}),t.jsx("li",{children:y(e,"about.sections.invite.list.merchants")})]}),t.jsxs("div",{className:"mt-4 flex gap-3",children:[t.jsx(oe,{to:"/register",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium",children:y(e,"about.sections.invite.registerNow")}),t.jsx(oe,{to:"/blog-center",className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 rounded-lg font-medium",children:y(e,"about.sections.invite.toCommunity")})]})]})]}),t.jsxs("section",{id:"roadmap",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.roadmapTitle")}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.security")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.securityDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.account")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.accountDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.games")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.gamesDesc")})]})]})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"about.footer.copyright")})})]})}function L_(){const{lang:s}=hs(),e=Ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"communityRewards.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"communityRewards.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"communityRewards.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(oe,{to:"/",className:"px-5 py-2.5 bg-white text-blue-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"communityRewards.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"communityRewards.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#overview",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.overview")})}),t.jsx("li",{children:t.jsx("a",{href:"#acoin",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.acoin")})}),t.jsx("li",{children:t.jsx("a",{href:"#ocoin",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.ocoin")})}),t.jsx("li",{children:t.jsx("a",{href:"#example",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.example")})}),t.jsx("li",{children:t.jsx("a",{href:"#others",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.others")})})]})}),t.jsxs("section",{id:"overview",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.overview.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"communityRewards.overview.p")})}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-coins"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.acoinTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.acoinDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-chart-line"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.ocoinTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.ocoinDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-gamepad"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.powerTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.powerDesc")})]})]})]}),t.jsxs("section",{id:"acoin",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.acoin.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsxs("ul",{children:[t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.0")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.1")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.2")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.3")})]})})]}),t.jsxs("section",{id:"ocoin",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.ocoin.title")}),t.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[t.jsx("p",{children:y(e,"communityRewards.ocoin.p")}),t.jsxs("ul",{children:[t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.0")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.1")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.2")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.3")})]})]})]}),t.jsxs("section",{id:"example",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.example.title")}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-indigo-200/50 dark:border-indigo-900/30",children:[t.jsx("h3",{className:"font-semibold mb-3",children:y(e,"communityRewards.example.aDailyTitle")}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-300 space-y-2",children:[t.jsx("p",{className:"font-medium",children:y(e,"communityRewards.example.assumptions")}),t.jsxs("ul",{className:"list-disc pl-5",children:[t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.0")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.1")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.2")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.3")})]}),t.jsx("hr",{className:"my-3 border-slate-200 dark:border-slate-700"}),t.jsx("p",{className:"font-medium",children:y(e,"communityRewards.example.calc")}),t.jsxs("ol",{className:"list-decimal pl-5",children:[t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.0")}),t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.1")}),t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.2")})]}),t.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300",children:y(e,"communityRewards.example.result")})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"font-semibold mb-3",children:y(e,"communityRewards.example.performanceTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.example.performanceP")}),t.jsxs("div",{className:"mt-3 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/60",children:[t.jsx("p",{children:y(e,"communityRewards.example.formula")}),t.jsx("p",{className:"mt-2",children:y(e,"communityRewards.example.exampleNote")}),t.jsx("p",{children:y(e,"communityRewards.example.cashLine")}),t.jsx("p",{children:y(e,"communityRewards.example.bonusLine")})]})]})]})]}),t.jsxs("section",{id:"others",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.others.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"communityRewards.others.p")})})]}),t.jsxs("section",{id:"steps",className:"mt-10 mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.steps.title")}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-stretch",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"1"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s1Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s1Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 inline-block",children:y(e,"communityRewards.steps.s1Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"2"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s2Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s2Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 inline-block",children:y(e,"communityRewards.steps.s2Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"3"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s3Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s3Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 inline-block",children:y(e,"communityRewards.steps.s3Badge")})]})]}),t.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-stretch",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"4"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s4Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s4Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 inline-block",children:y(e,"communityRewards.steps.s4Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"5"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s5Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s5Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 inline-block",children:y(e,"communityRewards.steps.s5Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"6"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s6Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s6Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300 inline-block",children:y(e,"communityRewards.steps.s6Badge")})]})]})]}),t.jsx("div",{className:"mt-6 text-sm text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.steps.hint")})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"communityRewards.footer.copyright")})})]})}function z_(){const{lang:s}=hs(),e=Ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-4xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"openEconomy.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"openEconomy.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"openEconomy.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(oe,{to:"/",className:"px-5 py-2.5 bg-white text-indigo-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"openEconomy.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"openEconomy.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#overview",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.overview")})}),t.jsx("li",{children:t.jsx("a",{href:"#compute",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.compute")})}),t.jsx("li",{children:t.jsx("a",{href:"#fund",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.fund")})}),t.jsx("li",{children:t.jsx("a",{href:"#governance",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.governance")})}),t.jsx("li",{children:t.jsx("a",{href:"#params",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.params")})}),t.jsx("li",{children:t.jsx("a",{href:"#example",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.example")})})]})}),t.jsxs("section",{id:"overview",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.overview.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"openEconomy.overview.p")})})]}),t.jsxs("section",{id:"compute",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.compute.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.compute.p")})})]}),t.jsxs("section",{id:"fund",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.fund.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.fund.p")})})]}),t.jsxs("section",{id:"governance",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.governance.title")}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm space-y-4",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.governance.p1")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.governance.p2")})]})]}),t.jsxs("section",{id:"params",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.params.title")}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-5",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"openEconomy.params.leftTitle")}),t.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.0")}),t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.1")}),t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.2")})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-5",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"openEconomy.params.rightTitle")}),t.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.0")}),t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.1")}),t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.2")})]})]})]})]}),t.jsxs("section",{id:"example",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.example.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.example.p")})})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"openEconomy.footer.copyright")})})]})}function $_(){const{lang:s}=hs(),e=Ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-4xl",children:[t.jsx("p",{className:"text-amber-100 mb-3",children:y(e,"tradingSystem.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"tradingSystem.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-amber-100",children:y(e,"tradingSystem.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(oe,{to:"/",className:"px-5 py-2.5 bg-white text-amber-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"tradingSystem.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"tradingSystem.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsxs("section",{id:"overview",className:"mb-10",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"tradingSystem.overview.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"tradingSystem.overview.p")})]}),t.jsxs("section",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-bag-shopping"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.officialStore.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.officialStore.desc")}),t.jsxs(oe,{to:"/official-store",className:"inline-flex items-center text-amber-700 dark:text-amber-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.officialStore.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-store"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.gameStore.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.gameStore.desc")}),t.jsxs(oe,{to:"/game-store",className:"inline-flex items-center text-blue-700 dark:text-blue-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.gameStore.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-arrows-rotate"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.marketplace.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.marketplace.desc")}),t.jsxs(oe,{to:"/marketplace",className:"inline-flex items-center text-emerald-700 dark:text-emerald-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.marketplace.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]})]}),t.jsx("section",{className:"mt-10",children:t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"tradingSystem.note.p")})})})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"tradingSystem.footer.copyright")})})]})}const F_=j.createContext(void 0),V_={totalPower:1234,dailyEarnings:32.58,gameCoins:5678,level:1,experience:0,experienceToNext:1e3,multiplier:1,lastUpdateTime:Date.now()},$c=[1,1.2,1.5,1.8,2.2,2.7,3.3,4,4.8,5.7],B_=1e3;function U_({children:s}){const[e,r]=j.useState(()=>{const p=localStorage.getItem("computingPowerData");return p?JSON.parse(p):V_});j.useEffect(()=>{localStorage.setItem("computingPowerData",JSON.stringify(e))},[e]),j.useEffect(()=>{const p=setInterval(()=>{const f=Date.now(),v=(f-e.lastUpdateTime)/(1e3*60*60);if(v>=.1){const N=c()*v;r(C=>({...C,dailyEarnings:C.dailyEarnings+N,lastUpdateTime:f}))}},6e4);return()=>clearInterval(p)},[e.lastUpdateTime,e.totalPower,e.multiplier]);const n=p=>{r(f=>({...f,totalPower:f.totalPower+p}))},o=p=>{r(f=>({...f,gameCoins:f.gameCoins+p}))},l=p=>{r(f=>{let x=f.experience+p,v=f.level,N=f.experienceToNext,C=f.multiplier;for(;x>=N&&v<$c.length;)x-=N,v++,N=u(v),C=$c[v-1]||$c[$c.length-1];return{...f,experience:x,level:v,experienceToNext:N,multiplier:C}})},c=()=>e.totalPower*e.multiplier*.001,u=p=>{const f=p||e.level;return B_*Math.pow(1.5,f-1)},m={data:e,addPower:n,addGameCoins:o,addExperience:l,calculateEarnings:c,getNextLevelRequirement:u};return t.jsx(F_.Provider,{value:m,children:s})}const H_=()=>{const{lang:s,setLang:e}=hs();return t.jsxs("div",{className:"fixed top-4 right-4 z-[60] px-3 py-1.5 rounded-lg bg-white/80 dark:bg-slate-800/80 backdrop-blur border border-slate-200 dark:border-slate-700 shadow-sm hidden md:flex items-center text-sm",children:[t.jsx("button",{onClick:()=>e("zh"),className:_o("px-1 hover:text-blue-600 dark:hover:text-blue-400",s==="zh"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),"aria-label":"切换为中文",children:"中文"}),t.jsx("span",{className:"mx-2 text-slate-400",children:"|"}),t.jsx("button",{onClick:()=>e("en"),className:_o("px-1 hover:text-blue-600 dark:hover:text-blue-400",s==="en"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),"aria-label":"Switch to English",children:"EN"})]})};function W_(){return t.jsx(d1,{children:t.jsx(h1,{children:t.jsx(U_,{children:t.jsx($T,{children:t.jsx(hA,{children:t.jsxs(k_,{children:[t.jsx(H_,{}),t.jsxs(vN,{children:[t.jsx(ft,{path:"/",element:t.jsx(u1,{})}),t.jsx(ft,{path:"/test",element:t.jsx(m1,{})}),t.jsx(ft,{path:"/login",element:t.jsx(f1,{})}),t.jsx(ft,{path:"/register",element:t.jsx(XC,{})}),t.jsx(ft,{path:"/game-center",element:t.jsx(LT,{})}),t.jsx(ft,{path:"/game/match3",element:t.jsx(qT,{})}),t.jsx(ft,{path:"/computing-dashboard",element:t.jsx(nA,{})}),t.jsx(ft,{path:"/computing-test",element:t.jsx(iA,{})}),t.jsx(ft,{path:"/computing-power",element:t.jsx(kA,{})}),t.jsx(ft,{path:"/computing-power-simple",element:t.jsx(BA,{})}),t.jsx(ft,{path:"/marketplace",element:t.jsx(CA,{})}),t.jsx(ft,{path:"/official-store",element:t.jsx(_A,{})}),t.jsx(ft,{path:"/game-store",element:t.jsx(IA,{})}),t.jsx(ft,{path:"/game-store/store/:storeId",element:t.jsx(LA,{})}),t.jsx(ft,{path:"/fund-pool",element:t.jsx(GA,{})}),t.jsx(ft,{path:"/fund-pool-demo",element:t.jsx(YA,{})}),t.jsx(ft,{path:"/test-accounts",element:t.jsx(UA,{})}),t.jsx(ft,{path:"/acoin-settlement-test",element:t.jsx(KA,{})}),t.jsx(ft,{path:"/acoin-calculation-test",element:t.jsx(qA,{})}),t.jsx(ft,{path:"/blog-center",element:t.jsx(XA,{})}),t.jsx(ft,{path:"/blog/:id",element:t.jsx(w_,{})}),t.jsx(ft,{path:"/blog/create",element:t.jsx(Yg,{})}),t.jsx(ft,{path:"/blog/edit/:id",element:t.jsx(Yg,{})}),t.jsx(ft,{path:"/platform-management",element:t.jsx(R_,{})}),t.jsx(ft,{path:"/platform-management-test",element:t.jsx(M_,{})}),t.jsx(ft,{path:"/about",element:t.jsx(O_,{})}),t.jsx(ft,{path:"/community-rewards",element:t.jsx(L_,{})}),t.jsx(ft,{path:"/open-economy",element:t.jsx(z_,{})}),t.jsx(ft,{path:"/trading-system",element:t.jsx($_,{})})]})]})})})})})})}Dj.createRoot(document.getElementById("root")).render(t.jsx(j.StrictMode,{children:t.jsxs(HN,{basename:"/AllinONE-Gaming-Platform",children:[t.jsx(W_,{}),t.jsx(Ak,{})]})}));
