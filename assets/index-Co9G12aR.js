var Mw=Object.defineProperty;var Ow=(s,e,r)=>e in s?Mw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var Ee=(s,e,r)=>Ow(s,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function og(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ju={exports:{}},zi={},Nu={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function zw(){if(qp)return st;qp=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function w(I,H,ie){this.props=I,this.context=H,this.refs=N,this.updater=ie||k}w.prototype.isReactComponent={},w.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function A(){}A.prototype=w.prototype;function D(I,H,ie){this.props=I,this.context=H,this.refs=N,this.updater=ie||k}var T=D.prototype=new A;T.constructor=D,C(T,w.prototype),T.isPureReactComponent=!0;var B=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function P(I,H,ie){var ve,Le={},be=null,Me=null;if(H!=null)for(ve in H.ref!==void 0&&(Me=H.ref),H.key!==void 0&&(be=""+H.key),H)E.call(H,ve)&&!L.hasOwnProperty(ve)&&(Le[ve]=H[ve]);var $e=arguments.length-2;if($e===1)Le.children=ie;else if(1<$e){for(var Ge=Array($e),it=0;it<$e;it++)Ge[it]=arguments[it+2];Le.children=Ge}if(I&&I.defaultProps)for(ve in $e=I.defaultProps,$e)Le[ve]===void 0&&(Le[ve]=$e[ve]);return{$$typeof:s,type:I,key:be,ref:Me,props:Le,_owner:_.current}}function U(I,H){return{$$typeof:s,type:I.type,key:H,ref:I.ref,props:I.props,_owner:I._owner}}function W(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function re(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ie){return H[ie]})}var te=/\/+/g;function se(I,H){return typeof I=="object"&&I!==null&&I.key!=null?re(""+I.key):H.toString(36)}function ae(I,H,ie,ve,Le){var be=typeof I;(be==="undefined"||be==="boolean")&&(I=null);var Me=!1;if(I===null)Me=!0;else switch(be){case"string":case"number":Me=!0;break;case"object":switch(I.$$typeof){case s:case e:Me=!0}}if(Me)return Me=I,Le=Le(Me),I=ve===""?"."+se(Me,0):ve,B(Le)?(ie="",I!=null&&(ie=I.replace(te,"$&/")+"/"),ae(Le,H,ie,"",function(it){return it})):Le!=null&&(W(Le)&&(Le=U(Le,ie+(!Le.key||Me&&Me.key===Le.key?"":(""+Le.key).replace(te,"$&/")+"/")+I)),H.push(Le)),1;if(Me=0,ve=ve===""?".":ve+":",B(I))for(var $e=0;$e<I.length;$e++){be=I[$e];var Ge=ve+se(be,$e);Me+=ae(be,H,ie,Ge,Le)}else if(Ge=v(I),typeof Ge=="function")for(I=Ge.call(I),$e=0;!(be=I.next()).done;)be=be.value,Ge=ve+se(be,$e++),Me+=ae(be,H,ie,Ge,Le);else if(be==="object")throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Me}function O(I,H,ie){if(I==null)return I;var ve=[],Le=0;return ae(I,ve,"","",function(be){return H.call(ie,be,Le++)}),ve}function V(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(ie){(I._status===0||I._status===-1)&&(I._status=1,I._result=ie)},function(ie){(I._status===0||I._status===-1)&&(I._status=2,I._result=ie)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var K={current:null},R={transition:null},J={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};function Q(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:O,forEach:function(I,H,ie){O(I,function(){H.apply(this,arguments)},ie)},count:function(I){var H=0;return O(I,function(){H++}),H},toArray:function(I){return O(I,function(H){return H})||[]},only:function(I){if(!W(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},st.Component=w,st.Fragment=r,st.Profiler=o,st.PureComponent=D,st.StrictMode=n,st.Suspense=m,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,st.act=Q,st.cloneElement=function(I,H,ie){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ve=C({},I.props),Le=I.key,be=I.ref,Me=I._owner;if(H!=null){if(H.ref!==void 0&&(be=H.ref,Me=_.current),H.key!==void 0&&(Le=""+H.key),I.type&&I.type.defaultProps)var $e=I.type.defaultProps;for(Ge in H)E.call(H,Ge)&&!L.hasOwnProperty(Ge)&&(ve[Ge]=H[Ge]===void 0&&$e!==void 0?$e[Ge]:H[Ge])}var Ge=arguments.length-2;if(Ge===1)ve.children=ie;else if(1<Ge){$e=Array(Ge);for(var it=0;it<Ge;it++)$e[it]=arguments[it+2];ve.children=$e}return{$$typeof:s,type:I.type,key:Le,ref:be,props:ve,_owner:Me}},st.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},st.createElement=P,st.createFactory=function(I){var H=P.bind(null,I);return H.type=I,H},st.createRef=function(){return{current:null}},st.forwardRef=function(I){return{$$typeof:u,render:I}},st.isValidElement=W,st.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:V}},st.memo=function(I,H){return{$$typeof:p,type:I,compare:H===void 0?null:H}},st.startTransition=function(I){var H=R.transition;R.transition={};try{I()}finally{R.transition=H}},st.unstable_act=Q,st.useCallback=function(I,H){return K.current.useCallback(I,H)},st.useContext=function(I){return K.current.useContext(I)},st.useDebugValue=function(){},st.useDeferredValue=function(I){return K.current.useDeferredValue(I)},st.useEffect=function(I,H){return K.current.useEffect(I,H)},st.useId=function(){return K.current.useId()},st.useImperativeHandle=function(I,H,ie){return K.current.useImperativeHandle(I,H,ie)},st.useInsertionEffect=function(I,H){return K.current.useInsertionEffect(I,H)},st.useLayoutEffect=function(I,H){return K.current.useLayoutEffect(I,H)},st.useMemo=function(I,H){return K.current.useMemo(I,H)},st.useReducer=function(I,H,ie){return K.current.useReducer(I,H,ie)},st.useRef=function(I){return K.current.useRef(I)},st.useState=function(I){return K.current.useState(I)},st.useSyncExternalStore=function(I,H,ie){return K.current.useSyncExternalStore(I,H,ie)},st.useTransition=function(){return K.current.useTransition()},st.version="18.3.1",st}var Xp;function Sm(){return Xp||(Xp=1,Nu.exports=zw()),Nu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Lw(){if(Jp)return zi;Jp=1;var s=Sm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,m,p){var f,x={},v=null,k=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(k=m.ref);for(f in m)n.call(m,f)&&!l.hasOwnProperty(f)&&(x[f]=m[f]);if(u&&u.defaultProps)for(f in m=u.defaultProps,m)x[f]===void 0&&(x[f]=m[f]);return{$$typeof:e,type:u,key:v,ref:k,props:x,_owner:o.current}}return zi.Fragment=r,zi.jsx=c,zi.jsxs=c,zi}var Qp;function $w(){return Qp||(Qp=1,ju.exports=Lw()),ju.exports}var t=$w(),j=Sm();const he=og(j);var Hl={},ku={exports:{}},Ts={},Cu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function Vw(){return ef||(ef=1,function(s){function e(R,J){var Q=R.length;R.push(J);e:for(;0<Q;){var I=Q-1>>>1,H=R[I];if(0<o(H,J))R[I]=J,R[Q]=H,Q=I;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var J=R[0],Q=R.pop();if(Q!==J){R[0]=Q;e:for(var I=0,H=R.length,ie=H>>>1;I<ie;){var ve=2*(I+1)-1,Le=R[ve],be=ve+1,Me=R[be];if(0>o(Le,Q))be<H&&0>o(Me,Le)?(R[I]=Me,R[be]=Q,I=be):(R[I]=Le,R[ve]=Q,I=ve);else if(be<H&&0>o(Me,Q))R[I]=Me,R[be]=Q,I=be;else break e}}return J}function o(R,J){var Q=R.sortIndex-J.sortIndex;return Q!==0?Q:R.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();s.unstable_now=function(){return c.now()-u}}var m=[],p=[],f=1,x=null,v=3,k=!1,C=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(R){for(var J=r(p);J!==null;){if(J.callback===null)n(p);else if(J.startTime<=R)n(p),J.sortIndex=J.expirationTime,e(m,J);else break;J=r(p)}}function B(R){if(N=!1,T(R),!C)if(r(m)!==null)C=!0,V(E);else{var J=r(p);J!==null&&K(B,J.startTime-R)}}function E(R,J){C=!1,N&&(N=!1,A(P),P=-1),k=!0;var Q=v;try{for(T(J),x=r(m);x!==null&&(!(x.expirationTime>J)||R&&!re());){var I=x.callback;if(typeof I=="function"){x.callback=null,v=x.priorityLevel;var H=I(x.expirationTime<=J);J=s.unstable_now(),typeof H=="function"?x.callback=H:x===r(m)&&n(m),T(J)}else n(m);x=r(m)}if(x!==null)var ie=!0;else{var ve=r(p);ve!==null&&K(B,ve.startTime-J),ie=!1}return ie}finally{x=null,v=Q,k=!1}}var _=!1,L=null,P=-1,U=5,W=-1;function re(){return!(s.unstable_now()-W<U)}function te(){if(L!==null){var R=s.unstable_now();W=R;var J=!0;try{J=L(!0,R)}finally{J?se():(_=!1,L=null)}}else _=!1}var se;if(typeof D=="function")se=function(){D(te)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,O=ae.port2;ae.port1.onmessage=te,se=function(){O.postMessage(null)}}else se=function(){w(te,0)};function V(R){L=R,_||(_=!0,se())}function K(R,J){P=w(function(){R(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(R){R.callback=null},s.unstable_continueExecution=function(){C||k||(C=!0,V(E))},s.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_getFirstCallbackNode=function(){return r(m)},s.unstable_next=function(R){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var Q=v;v=J;try{return R()}finally{v=Q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(R,J){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=v;v=R;try{return J()}finally{v=Q}},s.unstable_scheduleCallback=function(R,J,Q){var I=s.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,R={id:f++,callback:J,priorityLevel:R,startTime:Q,expirationTime:H,sortIndex:-1},Q>I?(R.sortIndex=Q,e(p,R),r(m)===null&&R===r(p)&&(N?(A(P),P=-1):N=!0,K(B,Q-I))):(R.sortIndex=H,e(m,R),C||k||(C=!0,V(E))),R},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(R){var J=v;return function(){var Q=v;v=J;try{return R.apply(this,arguments)}finally{v=Q}}}}(Su)),Su}var tf;function Fw(){return tf||(tf=1,Cu.exports=Vw()),Cu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function Bw(){if(sf)return Ts;sf=1;var s=Sm(),e=Fw();function r(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(a,i){c(a,i),c(a+"Capture",i)}function c(a,i){for(o[a]=i,a=0;a<i.length;a++)n.add(i[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},x={};function v(a){return m.call(x,a)?!0:m.call(f,a)?!1:p.test(a)?x[a]=!0:(f[a]=!0,!1)}function k(a,i,d,h){if(d!==null&&d.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,i,d,h){if(i===null||typeof i>"u"||k(a,i,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(a,i,d,h,g,b,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=a,this.type=i,this.sanitizeURL=b,this.removeEmptyString=S}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){w[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];w[i]=new N(i,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){w[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){w[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){w[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){w[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){w[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){w[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){w[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(A,D);w[i]=new N(i,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(A,D);w[i]=new N(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(A,D);w[i]=new N(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){w[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),w.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){w[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,i,d,h){var g=w.hasOwnProperty(i)?w[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,d,g,h)&&(d=null),h||g===null?v(i)&&(d===null?a.removeAttribute(i):a.setAttribute(i,""+d)):g.mustUseProperty?a[g.propertyName]=d===null?g.type===3?!1:"":d:(i=g.attributeName,h=g.attributeNamespace,d===null?a.removeAttribute(i):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,h?a.setAttributeNS(h,i,d):a.setAttribute(i,d))))}var B=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),R=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=R&&a[R]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Object.assign,I;function H(a){if(I===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+a}var ie=!1;function ve(a,i){if(!a||ie)return"";ie=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var h=ee}Reflect.construct(a,[],i)}else{try{i.call()}catch(ee){h=ee}a.call(i.prototype)}else{try{throw Error()}catch(ee){h=ee}a()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),b=h.stack.split(`
`),S=g.length-1,M=b.length-1;1<=S&&0<=M&&g[S]!==b[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==b[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==b[M]){var $=`
`+g[S].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=S&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?H(a):""}function Le(a){switch(a.tag){case 5:return H(a.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function be(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case L:return"Fragment";case _:return"Portal";case U:return"Profiler";case P:return"StrictMode";case se:return"Suspense";case ae:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case re:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case te:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return i=a.displayName||null,i!==null?i:be(a.type)||"Memo";case V:i=a._payload,a=a._init;try{return be(a(i))}catch{}}return null}function Me(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function $e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ge(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function it(a){var i=Ge(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),h=""+a[i];if(!a.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,b.call(this,S)}}),Object.defineProperty(a,i,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Wt(a){a._valueTracker||(a._valueTracker=it(a))}function es(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var d=i.getValue(),h="";return a&&(h=Ge(a)?a.checked?"true":"false":a.value),a=h,a!==d?(i.setValue(a),!0):!1}function Ls(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function fs(a,i){var d=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function js(a,i){var d=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;d=$e(i.value!=null?i.value:d),a._wrapperState={initialChecked:h,initialValue:d,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ct(a,i){i=i.checked,i!=null&&T(a,"checked",i,!1)}function is(a,i){Ct(a,i);var d=$e(i.value),h=i.type;if(d!=null)h==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(h==="submit"||h==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?St(a,i.type,d):i.hasOwnProperty("defaultValue")&&St(a,i.type,$e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function Ht(a,i,d){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,d||i===a.value||(a.value=i),a.defaultValue=i}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function St(a,i,d){(i!=="number"||Ls(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var z=Array.isArray;function Z(a,i,d,h){if(a=a.options,i){i={};for(var g=0;g<d.length;g++)i["$"+d[g]]=!0;for(d=0;d<a.length;d++)g=i.hasOwnProperty("$"+a[d].value),a[d].selected!==g&&(a[d].selected=g),g&&h&&(a[d].defaultSelected=!0)}else{for(d=""+$e(d),i=null,g=0;g<a.length;g++){if(a[g].value===d){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}i!==null||a[g].disabled||(i=a[g])}i!==null&&(i.selected=!0)}}function q(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function fe(a,i){var d=i.value;if(d==null){if(d=i.children,i=i.defaultValue,d!=null){if(i!=null)throw Error(r(92));if(z(d)){if(1<d.length)throw Error(r(93));d=d[0]}i=d}i==null&&(i=""),d=i}a._wrapperState={initialValue:$e(d)}}function xe(a,i){var d=$e(i.value),h=$e(i.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),i.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),h!=null&&(a.defaultValue=""+h)}function me(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function Se(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?Se(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var rt,ft=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,d,h,g){MSApp.execUnsafeLocalFunction(function(){return a(i,d,h,g)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function Vt(a,i){if(i){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=i;return}}a.textContent=i}var Mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$s=["Webkit","ms","Moz","O"];Object.keys(Mt).forEach(function(a){$s.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),Mt[i]=Mt[a]})});function Es(a,i,d){return i==null||typeof i=="boolean"||i===""?"":d||typeof i!="number"||i===0||Mt.hasOwnProperty(a)&&Mt[a]?(""+i).trim():i+"px"}function xr(a,i){a=a.style;for(var d in i)if(i.hasOwnProperty(d)){var h=d.indexOf("--")===0,g=Es(d,i[d],h);d==="float"&&(d="cssFloat"),h?a.setProperty(d,g):a[d]=g}}var zr=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(a,i){if(i){if(zr[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Lr(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=null;function Gt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gr=null,br=null,Js=null;function Ra(a){if(a=ji(a)){if(typeof gr!="function")throw Error(r(280));var i=a.stateNode;i&&(i=il(i),gr(a.stateNode,a.type,i))}}function Ke(a){br?Js?Js.push(a):Js=[a]:br=a}function gt(){if(br){var a=br,i=Js;if(Js=br=null,Ra(a),i)for(a=0;a<i.length;a++)Ra(i[a])}}function _t(a,i){return a(i)}function G(){}var Ie=!1;function ye(a,i,d){if(Ie)return a(i,d);Ie=!0;try{return _t(a,i,d)}finally{Ie=!1,(br!==null||Js!==null)&&(G(),gt())}}function ue(a,i){var d=a.stateNode;if(d===null)return null;var h=il(d);if(h===null)return null;d=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,i,typeof d));return d}var ke=!1;if(u)try{var Ce={};Object.defineProperty(Ce,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch{ke=!1}function Ze(a,i,d,h,g,b,S,M,$){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(d,ee)}catch(le){this.onError(le)}}var et=!1,At=null,Vs=!1,Fc=null,By={onError:function(a){et=!0,At=a}};function Uy(a,i,d,h,g,b,S,M,$){et=!1,At=null,Ze.apply(By,arguments)}function Wy(a,i,d,h,g,b,S,M,$){if(Uy.apply(this,arguments),et){if(et){var ee=At;et=!1,At=null}else throw Error(r(198));Vs||(Vs=!0,Fc=ee)}}function Ma(a){var i=a,d=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(d=i.return),a=i.return;while(a)}return i.tag===3?d:null}function y0(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function v0(a){if(Ma(a)!==a)throw Error(r(188))}function Hy(a){var i=a.alternate;if(!i){if(i=Ma(a),i===null)throw Error(r(188));return i!==a?null:a}for(var d=a,h=i;;){var g=d.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){d=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===d)return v0(g),a;if(b===h)return v0(g),i;b=b.sibling}throw Error(r(188))}if(d.return!==h.return)d=g,h=b;else{for(var S=!1,M=g.child;M;){if(M===d){S=!0,d=g,h=b;break}if(M===h){S=!0,h=g,d=b;break}M=M.sibling}if(!S){for(M=b.child;M;){if(M===d){S=!0,d=b,h=g;break}if(M===h){S=!0,h=b,d=g;break}M=M.sibling}if(!S)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:i}function w0(a){return a=Hy(a),a!==null?j0(a):null}function j0(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=j0(a);if(i!==null)return i;a=a.sibling}return null}var N0=e.unstable_scheduleCallback,k0=e.unstable_cancelCallback,Gy=e.unstable_shouldYield,Ky=e.unstable_requestPaint,Pt=e.unstable_now,Zy=e.unstable_getCurrentPriorityLevel,Bc=e.unstable_ImmediatePriority,C0=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,Yy=e.unstable_LowPriority,S0=e.unstable_IdlePriority,Fo=null,yr=null;function qy(a){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Fo,a,void 0,(a.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:Qy,Xy=Math.log,Jy=Math.LN2;function Qy(a){return a>>>=0,a===0?32:31-(Xy(a)/Jy|0)|0}var Bo=64,Uo=4194304;function ai(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Wo(a,i){var d=a.pendingLanes;if(d===0)return 0;var h=0,g=a.suspendedLanes,b=a.pingedLanes,S=d&268435455;if(S!==0){var M=S&~g;M!==0?h=ai(M):(b&=S,b!==0&&(h=ai(b)))}else S=d&~g,S!==0?h=ai(S):b!==0&&(h=ai(b));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,b=i&-i,g>=b||g===16&&(b&4194240)!==0))return i;if((h&4)!==0&&(h|=d&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=h;0<i;)d=31-Qs(i),g=1<<d,h|=a[d],i&=~g;return h}function ev(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tv(a,i){for(var d=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,b=a.pendingLanes;0<b;){var S=31-Qs(b),M=1<<S,$=g[S];$===-1?((M&d)===0||(M&h)!==0)&&(g[S]=ev(M,i)):$<=i&&(a.expiredLanes|=M),b&=~M}}function Uc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function A0(){var a=Bo;return Bo<<=1,(Bo&4194240)===0&&(Bo=64),a}function Wc(a){for(var i=[],d=0;31>d;d++)i.push(a);return i}function ni(a,i,d){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-Qs(i),a[i]=d}function sv(a,i){var d=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var h=a.eventTimes;for(a=a.expirationTimes;0<d;){var g=31-Qs(d),b=1<<g;i[g]=0,h[g]=-1,a[g]=-1,d&=~b}}function Hc(a,i){var d=a.entangledLanes|=i;for(a=a.entanglements;d;){var h=31-Qs(d),g=1<<h;g&i|a[h]&i&&(a[h]|=i),d&=~g}}var ct=0;function T0(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var D0,Gc,_0,P0,E0,Kc=!1,Ho=[],aa=null,na=null,ia=null,ii=new Map,oi=new Map,oa=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(a,i){switch(a){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":ii.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(i.pointerId)}}function li(a,i,d,h,g,b){return a===null||a.nativeEvent!==b?(a={blockedOn:i,domEventName:d,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},i!==null&&(i=ji(i),i!==null&&Gc(i)),a):(a.eventSystemFlags|=h,i=a.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),a)}function av(a,i,d,h,g){switch(i){case"focusin":return aa=li(aa,a,i,d,h,g),!0;case"dragenter":return na=li(na,a,i,d,h,g),!0;case"mouseover":return ia=li(ia,a,i,d,h,g),!0;case"pointerover":var b=g.pointerId;return ii.set(b,li(ii.get(b)||null,a,i,d,h,g)),!0;case"gotpointercapture":return b=g.pointerId,oi.set(b,li(oi.get(b)||null,a,i,d,h,g)),!0}return!1}function R0(a){var i=Oa(a.target);if(i!==null){var d=Ma(i);if(d!==null){if(i=d.tag,i===13){if(i=y0(d),i!==null){a.blockedOn=i,E0(a.priority,function(){_0(d)});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Go(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var d=Yc(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);xs=h,d.target.dispatchEvent(h),xs=null}else return i=ji(d),i!==null&&Gc(i),a.blockedOn=d,!1;i.shift()}return!0}function M0(a,i,d){Go(a)&&d.delete(i)}function nv(){Kc=!1,aa!==null&&Go(aa)&&(aa=null),na!==null&&Go(na)&&(na=null),ia!==null&&Go(ia)&&(ia=null),ii.forEach(M0),oi.forEach(M0)}function ci(a,i){a.blockedOn===i&&(a.blockedOn=null,Kc||(Kc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nv)))}function di(a){function i(g){return ci(g,a)}if(0<Ho.length){ci(Ho[0],a);for(var d=1;d<Ho.length;d++){var h=Ho[d];h.blockedOn===a&&(h.blockedOn=null)}}for(aa!==null&&ci(aa,a),na!==null&&ci(na,a),ia!==null&&ci(ia,a),ii.forEach(i),oi.forEach(i),d=0;d<oa.length;d++)h=oa[d],h.blockedOn===a&&(h.blockedOn=null);for(;0<oa.length&&(d=oa[0],d.blockedOn===null);)R0(d),d.blockedOn===null&&oa.shift()}var un=B.ReactCurrentBatchConfig,Ko=!0;function iv(a,i,d,h){var g=ct,b=un.transition;un.transition=null;try{ct=1,Zc(a,i,d,h)}finally{ct=g,un.transition=b}}function ov(a,i,d,h){var g=ct,b=un.transition;un.transition=null;try{ct=4,Zc(a,i,d,h)}finally{ct=g,un.transition=b}}function Zc(a,i,d,h){if(Ko){var g=Yc(a,i,d,h);if(g===null)md(a,i,h,Zo,d),I0(a,h);else if(av(g,a,i,d,h))h.stopPropagation();else if(I0(a,h),i&4&&-1<rv.indexOf(a)){for(;g!==null;){var b=ji(g);if(b!==null&&D0(b),b=Yc(a,i,d,h),b===null&&md(a,i,h,Zo,d),b===g)break;g=b}g!==null&&h.stopPropagation()}else md(a,i,h,null,d)}}var Zo=null;function Yc(a,i,d,h){if(Zo=null,a=Gt(h),a=Oa(a),a!==null)if(i=Ma(a),i===null)a=null;else if(d=i.tag,d===13){if(a=y0(i),a!==null)return a;a=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return Zo=a,null}function O0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zy()){case Bc:return 1;case C0:return 4;case Vo:case Yy:return 16;case S0:return 536870912;default:return 16}default:return 16}}var la=null,qc=null,Yo=null;function z0(){if(Yo)return Yo;var a,i=qc,d=i.length,h,g="value"in la?la.value:la.textContent,b=g.length;for(a=0;a<d&&i[a]===g[a];a++);var S=d-a;for(h=1;h<=S&&i[d-h]===g[b-h];h++);return Yo=g.slice(a,1<h?1-h:void 0)}function qo(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Xo(){return!0}function L0(){return!1}function Is(a){function i(d,h,g,b,S){this._reactName=d,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(d=a[M],this[M]=d?d(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Xo:L0,this.isPropagationStopped=L0,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),i}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xc=Is(mn),ui=Q({},mn,{view:0,detail:0}),lv=Is(ui),Jc,Qc,mi,Jo=Q({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==mi&&(mi&&a.type==="mousemove"?(Jc=a.screenX-mi.screenX,Qc=a.screenY-mi.screenY):Qc=Jc=0,mi=a),Jc)},movementY:function(a){return"movementY"in a?a.movementY:Qc}}),$0=Is(Jo),cv=Q({},Jo,{dataTransfer:0}),dv=Is(cv),uv=Q({},ui,{relatedTarget:0}),ed=Is(uv),mv=Q({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),hv=Is(mv),pv=Q({},mn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fv=Is(pv),xv=Q({},mn,{data:0}),V0=Is(xv),gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vv(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=yv[a])?!!i[a]:!1}function td(){return vv}var wv=Q({},ui,{key:function(a){if(a.key){var i=gv[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=qo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bv[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(a){return a.type==="keypress"?qo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jv=Is(wv),Nv=Q({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=Is(Nv),kv=Q({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),Cv=Is(kv),Sv=Q({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=Is(Sv),Tv=Q({},Jo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=Is(Tv),_v=[9,13,27,32],sd=u&&"CompositionEvent"in window,hi=null;u&&"documentMode"in document&&(hi=document.documentMode);var Pv=u&&"TextEvent"in window&&!hi,B0=u&&(!sd||hi&&8<hi&&11>=hi),U0=" ",W0=!1;function H0(a,i){switch(a){case"keyup":return _v.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hn=!1;function Ev(a,i){switch(a){case"compositionend":return G0(i);case"keypress":return i.which!==32?null:(W0=!0,U0);case"textInput":return a=i.data,a===U0&&W0?null:a;default:return null}}function Iv(a,i){if(hn)return a==="compositionend"||!sd&&H0(a,i)?(a=z0(),Yo=qc=la=null,hn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return B0&&i.locale!=="ko"?null:i.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Rv[a.type]:i==="textarea"}function Z0(a,i,d,h){Ke(h),i=rl(i,"onChange"),0<i.length&&(d=new Xc("onChange","change",null,d,h),a.push({event:d,listeners:i}))}var pi=null,fi=null;function Mv(a){mh(a,0)}function Qo(a){var i=bn(a);if(es(i))return a}function Ov(a,i){if(a==="change")return i}var Y0=!1;if(u){var rd;if(u){var ad="oninput"in document;if(!ad){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),ad=typeof q0.oninput=="function"}rd=ad}else rd=!1;Y0=rd&&(!document.documentMode||9<document.documentMode)}function X0(){pi&&(pi.detachEvent("onpropertychange",J0),fi=pi=null)}function J0(a){if(a.propertyName==="value"&&Qo(fi)){var i=[];Z0(i,fi,a,Gt(a)),ye(Mv,i)}}function zv(a,i,d){a==="focusin"?(X0(),pi=i,fi=d,pi.attachEvent("onpropertychange",J0)):a==="focusout"&&X0()}function Lv(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qo(fi)}function $v(a,i){if(a==="click")return Qo(i)}function Vv(a,i){if(a==="input"||a==="change")return Qo(i)}function Fv(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var er=typeof Object.is=="function"?Object.is:Fv;function xi(a,i){if(er(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var d=Object.keys(a),h=Object.keys(i);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var g=d[h];if(!m.call(i,g)||!er(a[g],i[g]))return!1}return!0}function Q0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function eh(a,i){var d=Q0(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=i&&h>=i)return{node:d,offset:i-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Q0(d)}}function th(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?th(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function sh(){for(var a=window,i=Ls();i instanceof a.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)a=i.contentWindow;else break;i=Ls(a.document)}return i}function nd(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function Bv(a){var i=sh(),d=a.focusedElem,h=a.selectionRange;if(i!==d&&d&&d.ownerDocument&&th(d.ownerDocument.documentElement,d)){if(h!==null&&nd(d)){if(i=h.start,a=h.end,a===void 0&&(a=i),"selectionStart"in d)d.selectionStart=i,d.selectionEnd=Math.min(a,d.value.length);else if(a=(i=d.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var g=d.textContent.length,b=Math.min(h.start,g);h=h.end===void 0?b:Math.min(h.end,g),!a.extend&&b>h&&(g=h,h=b,b=g),g=eh(d,b);var S=eh(d,h);g&&S&&(a.rangeCount!==1||a.anchorNode!==g.node||a.anchorOffset!==g.offset||a.focusNode!==S.node||a.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),a.removeAllRanges(),b>h?(a.addRange(i),a.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),a.addRange(i)))}}for(i=[],a=d;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<i.length;d++)a=i[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Uv=u&&"documentMode"in document&&11>=document.documentMode,pn=null,id=null,gi=null,od=!1;function rh(a,i,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;od||pn==null||pn!==Ls(h)||(h=pn,"selectionStart"in h&&nd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),gi&&xi(gi,h)||(gi=h,h=rl(id,"onSelect"),0<h.length&&(i=new Xc("onSelect","select",null,i,d),a.push({event:i,listeners:h}),i.target=pn)))}function el(a,i){var d={};return d[a.toLowerCase()]=i.toLowerCase(),d["Webkit"+a]="webkit"+i,d["Moz"+a]="moz"+i,d}var fn={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},ld={},ah={};u&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function tl(a){if(ld[a])return ld[a];if(!fn[a])return a;var i=fn[a],d;for(d in i)if(i.hasOwnProperty(d)&&d in ah)return ld[a]=i[d];return a}var nh=tl("animationend"),ih=tl("animationiteration"),oh=tl("animationstart"),lh=tl("transitionend"),ch=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(a,i){ch.set(a,i),l(i,[a])}for(var cd=0;cd<dh.length;cd++){var dd=dh[cd],Wv=dd.toLowerCase(),Hv=dd[0].toUpperCase()+dd.slice(1);ca(Wv,"on"+Hv)}ca(nh,"onAnimationEnd"),ca(ih,"onAnimationIteration"),ca(oh,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(lh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function uh(a,i,d){var h=a.type||"unknown-event";a.currentTarget=d,Wy(h,i,void 0,a),a.currentTarget=null}function mh(a,i){i=(i&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],g=h.event;h=h.listeners;e:{var b=void 0;if(i)for(var S=h.length-1;0<=S;S--){var M=h[S],$=M.instance,ee=M.currentTarget;if(M=M.listener,$!==b&&g.isPropagationStopped())break e;uh(g,M,ee),b=$}else for(S=0;S<h.length;S++){if(M=h[S],$=M.instance,ee=M.currentTarget,M=M.listener,$!==b&&g.isPropagationStopped())break e;uh(g,M,ee),b=$}}}if(Vs)throw a=Fc,Vs=!1,Fc=null,a}function ht(a,i){var d=i[bd];d===void 0&&(d=i[bd]=new Set);var h=a+"__bubble";d.has(h)||(hh(i,a,2,!1),d.add(h))}function ud(a,i,d){var h=0;i&&(h|=4),hh(d,a,h,i)}var sl="_reactListening"+Math.random().toString(36).slice(2);function yi(a){if(!a[sl]){a[sl]=!0,n.forEach(function(d){d!=="selectionchange"&&(Gv.has(d)||ud(d,!1,a),ud(d,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[sl]||(i[sl]=!0,ud("selectionchange",!1,i))}}function hh(a,i,d,h){switch(O0(i)){case 1:var g=iv;break;case 4:g=ov;break;default:g=Zc}d=g.bind(null,i,d,a),g=void 0,!ke||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(i,d,{capture:!0,passive:g}):a.addEventListener(i,d,!0):g!==void 0?a.addEventListener(i,d,{passive:g}):a.addEventListener(i,d,!1)}function md(a,i,d,h,g){var b=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var $=S.tag;if(($===3||$===4)&&($=S.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;S=S.return}for(;M!==null;){if(S=Oa(M),S===null)return;if($=S.tag,$===5||$===6){h=b=S;continue e}M=M.parentNode}}h=h.return}ye(function(){var ee=b,le=Gt(d),ce=[];e:{var oe=ch.get(a);if(oe!==void 0){var je=Xc,Te=a;switch(a){case"keypress":if(qo(d)===0)break e;case"keydown":case"keyup":je=jv;break;case"focusin":Te="focus",je=ed;break;case"focusout":Te="blur",je=ed;break;case"beforeblur":case"afterblur":je=ed;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Cv;break;case nh:case ih:case oh:je=hv;break;case lh:je=Av;break;case"scroll":je=lv;break;case"wheel":je=Dv;break;case"copy":case"cut":case"paste":je=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=F0}var Re=(i&4)!==0,Et=!Re&&a==="scroll",Y=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var F=ee,X;F!==null;){X=F;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,Y!==null&&(pe=ue(F,Y),pe!=null&&Re.push(vi(F,pe,X)))),Et)break;F=F.return}0<Re.length&&(oe=new je(oe,Te,null,d,le),ce.push({event:oe,listeners:Re}))}}if((i&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",je=a==="mouseout"||a==="pointerout",oe&&d!==xs&&(Te=d.relatedTarget||d.fromElement)&&(Oa(Te)||Te[$r]))break e;if((je||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,je?(Te=d.relatedTarget||d.toElement,je=ee,Te=Te?Oa(Te):null,Te!==null&&(Et=Ma(Te),Te!==Et||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(je=null,Te=ee),je!==Te)){if(Re=$0,pe="onMouseLeave",Y="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Re=F0,pe="onPointerLeave",Y="onPointerEnter",F="pointer"),Et=je==null?oe:bn(je),X=Te==null?oe:bn(Te),oe=new Re(pe,F+"leave",je,d,le),oe.target=Et,oe.relatedTarget=X,pe=null,Oa(le)===ee&&(Re=new Re(Y,F+"enter",Te,d,le),Re.target=X,Re.relatedTarget=Et,pe=Re),Et=pe,je&&Te)t:{for(Re=je,Y=Te,F=0,X=Re;X;X=xn(X))F++;for(X=0,pe=Y;pe;pe=xn(pe))X++;for(;0<F-X;)Re=xn(Re),F--;for(;0<X-F;)Y=xn(Y),X--;for(;F--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=xn(Re),Y=xn(Y)}Re=null}else Re=null;je!==null&&ph(ce,oe,je,Re,!1),Te!==null&&Et!==null&&ph(ce,Et,Te,Re,!0)}}e:{if(oe=ee?bn(ee):window,je=oe.nodeName&&oe.nodeName.toLowerCase(),je==="select"||je==="input"&&oe.type==="file")var Oe=Ov;else if(K0(oe))if(Y0)Oe=Vv;else{Oe=Lv;var Ve=zv}else(je=oe.nodeName)&&je.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Oe=$v);if(Oe&&(Oe=Oe(a,ee))){Z0(ce,Oe,d,le);break e}Ve&&Ve(a,oe,ee),a==="focusout"&&(Ve=oe._wrapperState)&&Ve.controlled&&oe.type==="number"&&St(oe,"number",oe.value)}switch(Ve=ee?bn(ee):window,a){case"focusin":(K0(Ve)||Ve.contentEditable==="true")&&(pn=Ve,id=ee,gi=null);break;case"focusout":gi=id=pn=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,rh(ce,d,le);break;case"selectionchange":if(Uv)break;case"keydown":case"keyup":rh(ce,d,le)}var Fe;if(sd)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else hn?H0(a,d)&&(He="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(B0&&d.locale!=="ko"&&(hn||He!=="onCompositionStart"?He==="onCompositionEnd"&&hn&&(Fe=z0()):(la=le,qc="value"in la?la.value:la.textContent,hn=!0)),Ve=rl(ee,He),0<Ve.length&&(He=new V0(He,a,null,d,le),ce.push({event:He,listeners:Ve}),Fe?He.data=Fe:(Fe=G0(d),Fe!==null&&(He.data=Fe)))),(Fe=Pv?Ev(a,d):Iv(a,d))&&(ee=rl(ee,"onBeforeInput"),0<ee.length&&(le=new V0("onBeforeInput","beforeinput",null,d,le),ce.push({event:le,listeners:ee}),le.data=Fe))}mh(ce,i)})}function vi(a,i,d){return{instance:a,listener:i,currentTarget:d}}function rl(a,i){for(var d=i+"Capture",h=[];a!==null;){var g=a,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=ue(a,d),b!=null&&h.unshift(vi(a,b,g)),b=ue(a,i),b!=null&&h.push(vi(a,b,g))),a=a.return}return h}function xn(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function ph(a,i,d,h,g){for(var b=i._reactName,S=[];d!==null&&d!==h;){var M=d,$=M.alternate,ee=M.stateNode;if($!==null&&$===h)break;M.tag===5&&ee!==null&&(M=ee,g?($=ue(d,b),$!=null&&S.unshift(vi(d,$,M))):g||($=ue(d,b),$!=null&&S.push(vi(d,$,M)))),d=d.return}S.length!==0&&a.push({event:i,listeners:S})}var Kv=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function fh(a){return(typeof a=="string"?a:""+a).replace(Kv,`
`).replace(Zv,"")}function al(a,i,d){if(i=fh(i),fh(a)!==i&&d)throw Error(r(425))}function nl(){}var hd=null,pd=null;function fd(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,Yv=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(a){return xh.resolve(null).then(a).catch(Xv)}:xd;function Xv(a){setTimeout(function(){throw a})}function gd(a,i){var d=i,h=0;do{var g=d.nextSibling;if(a.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(h===0){a.removeChild(g),di(i);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=g}while(d);di(i)}function da(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function gh(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return a;i--}else d==="/$"&&i++}a=a.previousSibling}return null}var gn=Math.random().toString(36).slice(2),vr="__reactFiber$"+gn,wi="__reactProps$"+gn,$r="__reactContainer$"+gn,bd="__reactEvents$"+gn,Jv="__reactListeners$"+gn,Qv="__reactHandles$"+gn;function Oa(a){var i=a[vr];if(i)return i;for(var d=a.parentNode;d;){if(i=d[$r]||d[vr]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(a=gh(a);a!==null;){if(d=a[vr])return d;a=gh(a)}return i}a=d,d=a.parentNode}return null}function ji(a){return a=a[vr]||a[$r],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function bn(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function il(a){return a[wi]||null}var yd=[],yn=-1;function ua(a){return{current:a}}function pt(a){0>yn||(a.current=yd[yn],yd[yn]=null,yn--)}function mt(a,i){yn++,yd[yn]=a.current,a.current=i}var ma={},os=ua(ma),Ns=ua(!1),za=ma;function vn(a,i){var d=a.type.contextTypes;if(!d)return ma;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in d)g[b]=i[b];return h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=g),g}function ks(a){return a=a.childContextTypes,a!=null}function ol(){pt(Ns),pt(os)}function bh(a,i,d){if(os.current!==ma)throw Error(r(168));mt(os,i),mt(Ns,d)}function yh(a,i,d){var h=a.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(r(108,Me(a)||"Unknown",g));return Q({},d,h)}function ll(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ma,za=os.current,mt(os,a),mt(Ns,Ns.current),!0}function vh(a,i,d){var h=a.stateNode;if(!h)throw Error(r(169));d?(a=yh(a,i,za),h.__reactInternalMemoizedMergedChildContext=a,pt(Ns),pt(os),mt(os,a)):pt(Ns),mt(Ns,d)}var Vr=null,cl=!1,vd=!1;function wh(a){Vr===null?Vr=[a]:Vr.push(a)}function ew(a){cl=!0,wh(a)}function ha(){if(!vd&&Vr!==null){vd=!0;var a=0,i=ct;try{var d=Vr;for(ct=1;a<d.length;a++){var h=d[a];do h=h(!0);while(h!==null)}Vr=null,cl=!1}catch(g){throw Vr!==null&&(Vr=Vr.slice(a+1)),N0(Bc,ha),g}finally{ct=i,vd=!1}}return null}var wn=[],jn=0,dl=null,ul=0,Fs=[],Bs=0,La=null,Fr=1,Br="";function $a(a,i){wn[jn++]=ul,wn[jn++]=dl,dl=a,ul=i}function jh(a,i,d){Fs[Bs++]=Fr,Fs[Bs++]=Br,Fs[Bs++]=La,La=a;var h=Fr;a=Br;var g=32-Qs(h)-1;h&=~(1<<g),d+=1;var b=32-Qs(i)+g;if(30<b){var S=g-g%5;b=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Fr=1<<32-Qs(i)+g|d<<g|h,Br=b+a}else Fr=1<<b|d<<g|h,Br=a}function wd(a){a.return!==null&&($a(a,1),jh(a,1,0))}function jd(a){for(;a===dl;)dl=wn[--jn],wn[jn]=null,ul=wn[--jn],wn[jn]=null;for(;a===La;)La=Fs[--Bs],Fs[Bs]=null,Br=Fs[--Bs],Fs[Bs]=null,Fr=Fs[--Bs],Fs[Bs]=null}var Rs=null,Ms=null,xt=!1,tr=null;function Nh(a,i){var d=Gs(5,null,null,0);d.elementType="DELETED",d.stateNode=i,d.return=a,i=a.deletions,i===null?(a.deletions=[d],a.flags|=16):i.push(d)}function kh(a,i){switch(a.tag){case 5:var d=a.type;return i=i.nodeType!==1||d.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,Rs=a,Ms=da(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,Rs=a,Ms=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(d=La!==null?{id:Fr,overflow:Br}:null,a.memoizedState={dehydrated:i,treeContext:d,retryLane:1073741824},d=Gs(18,null,null,0),d.stateNode=i,d.return=a,a.child=d,Rs=a,Ms=null,!0):!1;default:return!1}}function Nd(a){return(a.mode&1)!==0&&(a.flags&128)===0}function kd(a){if(xt){var i=Ms;if(i){var d=i;if(!kh(a,i)){if(Nd(a))throw Error(r(418));i=da(d.nextSibling);var h=Rs;i&&kh(a,i)?Nh(h,d):(a.flags=a.flags&-4097|2,xt=!1,Rs=a)}}else{if(Nd(a))throw Error(r(418));a.flags=a.flags&-4097|2,xt=!1,Rs=a}}}function Ch(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Rs=a}function ml(a){if(a!==Rs)return!1;if(!xt)return Ch(a),xt=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!fd(a.type,a.memoizedProps)),i&&(i=Ms)){if(Nd(a))throw Sh(),Error(r(418));for(;i;)Nh(a,i),i=da(i.nextSibling)}if(Ch(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(i===0){Ms=da(a.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++}a=a.nextSibling}Ms=null}}else Ms=Rs?da(a.stateNode.nextSibling):null;return!0}function Sh(){for(var a=Ms;a;)a=da(a.nextSibling)}function Nn(){Ms=Rs=null,xt=!1}function Cd(a){tr===null?tr=[a]:tr.push(a)}var tw=B.ReactCurrentBatchConfig;function Ni(a,i,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var h=d.stateNode}if(!h)throw Error(r(147,a));var g=h,b=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===b?i.ref:(i=function(S){var M=g.refs;S===null?delete M[b]:M[b]=S},i._stringRef=b,i)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function hl(a,i){throw a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function Ah(a){var i=a._init;return i(a._payload)}function Th(a){function i(Y,F){if(a){var X=Y.deletions;X===null?(Y.deletions=[F],Y.flags|=16):X.push(F)}}function d(Y,F){if(!a)return null;for(;F!==null;)i(Y,F),F=F.sibling;return null}function h(Y,F){for(Y=new Map;F!==null;)F.key!==null?Y.set(F.key,F):Y.set(F.index,F),F=F.sibling;return Y}function g(Y,F){return Y=wa(Y,F),Y.index=0,Y.sibling=null,Y}function b(Y,F,X){return Y.index=X,a?(X=Y.alternate,X!==null?(X=X.index,X<F?(Y.flags|=2,F):X):(Y.flags|=2,F)):(Y.flags|=1048576,F)}function S(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function M(Y,F,X,pe){return F===null||F.tag!==6?(F=xu(X,Y.mode,pe),F.return=Y,F):(F=g(F,X),F.return=Y,F)}function $(Y,F,X,pe){var Oe=X.type;return Oe===L?le(Y,F,X.props.children,pe,X.key):F!==null&&(F.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Ah(Oe)===F.type)?(pe=g(F,X.props),pe.ref=Ni(Y,F,X),pe.return=Y,pe):(pe=zl(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=Ni(Y,F,X),pe.return=Y,pe)}function ee(Y,F,X,pe){return F===null||F.tag!==4||F.stateNode.containerInfo!==X.containerInfo||F.stateNode.implementation!==X.implementation?(F=gu(X,Y.mode,pe),F.return=Y,F):(F=g(F,X.children||[]),F.return=Y,F)}function le(Y,F,X,pe,Oe){return F===null||F.tag!==7?(F=Ka(X,Y.mode,pe,Oe),F.return=Y,F):(F=g(F,X),F.return=Y,F)}function ce(Y,F,X){if(typeof F=="string"&&F!==""||typeof F=="number")return F=xu(""+F,Y.mode,X),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return X=zl(F.type,F.key,F.props,null,Y.mode,X),X.ref=Ni(Y,null,F),X.return=Y,X;case _:return F=gu(F,Y.mode,X),F.return=Y,F;case V:var pe=F._init;return ce(Y,pe(F._payload),X)}if(z(F)||J(F))return F=Ka(F,Y.mode,X,null),F.return=Y,F;hl(Y,F)}return null}function oe(Y,F,X,pe){var Oe=F!==null?F.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Oe!==null?null:M(Y,F,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Oe?$(Y,F,X,pe):null;case _:return X.key===Oe?ee(Y,F,X,pe):null;case V:return Oe=X._init,oe(Y,F,Oe(X._payload),pe)}if(z(X)||J(X))return Oe!==null?null:le(Y,F,X,pe,null);hl(Y,X)}return null}function je(Y,F,X,pe,Oe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(X)||null,M(F,Y,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:return Y=Y.get(pe.key===null?X:pe.key)||null,$(F,Y,pe,Oe);case _:return Y=Y.get(pe.key===null?X:pe.key)||null,ee(F,Y,pe,Oe);case V:var Ve=pe._init;return je(Y,F,X,Ve(pe._payload),Oe)}if(z(pe)||J(pe))return Y=Y.get(X)||null,le(F,Y,pe,Oe,null);hl(F,pe)}return null}function Te(Y,F,X,pe){for(var Oe=null,Ve=null,Fe=F,He=F=0,Yt=null;Fe!==null&&He<X.length;He++){Fe.index>He?(Yt=Fe,Fe=null):Yt=Fe.sibling;var ot=oe(Y,Fe,X[He],pe);if(ot===null){Fe===null&&(Fe=Yt);break}a&&Fe&&ot.alternate===null&&i(Y,Fe),F=b(ot,F,He),Ve===null?Oe=ot:Ve.sibling=ot,Ve=ot,Fe=Yt}if(He===X.length)return d(Y,Fe),xt&&$a(Y,He),Oe;if(Fe===null){for(;He<X.length;He++)Fe=ce(Y,X[He],pe),Fe!==null&&(F=b(Fe,F,He),Ve===null?Oe=Fe:Ve.sibling=Fe,Ve=Fe);return xt&&$a(Y,He),Oe}for(Fe=h(Y,Fe);He<X.length;He++)Yt=je(Fe,Y,He,X[He],pe),Yt!==null&&(a&&Yt.alternate!==null&&Fe.delete(Yt.key===null?He:Yt.key),F=b(Yt,F,He),Ve===null?Oe=Yt:Ve.sibling=Yt,Ve=Yt);return a&&Fe.forEach(function(ja){return i(Y,ja)}),xt&&$a(Y,He),Oe}function Re(Y,F,X,pe){var Oe=J(X);if(typeof Oe!="function")throw Error(r(150));if(X=Oe.call(X),X==null)throw Error(r(151));for(var Ve=Oe=null,Fe=F,He=F=0,Yt=null,ot=X.next();Fe!==null&&!ot.done;He++,ot=X.next()){Fe.index>He?(Yt=Fe,Fe=null):Yt=Fe.sibling;var ja=oe(Y,Fe,ot.value,pe);if(ja===null){Fe===null&&(Fe=Yt);break}a&&Fe&&ja.alternate===null&&i(Y,Fe),F=b(ja,F,He),Ve===null?Oe=ja:Ve.sibling=ja,Ve=ja,Fe=Yt}if(ot.done)return d(Y,Fe),xt&&$a(Y,He),Oe;if(Fe===null){for(;!ot.done;He++,ot=X.next())ot=ce(Y,ot.value,pe),ot!==null&&(F=b(ot,F,He),Ve===null?Oe=ot:Ve.sibling=ot,Ve=ot);return xt&&$a(Y,He),Oe}for(Fe=h(Y,Fe);!ot.done;He++,ot=X.next())ot=je(Fe,Y,He,ot.value,pe),ot!==null&&(a&&ot.alternate!==null&&Fe.delete(ot.key===null?He:ot.key),F=b(ot,F,He),Ve===null?Oe=ot:Ve.sibling=ot,Ve=ot);return a&&Fe.forEach(function(Rw){return i(Y,Rw)}),xt&&$a(Y,He),Oe}function Et(Y,F,X,pe){if(typeof X=="object"&&X!==null&&X.type===L&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Oe=X.key,Ve=F;Ve!==null;){if(Ve.key===Oe){if(Oe=X.type,Oe===L){if(Ve.tag===7){d(Y,Ve.sibling),F=g(Ve,X.props.children),F.return=Y,Y=F;break e}}else if(Ve.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Ah(Oe)===Ve.type){d(Y,Ve.sibling),F=g(Ve,X.props),F.ref=Ni(Y,Ve,X),F.return=Y,Y=F;break e}d(Y,Ve);break}else i(Y,Ve);Ve=Ve.sibling}X.type===L?(F=Ka(X.props.children,Y.mode,pe,X.key),F.return=Y,Y=F):(pe=zl(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=Ni(Y,F,X),pe.return=Y,Y=pe)}return S(Y);case _:e:{for(Ve=X.key;F!==null;){if(F.key===Ve)if(F.tag===4&&F.stateNode.containerInfo===X.containerInfo&&F.stateNode.implementation===X.implementation){d(Y,F.sibling),F=g(F,X.children||[]),F.return=Y,Y=F;break e}else{d(Y,F);break}else i(Y,F);F=F.sibling}F=gu(X,Y.mode,pe),F.return=Y,Y=F}return S(Y);case V:return Ve=X._init,Et(Y,F,Ve(X._payload),pe)}if(z(X))return Te(Y,F,X,pe);if(J(X))return Re(Y,F,X,pe);hl(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,F!==null&&F.tag===6?(d(Y,F.sibling),F=g(F,X),F.return=Y,Y=F):(d(Y,F),F=xu(X,Y.mode,pe),F.return=Y,Y=F),S(Y)):d(Y,F)}return Et}var kn=Th(!0),Dh=Th(!1),pl=ua(null),fl=null,Cn=null,Sd=null;function Ad(){Sd=Cn=fl=null}function Td(a){var i=pl.current;pt(pl),a._currentValue=i}function Dd(a,i,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),a===d)break;a=a.return}}function Sn(a,i){fl=a,Sd=Cn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&i)!==0&&(Cs=!0),a.firstContext=null)}function Us(a){var i=a._currentValue;if(Sd!==a)if(a={context:a,memoizedValue:i,next:null},Cn===null){if(fl===null)throw Error(r(308));Cn=a,fl.dependencies={lanes:0,firstContext:a}}else Cn=Cn.next=a;return i}var Va=null;function _d(a){Va===null?Va=[a]:Va.push(a)}function _h(a,i,d,h){var g=i.interleaved;return g===null?(d.next=d,_d(i)):(d.next=g.next,g.next=d),i.interleaved=d,Ur(a,h)}function Ur(a,i){a.lanes|=i;var d=a.alternate;for(d!==null&&(d.lanes|=i),d=a,a=a.return;a!==null;)a.childLanes|=i,d=a.alternate,d!==null&&(d.childLanes|=i),d=a,a=a.return;return d.tag===3?d.stateNode:null}var pa=!1;function Pd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Wr(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function fa(a,i,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,Ur(a,d)}return g=h.interleaved,g===null?(i.next=i,_d(h)):(i.next=g.next,g.next=i),h.interleaved=i,Ur(a,d)}function xl(a,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194240)!==0)){var h=i.lanes;h&=a.pendingLanes,d|=h,i.lanes=d,Hc(a,d)}}function Eh(a,i){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var g=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var S={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?g=b=S:b=b.next=S,d=d.next}while(d!==null);b===null?g=b=i:b=b.next=i}else g=b=i;d={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,effects:h.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=i:a.next=i,d.lastBaseUpdate=i}function gl(a,i,d,h){var g=a.updateQueue;pa=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var $=M,ee=$.next;$.next=null,S===null?b=ee:S.next=ee,S=$;var le=a.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==S&&(M===null?le.firstBaseUpdate=ee:M.next=ee,le.lastBaseUpdate=$))}if(b!==null){var ce=g.baseState;S=0,le=ee=$=null,M=b;do{var oe=M.lane,je=M.eventTime;if((h&oe)===oe){le!==null&&(le=le.next={eventTime:je,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Te=a,Re=M;switch(oe=i,je=d,Re.tag){case 1:if(Te=Re.payload,typeof Te=="function"){ce=Te.call(je,ce,oe);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Re.payload,oe=typeof Te=="function"?Te.call(je,ce,oe):Te,oe==null)break e;ce=Q({},ce,oe);break e;case 2:pa=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,oe=g.effects,oe===null?g.effects=[M]:oe.push(M))}else je={eventTime:je,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(ee=le=je,$=ce):le=le.next=je,S|=oe;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(le===null&&($=ce),g.baseState=$,g.firstBaseUpdate=ee,g.lastBaseUpdate=le,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else b===null&&(g.shared.lanes=0);Ua|=S,a.lanes=S,a.memoizedState=ce}}function Ih(a,i,d){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var h=a[i],g=h.callback;if(g!==null){if(h.callback=null,h=d,typeof g!="function")throw Error(r(191,g));g.call(h)}}}var ki={},wr=ua(ki),Ci=ua(ki),Si=ua(ki);function Fa(a){if(a===ki)throw Error(r(174));return a}function Ed(a,i){switch(mt(Si,i),mt(Ci,a),mt(wr,ki),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ge(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=ge(i,a)}pt(wr),mt(wr,i)}function An(){pt(wr),pt(Ci),pt(Si)}function Rh(a){Fa(Si.current);var i=Fa(wr.current),d=ge(i,a.type);i!==d&&(mt(Ci,a),mt(wr,d))}function Id(a){Ci.current===a&&(pt(wr),pt(Ci))}var bt=ua(0);function bl(a){for(var i=a;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rd=[];function Md(){for(var a=0;a<Rd.length;a++)Rd[a]._workInProgressVersionPrimary=null;Rd.length=0}var yl=B.ReactCurrentDispatcher,Od=B.ReactCurrentBatchConfig,Ba=0,yt=null,Ft=null,Kt=null,vl=!1,Ai=!1,Ti=0,sw=0;function ls(){throw Error(r(321))}function zd(a,i){if(i===null)return!1;for(var d=0;d<i.length&&d<a.length;d++)if(!er(a[d],i[d]))return!1;return!0}function Ld(a,i,d,h,g,b){if(Ba=b,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,yl.current=a===null||a.memoizedState===null?iw:ow,a=d(h,g),Ai){b=0;do{if(Ai=!1,Ti=0,25<=b)throw Error(r(301));b+=1,Kt=Ft=null,i.updateQueue=null,yl.current=lw,a=d(h,g)}while(Ai)}if(yl.current=Nl,i=Ft!==null&&Ft.next!==null,Ba=0,Kt=Ft=yt=null,vl=!1,i)throw Error(r(300));return a}function $d(){var a=Ti!==0;return Ti=0,a}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?yt.memoizedState=Kt=a:Kt=Kt.next=a,Kt}function Ws(){if(Ft===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=Ft.next;var i=Kt===null?yt.memoizedState:Kt.next;if(i!==null)Kt=i,Ft=a;else{if(a===null)throw Error(r(310));Ft=a,a={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Kt===null?yt.memoizedState=Kt=a:Kt=Kt.next=a}return Kt}function Di(a,i){return typeof i=="function"?i(a):i}function Vd(a){var i=Ws(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=Ft,g=h.baseQueue,b=d.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}h.baseQueue=g=b,d.pending=null}if(g!==null){b=g.next,h=h.baseState;var M=S=null,$=null,ee=b;do{var le=ee.lane;if((Ba&le)===le)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:a(h,ee.action);else{var ce={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(M=$=ce,S=h):$=$.next=ce,yt.lanes|=le,Ua|=le}ee=ee.next}while(ee!==null&&ee!==b);$===null?S=h:$.next=M,er(h,i.memoizedState)||(Cs=!0),i.memoizedState=h,i.baseState=S,i.baseQueue=$,d.lastRenderedState=h}if(a=d.interleaved,a!==null){g=a;do b=g.lane,yt.lanes|=b,Ua|=b,g=g.next;while(g!==a)}else g===null&&(d.lanes=0);return[i.memoizedState,d.dispatch]}function Fd(a){var i=Ws(),d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=d.dispatch,g=d.pending,b=i.memoizedState;if(g!==null){d.pending=null;var S=g=g.next;do b=a(b,S.action),S=S.next;while(S!==g);er(b,i.memoizedState)||(Cs=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),d.lastRenderedState=b}return[b,h]}function Mh(){}function Oh(a,i){var d=yt,h=Ws(),g=i(),b=!er(h.memoizedState,g);if(b&&(h.memoizedState=g,Cs=!0),h=h.queue,Bd($h.bind(null,d,h,a),[a]),h.getSnapshot!==i||b||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,_i(9,Lh.bind(null,d,h,g,i),void 0,null),Zt===null)throw Error(r(349));(Ba&30)!==0||zh(d,i,g)}return g}function zh(a,i,d){a.flags|=16384,a={getSnapshot:i,value:d},i=yt.updateQueue,i===null?(i={lastEffect:null,stores:null},yt.updateQueue=i,i.stores=[a]):(d=i.stores,d===null?i.stores=[a]:d.push(a))}function Lh(a,i,d,h){i.value=d,i.getSnapshot=h,Vh(i)&&Fh(a)}function $h(a,i,d){return d(function(){Vh(i)&&Fh(a)})}function Vh(a){var i=a.getSnapshot;a=a.value;try{var d=i();return!er(a,d)}catch{return!0}}function Fh(a){var i=Ur(a,1);i!==null&&nr(i,a,1,-1)}function Bh(a){var i=jr();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},i.queue=a,a=a.dispatch=nw.bind(null,yt,a),[i.memoizedState,a]}function _i(a,i,d,h){return a={tag:a,create:i,destroy:d,deps:h,next:null},i=yt.updateQueue,i===null?(i={lastEffect:null,stores:null},yt.updateQueue=i,i.lastEffect=a.next=a):(d=i.lastEffect,d===null?i.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,i.lastEffect=a)),a}function Uh(){return Ws().memoizedState}function wl(a,i,d,h){var g=jr();yt.flags|=a,g.memoizedState=_i(1|i,d,void 0,h===void 0?null:h)}function jl(a,i,d,h){var g=Ws();h=h===void 0?null:h;var b=void 0;if(Ft!==null){var S=Ft.memoizedState;if(b=S.destroy,h!==null&&zd(h,S.deps)){g.memoizedState=_i(i,d,b,h);return}}yt.flags|=a,g.memoizedState=_i(1|i,d,b,h)}function Wh(a,i){return wl(8390656,8,a,i)}function Bd(a,i){return jl(2048,8,a,i)}function Hh(a,i){return jl(4,2,a,i)}function Gh(a,i){return jl(4,4,a,i)}function Kh(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Zh(a,i,d){return d=d!=null?d.concat([a]):null,jl(4,4,Kh.bind(null,i,a),d)}function Ud(){}function Yh(a,i){var d=Ws();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&zd(i,h[1])?h[0]:(d.memoizedState=[a,i],a)}function qh(a,i){var d=Ws();i=i===void 0?null:i;var h=d.memoizedState;return h!==null&&i!==null&&zd(i,h[1])?h[0]:(a=a(),d.memoizedState=[a,i],a)}function Xh(a,i,d){return(Ba&21)===0?(a.baseState&&(a.baseState=!1,Cs=!0),a.memoizedState=d):(er(d,i)||(d=A0(),yt.lanes|=d,Ua|=d,a.baseState=!0),i)}function rw(a,i){var d=ct;ct=d!==0&&4>d?d:4,a(!0);var h=Od.transition;Od.transition={};try{a(!1),i()}finally{ct=d,Od.transition=h}}function Jh(){return Ws().memoizedState}function aw(a,i,d){var h=ya(a);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},Qh(a))ep(i,d);else if(d=_h(a,i,d,h),d!==null){var g=bs();nr(d,a,h,g),tp(d,i,h)}}function nw(a,i,d){var h=ya(a),g={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(Qh(a))ep(i,g);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var S=i.lastRenderedState,M=b(S,d);if(g.hasEagerState=!0,g.eagerState=M,er(M,S)){var $=i.interleaved;$===null?(g.next=g,_d(i)):(g.next=$.next,$.next=g),i.interleaved=g;return}}catch{}finally{}d=_h(a,i,g,h),d!==null&&(g=bs(),nr(d,a,h,g),tp(d,i,h))}}function Qh(a){var i=a.alternate;return a===yt||i!==null&&i===yt}function ep(a,i){Ai=vl=!0;var d=a.pending;d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i}function tp(a,i,d){if((d&4194240)!==0){var h=i.lanes;h&=a.pendingLanes,d|=h,i.lanes=d,Hc(a,d)}}var Nl={readContext:Us,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},iw={readContext:Us,useCallback:function(a,i){return jr().memoizedState=[a,i===void 0?null:i],a},useContext:Us,useEffect:Wh,useImperativeHandle:function(a,i,d){return d=d!=null?d.concat([a]):null,wl(4194308,4,Kh.bind(null,i,a),d)},useLayoutEffect:function(a,i){return wl(4194308,4,a,i)},useInsertionEffect:function(a,i){return wl(4,2,a,i)},useMemo:function(a,i){var d=jr();return i=i===void 0?null:i,a=a(),d.memoizedState=[a,i],a},useReducer:function(a,i,d){var h=jr();return i=d!==void 0?d(i):i,h.memoizedState=h.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},h.queue=a,a=a.dispatch=aw.bind(null,yt,a),[h.memoizedState,a]},useRef:function(a){var i=jr();return a={current:a},i.memoizedState=a},useState:Bh,useDebugValue:Ud,useDeferredValue:function(a){return jr().memoizedState=a},useTransition:function(){var a=Bh(!1),i=a[0];return a=rw.bind(null,a[1]),jr().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,d){var h=yt,g=jr();if(xt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=i(),Zt===null)throw Error(r(349));(Ba&30)!==0||zh(h,i,d)}g.memoizedState=d;var b={value:d,getSnapshot:i};return g.queue=b,Wh($h.bind(null,h,b,a),[a]),h.flags|=2048,_i(9,Lh.bind(null,h,b,d,i),void 0,null),d},useId:function(){var a=jr(),i=Zt.identifierPrefix;if(xt){var d=Br,h=Fr;d=(h&~(1<<32-Qs(h)-1)).toString(32)+d,i=":"+i+"R"+d,d=Ti++,0<d&&(i+="H"+d.toString(32)),i+=":"}else d=sw++,i=":"+i+"r"+d.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},ow={readContext:Us,useCallback:Yh,useContext:Us,useEffect:Bd,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:qh,useReducer:Vd,useRef:Uh,useState:function(){return Vd(Di)},useDebugValue:Ud,useDeferredValue:function(a){var i=Ws();return Xh(i,Ft.memoizedState,a)},useTransition:function(){var a=Vd(Di)[0],i=Ws().memoizedState;return[a,i]},useMutableSource:Mh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1},lw={readContext:Us,useCallback:Yh,useContext:Us,useEffect:Bd,useImperativeHandle:Zh,useInsertionEffect:Hh,useLayoutEffect:Gh,useMemo:qh,useReducer:Fd,useRef:Uh,useState:function(){return Fd(Di)},useDebugValue:Ud,useDeferredValue:function(a){var i=Ws();return Ft===null?i.memoizedState=a:Xh(i,Ft.memoizedState,a)},useTransition:function(){var a=Fd(Di)[0],i=Ws().memoizedState;return[a,i]},useMutableSource:Mh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1};function sr(a,i){if(a&&a.defaultProps){i=Q({},i),a=a.defaultProps;for(var d in a)i[d]===void 0&&(i[d]=a[d]);return i}return i}function Wd(a,i,d,h){i=a.memoizedState,d=d(h,i),d=d==null?i:Q({},i,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var kl={isMounted:function(a){return(a=a._reactInternals)?Ma(a)===a:!1},enqueueSetState:function(a,i,d){a=a._reactInternals;var h=bs(),g=ya(a),b=Wr(h,g);b.payload=i,d!=null&&(b.callback=d),i=fa(a,b,g),i!==null&&(nr(i,a,g,h),xl(i,a,g))},enqueueReplaceState:function(a,i,d){a=a._reactInternals;var h=bs(),g=ya(a),b=Wr(h,g);b.tag=1,b.payload=i,d!=null&&(b.callback=d),i=fa(a,b,g),i!==null&&(nr(i,a,g,h),xl(i,a,g))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var d=bs(),h=ya(a),g=Wr(d,h);g.tag=2,i!=null&&(g.callback=i),i=fa(a,g,h),i!==null&&(nr(i,a,h,d),xl(i,a,h))}};function sp(a,i,d,h,g,b,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,S):i.prototype&&i.prototype.isPureReactComponent?!xi(d,h)||!xi(g,b):!0}function rp(a,i,d){var h=!1,g=ma,b=i.contextType;return typeof b=="object"&&b!==null?b=Us(b):(g=ks(i)?za:os.current,h=i.contextTypes,b=(h=h!=null)?vn(a,g):ma),i=new i(d,b),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=kl,a.stateNode=i,i._reactInternals=a,h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=g,a.__reactInternalMemoizedMaskedChildContext=b),i}function ap(a,i,d,h){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,h),i.state!==a&&kl.enqueueReplaceState(i,i.state,null)}function Hd(a,i,d,h){var g=a.stateNode;g.props=d,g.state=a.memoizedState,g.refs={},Pd(a);var b=i.contextType;typeof b=="object"&&b!==null?g.context=Us(b):(b=ks(i)?za:os.current,g.context=vn(a,b)),g.state=a.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Wd(a,i,b,d),g.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&kl.enqueueReplaceState(g,g.state,null),gl(a,d,g,h),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308)}function Tn(a,i){try{var d="",h=i;do d+=Le(h),h=h.return;while(h);var g=d}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:i,stack:g,digest:null}}function Gd(a,i,d){return{value:a,source:null,stack:d??null,digest:i??null}}function Kd(a,i){try{console.error(i.value)}catch(d){setTimeout(function(){throw d})}}var cw=typeof WeakMap=="function"?WeakMap:Map;function np(a,i,d){d=Wr(-1,d),d.tag=3,d.payload={element:null};var h=i.value;return d.callback=function(){Pl||(Pl=!0,lu=h),Kd(a,i)},d}function ip(a,i,d){d=Wr(-1,d),d.tag=3;var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;d.payload=function(){return h(g)},d.callback=function(){Kd(a,i)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Kd(a,i),typeof h!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),d}function op(a,i,d){var h=a.pingCache;if(h===null){h=a.pingCache=new cw;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(d)||(g.add(d),a=Nw.bind(null,a,i,d),i.then(a,a))}function lp(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function cp(a,i,d,h,g){return(a.mode&1)===0?(a===i?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(i=Wr(-1,1),i.tag=2,fa(d,i,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=g,a)}var dw=B.ReactCurrentOwner,Cs=!1;function gs(a,i,d,h){i.child=a===null?Dh(i,null,d,h):kn(i,a.child,d,h)}function dp(a,i,d,h,g){d=d.render;var b=i.ref;return Sn(i,g),h=Ld(a,i,d,h,b,g),d=$d(),a!==null&&!Cs?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~g,Hr(a,i,g)):(xt&&d&&wd(i),i.flags|=1,gs(a,i,h,g),i.child)}function up(a,i,d,h,g){if(a===null){var b=d.type;return typeof b=="function"&&!fu(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(i.tag=15,i.type=b,mp(a,i,b,h,g)):(a=zl(d.type,null,h,i,i.mode,g),a.ref=i.ref,a.return=i,i.child=a)}if(b=a.child,(a.lanes&g)===0){var S=b.memoizedProps;if(d=d.compare,d=d!==null?d:xi,d(S,h)&&a.ref===i.ref)return Hr(a,i,g)}return i.flags|=1,a=wa(b,h),a.ref=i.ref,a.return=i,i.child=a}function mp(a,i,d,h,g){if(a!==null){var b=a.memoizedProps;if(xi(b,h)&&a.ref===i.ref)if(Cs=!1,i.pendingProps=h=b,(a.lanes&g)!==0)(a.flags&131072)!==0&&(Cs=!0);else return i.lanes=a.lanes,Hr(a,i,g)}return Zd(a,i,d,h,g)}function hp(a,i,d){var h=i.pendingProps,g=h.children,b=a!==null?a.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(_n,Os),Os|=d;else{if((d&1073741824)===0)return a=b!==null?b.baseLanes|d:d,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,mt(_n,Os),Os|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=b!==null?b.baseLanes:d,mt(_n,Os),Os|=h}else b!==null?(h=b.baseLanes|d,i.memoizedState=null):h=d,mt(_n,Os),Os|=h;return gs(a,i,g,d),i.child}function pp(a,i){var d=i.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(i.flags|=512,i.flags|=2097152)}function Zd(a,i,d,h,g){var b=ks(d)?za:os.current;return b=vn(i,b),Sn(i,g),d=Ld(a,i,d,h,b,g),h=$d(),a!==null&&!Cs?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~g,Hr(a,i,g)):(xt&&h&&wd(i),i.flags|=1,gs(a,i,d,g),i.child)}function fp(a,i,d,h,g){if(ks(d)){var b=!0;ll(i)}else b=!1;if(Sn(i,g),i.stateNode===null)Sl(a,i),rp(i,d,h),Hd(i,d,h,g),h=!0;else if(a===null){var S=i.stateNode,M=i.memoizedProps;S.props=M;var $=S.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=Us(ee):(ee=ks(d)?za:os.current,ee=vn(i,ee));var le=d.getDerivedStateFromProps,ce=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||$!==ee)&&ap(i,S,h,ee),pa=!1;var oe=i.memoizedState;S.state=oe,gl(i,h,S,g),$=i.memoizedState,M!==h||oe!==$||Ns.current||pa?(typeof le=="function"&&(Wd(i,d,le,h),$=i.memoizedState),(M=pa||sp(i,d,M,h,oe,$,ee))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=$),S.props=h,S.state=$,S.context=ee,h=M):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{S=i.stateNode,Ph(a,i),M=i.memoizedProps,ee=i.type===i.elementType?M:sr(i.type,M),S.props=ee,ce=i.pendingProps,oe=S.context,$=d.contextType,typeof $=="object"&&$!==null?$=Us($):($=ks(d)?za:os.current,$=vn(i,$));var je=d.getDerivedStateFromProps;(le=typeof je=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ce||oe!==$)&&ap(i,S,h,$),pa=!1,oe=i.memoizedState,S.state=oe,gl(i,h,S,g);var Te=i.memoizedState;M!==ce||oe!==Te||Ns.current||pa?(typeof je=="function"&&(Wd(i,d,je,h),Te=i.memoizedState),(ee=pa||sp(i,d,ee,h,oe,Te,$)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Te,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Te,$)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Te),S.props=h,S.state=Te,S.context=$,h=ee):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(i.flags|=1024),h=!1)}return Yd(a,i,d,h,b,g)}function Yd(a,i,d,h,g,b){pp(a,i);var S=(i.flags&128)!==0;if(!h&&!S)return g&&vh(i,d,!1),Hr(a,i,b);h=i.stateNode,dw.current=i;var M=S&&typeof d.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,a!==null&&S?(i.child=kn(i,a.child,null,b),i.child=kn(i,null,M,b)):gs(a,i,M,b),i.memoizedState=h.state,g&&vh(i,d,!0),i.child}function xp(a){var i=a.stateNode;i.pendingContext?bh(a,i.pendingContext,i.pendingContext!==i.context):i.context&&bh(a,i.context,!1),Ed(a,i.containerInfo)}function gp(a,i,d,h,g){return Nn(),Cd(g),i.flags|=256,gs(a,i,d,h),i.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Xd(a){return{baseLanes:a,cachePool:null,transitions:null}}function bp(a,i,d){var h=i.pendingProps,g=bt.current,b=!1,S=(i.flags&128)!==0,M;if((M=S)||(M=a!==null&&a.memoizedState===null?!1:(g&2)!==0),M?(b=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(g|=1),mt(bt,g&1),a===null)return kd(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((i.mode&1)===0?i.lanes=1:a.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=h.children,a=h.fallback,b?(h=i.mode,b=i.child,S={mode:"hidden",children:S},(h&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=S):b=Ll(S,h,0,null),a=Ka(a,h,d,null),b.return=i,a.return=i,b.sibling=a,i.child=b,i.child.memoizedState=Xd(d),i.memoizedState=qd,a):Jd(i,S));if(g=a.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return uw(a,i,S,h,M,g,d);if(b){b=h.fallback,S=i.mode,g=a.child,M=g.sibling;var $={mode:"hidden",children:h.children};return(S&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=$,i.deletions=null):(h=wa(g,$),h.subtreeFlags=g.subtreeFlags&14680064),M!==null?b=wa(M,b):(b=Ka(b,S,d,null),b.flags|=2),b.return=i,h.return=i,h.sibling=b,i.child=h,h=b,b=i.child,S=a.child.memoizedState,S=S===null?Xd(d):{baseLanes:S.baseLanes|d,cachePool:null,transitions:S.transitions},b.memoizedState=S,b.childLanes=a.childLanes&~d,i.memoizedState=qd,h}return b=a.child,a=b.sibling,h=wa(b,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=d),h.return=i,h.sibling=null,a!==null&&(d=i.deletions,d===null?(i.deletions=[a],i.flags|=16):d.push(a)),i.child=h,i.memoizedState=null,h}function Jd(a,i){return i=Ll({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function Cl(a,i,d,h){return h!==null&&Cd(h),kn(i,a.child,null,d),a=Jd(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function uw(a,i,d,h,g,b,S){if(d)return i.flags&256?(i.flags&=-257,h=Gd(Error(r(422))),Cl(a,i,S,h)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(b=h.fallback,g=i.mode,h=Ll({mode:"visible",children:h.children},g,0,null),b=Ka(b,g,S,null),b.flags|=2,h.return=i,b.return=i,h.sibling=b,i.child=h,(i.mode&1)!==0&&kn(i,a.child,null,S),i.child.memoizedState=Xd(S),i.memoizedState=qd,b);if((i.mode&1)===0)return Cl(a,i,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var M=h.dgst;return h=M,b=Error(r(419)),h=Gd(b,h,void 0),Cl(a,i,S,h)}if(M=(S&a.childLanes)!==0,Cs||M){if(h=Zt,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|S))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,Ur(a,g),nr(h,a,g,-1))}return pu(),h=Gd(Error(r(421))),Cl(a,i,S,h)}return g.data==="$?"?(i.flags|=128,i.child=a.child,i=kw.bind(null,a),g._reactRetry=i,null):(a=b.treeContext,Ms=da(g.nextSibling),Rs=i,xt=!0,tr=null,a!==null&&(Fs[Bs++]=Fr,Fs[Bs++]=Br,Fs[Bs++]=La,Fr=a.id,Br=a.overflow,La=i),i=Jd(i,h.children),i.flags|=4096,i)}function yp(a,i,d){a.lanes|=i;var h=a.alternate;h!==null&&(h.lanes|=i),Dd(a.return,i,d)}function Qd(a,i,d,h,g){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=d,b.tailMode=g)}function vp(a,i,d){var h=i.pendingProps,g=h.revealOrder,b=h.tail;if(gs(a,i,h.children,d),h=bt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yp(a,d,i);else if(a.tag===19)yp(a,d,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}if(mt(bt,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(d=i.child,g=null;d!==null;)a=d.alternate,a!==null&&bl(a)===null&&(g=d),d=d.sibling;d=g,d===null?(g=i.child,i.child=null):(g=d.sibling,d.sibling=null),Qd(i,!1,g,d,b);break;case"backwards":for(d=null,g=i.child,i.child=null;g!==null;){if(a=g.alternate,a!==null&&bl(a)===null){i.child=g;break}a=g.sibling,g.sibling=d,d=g,g=a}Qd(i,!0,d,null,b);break;case"together":Qd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sl(a,i){(i.mode&1)===0&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function Hr(a,i,d){if(a!==null&&(i.dependencies=a.dependencies),Ua|=i.lanes,(d&i.childLanes)===0)return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,d=wa(a,a.pendingProps),i.child=d,d.return=i;a.sibling!==null;)a=a.sibling,d=d.sibling=wa(a,a.pendingProps),d.return=i;d.sibling=null}return i.child}function mw(a,i,d){switch(i.tag){case 3:xp(i),Nn();break;case 5:Rh(i);break;case 1:ks(i.type)&&ll(i);break;case 4:Ed(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;mt(pl,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(mt(bt,bt.current&1),i.flags|=128,null):(d&i.child.childLanes)!==0?bp(a,i,d):(mt(bt,bt.current&1),a=Hr(a,i,d),a!==null?a.sibling:null);mt(bt,bt.current&1);break;case 19:if(h=(d&i.childLanes)!==0,(a.flags&128)!==0){if(h)return vp(a,i,d);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(bt,bt.current),h)break;return null;case 22:case 23:return i.lanes=0,hp(a,i,d)}return Hr(a,i,d)}var wp,eu,jp,Np;wp=function(a,i){for(var d=i.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break;for(;d.sibling===null;){if(d.return===null||d.return===i)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},eu=function(){},jp=function(a,i,d,h){var g=a.memoizedProps;if(g!==h){a=i.stateNode,Fa(wr.current);var b=null;switch(d){case"input":g=fs(a,g),h=fs(a,h),b=[];break;case"select":g=Q({},g,{value:void 0}),h=Q({},h,{value:void 0}),b=[];break;case"textarea":g=q(a,g),h=q(a,h),b=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(a.onclick=nl)}Xs(d,h);var S;d=null;for(ee in g)if(!h.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var M=g[ee];for(S in M)M.hasOwnProperty(S)&&(d||(d={}),d[S]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?b||(b=[]):(b=b||[]).push(ee,null));for(ee in h){var $=h[ee];if(M=g!=null?g[ee]:void 0,h.hasOwnProperty(ee)&&$!==M&&($!=null||M!=null))if(ee==="style")if(M){for(S in M)!M.hasOwnProperty(S)||$&&$.hasOwnProperty(S)||(d||(d={}),d[S]="");for(S in $)$.hasOwnProperty(S)&&M[S]!==$[S]&&(d||(d={}),d[S]=$[S])}else d||(b||(b=[]),b.push(ee,d)),d=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,M=M?M.__html:void 0,$!=null&&M!==$&&(b=b||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(b=b||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&ht("scroll",a),b||M===$||(b=[])):(b=b||[]).push(ee,$))}d&&(b=b||[]).push("style",d);var ee=b;(i.updateQueue=ee)&&(i.flags|=4)}},Np=function(a,i,d,h){d!==h&&(i.flags|=4)};function Pi(a,i){if(!xt)switch(a.tailMode){case"hidden":i=a.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function cs(a){var i=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(i)for(var g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)d|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=d,i}function hw(a,i,d){var h=i.pendingProps;switch(jd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(i),null;case 1:return ks(i.type)&&ol(),cs(i),null;case 3:return h=i.stateNode,An(),pt(Ns),pt(os),Md(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(ml(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,tr!==null&&(uu(tr),tr=null))),eu(a,i),cs(i),null;case 5:Id(i);var g=Fa(Si.current);if(d=i.type,a!==null&&i.stateNode!=null)jp(a,i,d,h,g),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(r(166));return cs(i),null}if(a=Fa(wr.current),ml(i)){h=i.stateNode,d=i.type;var b=i.memoizedProps;switch(h[vr]=i,h[wi]=b,a=(i.mode&1)!==0,d){case"dialog":ht("cancel",h),ht("close",h);break;case"iframe":case"object":case"embed":ht("load",h);break;case"video":case"audio":for(g=0;g<bi.length;g++)ht(bi[g],h);break;case"source":ht("error",h);break;case"img":case"image":case"link":ht("error",h),ht("load",h);break;case"details":ht("toggle",h);break;case"input":js(h,b),ht("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!b.multiple},ht("invalid",h);break;case"textarea":fe(h,b),ht("invalid",h)}Xs(d,b),g=null;for(var S in b)if(b.hasOwnProperty(S)){var M=b[S];S==="children"?typeof M=="string"?h.textContent!==M&&(b.suppressHydrationWarning!==!0&&al(h.textContent,M,a),g=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(b.suppressHydrationWarning!==!0&&al(h.textContent,M,a),g=["children",""+M]):o.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&ht("scroll",h)}switch(d){case"input":Wt(h),Ht(h,b,!0);break;case"textarea":Wt(h),me(h);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(h.onclick=nl)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Se(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof h.is=="string"?a=S.createElement(d,{is:h.is}):(a=S.createElement(d),d==="select"&&(S=a,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):a=S.createElementNS(a,d),a[vr]=i,a[wi]=h,wp(a,i,!1,!1),i.stateNode=a;e:{switch(S=Lr(d,h),d){case"dialog":ht("cancel",a),ht("close",a),g=h;break;case"iframe":case"object":case"embed":ht("load",a),g=h;break;case"video":case"audio":for(g=0;g<bi.length;g++)ht(bi[g],a);g=h;break;case"source":ht("error",a),g=h;break;case"img":case"image":case"link":ht("error",a),ht("load",a),g=h;break;case"details":ht("toggle",a),g=h;break;case"input":js(a,h),g=fs(a,h),ht("invalid",a);break;case"option":g=h;break;case"select":a._wrapperState={wasMultiple:!!h.multiple},g=Q({},h,{value:void 0}),ht("invalid",a);break;case"textarea":fe(a,h),g=q(a,h),ht("invalid",a);break;default:g=h}Xs(d,g),M=g;for(b in M)if(M.hasOwnProperty(b)){var $=M[b];b==="style"?xr(a,$):b==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&ft(a,$)):b==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&Vt(a,$):typeof $=="number"&&Vt(a,""+$):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?$!=null&&b==="onScroll"&&ht("scroll",a):$!=null&&T(a,b,$,S))}switch(d){case"input":Wt(a),Ht(a,h,!1);break;case"textarea":Wt(a),me(a);break;case"option":h.value!=null&&a.setAttribute("value",""+$e(h.value));break;case"select":a.multiple=!!h.multiple,b=h.value,b!=null?Z(a,!!h.multiple,b,!1):h.defaultValue!=null&&Z(a,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(a.onclick=nl)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cs(i),null;case 6:if(a&&i.stateNode!=null)Np(a,i,a.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(d=Fa(Si.current),Fa(wr.current),ml(i)){if(h=i.stateNode,d=i.memoizedProps,h[vr]=i,(b=h.nodeValue!==d)&&(a=Rs,a!==null))switch(a.tag){case 3:al(h.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&al(h.nodeValue,d,(a.mode&1)!==0)}b&&(i.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[vr]=i,i.stateNode=h}return cs(i),null;case 13:if(pt(bt),h=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(xt&&Ms!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Sh(),Nn(),i.flags|=98560,b=!1;else if(b=ml(i),h!==null&&h.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[vr]=i}else Nn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;cs(i),b=!1}else tr!==null&&(uu(tr),tr=null),b=!0;if(!b)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=d,i):(h=h!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(a===null||(bt.current&1)!==0?Bt===0&&(Bt=3):pu())),i.updateQueue!==null&&(i.flags|=4),cs(i),null);case 4:return An(),eu(a,i),a===null&&yi(i.stateNode.containerInfo),cs(i),null;case 10:return Td(i.type._context),cs(i),null;case 17:return ks(i.type)&&ol(),cs(i),null;case 19:if(pt(bt),b=i.memoizedState,b===null)return cs(i),null;if(h=(i.flags&128)!==0,S=b.rendering,S===null)if(h)Pi(b,!1);else{if(Bt!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(S=bl(a),S!==null){for(i.flags|=128,Pi(b,!1),h=S.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=d,d=i.child;d!==null;)b=d,a=h,b.flags&=14680066,S=b.alternate,S===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=S.childLanes,b.lanes=S.lanes,b.child=S.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=S.memoizedProps,b.memoizedState=S.memoizedState,b.updateQueue=S.updateQueue,b.type=S.type,a=S.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return mt(bt,bt.current&1|2),i.child}a=a.sibling}b.tail!==null&&Pt()>Pn&&(i.flags|=128,h=!0,Pi(b,!1),i.lanes=4194304)}else{if(!h)if(a=bl(S),a!==null){if(i.flags|=128,h=!0,d=a.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),Pi(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!xt)return cs(i),null}else 2*Pt()-b.renderingStartTime>Pn&&d!==1073741824&&(i.flags|=128,h=!0,Pi(b,!1),i.lanes=4194304);b.isBackwards?(S.sibling=i.child,i.child=S):(d=b.last,d!==null?d.sibling=S:i.child=S,b.last=S)}return b.tail!==null?(i=b.tail,b.rendering=i,b.tail=i.sibling,b.renderingStartTime=Pt(),i.sibling=null,d=bt.current,mt(bt,h?d&1|2:d&1),i):(cs(i),null);case 22:case 23:return hu(),h=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Os&1073741824)!==0&&(cs(i),i.subtreeFlags&6&&(i.flags|=8192)):cs(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function pw(a,i){switch(jd(i),i.tag){case 1:return ks(i.type)&&ol(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return An(),pt(Ns),pt(os),Md(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 5:return Id(i),null;case 13:if(pt(bt),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Nn()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return pt(bt),null;case 4:return An(),null;case 10:return Td(i.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Al=!1,ds=!1,fw=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Dn(a,i){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){Tt(a,i,h)}else d.current=null}function tu(a,i,d){try{d()}catch(h){Tt(a,i,h)}}var kp=!1;function xw(a,i){if(hd=Ko,a=sh(),nd(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var S=0,M=-1,$=-1,ee=0,le=0,ce=a,oe=null;t:for(;;){for(var je;ce!==d||g!==0&&ce.nodeType!==3||(M=S+g),ce!==b||h!==0&&ce.nodeType!==3||($=S+h),ce.nodeType===3&&(S+=ce.nodeValue.length),(je=ce.firstChild)!==null;)oe=ce,ce=je;for(;;){if(ce===a)break t;if(oe===d&&++ee===g&&(M=S),oe===b&&++le===h&&($=S),(je=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=je}d=M===-1||$===-1?null:{start:M,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(pd={focusedElem:a,selectionRange:d},Ko=!1,Ae=i;Ae!==null;)if(i=Ae,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Ae=a;else for(;Ae!==null;){i=Ae;try{var Te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Re=Te.memoizedProps,Et=Te.memoizedState,Y=i.stateNode,F=Y.getSnapshotBeforeUpdate(i.elementType===i.type?Re:sr(i.type,Re),Et);Y.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){Tt(i,i.return,pe)}if(a=i.sibling,a!==null){a.return=i.return,Ae=a;break}Ae=i.return}return Te=kp,kp=!1,Te}function Ei(a,i,d){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&a)===a){var b=g.destroy;g.destroy=void 0,b!==void 0&&tu(i,d,b)}g=g.next}while(g!==h)}}function Tl(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&a)===a){var h=d.create;d.destroy=h()}d=d.next}while(d!==i)}}function su(a){var i=a.ref;if(i!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof i=="function"?i(a):i.current=a}}function Cp(a){var i=a.alternate;i!==null&&(a.alternate=null,Cp(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[vr],delete i[wi],delete i[bd],delete i[Jv],delete i[Qv])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Sp(a){return a.tag===5||a.tag===3||a.tag===4}function Ap(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Sp(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ru(a,i,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?d.nodeType===8?d.parentNode.insertBefore(a,i):d.insertBefore(a,i):(d.nodeType===8?(i=d.parentNode,i.insertBefore(a,d)):(i=d,i.appendChild(a)),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=nl));else if(h!==4&&(a=a.child,a!==null))for(ru(a,i,d),a=a.sibling;a!==null;)ru(a,i,d),a=a.sibling}function au(a,i,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?d.insertBefore(a,i):d.appendChild(a);else if(h!==4&&(a=a.child,a!==null))for(au(a,i,d),a=a.sibling;a!==null;)au(a,i,d),a=a.sibling}var ts=null,rr=!1;function xa(a,i,d){for(d=d.child;d!==null;)Tp(a,i,d),d=d.sibling}function Tp(a,i,d){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Fo,d)}catch{}switch(d.tag){case 5:ds||Dn(d,i);case 6:var h=ts,g=rr;ts=null,xa(a,i,d),ts=h,rr=g,ts!==null&&(rr?(a=ts,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):ts.removeChild(d.stateNode));break;case 18:ts!==null&&(rr?(a=ts,d=d.stateNode,a.nodeType===8?gd(a.parentNode,d):a.nodeType===1&&gd(a,d),di(a)):gd(ts,d.stateNode));break;case 4:h=ts,g=rr,ts=d.stateNode.containerInfo,rr=!0,xa(a,i,d),ts=h,rr=g;break;case 0:case 11:case 14:case 15:if(!ds&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var b=g,S=b.destroy;b=b.tag,S!==void 0&&((b&2)!==0||(b&4)!==0)&&tu(d,i,S),g=g.next}while(g!==h)}xa(a,i,d);break;case 1:if(!ds&&(Dn(d,i),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(M){Tt(d,i,M)}xa(a,i,d);break;case 21:xa(a,i,d);break;case 22:d.mode&1?(ds=(h=ds)||d.memoizedState!==null,xa(a,i,d),ds=h):xa(a,i,d);break;default:xa(a,i,d)}}function Dp(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new fw),i.forEach(function(h){var g=Cw.bind(null,a,h);d.has(h)||(d.add(h),h.then(g,g))})}}function ar(a,i){var d=i.deletions;if(d!==null)for(var h=0;h<d.length;h++){var g=d[h];try{var b=a,S=i,M=S;e:for(;M!==null;){switch(M.tag){case 5:ts=M.stateNode,rr=!1;break e;case 3:ts=M.stateNode.containerInfo,rr=!0;break e;case 4:ts=M.stateNode.containerInfo,rr=!0;break e}M=M.return}if(ts===null)throw Error(r(160));Tp(b,S,g),ts=null,rr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(ee){Tt(g,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)_p(i,a),i=i.sibling}function _p(a,i){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ar(i,a),Nr(a),h&4){try{Ei(3,a,a.return),Tl(3,a)}catch(Re){Tt(a,a.return,Re)}try{Ei(5,a,a.return)}catch(Re){Tt(a,a.return,Re)}}break;case 1:ar(i,a),Nr(a),h&512&&d!==null&&Dn(d,d.return);break;case 5:if(ar(i,a),Nr(a),h&512&&d!==null&&Dn(d,d.return),a.flags&32){var g=a.stateNode;try{Vt(g,"")}catch(Re){Tt(a,a.return,Re)}}if(h&4&&(g=a.stateNode,g!=null)){var b=a.memoizedProps,S=d!==null?d.memoizedProps:b,M=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{M==="input"&&b.type==="radio"&&b.name!=null&&Ct(g,b),Lr(M,S);var ee=Lr(M,b);for(S=0;S<$.length;S+=2){var le=$[S],ce=$[S+1];le==="style"?xr(g,ce):le==="dangerouslySetInnerHTML"?ft(g,ce):le==="children"?Vt(g,ce):T(g,le,ce,ee)}switch(M){case"input":is(g,b);break;case"textarea":xe(g,b);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var je=b.value;je!=null?Z(g,!!b.multiple,je,!1):oe!==!!b.multiple&&(b.defaultValue!=null?Z(g,!!b.multiple,b.defaultValue,!0):Z(g,!!b.multiple,b.multiple?[]:"",!1))}g[wi]=b}catch(Re){Tt(a,a.return,Re)}}break;case 6:if(ar(i,a),Nr(a),h&4){if(a.stateNode===null)throw Error(r(162));g=a.stateNode,b=a.memoizedProps;try{g.nodeValue=b}catch(Re){Tt(a,a.return,Re)}}break;case 3:if(ar(i,a),Nr(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{di(i.containerInfo)}catch(Re){Tt(a,a.return,Re)}break;case 4:ar(i,a),Nr(a);break;case 13:ar(i,a),Nr(a),g=a.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(ou=Pt())),h&4&&Dp(a);break;case 22:if(le=d!==null&&d.memoizedState!==null,a.mode&1?(ds=(ee=ds)||le,ar(i,a),ds=ee):ar(i,a),Nr(a),h&8192){if(ee=a.memoizedState!==null,(a.stateNode.isHidden=ee)&&!le&&(a.mode&1)!==0)for(Ae=a,le=a.child;le!==null;){for(ce=Ae=le;Ae!==null;){switch(oe=Ae,je=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ei(4,oe,oe.return);break;case 1:Dn(oe,oe.return);var Te=oe.stateNode;if(typeof Te.componentWillUnmount=="function"){h=oe,d=oe.return;try{i=h,Te.props=i.memoizedProps,Te.state=i.memoizedState,Te.componentWillUnmount()}catch(Re){Tt(h,d,Re)}}break;case 5:Dn(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Ip(ce);continue}}je!==null?(je.return=oe,Ae=je):Ip(ce)}le=le.sibling}e:for(le=null,ce=a;;){if(ce.tag===5){if(le===null){le=ce;try{g=ce.stateNode,ee?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(M=ce.stateNode,$=ce.memoizedProps.style,S=$!=null&&$.hasOwnProperty("display")?$.display:null,M.style.display=Es("display",S))}catch(Re){Tt(a,a.return,Re)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(Re){Tt(a,a.return,Re)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===a)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===a)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===a)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:ar(i,a),Nr(a),h&4&&Dp(a);break;case 21:break;default:ar(i,a),Nr(a)}}function Nr(a){var i=a.flags;if(i&2){try{e:{for(var d=a.return;d!==null;){if(Sp(d)){var h=d;break e}d=d.return}throw Error(r(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Vt(g,""),h.flags&=-33);var b=Ap(a);au(a,b,g);break;case 3:case 4:var S=h.stateNode.containerInfo,M=Ap(a);ru(a,M,S);break;default:throw Error(r(161))}}catch($){Tt(a,a.return,$)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function gw(a,i,d){Ae=a,Pp(a)}function Pp(a,i,d){for(var h=(a.mode&1)!==0;Ae!==null;){var g=Ae,b=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||Al;if(!S){var M=g.alternate,$=M!==null&&M.memoizedState!==null||ds;M=Al;var ee=ds;if(Al=S,(ds=$)&&!ee)for(Ae=g;Ae!==null;)S=Ae,$=S.child,S.tag===22&&S.memoizedState!==null?Rp(g):$!==null?($.return=S,Ae=$):Rp(g);for(;b!==null;)Ae=b,Pp(b),b=b.sibling;Ae=g,Al=M,ds=ee}Ep(a)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,Ae=b):Ep(a)}}function Ep(a){for(;Ae!==null;){var i=Ae;if((i.flags&8772)!==0){var d=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ds||Tl(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!ds)if(d===null)h.componentDidMount();else{var g=i.elementType===i.type?d.memoizedProps:sr(i.type,d.memoizedProps);h.componentDidUpdate(g,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var b=i.updateQueue;b!==null&&Ih(i,b,h);break;case 3:var S=i.updateQueue;if(S!==null){if(d=null,i.child!==null)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode}Ih(i,S,d)}break;case 5:var M=i.stateNode;if(d===null&&i.flags&4){d=M;var $=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&di(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ds||i.flags&512&&su(i)}catch(oe){Tt(i,i.return,oe)}}if(i===a){Ae=null;break}if(d=i.sibling,d!==null){d.return=i.return,Ae=d;break}Ae=i.return}}function Ip(a){for(;Ae!==null;){var i=Ae;if(i===a){Ae=null;break}var d=i.sibling;if(d!==null){d.return=i.return,Ae=d;break}Ae=i.return}}function Rp(a){for(;Ae!==null;){var i=Ae;try{switch(i.tag){case 0:case 11:case 15:var d=i.return;try{Tl(4,i)}catch($){Tt(i,d,$)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch($){Tt(i,g,$)}}var b=i.return;try{su(i)}catch($){Tt(i,b,$)}break;case 5:var S=i.return;try{su(i)}catch($){Tt(i,S,$)}}}catch($){Tt(i,i.return,$)}if(i===a){Ae=null;break}var M=i.sibling;if(M!==null){M.return=i.return,Ae=M;break}Ae=i.return}}var bw=Math.ceil,Dl=B.ReactCurrentDispatcher,nu=B.ReactCurrentOwner,Hs=B.ReactCurrentBatchConfig,nt=0,Zt=null,Ot=null,ss=0,Os=0,_n=ua(0),Bt=0,Ii=null,Ua=0,_l=0,iu=0,Ri=null,Ss=null,ou=0,Pn=1/0,Gr=null,Pl=!1,lu=null,ga=null,El=!1,ba=null,Il=0,Mi=0,cu=null,Rl=-1,Ml=0;function bs(){return(nt&6)!==0?Pt():Rl!==-1?Rl:Rl=Pt()}function ya(a){return(a.mode&1)===0?1:(nt&2)!==0&&ss!==0?ss&-ss:tw.transition!==null?(Ml===0&&(Ml=A0()),Ml):(a=ct,a!==0||(a=window.event,a=a===void 0?16:O0(a.type)),a)}function nr(a,i,d,h){if(50<Mi)throw Mi=0,cu=null,Error(r(185));ni(a,d,h),((nt&2)===0||a!==Zt)&&(a===Zt&&((nt&2)===0&&(_l|=d),Bt===4&&va(a,ss)),As(a,h),d===1&&nt===0&&(i.mode&1)===0&&(Pn=Pt()+500,cl&&ha()))}function As(a,i){var d=a.callbackNode;tv(a,i);var h=Wo(a,a===Zt?ss:0);if(h===0)d!==null&&k0(d),a.callbackNode=null,a.callbackPriority=0;else if(i=h&-h,a.callbackPriority!==i){if(d!=null&&k0(d),i===1)a.tag===0?ew(Op.bind(null,a)):wh(Op.bind(null,a)),qv(function(){(nt&6)===0&&ha()}),d=null;else{switch(T0(h)){case 1:d=Bc;break;case 4:d=C0;break;case 16:d=Vo;break;case 536870912:d=S0;break;default:d=Vo}d=Wp(d,Mp.bind(null,a))}a.callbackPriority=i,a.callbackNode=d}}function Mp(a,i){if(Rl=-1,Ml=0,(nt&6)!==0)throw Error(r(327));var d=a.callbackNode;if(En()&&a.callbackNode!==d)return null;var h=Wo(a,a===Zt?ss:0);if(h===0)return null;if((h&30)!==0||(h&a.expiredLanes)!==0||i)i=Ol(a,h);else{i=h;var g=nt;nt|=2;var b=Lp();(Zt!==a||ss!==i)&&(Gr=null,Pn=Pt()+500,Ha(a,i));do try{ww();break}catch(M){zp(a,M)}while(!0);Ad(),Dl.current=b,nt=g,Ot!==null?i=0:(Zt=null,ss=0,i=Bt)}if(i!==0){if(i===2&&(g=Uc(a),g!==0&&(h=g,i=du(a,g))),i===1)throw d=Ii,Ha(a,0),va(a,h),As(a,Pt()),d;if(i===6)va(a,h);else{if(g=a.current.alternate,(h&30)===0&&!yw(g)&&(i=Ol(a,h),i===2&&(b=Uc(a),b!==0&&(h=b,i=du(a,b))),i===1))throw d=Ii,Ha(a,0),va(a,h),As(a,Pt()),d;switch(a.finishedWork=g,a.finishedLanes=h,i){case 0:case 1:throw Error(r(345));case 2:Ga(a,Ss,Gr);break;case 3:if(va(a,h),(h&130023424)===h&&(i=ou+500-Pt(),10<i)){if(Wo(a,0)!==0)break;if(g=a.suspendedLanes,(g&h)!==h){bs(),a.pingedLanes|=a.suspendedLanes&g;break}a.timeoutHandle=xd(Ga.bind(null,a,Ss,Gr),i);break}Ga(a,Ss,Gr);break;case 4:if(va(a,h),(h&4194240)===h)break;for(i=a.eventTimes,g=-1;0<h;){var S=31-Qs(h);b=1<<S,S=i[S],S>g&&(g=S),h&=~b}if(h=g,h=Pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bw(h/1960))-h,10<h){a.timeoutHandle=xd(Ga.bind(null,a,Ss,Gr),h);break}Ga(a,Ss,Gr);break;case 5:Ga(a,Ss,Gr);break;default:throw Error(r(329))}}}return As(a,Pt()),a.callbackNode===d?Mp.bind(null,a):null}function du(a,i){var d=Ri;return a.current.memoizedState.isDehydrated&&(Ha(a,i).flags|=256),a=Ol(a,i),a!==2&&(i=Ss,Ss=d,i!==null&&uu(i)),a}function uu(a){Ss===null?Ss=a:Ss.push.apply(Ss,a)}function yw(a){for(var i=a;;){if(i.flags&16384){var d=i.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var g=d[h],b=g.getSnapshot;g=g.value;try{if(!er(b(),g))return!1}catch{return!1}}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function va(a,i){for(i&=~iu,i&=~_l,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var d=31-Qs(i),h=1<<d;a[d]=-1,i&=~h}}function Op(a){if((nt&6)!==0)throw Error(r(327));En();var i=Wo(a,0);if((i&1)===0)return As(a,Pt()),null;var d=Ol(a,i);if(a.tag!==0&&d===2){var h=Uc(a);h!==0&&(i=h,d=du(a,h))}if(d===1)throw d=Ii,Ha(a,0),va(a,i),As(a,Pt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,Ga(a,Ss,Gr),As(a,Pt()),null}function mu(a,i){var d=nt;nt|=1;try{return a(i)}finally{nt=d,nt===0&&(Pn=Pt()+500,cl&&ha())}}function Wa(a){ba!==null&&ba.tag===0&&(nt&6)===0&&En();var i=nt;nt|=1;var d=Hs.transition,h=ct;try{if(Hs.transition=null,ct=1,a)return a()}finally{ct=h,Hs.transition=d,nt=i,(nt&6)===0&&ha()}}function hu(){Os=_n.current,pt(_n)}function Ha(a,i){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Yv(d)),Ot!==null)for(d=Ot.return;d!==null;){var h=d;switch(jd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ol();break;case 3:An(),pt(Ns),pt(os),Md();break;case 5:Id(h);break;case 4:An();break;case 13:pt(bt);break;case 19:pt(bt);break;case 10:Td(h.type._context);break;case 22:case 23:hu()}d=d.return}if(Zt=a,Ot=a=wa(a.current,null),ss=Os=i,Bt=0,Ii=null,iu=_l=Ua=0,Ss=Ri=null,Va!==null){for(i=0;i<Va.length;i++)if(d=Va[i],h=d.interleaved,h!==null){d.interleaved=null;var g=h.next,b=d.pending;if(b!==null){var S=b.next;b.next=g,h.next=S}d.pending=h}Va=null}return a}function zp(a,i){do{var d=Ot;try{if(Ad(),yl.current=Nl,vl){for(var h=yt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}vl=!1}if(Ba=0,Kt=Ft=yt=null,Ai=!1,Ti=0,nu.current=null,d===null||d.return===null){Bt=1,Ii=i,Ot=null;break}e:{var b=a,S=d.return,M=d,$=i;if(i=ss,M.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var je=lp(S);if(je!==null){je.flags&=-257,cp(je,S,M,b,i),je.mode&1&&op(b,ee,i),i=je,$=ee;var Te=i.updateQueue;if(Te===null){var Re=new Set;Re.add($),i.updateQueue=Re}else Te.add($);break e}else{if((i&1)===0){op(b,ee,i),pu();break e}$=Error(r(426))}}else if(xt&&M.mode&1){var Et=lp(S);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),cp(Et,S,M,b,i),Cd(Tn($,M));break e}}b=$=Tn($,M),Bt!==4&&(Bt=2),Ri===null?Ri=[b]:Ri.push(b),b=S;do{switch(b.tag){case 3:b.flags|=65536,i&=-i,b.lanes|=i;var Y=np(b,$,i);Eh(b,Y);break e;case 1:M=$;var F=b.type,X=b.stateNode;if((b.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ga===null||!ga.has(X)))){b.flags|=65536,i&=-i,b.lanes|=i;var pe=ip(b,M,i);Eh(b,pe);break e}}b=b.return}while(b!==null)}Vp(d)}catch(Oe){i=Oe,Ot===d&&d!==null&&(Ot=d=d.return);continue}break}while(!0)}function Lp(){var a=Dl.current;return Dl.current=Nl,a===null?Nl:a}function pu(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Zt===null||(Ua&268435455)===0&&(_l&268435455)===0||va(Zt,ss)}function Ol(a,i){var d=nt;nt|=2;var h=Lp();(Zt!==a||ss!==i)&&(Gr=null,Ha(a,i));do try{vw();break}catch(g){zp(a,g)}while(!0);if(Ad(),nt=d,Dl.current=h,Ot!==null)throw Error(r(261));return Zt=null,ss=0,Bt}function vw(){for(;Ot!==null;)$p(Ot)}function ww(){for(;Ot!==null&&!Gy();)$p(Ot)}function $p(a){var i=Up(a.alternate,a,Os);a.memoizedProps=a.pendingProps,i===null?Vp(a):Ot=i,nu.current=null}function Vp(a){var i=a;do{var d=i.alternate;if(a=i.return,(i.flags&32768)===0){if(d=hw(d,i,Os),d!==null){Ot=d;return}}else{if(d=pw(d,i),d!==null){d.flags&=32767,Ot=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Bt=6,Ot=null;return}}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=a}while(i!==null);Bt===0&&(Bt=5)}function Ga(a,i,d){var h=ct,g=Hs.transition;try{Hs.transition=null,ct=1,jw(a,i,d,h)}finally{Hs.transition=g,ct=h}return null}function jw(a,i,d,h){do En();while(ba!==null);if((nt&6)!==0)throw Error(r(327));d=a.finishedWork;var g=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var b=d.lanes|d.childLanes;if(sv(a,b),a===Zt&&(Ot=Zt=null,ss=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||El||(El=!0,Wp(Vo,function(){return En(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=Hs.transition,Hs.transition=null;var S=ct;ct=1;var M=nt;nt|=4,nu.current=null,xw(a,d),_p(d,a),Bv(pd),Ko=!!hd,pd=hd=null,a.current=d,gw(d),Ky(),nt=M,ct=S,Hs.transition=b}else a.current=d;if(El&&(El=!1,ba=a,Il=g),b=a.pendingLanes,b===0&&(ga=null),qy(d.stateNode),As(a,Pt()),i!==null)for(h=a.onRecoverableError,d=0;d<i.length;d++)g=i[d],h(g.value,{componentStack:g.stack,digest:g.digest});if(Pl)throw Pl=!1,a=lu,lu=null,a;return(Il&1)!==0&&a.tag!==0&&En(),b=a.pendingLanes,(b&1)!==0?a===cu?Mi++:(Mi=0,cu=a):Mi=0,ha(),null}function En(){if(ba!==null){var a=T0(Il),i=Hs.transition,d=ct;try{if(Hs.transition=null,ct=16>a?16:a,ba===null)var h=!1;else{if(a=ba,ba=null,Il=0,(nt&6)!==0)throw Error(r(331));var g=nt;for(nt|=4,Ae=a.current;Ae!==null;){var b=Ae,S=b.child;if((Ae.flags&16)!==0){var M=b.deletions;if(M!==null){for(var $=0;$<M.length;$++){var ee=M[$];for(Ae=ee;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:Ei(8,le,b)}var ce=le.child;if(ce!==null)ce.return=le,Ae=ce;else for(;Ae!==null;){le=Ae;var oe=le.sibling,je=le.return;if(Cp(le),le===ee){Ae=null;break}if(oe!==null){oe.return=je,Ae=oe;break}Ae=je}}}var Te=b.alternate;if(Te!==null){var Re=Te.child;if(Re!==null){Te.child=null;do{var Et=Re.sibling;Re.sibling=null,Re=Et}while(Re!==null)}}Ae=b}}if((b.subtreeFlags&2064)!==0&&S!==null)S.return=b,Ae=S;else e:for(;Ae!==null;){if(b=Ae,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Ei(9,b,b.return)}var Y=b.sibling;if(Y!==null){Y.return=b.return,Ae=Y;break e}Ae=b.return}}var F=a.current;for(Ae=F;Ae!==null;){S=Ae;var X=S.child;if((S.subtreeFlags&2064)!==0&&X!==null)X.return=S,Ae=X;else e:for(S=F;Ae!==null;){if(M=Ae,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Tl(9,M)}}catch(Oe){Tt(M,M.return,Oe)}if(M===S){Ae=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,Ae=pe;break e}Ae=M.return}}if(nt=g,ha(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Fo,a)}catch{}h=!0}return h}finally{ct=d,Hs.transition=i}}return!1}function Fp(a,i,d){i=Tn(d,i),i=np(a,i,1),a=fa(a,i,1),i=bs(),a!==null&&(ni(a,1,i),As(a,i))}function Tt(a,i,d){if(a.tag===3)Fp(a,a,d);else for(;i!==null;){if(i.tag===3){Fp(i,a,d);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ga===null||!ga.has(h))){a=Tn(d,a),a=ip(i,a,1),i=fa(i,a,1),a=bs(),i!==null&&(ni(i,1,a),As(i,a));break}}i=i.return}}function Nw(a,i,d){var h=a.pingCache;h!==null&&h.delete(i),i=bs(),a.pingedLanes|=a.suspendedLanes&d,Zt===a&&(ss&d)===d&&(Bt===4||Bt===3&&(ss&130023424)===ss&&500>Pt()-ou?Ha(a,0):iu|=d),As(a,i)}function Bp(a,i){i===0&&((a.mode&1)===0?i=1:(i=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var d=bs();a=Ur(a,i),a!==null&&(ni(a,i,d),As(a,d))}function kw(a){var i=a.memoizedState,d=0;i!==null&&(d=i.retryLane),Bp(a,d)}function Cw(a,i){var d=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(d=g.retryLane);break;case 19:h=a.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(i),Bp(a,d)}var Up;Up=function(a,i,d){if(a!==null)if(a.memoizedProps!==i.pendingProps||Ns.current)Cs=!0;else{if((a.lanes&d)===0&&(i.flags&128)===0)return Cs=!1,mw(a,i,d);Cs=(a.flags&131072)!==0}else Cs=!1,xt&&(i.flags&1048576)!==0&&jh(i,ul,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Sl(a,i),a=i.pendingProps;var g=vn(i,os.current);Sn(i,d),g=Ld(null,i,h,a,g,d);var b=$d();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ks(h)?(b=!0,ll(i)):b=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Pd(i),g.updater=kl,i.stateNode=g,g._reactInternals=i,Hd(i,h,a,d),i=Yd(null,i,h,!0,b,d)):(i.tag=0,xt&&b&&wd(i),gs(null,i,g,d),i=i.child),i;case 16:h=i.elementType;e:{switch(Sl(a,i),a=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=Aw(h),a=sr(h,a),g){case 0:i=Zd(null,i,h,a,d);break e;case 1:i=fp(null,i,h,a,d);break e;case 11:i=dp(null,i,h,a,d);break e;case 14:i=up(null,i,h,sr(h.type,a),d);break e}throw Error(r(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:sr(h,g),Zd(a,i,h,g,d);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:sr(h,g),fp(a,i,h,g,d);case 3:e:{if(xp(i),a===null)throw Error(r(387));h=i.pendingProps,b=i.memoizedState,g=b.element,Ph(a,i),gl(i,h,null,d);var S=i.memoizedState;if(h=S.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){g=Tn(Error(r(423)),i),i=gp(a,i,h,d,g);break e}else if(h!==g){g=Tn(Error(r(424)),i),i=gp(a,i,h,d,g);break e}else for(Ms=da(i.stateNode.containerInfo.firstChild),Rs=i,xt=!0,tr=null,d=Dh(i,null,h,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Nn(),h===g){i=Hr(a,i,d);break e}gs(a,i,h,d)}i=i.child}return i;case 5:return Rh(i),a===null&&kd(i),h=i.type,g=i.pendingProps,b=a!==null?a.memoizedProps:null,S=g.children,fd(h,g)?S=null:b!==null&&fd(h,b)&&(i.flags|=32),pp(a,i),gs(a,i,S,d),i.child;case 6:return a===null&&kd(i),null;case 13:return bp(a,i,d);case 4:return Ed(i,i.stateNode.containerInfo),h=i.pendingProps,a===null?i.child=kn(i,null,h,d):gs(a,i,h,d),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:sr(h,g),dp(a,i,h,g,d);case 7:return gs(a,i,i.pendingProps,d),i.child;case 8:return gs(a,i,i.pendingProps.children,d),i.child;case 12:return gs(a,i,i.pendingProps.children,d),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,b=i.memoizedProps,S=g.value,mt(pl,h._currentValue),h._currentValue=S,b!==null)if(er(b.value,S)){if(b.children===g.children&&!Ns.current){i=Hr(a,i,d);break e}}else for(b=i.child,b!==null&&(b.return=i);b!==null;){var M=b.dependencies;if(M!==null){S=b.child;for(var $=M.firstContext;$!==null;){if($.context===h){if(b.tag===1){$=Wr(-1,d&-d),$.tag=2;var ee=b.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?$.next=$:($.next=le.next,le.next=$),ee.pending=$}}b.lanes|=d,$=b.alternate,$!==null&&($.lanes|=d),Dd(b.return,d,i),M.lanes|=d;break}$=$.next}}else if(b.tag===10)S=b.type===i.type?null:b.child;else if(b.tag===18){if(S=b.return,S===null)throw Error(r(341));S.lanes|=d,M=S.alternate,M!==null&&(M.lanes|=d),Dd(S,d,i),S=b.sibling}else S=b.child;if(S!==null)S.return=b;else for(S=b;S!==null;){if(S===i){S=null;break}if(b=S.sibling,b!==null){b.return=S.return,S=b;break}S=S.return}b=S}gs(a,i,g.children,d),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,Sn(i,d),g=Us(g),h=h(g),i.flags|=1,gs(a,i,h,d),i.child;case 14:return h=i.type,g=sr(h,i.pendingProps),g=sr(h.type,g),up(a,i,h,g,d);case 15:return mp(a,i,i.type,i.pendingProps,d);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:sr(h,g),Sl(a,i),i.tag=1,ks(h)?(a=!0,ll(i)):a=!1,Sn(i,d),rp(i,h,g),Hd(i,h,g,d),Yd(null,i,h,!0,a,d);case 19:return vp(a,i,d);case 22:return hp(a,i,d)}throw Error(r(156,i.tag))};function Wp(a,i){return N0(a,i)}function Sw(a,i,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(a,i,d,h){return new Sw(a,i,d,h)}function fu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Aw(a){if(typeof a=="function")return fu(a)?1:0;if(a!=null){if(a=a.$$typeof,a===te)return 11;if(a===O)return 14}return 2}function wa(a,i){var d=a.alternate;return d===null?(d=Gs(a.tag,i,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=i,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,i=a.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function zl(a,i,d,h,g,b){var S=2;if(h=a,typeof a=="function")fu(a)&&(S=1);else if(typeof a=="string")S=5;else e:switch(a){case L:return Ka(d.children,g,b,i);case P:S=8,g|=8;break;case U:return a=Gs(12,d,i,g|2),a.elementType=U,a.lanes=b,a;case se:return a=Gs(13,d,i,g),a.elementType=se,a.lanes=b,a;case ae:return a=Gs(19,d,i,g),a.elementType=ae,a.lanes=b,a;case K:return Ll(d,g,b,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:S=10;break e;case re:S=9;break e;case te:S=11;break e;case O:S=14;break e;case V:S=16,h=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return i=Gs(S,d,i,g),i.elementType=a,i.type=h,i.lanes=b,i}function Ka(a,i,d,h){return a=Gs(7,a,h,i),a.lanes=d,a}function Ll(a,i,d,h){return a=Gs(22,a,h,i),a.elementType=K,a.lanes=d,a.stateNode={isHidden:!1},a}function xu(a,i,d){return a=Gs(6,a,null,i),a.lanes=d,a}function gu(a,i,d){return i=Gs(4,a.children!==null?a.children:[],a.key,i),i.lanes=d,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function Tw(a,i,d,h,g){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function bu(a,i,d,h,g,b,S,M,$){return a=new Tw(a,i,d,M,$),i===1?(i=1,b===!0&&(i|=8)):i=0,b=Gs(3,null,null,i),a.current=b,b.stateNode=a,b.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(b),a}function Dw(a,i,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:h==null?null:""+h,children:a,containerInfo:i,implementation:d}}function Hp(a){if(!a)return ma;a=a._reactInternals;e:{if(Ma(a)!==a||a.tag!==1)throw Error(r(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ks(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(ks(d))return yh(a,d,i)}return i}function Gp(a,i,d,h,g,b,S,M,$){return a=bu(d,h,!0,a,g,b,S,M,$),a.context=Hp(null),d=a.current,h=bs(),g=ya(d),b=Wr(h,g),b.callback=i??null,fa(d,b,g),a.current.lanes=g,ni(a,g,h),As(a,h),a}function $l(a,i,d,h){var g=i.current,b=bs(),S=ya(g);return d=Hp(d),i.context===null?i.context=d:i.pendingContext=d,i=Wr(b,S),i.payload={element:a},h=h===void 0?null:h,h!==null&&(i.callback=h),a=fa(g,i,S),a!==null&&(nr(a,g,S,b),xl(a,g,S)),S}function Vl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Kp(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<i?d:i}}function yu(a,i){Kp(a,i),(a=a.alternate)&&Kp(a,i)}function _w(){return null}var Zp=typeof reportError=="function"?reportError:function(a){console.error(a)};function vu(a){this._internalRoot=a}Fl.prototype.render=vu.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));$l(a,i,null,null)},Fl.prototype.unmount=vu.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Wa(function(){$l(null,a,null,null)}),i[$r]=null}};function Fl(a){this._internalRoot=a}Fl.prototype.unstable_scheduleHydration=function(a){if(a){var i=P0();a={blockedOn:null,target:a,priority:i};for(var d=0;d<oa.length&&i!==0&&i<oa[d].priority;d++);oa.splice(d,0,a),d===0&&R0(a)}};function wu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function Pw(a,i,d,h,g){if(g){if(typeof h=="function"){var b=h;h=function(){var ee=Vl(S);b.call(ee)}}var S=Gp(i,h,a,0,null,!1,!1,"",Yp);return a._reactRootContainer=S,a[$r]=S.current,yi(a.nodeType===8?a.parentNode:a),Wa(),S}for(;g=a.lastChild;)a.removeChild(g);if(typeof h=="function"){var M=h;h=function(){var ee=Vl($);M.call(ee)}}var $=bu(a,0,!1,null,null,!1,!1,"",Yp);return a._reactRootContainer=$,a[$r]=$.current,yi(a.nodeType===8?a.parentNode:a),Wa(function(){$l(i,$,d,h)}),$}function Ul(a,i,d,h,g){var b=d._reactRootContainer;if(b){var S=b;if(typeof g=="function"){var M=g;g=function(){var $=Vl(S);M.call($)}}$l(i,S,a,g)}else S=Pw(d,i,a,g,h);return Vl(S)}D0=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var d=ai(i.pendingLanes);d!==0&&(Hc(i,d|1),As(i,Pt()),(nt&6)===0&&(Pn=Pt()+500,ha()))}break;case 13:Wa(function(){var h=Ur(a,1);if(h!==null){var g=bs();nr(h,a,1,g)}}),yu(a,1)}},Gc=function(a){if(a.tag===13){var i=Ur(a,134217728);if(i!==null){var d=bs();nr(i,a,134217728,d)}yu(a,134217728)}},_0=function(a){if(a.tag===13){var i=ya(a),d=Ur(a,i);if(d!==null){var h=bs();nr(d,a,i,h)}yu(a,i)}},P0=function(){return ct},E0=function(a,i){var d=ct;try{return ct=a,i()}finally{ct=d}},gr=function(a,i,d){switch(i){case"input":if(is(a,d),i=d.name,d.type==="radio"&&i!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<d.length;i++){var h=d[i];if(h!==a&&h.form===a.form){var g=il(h);if(!g)throw Error(r(90));es(h),is(h,g)}}}break;case"textarea":xe(a,d);break;case"select":i=d.value,i!=null&&Z(a,!!d.multiple,i,!1)}},_t=mu,G=Wa;var Ew={usingClientEntryPoint:!1,Events:[ji,bn,il,Ke,gt,mu]},Oi={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iw={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=w0(a),a===null?null:a.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Fo=Wl.inject(Iw),yr=Wl}catch{}}return Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew,Ts.createPortal=function(a,i){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(i))throw Error(r(200));return Dw(a,i,null,d)},Ts.createRoot=function(a,i){if(!wu(a))throw Error(r(299));var d=!1,h="",g=Zp;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=bu(a,1,!1,null,null,d,!1,h,g),a[$r]=i.current,yi(a.nodeType===8?a.parentNode:a),new vu(i)},Ts.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=w0(i),a=a===null?null:a.stateNode,a},Ts.flushSync=function(a){return Wa(a)},Ts.hydrate=function(a,i,d){if(!Bl(i))throw Error(r(200));return Ul(null,a,i,!0,d)},Ts.hydrateRoot=function(a,i,d){if(!wu(a))throw Error(r(405));var h=d!=null&&d.hydratedSources||null,g=!1,b="",S=Zp;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),i=Gp(i,null,a,1,d??null,g,!1,b,S),a[$r]=i.current,yi(a),h)for(a=0;a<h.length;a++)d=h[a],g=d._getVersion,g=g(d._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[d,g]:i.mutableSourceEagerHydrationData.push(d,g);return new Fl(i)},Ts.render=function(a,i,d){if(!Bl(i))throw Error(r(200));return Ul(null,a,i,!1,d)},Ts.unmountComponentAtNode=function(a){if(!Bl(a))throw Error(r(40));return a._reactRootContainer?(Wa(function(){Ul(null,null,a,!1,function(){a._reactRootContainer=null,a[$r]=null})}),!0):!1},Ts.unstable_batchedUpdates=mu,Ts.unstable_renderSubtreeIntoContainer=function(a,i,d,h){if(!Bl(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Ul(a,i,d,!1,h)},Ts.version="18.3.1-next-f1338f8080-20240426",Ts}var rf;function lg(){if(rf)return ku.exports;rf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ku.exports=Bw(),ku.exports}var af;function Uw(){if(af)return Hl;af=1;var s=lg();return Hl.createRoot=s.createRoot,Hl.hydrateRoot=s.hydrateRoot,Hl}var Ww=Uw(),Li={},nf;function Hw(){if(nf)return Li;nf=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.parse=c,Li.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,k){const C=new l,N=v.length;if(N<2)return C;const w=(k==null?void 0:k.decode)||f;let A=0;do{const D=v.indexOf("=",A);if(D===-1)break;const T=v.indexOf(";",A),B=T===-1?N:T;if(D>B){A=v.lastIndexOf(";",D-1)+1;continue}const E=u(v,A,D),_=m(v,D,E),L=v.slice(E,_);if(C[L]===void 0){let P=u(v,D+1,B),U=m(v,B,P);const W=w(v.slice(P,U));C[L]=W}A=B+1}while(A<N);return C}function u(v,k,C){do{const N=v.charCodeAt(k);if(N!==32&&N!==9)return k}while(++k<C);return C}function m(v,k,C){for(;k>C;){const N=v.charCodeAt(--k);if(N!==32&&N!==9)return k+1}return C}function p(v,k,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const w=N(k);if(!e.test(w))throw new TypeError(`argument val is invalid: ${k}`);let A=v+"="+w;if(!C)return A;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);A+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);A+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);A+="; Path="+C.path}if(C.expires){if(!x(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);A+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(A+="; HttpOnly"),C.secure&&(A+="; Secure"),C.partitioned&&(A+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return A}function f(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function x(v){return o.call(v)==="[object Date]"}return Li}Hw();var of="popstate";function Gw(s={}){function e(n,o){let{pathname:l,search:c,hash:u}=n.location;return Yu("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:io(o)}return Zw(e,r,null,s)}function Nt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Er(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kw(){return Math.random().toString(36).substring(2,10)}function lf(s,e){return{usr:s.state,key:s.key,idx:e}}function Yu(s,e,r=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Xn(e):e,state:r,key:e&&e.key||n||Kw()}}function io({pathname:s="/",search:e="",hash:r=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Xn(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substring(r),s=s.substring(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function Zw(s,e,r,n={}){let{window:o=document.defaultView,v5Compat:l=!1}=n,c=o.history,u="POP",m=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function x(){u="POP";let w=f(),A=w==null?null:w-p;p=w,m&&m({action:u,location:N.location,delta:A})}function v(w,A){u="PUSH";let D=Yu(N.location,w,A);p=f()+1;let T=lf(D,p),B=N.createHref(D);try{c.pushState(T,"",B)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(B)}l&&m&&m({action:u,location:N.location,delta:1})}function k(w,A){u="REPLACE";let D=Yu(N.location,w,A);p=f();let T=lf(D,p),B=N.createHref(D);c.replaceState(T,"",B),l&&m&&m({action:u,location:N.location,delta:0})}function C(w){let A=o.location.origin!=="null"?o.location.origin:o.location.href,D=typeof w=="string"?w:io(w);return D=D.replace(/ $/,"%20"),Nt(A,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,A)}let N={get action(){return u},get location(){return s(o,c)},listen(w){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(of,x),m=w,()=>{o.removeEventListener(of,x),m=null}},createHref(w){return e(o,w)},createURL:C,encodeLocation(w){let A=C(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:k,go(w){return c.go(w)}};return N}function cg(s,e,r="/"){return Yw(s,e,r,!1)}function Yw(s,e,r,n){let o=typeof e=="string"?Xn(e):e,l=Qr(o.pathname||"/",r);if(l==null)return null;let c=dg(s);qw(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let p=oj(l);u=nj(c[m],p,n)}return u}function dg(s,e=[],r=[],n=""){let o=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Nt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let p=Xr([n,m.relativePath]),f=r.concat(m);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),dg(l.children,e,f,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:rj(p,l.index),routesMeta:f})};return s.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let m of ug(l.path))o(l,c,m)}),e}function ug(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return o?[l,""]:[l];let c=ug(n.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&u.push(...c),u.map(m=>s.startsWith("/")&&m===""?"/":m)}function qw(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:aj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Xw=/^:[\w-]+$/,Jw=3,Qw=2,ej=1,tj=10,sj=-2,cf=s=>s==="*";function rj(s,e){let r=s.split("/"),n=r.length;return r.some(cf)&&(n+=sj),e&&(n+=Qw),r.filter(o=>!cf(o)).reduce((o,l)=>o+(Xw.test(l)?Jw:l===""?ej:tj),n)}function aj(s,e){return s.length===e.length&&s.slice(0,-1).every((n,o)=>n===e[o])?s[s.length-1]-e[e.length-1]:0}function nj(s,e,r=!1){let{routesMeta:n}=s,o={},l="/",c=[];for(let u=0;u<n.length;++u){let m=n[u],p=u===n.length-1,f=l==="/"?e:e.slice(l.length)||"/",x=hc({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},f),v=m.route;if(!x&&p&&r&&!n[n.length-1].route.index&&(x=hc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:Xr([l,x.pathname]),pathnameBase:uj(Xr([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=Xr([l,x.pathnameBase]))}return c}function hc(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=ij(s.path,s.caseSensitive,s.end),o=e.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((p,{paramName:f,isOptional:x},v)=>{if(f==="*"){let C=u[v]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const k=u[v];return x&&!k?p[f]=void 0:p[f]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:s}}function ij(s,e=!1,r=!0){Er(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(n.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),n]}function oj(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Qr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}function lj(s,e="/"){let{pathname:r,search:n="",hash:o=""}=typeof s=="string"?Xn(s):s;return{pathname:r?r.startsWith("/")?r:cj(r,e):e,search:mj(n),hash:hj(o)}}function cj(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Au(s,e,r,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dj(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function mg(s){let e=dj(s);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function hg(s,e,r,n=!1){let o;typeof s=="string"?o=Xn(s):(o={...s},Nt(!o.pathname||!o.pathname.includes("?"),Au("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Au("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Au("#","search","hash",o)));let l=s===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let x=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;o.pathname=v.join("/")}u=x>=0?e[x]:"/"}let m=lj(o,u),p=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||f)&&(m.pathname+="/"),m}var Xr=s=>s.join("/").replace(/\/\/+/g,"/"),uj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,hj=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function pj(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var pg=["POST","PUT","PATCH","DELETE"];new Set(pg);var fj=["GET",...pg];new Set(fj);var Jn=j.createContext(null);Jn.displayName="DataRouter";var Dc=j.createContext(null);Dc.displayName="DataRouterState";var fg=j.createContext({isTransitioning:!1});fg.displayName="ViewTransition";var xj=j.createContext(new Map);xj.displayName="Fetchers";var gj=j.createContext(null);gj.displayName="Await";var Mr=j.createContext(null);Mr.displayName="Navigation";var Do=j.createContext(null);Do.displayName="Location";var Or=j.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Am=j.createContext(null);Am.displayName="RouteError";function bj(s,{relative:e}={}){Nt(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Mr),{hash:o,pathname:l,search:c}=Po(s,{relative:e}),u=l;return r!=="/"&&(u=l==="/"?r:Xr([r,l])),n.createHref({pathname:u,search:c,hash:o})}function _o(){return j.useContext(Do)!=null}function ln(){return Nt(_o(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Do).location}var xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gg(s){j.useContext(Mr).static||j.useLayoutEffect(s)}function cn(){let{isDataRoute:s}=j.useContext(Or);return s?Pj():yj()}function yj(){Nt(_o(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Jn),{basename:e,navigator:r}=j.useContext(Mr),{matches:n}=j.useContext(Or),{pathname:o}=ln(),l=JSON.stringify(mg(n)),c=j.useRef(!1);return gg(()=>{c.current=!0}),j.useCallback((m,p={})=>{if(Er(c.current,xg),!c.current)return;if(typeof m=="number"){r.go(m);return}let f=hg(m,JSON.parse(l),o,p.relative==="path");s==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xr([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,l,o,s])}j.createContext(null);function Tm(){let{matches:s}=j.useContext(Or),e=s[s.length-1];return e?e.params:{}}function Po(s,{relative:e}={}){let{matches:r}=j.useContext(Or),{pathname:n}=ln(),o=JSON.stringify(mg(r));return j.useMemo(()=>hg(s,JSON.parse(o),n,e==="path"),[s,o,n,e])}function vj(s,e){return bg(s,e)}function bg(s,e,r,n){var D;Nt(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=j.useContext(Mr),{matches:c}=j.useContext(Or),u=c[c.length-1],m=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",x=u&&u.route;{let T=x&&x.path||"";yg(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=ln(),k;if(e){let T=typeof e=="string"?Xn(e):e;Nt(f==="/"||((D=T.pathname)==null?void 0:D.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),k=T}else k=v;let C=k.pathname||"/",N=C;if(f!=="/"){let T=f.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=!l&&r&&r.matches&&r.matches.length>0?r.matches:cg(s,{pathname:N});Er(x||w!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Er(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Cj(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:Xr([f,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Xr([f,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,r,n);return e&&A?j.createElement(Do.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},A):A}function wj(){let s=_j(),e=pj(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:o},r):null,c)}var jj=j.createElement(wj,null),Nj=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?j.createElement(Or.Provider,{value:this.props.routeContext},j.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kj({routeContext:s,match:e,children:r}){let n=j.useContext(Jn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Or.Provider,{value:s},r)}function Cj(s,e=[],r=null,n=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let o=s,l=r==null?void 0:r.errors;if(l!=null){let m=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,u=-1;if(r)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:f,errors:x}=r,v=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,p,f)=>{let x,v=!1,k=null,C=null;r&&(x=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||jj,c&&(u<0&&f===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):u===f&&(v=!0,C=p.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,f+1)),w=()=>{let A;return x?A=k:v?A=C:p.route.Component?A=j.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=m,j.createElement(kj,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:A})};return r&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?j.createElement(Nj,{location:r.location,revalidation:r.revalidation,component:k,error:x,children:w(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):w()},null)}function Dm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sj(s){let e=j.useContext(Jn);return Nt(e,Dm(s)),e}function Aj(s){let e=j.useContext(Dc);return Nt(e,Dm(s)),e}function Tj(s){let e=j.useContext(Or);return Nt(e,Dm(s)),e}function _m(s){let e=Tj(s),r=e.matches[e.matches.length-1];return Nt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Dj(){return _m("useRouteId")}function _j(){var n;let s=j.useContext(Am),e=Aj("useRouteError"),r=_m("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[r]}function Pj(){let{router:s}=Sj("useNavigate"),e=_m("useNavigate"),r=j.useRef(!1);return gg(()=>{r.current=!0}),j.useCallback(async(o,l={})=>{Er(r.current,xg),r.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...l}))},[s,e])}var df={};function yg(s,e,r){!e&&!df[s]&&(df[s]=!0,Er(!1,r))}j.memo(Ej);function Ej({routes:s,future:e,state:r}){return bg(s,void 0,r,e)}function lt(s){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ij({basename:s="/",children:e=null,location:r,navigationType:n="POP",navigator:o,static:l=!1}){Nt(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=Xn(r));let{pathname:m="/",search:p="",hash:f="",state:x=null,key:v="default"}=r,k=j.useMemo(()=>{let C=Qr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:f,state:x,key:v},navigationType:n}},[c,m,p,f,x,v,n]);return Er(k!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(Mr.Provider,{value:u},j.createElement(Do.Provider,{children:e,value:k}))}function Rj({children:s,location:e}){return vj(qu(s),e)}function qu(s,e=[]){let r=[];return j.Children.forEach(s,(n,o)=>{if(!j.isValidElement(n))return;let l=[...e,o];if(n.type===j.Fragment){r.push.apply(r,qu(n.props.children,l));return}Nt(n.type===lt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=qu(n.props.children,l)),r.push(c)}),r}var oc="get",lc="application/x-www-form-urlencoded";function _c(s){return s!=null&&typeof s.tagName=="string"}function Mj(s){return _c(s)&&s.tagName.toLowerCase()==="button"}function Oj(s){return _c(s)&&s.tagName.toLowerCase()==="form"}function zj(s){return _c(s)&&s.tagName.toLowerCase()==="input"}function Lj(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function $j(s,e){return s.button===0&&(!e||e==="_self")&&!Lj(s)}var Gl=null;function Vj(){if(Gl===null)try{new FormData(document.createElement("form"),0),Gl=!1}catch{Gl=!0}return Gl}var Fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(s){return s!=null&&!Fj.has(s)?(Er(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):s}function Bj(s,e){let r,n,o,l,c;if(Oj(s)){let u=s.getAttribute("action");n=u?Qr(u,e):null,r=s.getAttribute("method")||oc,o=Tu(s.getAttribute("enctype"))||lc,l=new FormData(s)}else if(Mj(s)||zj(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||u.getAttribute("action");if(n=m?Qr(m,e):null,r=s.getAttribute("formmethod")||u.getAttribute("method")||oc,o=Tu(s.getAttribute("formenctype"))||Tu(u.getAttribute("enctype"))||lc,l=new FormData(u,s),!Vj()){let{name:p,type:f,value:x}=s;if(f==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,x)}}else{if(_c(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oc,n=null,o=lc,c=s}return l&&o==="text/plain"&&(c=l,l=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:l,body:c}}function Pm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function Uj(s,e){if(s.id in e)return e[s.id];try{let r=await import(s.module);return e[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wj(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Hj(s,e,r){let n=await Promise.all(s.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Uj(l,r);return c.links?c.links():[]}return[]}));return Yj(n.flat(1).filter(Wj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uf(s,e,r,n,o,l){let c=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,u=(m,p)=>{var f;return r[p].pathname!==m.pathname||((f=r[p].route.path)==null?void 0:f.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||u(m,p)):l==="data"?e.filter((m,p)=>{var x;let f=n.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,p)||u(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Gj(s,e,{includeHydrateFallback:r}={}){return Kj(s.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Kj(s){return[...new Set(s)]}function Zj(s){let e={},r=Object.keys(s).sort();for(let n of r)e[n]=s[n];return e}function Yj(s,e){let r=new Set;return new Set(e),s.reduce((n,o)=>{let l=JSON.stringify(Zj(o));return r.has(l)||(r.add(l),n.push({key:l,link:o})),n},[])}var qj=new Set([100,101,204,205]);function Xj(s,e){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":e&&Qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function vg(){let s=j.useContext(Jn);return Pm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Jj(){let s=j.useContext(Dc);return Pm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Em=j.createContext(void 0);Em.displayName="FrameworkContext";function wg(){let s=j.useContext(Em);return Pm(s,"You must render this element inside a <HydratedRouter> element"),s}function Qj(s,e){let r=j.useContext(Em),[n,o]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:p,onMouseLeave:f,onTouchStart:x}=e,v=j.useRef(null);j.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let N=A=>{A.forEach(D=>{c(D.isIntersecting)})},w=new IntersectionObserver(N,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[s]),j.useEffect(()=>{if(n){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[n]);let k=()=>{o(!0)},C=()=>{o(!1),c(!1)};return r?s!=="intent"?[l,v,{}]:[l,v,{onFocus:$i(u,k),onBlur:$i(m,C),onMouseEnter:$i(p,k),onMouseLeave:$i(f,C),onTouchStart:$i(x,k)}]:[!1,v,{}]}function $i(s,e){return r=>{s&&s(r),r.defaultPrevented||e(r)}}function eN({page:s,...e}){let{router:r}=vg(),n=j.useMemo(()=>cg(r.routes,s,r.basename),[r.routes,s,r.basename]);return n?j.createElement(sN,{page:s,matches:n,...e}):null}function tN(s){let{manifest:e,routeModules:r}=wg(),[n,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return Hj(s,e,r).then(c=>{l||o(c)}),()=>{l=!0}},[s,e,r]),n}function sN({page:s,matches:e,...r}){let n=ln(),{manifest:o,routeModules:l}=wg(),{basename:c}=vg(),{loaderData:u,matches:m}=Jj(),p=j.useMemo(()=>uf(s,e,m,o,n,"data"),[s,e,m,o,n]),f=j.useMemo(()=>uf(s,e,m,o,n,"assets"),[s,e,m,o,n]),x=j.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let C=new Set,N=!1;if(e.forEach(A=>{var T;let D=o.routes[A.route.id];!D||!D.hasLoader||(!p.some(B=>B.route.id===A.route.id)&&A.route.id in u&&((T=l[A.route.id])!=null&&T.shouldRevalidate)||D.hasClientLoader?N=!0:C.add(A.route.id))}),C.size===0)return[];let w=Xj(s,c);return N&&C.size>0&&w.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[w.pathname+w.search]},[c,u,n,o,p,e,s,l]),v=j.useMemo(()=>Gj(f,o),[f,o]),k=tN(f);return j.createElement(j.Fragment,null,x.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),v.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),k.map(({key:C,link:N})=>j.createElement("link",{key:C,...N})))}function rN(...s){return e=>{s.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jg&&(window.__reactRouterVersion="7.5.3")}catch{}function aN({basename:s,children:e,window:r}){let n=j.useRef();n.current==null&&(n.current=Gw({window:r,v5Compat:!0}));let o=n.current,[l,c]=j.useState({action:o.action,location:o.location}),u=j.useCallback(m=>{j.startTransition(()=>c(m))},[c]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.createElement(Ij,{basename:s,children:e,location:l.location,navigationType:l.action,navigator:o})}var Ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=j.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:o,reloadDocument:l,replace:c,state:u,target:m,to:p,preventScrollReset:f,viewTransition:x,...v},k){let{basename:C}=j.useContext(Mr),N=typeof p=="string"&&Ng.test(p),w,A=!1;if(typeof p=="string"&&N&&(w=p,jg))try{let U=new URL(window.location.href),W=p.startsWith("//")?new URL(U.protocol+p):new URL(p),re=Qr(W.pathname,C);W.origin===U.origin&&re!=null?p=re+W.search+W.hash:A=!0}catch{Er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=bj(p,{relative:o}),[T,B,E]=Qj(n,v),_=lN(p,{replace:c,state:u,target:m,preventScrollReset:f,relative:o,viewTransition:x});function L(U){e&&e(U),U.defaultPrevented||_(U)}let P=j.createElement("a",{...v,...E,href:w||D,onClick:A||l?e:L,ref:rN(k,B),target:m,"data-discover":!N&&r==="render"?"true":void 0});return T&&!N?j.createElement(j.Fragment,null,P,j.createElement(eN,{page:D})):P});ne.displayName="Link";var nN=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:o=!1,style:l,to:c,viewTransition:u,children:m,...p},f){let x=Po(c,{relative:p.relative}),v=ln(),k=j.useContext(Dc),{navigator:C,basename:N}=j.useContext(Mr),w=k!=null&&hN(x)&&u===!0,A=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,D=v.pathname,T=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;r||(D=D.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&N&&(T=Qr(T,N)||T);const B=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=D===A||!o&&D.startsWith(A)&&D.charAt(B)==="/",_=T!=null&&(T===A||!o&&T.startsWith(A)&&T.charAt(A.length)==="/"),L={isActive:E,isPending:_,isTransitioning:w},P=E?e:void 0,U;typeof n=="function"?U=n(L):U=[n,E?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(L):l;return j.createElement(ne,{...p,"aria-current":P,className:U,ref:f,style:W,to:c,viewTransition:u},typeof m=="function"?m(L):m)});nN.displayName="NavLink";var iN=j.forwardRef(({discover:s="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:o,state:l,method:c=oc,action:u,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:x,...v},k)=>{let C=uN(),N=mN(u,{relative:p}),w=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&Ng.test(u),D=T=>{if(m&&m(T),T.defaultPrevented)return;T.preventDefault();let B=T.nativeEvent.submitter,E=(B==null?void 0:B.getAttribute("formmethod"))||c;C(B||T.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:o,state:l,relative:p,preventScrollReset:f,viewTransition:x})};return j.createElement("form",{ref:k,method:w,action:N,onSubmit:n?m:D,...v,"data-discover":!A&&s==="render"?"true":void 0})});iN.displayName="Form";function oN(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(s){let e=j.useContext(Jn);return Nt(e,oN(s)),e}function lN(s,{target:e,replace:r,state:n,preventScrollReset:o,relative:l,viewTransition:c}={}){let u=cn(),m=ln(),p=Po(s,{relative:l});return j.useCallback(f=>{if($j(f,e)){f.preventDefault();let x=r!==void 0?r:io(m)===io(p);u(s,{replace:x,state:n,preventScrollReset:o,relative:l,viewTransition:c})}},[m,u,p,r,n,e,s,o,l,c])}var cN=0,dN=()=>`__${String(++cN)}__`;function uN(){let{router:s}=kg("useSubmit"),{basename:e}=j.useContext(Mr),r=Dj();return j.useCallback(async(n,o={})=>{let{action:l,method:c,encType:u,formData:m,body:p}=Bj(n,e);if(o.navigate===!1){let f=o.fetcherKey||dN();await s.fetch(f,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await s.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,r])}function mN(s,{relative:e}={}){let{basename:r}=j.useContext(Mr),n=j.useContext(Or);Nt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),l={...Po(s||".",{relative:e})},c=ln();if(s==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(f=>f==="")){u.delete("index"),m.filter(x=>x).forEach(x=>u.append("index",x));let f=u.toString();l.search=f?`?${f}`:""}}return(!s||s===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Xr([r,l.pathname])),io(l)}function hN(s,e={}){let r=j.useContext(fg);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kg("useViewTransitionState"),o=Po(s,{relative:e.relative});if(!r.isTransitioning)return!1;let l=Qr(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Qr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hc(o.pathname,c)!=null||hc(o.pathname,l)!=null}new TextEncoder;[...qj];var pN=lg();const fN=og(pN);function xN(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}const gN=s=>{switch(s){case"success":return vN;case"info":return jN;case"warning":return wN;case"error":return NN;default:return null}},bN=Array(12).fill(0),yN=({visible:s,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},he.createElement("div",{className:"sonner-spinner"},bN.map((r,n)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kN=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CN=()=>{const[s,e]=he.useState(document.hidden);return he.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s};let Xu=1;class SN{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...o}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Xu++,c=this.toasts.find(m=>m.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...e,id:l,title:n}),{...m,...e,id:l,dismissible:u,title:n}):m):this.addToast({title:n,...o,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,c;const u=o.then(async p=>{if(c=["resolve",p],he.isValidElement(p))l=!1,this.create({id:n,type:"default",message:p});else if(TN(p)&&!p.ok){l=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,C=typeof x=="object"&&!he.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:v,...C})}else if(p instanceof Error){l=!1;const x=typeof r.error=="function"?await r.error(p):r.error,v=typeof r.description=="function"?await r.description(p):r.description,C=typeof x=="object"&&!he.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:v,...C})}else if(r.success!==void 0){l=!1;const x=typeof r.success=="function"?await r.success(p):r.success,v=typeof r.description=="function"?await r.description(p):r.description,C=typeof x=="object"&&!he.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:v,...C})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){l=!1;const f=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,k=typeof f=="object"&&!he.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...k})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),m=()=>new Promise((p,f)=>u.then(()=>c[0]==="reject"?f(c[1]):p(c[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:m}:Object.assign(n,{unwrap:m})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Xu++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const _s=new SN,AN=(s,e)=>{const r=(e==null?void 0:e.id)||Xu++;return _s.addToast({title:s,...e,id:r}),r},TN=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",DN=AN,_N=()=>_s.toasts,PN=()=>_s.getActiveToasts(),lr=Object.assign(DN,{success:_s.success,info:_s.info,warning:_s.warning,error:_s.error,custom:_s.custom,message:_s.message,promise:_s.promise,dismiss:_s.dismiss,loading:_s.loading},{getHistory:_N,getToasts:PN});xN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kl(s){return s.label!==void 0}const EN=3,IN="24px",RN="16px",mf=4e3,MN=356,ON=14,zN=45,LN=200;function kr(...s){return s.filter(Boolean).join(" ")}function $N(s){const[e,r]=s.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const VN=s=>{var e,r,n,o,l,c,u,m,p;const{invert:f,toast:x,unstyled:v,interacting:k,setHeights:C,visibleToasts:N,heights:w,index:A,toasts:D,expanded:T,removeToast:B,defaultRichColors:E,closeButton:_,style:L,cancelButtonStyle:P,actionButtonStyle:U,className:W="",descriptionClassName:re="",duration:te,position:se,gap:ae,expandByDefault:O,classNames:V,icons:K,closeButtonAriaLabel:R="Close toast"}=s,[J,Q]=he.useState(null),[I,H]=he.useState(null),[ie,ve]=he.useState(!1),[Le,be]=he.useState(!1),[Me,$e]=he.useState(!1),[Ge,it]=he.useState(!1),[Wt,es]=he.useState(!1),[Ls,fs]=he.useState(0),[js,Ct]=he.useState(0),is=he.useRef(x.duration||te||mf),Ht=he.useRef(null),St=he.useRef(null),z=A===0,Z=A+1<=N,q=x.type,fe=x.dismissible!==!1,xe=x.className||"",me=x.descriptionClassName||"",Se=he.useMemo(()=>w.findIndex(Ke=>Ke.toastId===x.id)||0,[w,x.id]),ge=he.useMemo(()=>{var Ke;return(Ke=x.closeButton)!=null?Ke:_},[x.closeButton,_]),rt=he.useMemo(()=>x.duration||te||mf,[x.duration,te]),ft=he.useRef(0),Vt=he.useRef(0),Mt=he.useRef(0),$s=he.useRef(null),[Es,xr]=se.split("-"),zr=he.useMemo(()=>w.reduce((Ke,gt,_t)=>_t>=Se?Ke:Ke+gt.height,0),[w,Se]),Xs=CN(),Lr=x.invert||f,xs=q==="loading";Vt.current=he.useMemo(()=>Se*ae+zr,[Se,zr]),he.useEffect(()=>{is.current=rt},[rt]),he.useEffect(()=>{ve(!0)},[]),he.useEffect(()=>{const Ke=St.current;if(Ke){const gt=Ke.getBoundingClientRect().height;return Ct(gt),C(_t=>[{toastId:x.id,height:gt,position:x.position},..._t]),()=>C(_t=>_t.filter(G=>G.toastId!==x.id))}},[C,x.id]),he.useLayoutEffect(()=>{if(!ie)return;const Ke=St.current,gt=Ke.style.height;Ke.style.height="auto";const _t=Ke.getBoundingClientRect().height;Ke.style.height=gt,Ct(_t),C(G=>G.find(ye=>ye.toastId===x.id)?G.map(ye=>ye.toastId===x.id?{...ye,height:_t}:ye):[{toastId:x.id,height:_t,position:x.position},...G])},[ie,x.title,x.description,C,x.id]);const Gt=he.useCallback(()=>{be(!0),fs(Vt.current),C(Ke=>Ke.filter(gt=>gt.toastId!==x.id)),setTimeout(()=>{B(x)},LN)},[x,B,C,Vt]);he.useEffect(()=>{if(x.promise&&q==="loading"||x.duration===1/0||x.type==="loading")return;let Ke;return T||k||Xs?(()=>{if(Mt.current<ft.current){const G=new Date().getTime()-ft.current;is.current=is.current-G}Mt.current=new Date().getTime()})():(()=>{is.current!==1/0&&(ft.current=new Date().getTime(),Ke=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Gt()},is.current))})(),()=>clearTimeout(Ke)},[T,k,x,q,Xs,Gt]),he.useEffect(()=>{x.delete&&Gt()},[Gt,x.delete]);function gr(){var Ke;if(K!=null&&K.loading){var gt;return he.createElement("div",{className:kr(V==null?void 0:V.loader,x==null||(gt=x.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":q==="loading"},K.loading)}return he.createElement(yN,{className:kr(V==null?void 0:V.loader,x==null||(Ke=x.classNames)==null?void 0:Ke.loader),visible:q==="loading"})}const br=x.icon||(K==null?void 0:K[q])||gN(q);var Js,Ra;return he.createElement("li",{tabIndex:0,ref:St,className:kr(W,xe,V==null?void 0:V.toast,x==null||(e=x.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[q],x==null||(r=x.classNames)==null?void 0:r[q]),"data-sonner-toast":"","data-rich-colors":(Js=x.richColors)!=null?Js:E,"data-styled":!(x.jsx||x.unstyled||v),"data-mounted":ie,"data-promise":!!x.promise,"data-swiped":Wt,"data-removed":Le,"data-visible":Z,"data-y-position":Es,"data-x-position":xr,"data-index":A,"data-front":z,"data-swiping":Me,"data-dismissible":fe,"data-type":q,"data-invert":Lr,"data-swipe-out":Ge,"data-swipe-direction":I,"data-expanded":!!(T||O&&ie),style:{"--index":A,"--toasts-before":A,"--z-index":D.length-A,"--offset":`${Le?Ls:Vt.current}px`,"--initial-height":O?"auto":`${js}px`,...L,...x.style},onDragEnd:()=>{$e(!1),Q(null),$s.current=null},onPointerDown:Ke=>{xs||!fe||(Ht.current=new Date,fs(Vt.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&($e(!0),$s.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,gt,_t;if(Ge||!fe)return;$s.current=null;const G=Number(((Ke=St.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ie=Number(((gt=St.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((_t=Ht.current)==null?void 0:_t.getTime()),ue=J==="x"?G:Ie,ke=Math.abs(ue)/ye;if(Math.abs(ue)>=zN||ke>.11){fs(Vt.current),x.onDismiss==null||x.onDismiss.call(x,x),H(J==="x"?G>0?"right":"left":Ie>0?"down":"up"),Gt(),it(!0);return}else{var Ce,Ze;(Ce=St.current)==null||Ce.style.setProperty("--swipe-amount-x","0px"),(Ze=St.current)==null||Ze.style.setProperty("--swipe-amount-y","0px")}es(!1),$e(!1),Q(null)},onPointerMove:Ke=>{var gt,_t,G;if(!$s.current||!fe||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const ye=Ke.clientY-$s.current.y,ue=Ke.clientX-$s.current.x;var ke;const Ce=(ke=s.swipeDirections)!=null?ke:$N(se);!J&&(Math.abs(ue)>1||Math.abs(ye)>1)&&Q(Math.abs(ue)>Math.abs(ye)?"x":"y");let Ze={x:0,y:0};const et=At=>1/(1.5+Math.abs(At)/20);if(J==="y"){if(Ce.includes("top")||Ce.includes("bottom"))if(Ce.includes("top")&&ye<0||Ce.includes("bottom")&&ye>0)Ze.y=ye;else{const At=ye*et(ye);Ze.y=Math.abs(At)<Math.abs(ye)?At:ye}}else if(J==="x"&&(Ce.includes("left")||Ce.includes("right")))if(Ce.includes("left")&&ue<0||Ce.includes("right")&&ue>0)Ze.x=ue;else{const At=ue*et(ue);Ze.x=Math.abs(At)<Math.abs(ue)?At:ue}(Math.abs(Ze.x)>0||Math.abs(Ze.y)>0)&&es(!0),(_t=St.current)==null||_t.style.setProperty("--swipe-amount-x",`${Ze.x}px`),(G=St.current)==null||G.style.setProperty("--swipe-amount-y",`${Ze.y}px`)}},ge&&!x.jsx&&q!=="loading"?he.createElement("button",{"aria-label":R,"data-disabled":xs,"data-close-button":!0,onClick:xs||!fe?()=>{}:()=>{Gt(),x.onDismiss==null||x.onDismiss.call(x,x)},className:kr(V==null?void 0:V.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(Ra=K==null?void 0:K.close)!=null?Ra:kN):null,(q||x.icon||x.promise)&&x.icon!==null&&((K==null?void 0:K[q])!==null||x.icon)?he.createElement("div",{"data-icon":"",className:kr(V==null?void 0:V.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||gr():null,x.type!=="loading"?br:null):null,he.createElement("div",{"data-content":"",className:kr(V==null?void 0:V.content,x==null||(l=x.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:kr(V==null?void 0:V.title,x==null||(c=x.classNames)==null?void 0:c.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?he.createElement("div",{"data-description":"",className:kr(re,me,V==null?void 0:V.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),he.isValidElement(x.cancel)?x.cancel:x.cancel&&Kl(x.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||P,onClick:Ke=>{Kl(x.cancel)&&fe&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Ke),Gt())},className:kr(V==null?void 0:V.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,he.isValidElement(x.action)?x.action:x.action&&Kl(x.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||U,onClick:Ke=>{Kl(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Ke),!Ke.defaultPrevented&&Gt())},className:kr(V==null?void 0:V.actionButton,x==null||(p=x.classNames)==null?void 0:p.actionButton)},x.action.label):null)};function hf(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function FN(s,e){const r={};return[s,e].forEach((n,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",u=l?RN:IN;function m(p){["top","right","bottom","left"].forEach(f=>{r[`${c}-${f}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?m(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=u:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):m(u)}),r}const BN=he.forwardRef(function(e,r){const{invert:n,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:m,offset:p,mobileOffset:f,theme:x="light",richColors:v,duration:k,style:C,visibleToasts:N=EN,toastOptions:w,dir:A=hf(),gap:D=ON,icons:T,containerAriaLabel:B="Notifications"}=e,[E,_]=he.useState([]),L=he.useMemo(()=>Array.from(new Set([o].concat(E.filter(I=>I.position).map(I=>I.position)))),[E,o]),[P,U]=he.useState([]),[W,re]=he.useState(!1),[te,se]=he.useState(!1),[ae,O]=he.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=he.useRef(null),K=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=he.useRef(null),J=he.useRef(!1),Q=he.useCallback(I=>{_(H=>{var ie;return(ie=H.find(ve=>ve.id===I.id))!=null&&ie.delete||_s.dismiss(I.id),H.filter(({id:ve})=>ve!==I.id)})},[]);return he.useEffect(()=>_s.subscribe(I=>{if(I.dismiss){requestAnimationFrame(()=>{_(H=>H.map(ie=>ie.id===I.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{fN.flushSync(()=>{_(H=>{const ie=H.findIndex(ve=>ve.id===I.id);return ie!==-1?[...H.slice(0,ie),{...H[ie],...I},...H.slice(ie+1)]:[I,...H]})})})}),[E]),he.useEffect(()=>{if(x!=="system"){O(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;const I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:H})=>{O(H?"dark":"light")})}catch{I.addListener(({matches:ie})=>{try{O(ie?"dark":"light")}catch(ve){console.error(ve)}})}},[x]),he.useEffect(()=>{E.length<=1&&re(!1)},[E]),he.useEffect(()=>{const I=H=>{var ie;if(l.every(be=>H[be]||H.code===be)){var Le;re(!0),(Le=V.current)==null||Le.focus()}H.code==="Escape"&&(document.activeElement===V.current||(ie=V.current)!=null&&ie.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[l]),he.useEffect(()=>{if(V.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,J.current=!1)}},[V.current]),he.createElement("section",{ref:r,"aria-label":`${B} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((I,H)=>{var ie;const[ve,Le]=I.split("-");return E.length?he.createElement("ol",{key:I,dir:A==="auto"?hf():A,tabIndex:-1,ref:V,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":ve,"data-lifted":W&&E.length>1&&!c,"data-x-position":Le,style:{"--front-toast-height":`${((ie=P[0])==null?void 0:ie.height)||0}px`,"--width":`${MN}px`,"--gap":`${D}px`,...C,...FN(p,f)},onBlur:be=>{J.current&&!be.currentTarget.contains(be.relatedTarget)&&(J.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||J.current||(J.current=!0,R.current=be.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{te||re(!1)},onDragEnd:()=>re(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},E.filter(be=>!be.position&&H===0||be.position===I).map((be,Me)=>{var $e,Ge;return he.createElement(VN,{key:be.id,icons:T,index:Me,toast:be,defaultRichColors:v,duration:($e=w==null?void 0:w.duration)!=null?$e:k,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:N,closeButton:(Ge=w==null?void 0:w.closeButton)!=null?Ge:u,interacting:te,position:I,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:Q,toasts:E.filter(it=>it.position==be.position),heights:P.filter(it=>it.position==be.position),setHeights:U,expandByDefault:c,gap:D,expanded:W,swipeDirections:e.swipeDirections})})):null}))});function Cg(s){var e,r,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(e=0;e<o;e++)s[e]&&(r=Cg(s[e]))&&(n&&(n+=" "),n+=r)}else for(r in s)s[r]&&(n&&(n+=" "),n+=r);return n}function UN(){for(var s,e,r=0,n="",o=arguments.length;r<o;r++)(s=arguments[r])&&(e=Cg(s))&&(n&&(n+=" "),n+=e);return n}const Im="-",WN=s=>{const e=GN(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:c=>{const u=c.split(Im);return u[0]===""&&u.length!==1&&u.shift(),Sg(u,e)||HN(c)},getConflictingClassGroupIds:(c,u)=>{const m=r[c]||[];return u&&n[c]?[...m,...n[c]]:m}}},Sg=(s,e)=>{var c;if(s.length===0)return e.classGroupId;const r=s[0],n=e.nextPart.get(r),o=n?Sg(s.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const l=s.join(Im);return(c=e.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},pf=/^\[(.+)\]$/,HN=s=>{if(pf.test(s)){const e=pf.exec(s)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},GN=s=>{const{theme:e,classGroups:r}=s,n={nextPart:new Map,validators:[]};for(const o in r)Ju(r[o],n,o,e);return n},Ju=(s,e,r,n)=>{s.forEach(o=>{if(typeof o=="string"){const l=o===""?e:ff(e,o);l.classGroupId=r;return}if(typeof o=="function"){if(KN(o)){Ju(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,c])=>{Ju(c,ff(e,l),r,n)})})},ff=(s,e)=>{let r=s;return e.split(Im).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KN=s=>s.isThemeGetter,ZN=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(l,c)=>{r.set(l,c),e++,e>s&&(e=0,n=r,r=new Map)};return{get(l){let c=r.get(l);if(c!==void 0)return c;if((c=n.get(l))!==void 0)return o(l,c),c},set(l,c){r.has(l)?r.set(l,c):o(l,c)}}},Qu="!",em=":",YN=em.length,qN=s=>{const{prefix:e,experimentalParseClassName:r}=s;let n=o=>{const l=[];let c=0,u=0,m=0,p;for(let C=0;C<o.length;C++){let N=o[C];if(c===0&&u===0){if(N===em){l.push(o.slice(m,C)),m=C+YN;continue}if(N==="/"){p=C;continue}}N==="["?c++:N==="]"?c--:N==="("?u++:N===")"&&u--}const f=l.length===0?o:o.substring(m),x=XN(f),v=x!==f,k=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:k}};if(e){const o=e+em,l=n;n=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const o=n;n=l=>r({className:l,parseClassName:o})}return n},XN=s=>s.endsWith(Qu)?s.substring(0,s.length-1):s.startsWith(Qu)?s.substring(1):s,JN=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let l=[];return n.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},QN=s=>({cache:ZN(s.cacheSize),parseClassName:qN(s),sortModifiers:JN(s),...WN(s)}),ek=/\s+/,tk=(s,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],u=s.trim().split(ek);let m="";for(let p=u.length-1;p>=0;p-=1){const f=u[p],{isExternal:x,modifiers:v,hasImportantModifier:k,baseClassName:C,maybePostfixModifierPosition:N}=r(f);if(x){m=f+(m.length>0?" "+m:m);continue}let w=!!N,A=n(w?C.substring(0,N):C);if(!A){if(!w){m=f+(m.length>0?" "+m:m);continue}if(A=n(C),!A){m=f+(m.length>0?" "+m:m);continue}w=!1}const D=l(v).join(":"),T=k?D+Qu:D,B=T+A;if(c.includes(B))continue;c.push(B);const E=o(A,w);for(let _=0;_<E.length;++_){const L=E[_];c.push(T+L)}m=f+(m.length>0?" "+m:m)}return m};function sk(){let s=0,e,r,n="";for(;s<arguments.length;)(e=arguments[s++])&&(r=Ag(e))&&(n&&(n+=" "),n+=r);return n}const Ag=s=>{if(typeof s=="string")return s;let e,r="";for(let n=0;n<s.length;n++)s[n]&&(e=Ag(s[n]))&&(r&&(r+=" "),r+=e);return r};function rk(s,...e){let r,n,o,l=c;function c(m){const p=e.reduce((f,x)=>x(f),s());return r=QN(p),n=r.cache.get,o=r.cache.set,l=u,u(m)}function u(m){const p=n(m);if(p)return p;const f=tk(m,r);return o(m,f),f}return function(){return l(sk.apply(null,arguments))}}const Ut=s=>{const e=r=>r[s]||[];return e.isThemeGetter=!0,e},Tg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ak=/^\d+\/\d+$/,nk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ik=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ok=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=s=>ak.test(s),tt=s=>!!s&&!Number.isNaN(Number(s)),Na=s=>!!s&&Number.isInteger(Number(s)),Du=s=>s.endsWith("%")&&tt(s.slice(0,-1)),Kr=s=>nk.test(s),dk=()=>!0,uk=s=>ik.test(s)&&!ok.test(s),_g=()=>!1,mk=s=>lk.test(s),hk=s=>ck.test(s),pk=s=>!De(s)&&!_e(s),fk=s=>Qn(s,Ig,_g),De=s=>Tg.test(s),Za=s=>Qn(s,Rg,uk),_u=s=>Qn(s,vk,tt),xf=s=>Qn(s,Pg,_g),xk=s=>Qn(s,Eg,hk),Zl=s=>Qn(s,Mg,mk),_e=s=>Dg.test(s),Vi=s=>ei(s,Rg),gk=s=>ei(s,wk),gf=s=>ei(s,Pg),bk=s=>ei(s,Ig),yk=s=>ei(s,Eg),Yl=s=>ei(s,Mg,!0),Qn=(s,e,r)=>{const n=Tg.exec(s);return n?n[1]?e(n[1]):r(n[2]):!1},ei=(s,e,r=!1)=>{const n=Dg.exec(s);return n?n[1]?e(n[1]):r:!1},Pg=s=>s==="position"||s==="percentage",Eg=s=>s==="image"||s==="url",Ig=s=>s==="length"||s==="size"||s==="bg-size",Rg=s=>s==="length",vk=s=>s==="number",wk=s=>s==="family-name",Mg=s=>s==="shadow",jk=()=>{const s=Ut("color"),e=Ut("font"),r=Ut("text"),n=Ut("font-weight"),o=Ut("tracking"),l=Ut("leading"),c=Ut("breakpoint"),u=Ut("container"),m=Ut("spacing"),p=Ut("radius"),f=Ut("shadow"),x=Ut("inset-shadow"),v=Ut("text-shadow"),k=Ut("drop-shadow"),C=Ut("blur"),N=Ut("perspective"),w=Ut("aspect"),A=Ut("ease"),D=Ut("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...B(),_e,De],_=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[_e,De,m],U=()=>[In,"full","auto",...P()],W=()=>[Na,"none","subgrid",_e,De],re=()=>["auto",{span:["full",Na,_e,De]},Na,_e,De],te=()=>[Na,"auto",_e,De],se=()=>["auto","min","max","fr",_e,De],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...P()],K=()=>[In,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],R=()=>[s,_e,De],J=()=>[...B(),gf,xf,{position:[_e,De]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",bk,fk,{size:[_e,De]}],H=()=>[Du,Vi,Za],ie=()=>["","none","full",p,_e,De],ve=()=>["",tt,Vi,Za],Le=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>[tt,Du,gf,xf],$e=()=>["","none",C,_e,De],Ge=()=>["none",tt,_e,De],it=()=>["none",tt,_e,De],Wt=()=>[tt,_e,De],es=()=>[In,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kr],breakpoint:[Kr],color:[dk],container:[Kr],"drop-shadow":[Kr],ease:["in","out","in-out"],font:[pk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kr],shadow:[Kr],spacing:["px",tt],text:[Kr],"text-shadow":[Kr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",In,De,_e,w]}],container:["container"],columns:[{columns:[tt,De,_e,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Na,"auto",_e,De]}],basis:[{basis:[In,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,In,"auto","initial","none",De]}],grow:[{grow:["",tt,_e,De]}],shrink:[{shrink:["",tt,_e,De]}],order:[{order:[Na,"first","last","none",_e,De]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[u,"screen",...K()]}],"min-w":[{"min-w":[u,"screen","none",...K()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...K()]}],h:[{h:["screen",...K()]}],"min-h":[{"min-h":["screen","none",...K()]}],"max-h":[{"max-h":["screen",...K()]}],"font-size":[{text:["base",r,Vi,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,_e,_u]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Du,De]}],"font-family":[{font:[gk,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_e,De]}],"line-clamp":[{"line-clamp":[tt,"none",_e,_u]}],leading:[{leading:[l,...P()]}],"list-image":[{"list-image":["none",_e,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",_e,Za]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[tt,"auto",_e,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Na,_e,De],radial:["",_e,De],conic:[Na,_e,De]},yk,xk]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,_e,De]}],"outline-w":[{outline:["",tt,Vi,Za]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",f,Yl,Zl]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",x,Yl,Zl]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[tt,Za]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",v,Yl,Zl]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[tt,_e,De]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Me()}],"mask-image-linear-to-pos":[{"mask-linear-to":Me()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":Me()}],"mask-image-t-to-pos":[{"mask-t-to":Me()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":Me()}],"mask-image-r-to-pos":[{"mask-r-to":Me()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":Me()}],"mask-image-b-to-pos":[{"mask-b-to":Me()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":Me()}],"mask-image-l-to-pos":[{"mask-l-to":Me()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":Me()}],"mask-image-x-to-pos":[{"mask-x-to":Me()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":Me()}],"mask-image-y-to-pos":[{"mask-y-to":Me()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[_e,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":Me()}],"mask-image-radial-to-pos":[{"mask-radial-to":Me()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Me()}],"mask-image-conic-to-pos":[{"mask-conic-to":Me()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,De]}],filter:[{filter:["","none",_e,De]}],blur:[{blur:$e()}],brightness:[{brightness:[tt,_e,De]}],contrast:[{contrast:[tt,_e,De]}],"drop-shadow":[{"drop-shadow":["","none",k,Yl,Zl]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",tt,_e,De]}],"hue-rotate":[{"hue-rotate":[tt,_e,De]}],invert:[{invert:["",tt,_e,De]}],saturate:[{saturate:[tt,_e,De]}],sepia:[{sepia:["",tt,_e,De]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,De]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[tt,_e,De]}],"backdrop-contrast":[{"backdrop-contrast":[tt,_e,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,_e,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,_e,De]}],"backdrop-invert":[{"backdrop-invert":["",tt,_e,De]}],"backdrop-opacity":[{"backdrop-opacity":[tt,_e,De]}],"backdrop-saturate":[{"backdrop-saturate":[tt,_e,De]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,_e,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",_e,De]}],ease:[{ease:["linear","initial",A,_e,De]}],delay:[{delay:[tt,_e,De]}],animate:[{animate:["none",D,_e,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,_e,De]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:Wt()}],"skew-x":[{"skew-x":Wt()}],"skew-y":[{"skew-y":Wt()}],transform:[{transform:[_e,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:es()}],"translate-x":[{"translate-x":es()}],"translate-y":[{"translate-y":es()}],"translate-z":[{"translate-z":es()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,De]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[tt,Vi,Za,_u]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nk=rk(jk);function Xi(...s){return Nk(UN(s))}const Og=j.createContext(void 0),kk=({children:s})=>{const[e,r]=j.useState("zh");j.useEffect(()=>{try{const o=localStorage.getItem("lang");(o==="zh"||o==="en")&&r(o)}catch{}},[]),j.useEffect(()=>{try{localStorage.setItem("lang",e)}catch{}},[e]);const n=o=>{r(o)};return t.jsx(Og.Provider,{value:{lang:e,setLang:n},children:s})},Qt=()=>{const s=j.useContext(Og);if(!s)throw new Error("useLanguage must be used within LanguageProvider");return s};function Ck(){const[s,e]=j.useState(!1),{lang:r,setLang:n}=Qt(),o={zh:{brand:"AllinONE",nav:{gameCenter:"游戏中心",computingDashboard:"算力中心",blogCenter:"博客中心",officialStore:"官方商店",gameStore:"游戏电商",marketplace:"交易市场",fundPool:"资金池",personalCenter:"个人中心"},auth:{login:"登录",register:"立即注册"},hero:{badge:"全新上线 - 合规游戏收益平台",title1:"玩游戏，",title2:"轻松获取收益",desc:"AllinONE将游戏乐趣与收益机会完美结合，通过合规的虚拟经济系统，让每位玩家都能在娱乐中获得实实在在的回报。",ctaStart:"立即开始",demo:"观看演示",activePlayers:"活跃玩家",todayIncome:"今日收益"},features:{title:"AllinONE核心玩法",desc:"经典的游戏化收益模式，合规化改造，公开透明的经济，开放的管理系统，为您带来有趣的体验",rewardsTitle:"多维化社区奖励系统",rewardsDesc:"通过A币、O币、算力与游戏币等多维奖励，面向玩家、开发者与治理者，打造“共建共享共治”的Play2Earn生态。",economyTitle:"经济公开系统和开放式管理系统",economyDesc:"公开的财务系统（算力中心与资金池）+ 开放的社区管理（平台管理系统），以数据为基础进行治理与分配，保障透明与共治。",gamesTitle:"多元化小游戏矩阵",gamesDesc:"多款有趣的小游戏任您选择，每款游戏都有独特的玩法和算力奖励机制。",tradingTitle:"多样的游戏商品交易系统",tradingDesc:"除了玩游戏，玩家还可在平台交易道具：官方商店（平台运营）、游戏电商（游戏方运营）、交易市场（玩家自由买卖），为你提供全方位的自由交易环境。",centerTitle:"一站式个人中心",centerDesc:"个人中心是玩家数据的汇集地，也是参与平台的重要入口。我们将交易、游戏、社交、数据分析与管理融为一体，为你一站式解决游戏、交易、交流与管理需求。",blogTitle:"玩家博客中心",blogDesc:"分享游戏经验和心得，与其他玩家交流互动，共同成长进步。",learnMore:"了解更多",viewBlog:"查看博客"},how:{title:"如何开始使用AllinONE",desc:"简单四步，开启您的游戏收益之旅",step1Title:"注册并完成认证",step1Desc:"创建账户并完成实名认证，确保合规参与",step2Title:"选择喜欢的游戏",step2Desc:"从多样化的小游戏矩阵中选择您感兴趣的游戏",step3Title:"提升算力获取收益",step3Desc:"通过游戏表现提升算力，自动获得平台奖励",step4Title:"兑换合规奖励",step4Desc:"将虚拟积分按合规流程兑换为实际奖励"},cta:{title:"准备好开始您的游戏收益之旅了吗？",desc:"加入AllinONE，体验合规、有趣、有回报的游戏平台",register:"立即注册，免费开始",more:"了解更多"},about:{title:"关于我们",desc:"AllinONE 是集游戏开发、道具交易与社区激励于一体的开放式游戏平台，致力于打造“共建、共享、共治，互通、互惠、互利”的 Play2Earn 游戏经济生态。",ideaTitle:"我们的理念",ideaDesc:"AllinONE 不止是游戏。平台以开源共建、收益共享、社区共治为核心——无论是玩家、开发者、治理者还是商家，都能在这里获得可持续的价值回报。",startTitle:"起点与突破",startDesc:"从 2020 年的萌芽到 2025 年 AI Agent 的飞跃，在 codebuddy、qoder、coze、deepseek 等 AI 工具的助力下，我们完成了从想法到原型的关键跃迁。",thanksTitle:"感谢与邀请",thanksDesc:"感谢 AI 社区与 rollercoin 的启发。诚邀感兴趣的伙伴加入：看看、玩玩、留言、提建议、提交贡献，甚至批评也欢迎，一起把“开放、公开、共赢”的理念落到实处。",visionTitle:"展望",visionDesc:"接下来我们将持续完善安全、账号与游戏功能，推进合规与生态建设，让每个人都能在平台上赚钱、消费、社交与娱乐。"},footer:{slogan:"合规的游戏收益平台，让娱乐更有价值",contact:"联系我们：",platformMgmt:"平台管理",columns:{platformTitle:"平台",supportTitle:"支持",legalTitle:"法律"},links:{about:"关于我们",gameCenter:"游戏中心",earning:"收益模式",faq:"常见问题",help:"帮助中心",contact:"联系我们",feedback:"用户反馈",terms:"服务条款",privacy:"隐私政策",antiAddiction:"防沉迷政策",compliance:"合规声明"},copyrightLine:"© 2025 AllinONE. 保留所有权利。本平台已通过国家相关部门合规审核。"}},en:{brand:"AllinONE",nav:{gameCenter:"Game Center",computingDashboard:"Computing Dashboard",blogCenter:"Blog Center",officialStore:"Official Store",gameStore:"Game E-commerce",marketplace:"Marketplace",fundPool:"Fund Pool",personalCenter:"Personal Center"},auth:{login:"Log In",register:"Sign Up"},hero:{badge:"Newly Launched - Compliant Gaming Revenue Platform",title1:"Play Games,",title2:"Earn with Ease",desc:"AllinONE combines gaming fun with earning opportunities through a compliant virtual economy, enabling every player to gain real returns while having fun.",ctaStart:"Get Started",demo:"Watch Demo",activePlayers:"Active Players",todayIncome:"Today's Income"},features:{title:"AllinONE Core Gameplay",desc:"Classic gamified earning, compliance-oriented, transparent economy, and open management deliver an engaging experience.",rewardsTitle:"Multi-dimensional Community Rewards",rewardsDesc:"Rewards with A-Coin, O-Coin, computing power, and game coins for players, developers, and governors, building a co-create, co-share, and co-govern Play2Earn ecosystem.",economyTitle:"Transparent Economy & Open Management",economyDesc:"Open financial system (Computing Center & Fund Pool) + open community management (Platform Management) ensure transparency and co-governance based on data.",gamesTitle:"Diverse Mini-Game Matrix",gamesDesc:"Multiple fun mini-games to choose from, each with unique gameplay and computing power rewards.",tradingTitle:"Diverse Game Item Trading",tradingDesc:"Beyond gaming, trade items via Official Store (platform), Game E-commerce (game studios), and Marketplace (player-to-player) to enjoy a full-spectrum trading environment.",centerTitle:"One-stop Personal Center",centerDesc:"The personal center is the hub of player data and the main entry to participate. We integrate transactions, gaming, social, analytics, and management into one.",blogTitle:"Player Blog Center",blogDesc:"Share gaming experiences, interact with others, and grow together.",learnMore:"Learn More",viewBlog:"View Blog"},how:{title:"How to Start with AllinONE",desc:"Four simple steps to begin your earning journey",step1Title:"Register & Verify",step1Desc:"Create an account and complete real-name verification for compliance",step2Title:"Choose Your Games",step2Desc:"Pick from a diverse matrix of mini-games",step3Title:"Increase Computing Power",step3Desc:"Boost computing power through performance to earn rewards",step4Title:"Redeem Compliant Rewards",step4Desc:"Redeem virtual points into rewards following compliance procedures"},cta:{title:"Ready to start your gaming revenue journey?",desc:"Join AllinONE to experience a compliant, fun, and rewarding platform",register:"Sign Up for Free",more:"Learn More"},about:{title:"About Us",desc:"AllinONE is an open gaming platform integrating game development, item trading, and community incentives, building a Play2Earn economy of co-creation, sharing, governance, interconnectivity, mutual benefit, and win-win.",ideaTitle:"Our Philosophy",ideaDesc:"AllinONE is more than games. With open co-construction, shared revenue, and community governance, everyone—players, developers, governors, and merchants—can gain sustainable value.",startTitle:"Origin & Breakthrough",startDesc:"From the 2020 inception to the 2025 AI Agent leap, aided by codebuddy, qoder, coze, and deepseek, we transitioned from ideas to a working prototype.",thanksTitle:"Thanks & Invitation",thanksDesc:"Thanks to the AI community and rollercoin for inspiration. We invite you to join: explore, play, comment, suggest, contribute—even critique—to implement openness, transparency, and win-win.",visionTitle:"Vision",visionDesc:"We will keep improving security, accounts, and game features, advancing compliance and ecosystem so everyone can earn, spend, socialize, and entertain on the platform."},footer:{slogan:"A compliant gaming revenue platform making entertainment more valuable",contact:"Contact us: ",platformMgmt:"Platform Management",columns:{platformTitle:"Platform",supportTitle:"Support",legalTitle:"Legal"},links:{about:"About Us",gameCenter:"Game Center",earning:"Earning Models",faq:"FAQ",help:"Help Center",contact:"Contact Us",feedback:"User Feedback",terms:"Terms of Service",privacy:"Privacy Policy",antiAddiction:"Anti-Addiction Policy",compliance:"Compliance Statement"},copyrightLine:"© 2025 AllinONE. All rights reserved. This platform has passed compliance review by relevant authorities."}}},l=c=>{var x;const[u,m,p]=c.split("."),f=o[r][u];return f&&m&&p!==void 0?((x=f[m])==null?void 0:x[p])??c:f&&m?f[m]??c:o[r][c]??c};return j.useEffect(()=>{const c=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",c,{passive:!0}),()=>{window.removeEventListener("scroll",c)}},[]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:Xi("fixed top-0 left-0 right-0 z-50 transition-all duration-300",s?"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3":"bg-transparent py-5"),children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(ne,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.gameCenter")}),t.jsx(ne,{to:"/computing-dashboard",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.computingDashboard")}),t.jsx(ne,{to:"/blog-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.blogCenter")}),t.jsx(ne,{to:"/official-store",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.officialStore")}),t.jsx(ne,{to:"/game-store",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.gameStore")}),t.jsx(ne,{to:"/marketplace",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.marketplace")}),t.jsx(ne,{to:"/fund-pool",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.fundPool")}),t.jsx(ne,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:l("nav.personalCenter")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ne,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:l("auth.login")}),t.jsx(ne,{to:"/register",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:l("auth.register")}),t.jsxs("div",{className:"ml-2 pl-3 border-l border-slate-200 dark:border-slate-700 text-sm",children:[t.jsx("button",{onClick:()=>n("zh"),className:Xi("hover:text-blue-600 dark:hover:text-blue-400",r==="zh"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),children:"中文"}),t.jsx("span",{className:"mx-2 text-slate-400",children:"|"}),t.jsx("button",{onClick:()=>n("en"),className:Xi("hover:text-blue-600 dark:hover:text-blue-400",r==="en"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),children:"EN"})]})]})]})}),t.jsxs("main",{className:"pt-24",children:[t.jsx("section",{className:"container mx-auto px-4 md:px-6 py-16 md:py-24",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[t.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[t.jsx("div",{className:"inline-block px-4 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-medium mb-2",children:l("hero.badge")}),t.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold leading-tight tracking-tight",children:[l("hero.title1"),t.jsx("br",{}),t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:l("hero.title2")})]}),t.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-lg",children:l("hero.desc")}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[t.jsx(ne,{to:"/register",className:"px-8 py-3.5 text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5 text-center",children:l("hero.ctaStart")}),t.jsxs("button",{className:"px-6 py-3.5 text-base font-semibold text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-800 rounded-xl shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-play-circle"}),l("hero.demo")]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6",children:[t.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(c=>t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:"用户头像",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800"},c))}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"10,000+"})," 玩家已加入"]})]})]}),t.jsxs("div",{className:"lg:w-1/2 relative",children:[t.jsx("div",{className:"relative z-10 rounded-2xl overflow-hidden shadow-2xl transform rotate-1 hover:rotate-0 transition-transform duration-500",children:t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=game%20dashboard%2C%20interface%20showing%20gaming%20stats%2C%20virtual%20currency%2C%20modern%20UI%2C%20blue%20theme&sign=a160cbc38262558651adba1662dee0ce",alt:"AllinONE游戏平台界面",className:"w-full h-auto"})}),t.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-3xl -z-10"}),t.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg z-20",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:t.jsx("i",{className:"fa-solid fa-arrow-up text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l("hero.todayIncome")}),t.jsx("div",{className:"text-lg font-bold",children:"¥32.58"})]})]})}),t.jsx("div",{className:"absolute -top-6 -right-6 bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg z-20",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:t.jsx("i",{className:"fa-solid fa-users text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l("hero.activePlayers")}),t.jsx("div",{className:"text-lg font-bold",children:"2,384"})]})]})})]})]})}),t.jsx("section",{id:"features",className:"py-20 bg-slate-50 dark:bg-slate-800/50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-4",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("features.title")}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:l("features.desc")})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-gift text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.rewardsTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.rewardsDesc")}),t.jsxs(ne,{to:"/community-rewards",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-scale-balanced text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.economyTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.economyDesc")}),t.jsxs(ne,{to:"/open-economy",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-gamepad text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.gamesTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.gamesDesc")}),t.jsxs(ne,{to:"/game-center",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-store text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.tradingTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.tradingDesc")}),t.jsxs(ne,{to:"/trading-system",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-cyan-100 dark:bg-cyan-900/30 flex items-center justify-center text-cyan-600 dark:text-cyan-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-user text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.centerTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.centerDesc")}),t.jsxs(ne,{to:"/computing-power",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.learnMore")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400 mb-5",children:t.jsx("i",{className:"fa-solid fa-blog text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:l("features.blogTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:l("features.blogDesc")}),t.jsxs(ne,{to:"/blog-center",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-700 dark:hover:text-blue-300",children:[l("features.viewBlog")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]})]})]})}),t.jsxs("section",{id:"how-it-works",className:"py-20 container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-4",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("how.title")}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:l("how.desc")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 right-0 h-1 bg-blue-200 dark:bg-blue-800 -translate-y-1/2 z-0"}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-8 relative z-10",children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"1"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step1Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step1Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"2"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step2Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step2Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"3"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step3Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step3Desc")})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl mb-4 shadow-lg",children:"4"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:l("how.step4Title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("how.step4Desc")})]})]})]})]}),t.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:l("cta.title")}),t.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto mb-10",children:l("cta.desc")}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(ne,{to:"/register",className:"px-8 py-4 text-lg font-semibold bg-white text-blue-600 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5",children:l("cta.register")}),t.jsx("a",{href:"#features",className:"px-8 py-4 text-lg font-semibold bg-transparent border-2 border-white rounded-xl hover:bg-white/10 transition-all",children:l("cta.more")})]})]})}),t.jsx("section",{id:"about",className:"py-20 bg-white dark:bg-slate-900/30",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l("about.title")}),t.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:l("about.desc")})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.ideaTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.ideaDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.startTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.startDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.thanksTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.thanksDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:l("about.visionTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l("about.visionDesc")})]})]})]})})]}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 mb-4",children:l("footer.slogan")}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-weibo"})}),t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-wechat"})}),t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:t.jsx("i",{className:"fa-brands fa-qq"})})]}),t.jsxs("p",{className:"mt-4 text-slate-400",children:[l("footer.contact"),t.jsx("a",{href:"mailto:allinone_2014@hotmail.com",className:"underline hover:text-white",children:"allinone_2014@hotmail.com"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.platformTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(ne,{to:"/about",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.about")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.gameCenter")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.earning")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.faq")})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.supportTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.help")})}),t.jsx("li",{children:t.jsx("a",{href:"mailto:allinone_2014@hotmail.com",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.contact")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.feedback")})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold mb-4",children:l("footer.columns.legalTitle")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.terms")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.privacy")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.antiAddiction")})}),t.jsx("li",{children:t.jsx("a",{href:"#",className:"text-slate-400 hover:text-white transition-colors",children:l("footer.links.compliance")})})]})]})]}),t.jsxs("div",{className:"pt-8 border-t border-slate-800 text-center text-slate-500 text-sm",children:[t.jsx("p",{children:l("footer.copyrightLine")}),t.jsx("div",{className:"mt-4",children:t.jsxs(ne,{to:"/platform-management",className:"inline-flex items-center text-slate-400 hover:text-white transition-colors text-sm",children:[t.jsx("i",{className:"fa-solid fa-cog mr-2"}),l("footer.platformMgmt")]})})]})]})})]})}function Sk(){return t.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#3b82f6",color:"white",padding:"32px",fontFamily:"Arial, sans-serif"},children:[t.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",marginBottom:"16px"},children:"测试页面"}),t.jsx("p",{style:{fontSize:"18px",marginBottom:"32px"},children:"如果你能看到这个页面，说明React正常工作"}),t.jsxs("div",{style:{marginTop:"32px"},children:[t.jsx("div",{style:{backgroundColor:"white",color:"black",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:t.jsx("p",{children:"这是一个白色背景的区块"})}),t.jsx("div",{style:{backgroundColor:"#ef4444",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:t.jsx("p",{children:"这是一个红色背景的区块"})}),t.jsx("button",{style:{backgroundColor:"#22c55e",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"测试按钮"})]})]})}const zg=j.createContext({isAuthenticated:!1,currentUser:null,setIsAuthenticated:()=>{},setCurrentUser:()=>{},logout:()=>{}});function Ak({children:s}){const[e,r]=j.useState(!1),[n,o]=j.useState(null);j.useEffect(()=>{const c=localStorage.getItem("currentUser");if(c)try{const u=JSON.parse(c);o(u),r(!0)}catch(u){console.error("Failed to parse saved user data:",u),localStorage.removeItem("currentUser")}},[]);const l=()=>{r(!1),o(null),localStorage.removeItem("currentUser")};return t.jsx(zg.Provider,{value:{isAuthenticated:e,currentUser:n,setIsAuthenticated:r,setCurrentUser:o,logout:l},children:s})}const ps=s=>{const e={brand:"AllinONE",nav:{home:s==="zh"?"首页":"Home",gameCenter:s==="zh"?"游戏中心":"Game Center",blogCenter:s==="zh"?"博客中心":"Blog Center",personalCenter:s==="zh"?"个人中心":"Personal Center",backHome:s==="zh"?"返回首页":"Back to Home",quickView:s==="zh"?"快速浏览":"Quick View"},buttons:{learnMore:s==="zh"?"了解更多":"Learn More",createBlog:s==="zh"?"写博客":"Write Blog",registerNow:s==="zh"?"立即注册":"Sign Up",login:s==="zh"?"登录":"Log In",loadingLogin:s==="zh"?"登录中...":"Logging in...",creatingAccount:s==="zh"?"创建账户中...":"Creating account...",buyNow:s==="zh"?"立即购买":"Buy Now",clearFilters:s==="zh"?"清除筛选":"Clear Filters",prevPage:s==="zh"?"上一页":"Previous",nextPage:s==="zh"?"下一页":"Next",cancel:s==="zh"?"取消":"Cancel"}},r={title:s==="zh"?"欢迎回来":"Welcome Back",subtitle:s==="zh"?"登录您的账户，继续游戏收益之旅":"Log in to continue your gaming revenue journey",labels:{username:s==="zh"?"用户名":"Username",password:s==="zh"?"密码":"Password",rememberMe:s==="zh"?"记住我":"Remember me",forgotPassword:s==="zh"?"忘记密码？":"Forgot password?"},placeholders:{username:s==="zh"?"请输入用户名":"Enter username",password:s==="zh"?"请输入密码":"Enter password"},noAccountPrompt:s==="zh"?"还没有账户？":"Don't have an account?",registerLink:s==="zh"?"立即注册":"Sign Up",test:{title:s==="zh"?"测试账号":"Test Accounts",show:s==="zh"?"显示测试账号":"Show test accounts",hide:s==="zh"?"隐藏测试账号":"Hide test accounts",clickTip:s==="zh"?"点击任意账号自动填入登录信息":"Click any account to auto-fill credentials",password:s==="zh"?"密码":"Password",infoTitle:s==="zh"?"测试提示":"Test Tips",infoDesc:s==="zh"?"使用测试账号可以体验不同等级的游戏数据和算力收益":"Use test accounts to experience different levels and rewards",viewList:s==="zh"?"查看完整测试账号列表":"View full test accounts list"}},n={title:s==="zh"?"创建账户":"Create Account",subtitle:s==="zh"?"加入我们的游戏收益平台，开始您的旅程":"Join our gaming revenue platform and start your journey",labels:{username:s==="zh"?"用户名":"Username",email:s==="zh"?"邮箱地址":"Email Address",password:s==="zh"?"密码":"Password",confirmPassword:s==="zh"?"确认密码":"Confirm Password",agreePrefix:s==="zh"?"我同意AllinONE的":"I agree to AllinONE ",terms:s==="zh"?"服务条款":"Terms of Service",and:s==="zh"?"和":"and",privacy:s==="zh"?"隐私政策":"Privacy Policy"},placeholders:{username:s==="zh"?"请创建用户名":"Create a username",email:"your.email@example.com",password:s==="zh"?"请创建密码":"Create a password",confirmPassword:s==="zh"?"请再次输入密码":"Re-enter password"},buttons:{submit:s==="zh"?"创建账户":"Create Account",loading:e.buttons.creatingAccount},haveAccountPrompt:s==="zh"?"已有账户？":"Already have an account?",loginLink:e.buttons.login},o={hero:{tag:s==="zh"?"关于 AllinONE":"About AllinONE",title:s==="zh"?"关于我们":"About Us",desc:s==="zh"?"AllinONE 是集游戏开发、道具交易与社区激励于一体的开放式游戏平台，致力于打造“共建、共享、共治，互通、互惠、互利”的 Play2Earn 游戏经济生态。":"AllinONE is an open gaming platform integrating game development, item trading, and community incentives, building a Play2Earn economy of co-creation, sharing, governance, interconnectivity, and mutual benefit.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{vision:s==="zh"?"愿景与定位":"Vision & Positioning",values:s==="zh"?"核心理念":"Core Values",story:s==="zh"?"我们的故事":"Our Story",thanks:s==="zh"?"感谢与致敬":"Thanks & Tribute",invite:s==="zh"?"加入我们":"Join Us",roadmap:s==="zh"?"下一步计划":"Next Steps"},sections:{visionTitle:s==="zh"?"愿景与定位":"Vision & Positioning",valuesTitle:s==="zh"?"核心理念":"Core Values",storyTitle:s==="zh"?"我们的故事":"Our Story",thanksTitle:s==="zh"?"感谢与致敬":"Thanks & Tribute",inviteTitle:s==="zh"?"加入我们":"Join Us",roadmapTitle:s==="zh"?"下一步计划":"Next Steps",vision:{p1:s==="zh"?"AllinONE 不只是一个游戏平台。我们希望在完全合规的前提下，构建人人可参与的游戏经济生态：玩家可以边玩边赚，开发者可以开源共建并共享收益，社区可以以透明方式参与治理与激励，商家可以以合规的方式开展道具交易与增值服务。":"AllinONE is more than a gaming platform. We aim to build a fully compliant gaming economy open to everyone: players can play-to-earn, developers can co-build in open source and share revenue, the community can participate in transparent governance and incentives, and merchants can operate item trading and value-added services in a compliant way.",p2:s==="zh"?"我们相信，开放、公开、共赢的生态，能让娱乐更有价值，让创造更被看见。":"We believe that an open, transparent, and win-win ecosystem makes entertainment more valuable and creation more visible."},ideology:{buildOpen:s==="zh"?"开源共建":"Open Co-construction",shareRevenue:s==="zh"?"收益共享":"Shared Revenue",coGovern:s==="zh"?"社区共治":"Community Co-governance",openDesc:s==="zh"?"倡导以开源为纽带，降低参与门槛，推动社区驱动的产品迭代。":"Advocate open source as a bridge to lower barriers and drive community-led iteration.",shareDesc:s==="zh"?"在合规框架下，让玩家、开发者、治理者与商家共享生态增长红利。":"Within a compliant framework, enable players, developers, governors, and merchants to share growth dividends.",governDesc:s==="zh"?"以公开透明为原则，推动社区投票、参数治理与规则共识。":"Promote community voting, parameter governance, and rule consensus based on openness and transparency."},story:{h2020:s==="zh"?"2020 · 想法萌芽":"2020 · Idea Emergence",d2020:s==="zh"?"比特币与区块链的兴起带来新的可能性，AllinONE 的雏形在脑海中出现。彼时不懂技术、没有团队与资金，理想被迫搁置。":"The rise of Bitcoin and blockchain brought new possibilities. The prototype of AllinONE emerged, but without tech skills, team, or funding, the dream was shelved.",h2025Agent:s==="zh"?"2025 · AI Agent 爆发":"2025 · AI Agent Boom",d2025Agent:s==="zh"?"抱着试一试的心态做出第一批小游戏。虽然拙朴，却是质的突破：看到作品能够运行，带来了继续前进的信心。":"We built the first batch of mini-games with a trial mindset. Though simple, it was a qualitative leap—seeing them run gave confidence to move forward.",h202508:s==="zh"?"2025/08 · 工具加速落地":"2025/08 · Tools Accelerate Delivery",d202508:s==="zh"?"codebuddy 与 qoder 出现后，想法迅速转化为可用原型。阶段性产物在不到一个月内成型，平台框架与核心功能初具规模。":"With tools like codebuddy and qoder, ideas quickly turned into usable prototypes. Within a month, the platform framework and core features took shape."},thanks:{desc:s==="zh"?"感谢 codebuddy、qoder、coze、deepseek 等 AI 工作者与公司提供的强大能力，也感谢 rollercoin 带来的启发。没有这些工具与灵感，就没有今天的 AllinONE。":"Thanks to AI practitioners and companies such as codebuddy, qoder, coze, and deepseek for powerful capabilities, and to rollercoin for inspiration. Without these tools and ideas, AllinONE wouldn’t exist."},invite:{desc:s==="zh"?"我们真诚邀请对 AllinONE 感兴趣、志同道合的伙伴加入：看看、玩玩、留言、提建议、提交贡献，甚至批评也欢迎。":"We sincerely invite like-minded partners interested in AllinONE to join: explore, play, comment, suggest, contribute—even critique is welcome.",list:{players:s==="zh"?"玩家：体验游戏与收益模式，提出改进意见":"Players: experience games and earning models, suggest improvements",developers:s==="zh"?"开发者：参与开源仓库与应用开发，共享收益":"Developers: contribute to open-source repos and apps, share revenue",governors:s==="zh"?"治理者：参与投票与参数治理，完善生态规则":"Governors: take part in voting and parameter governance, refine rules",merchants:s==="zh"?"商家：合规开展道具与增值服务，探索新模式":"Merchants: operate items and value-added services compliantly, explore new models"},registerNow:e.buttons.registerNow,toCommunity:s==="zh"?"去社区交流":"Go to Community"},roadmap:{security:s==="zh"?"平台安全":"Platform Security",account:s==="zh"?"账户与身份":"Accounts & Identity",games:s==="zh"?"游戏与生态":"Games & Ecosystem",securityDesc:s==="zh"?"持续加强风控与合规模块，保障资产与数据安全。":"Enhance risk control and compliance to ensure asset and data security.",accountDesc:s==="zh"?"完善账户设置、认证流程与隐私保护。":"Improve account settings, verification, and privacy protection.",gamesDesc:s==="zh"?"丰富小游戏矩阵，优化收益模式与社区激励机制。":"Enrich mini-games, optimize earning models and community incentives."}},footer:{copyright:"© 2025 AllinONE"}},l={header:{home:e.nav.home,gameCenter:e.nav.gameCenter,blogCenter:e.nav.blogCenter,personalCenter:e.nav.personalCenter,createBlog:e.buttons.createBlog},sidebar:{title:s==="zh"?"博客中心":"Blog Center",desc:s==="zh"?"欢迎来到AllinONE博客中心，这里有玩家分享的游戏经验、攻略和平台使用心得。":"Welcome to the AllinONE Blog Center with shared experiences, tips, and platform insights.",searchPlaceholder:s==="zh"?"搜索博客...":"Search blogs...",categories:s==="zh"?"分类":"Categories",allCategories:s==="zh"?"全部分类":"All Categories",popularTags:s==="zh"?"热门标签":"Popular Tags",stats:s==="zh"?"统计":"Stats",totalPosts:s==="zh"?"文章总数":"Total Posts",totalViews:s==="zh"?"总浏览量":"Total Views",totalLikes:s==="zh"?"总点赞数":"Total Likes",totalComments:s==="zh"?"总评论数":"Total Comments"},filterBar:{category:s==="zh"?"分类":"Category",tag:s==="zh"?"标签":"Tag",search:s==="zh"?"搜索":"Search",clear:e.buttons.clearFilters},empty:{title:s==="zh"?"暂无博客":"No Blogs Yet",notFound:s==="zh"?"没有找到符合条件的博客文章":"No blog posts matched your filters",encourage:s==="zh"?"博客中心还没有内容，成为第一个发布博客的用户吧！":"Be the first to publish a blog!",writeBlog:e.buttons.createBlog},pagination:{prev:e.buttons.prevPage,next:e.buttons.nextPage}},c={header:{title:s==="zh"?"官方商店":"Official Store",subtitle:s==="zh"?"平台官方商品，安全可靠有保障":"Official platform goods, safe and reliable",personalCenter:e.nav.personalCenter,backHome:e.nav.backHome},featured:{title:s==="zh"?"精选推荐":"Featured",badge:s==="zh"?"推荐":"Featured",buyNow:e.buttons.buyNow},categories:{all:s==="zh"?"全部商品":"All Items"},search:{placeholder:s==="zh"?"搜索商品...":"Search items..."},rewards:{title:s==="zh"?"获得奖励:":"Rewards:"},purchase:{buyWith:N=>s==="zh"?`${N}购买`:`Buy with ${N}`,stock:s==="zh"?"库存":"Stock",dailyLimit:s==="zh"?"每日限购":"Daily Limit",userLimit:s==="zh"?"用户限购":"User Limit",deadline:s==="zh"?"截止":"Ends",empty:s==="zh"?"没有找到符合条件的商品":"No matching items found"}},u={hero:{tag:"AllinONE · Community Rewards",title:s==="zh"?"多维化社区奖励系统":"Multi-dimensional Community Rewards System",desc:s==="zh"?"社区奖励是 AllinONE 实现 Play2Earn 的重要方式，目标是让每一位参与者获得经济回报并共同构建多样化的经济生态。":"Community rewards are a key way AllinONE realizes Play2Earn, aiming for every participant to gain economic returns and co-build a diversified economic ecosystem.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{overview:s==="zh"?"整体概览":"Overview",acoin:s==="zh"?"A币":"A Coin",ocoin:s==="zh"?"O币":"O Coin",example:s==="zh"?"示例计算":"Examples",others:s==="zh"?"其他奖励":"Other Rewards"},overview:{title:s==="zh"?"社区奖励系统概览":"Overview of Community Rewards",p:s==="zh"?"社区奖励包含：每日结算发放的 A币；对平台贡献者提供的平台管理奖励（现金分红与具期权属性的 O币）；面向普通玩家的算力、游戏币等奖励。 目前由平台统一制定规则并执行发放，未来将通过社区治理与技术升级，进一步扩大奖励的范围、体量与多样性。":"Community rewards include: daily-settled A Coin; platform management rewards for contributors (cash dividends and option-like O Coin); and rewards such as computing power and in-game currency for regular players. Rules are currently set and executed uniformly by the platform; in the future, community governance and tech upgrades will expand the scope, scale, and diversity of rewards.",cards:{acoinTitle:s==="zh"?"A币 · 平台通用币":"A Coin · Platform Utility Coin",acoinDesc:s==="zh"?"按日结算、用于替代现金奖励发放，锚定平台收入转化。":"Settled daily, used in place of cash rewards, anchored to platform revenue conversion.",ocoinTitle:s==="zh"?"O币 · 期权与价值":"O Coin · Options & Value",ocoinDesc:s==="zh"?"面向开发者/管理者/投资者，具价值波动与分红权属性。":"For developers/managers/investors, with value fluctuation and dividend rights.",powerTitle:s==="zh"?"算力与游戏币":"Computing Power & Game Coins",powerDesc:s==="zh"?"零门槛参与，通过游戏表现与活跃度获取日常奖励。":"Zero barrier participation; earn daily rewards via gameplay and activity."}},acoin:{title:s==="zh"?"A币（平台通用币）":"A Coin (Platform Utility)",bullets:[s==="zh"?"总量固定：10 亿；1 A币 = 1 RMB；最小单位 0.01。":"Fixed supply: 1 billion; 1 A Coin = 1 RMB; minimum unit 0.01.",s==="zh"?"主要用途：用于替代现金进行结算与发放。":"Primary use: replace cash for settlement and distribution.",s==="zh"?"价值来源：平台收入按比例（当前为 40%）转化为 A币并按玩家贡献度每日分发。":"Value source: a portion of platform revenue (currently 40%) is converted to A Coin and distributed daily based on player contribution.",s==="zh"?"额度逻辑：额度本身不具备价值，收入转化为 A币发放后才产生价值。":"Quota logic: quota itself has no value; value arises when revenue is converted to A Coin and issued."]},ocoin:{title:s==="zh"?"O币（期权型代币）":"O Coin (Option-like Token)",p:s==="zh"?"平台收入的其余部分（当前为 60%）扣除成本后形成工资与分红资金池，由平台管理者与玩家社区代表共同治理。除获得 A币收益外，贡献者还可获得分红权与 O币（合称“绩效包”）。":"The remaining platform income (currently 60%), after costs, forms payroll and dividend pools governed jointly by platform managers and community representatives. In addition to A Coin, contributors receive dividend rights and O Coin (collectively the “performance package”).",bullets:[s==="zh"?"定位：代表平台价值/市值的期权型代币，具备价值波动与分红权。":"Positioning: option-like token representing platform value/market cap, with value fluctuation and dividend rights.",s==="zh"?"对象：奖励平台的开发者、管理者与投资者，推动“共建共享共治”。":"Recipients: developers, managers, and investors; driving co-construction, sharing, and co-governance.",s==="zh"?"总量：固定 10 亿；未分发时为限制性状态且价值为 0，分发后可按合规在场内外交易。":"Supply: fixed at 1 billion; restricted and zero value before distribution; tradable in/out of market per compliance after distribution.",s==="zh"?"分红权：面向历史/当期绩效；O币更侧重未来绩效，二者共同构成绩效回报。":"Dividend rights: for past/current performance; O Coin focuses on future performance—together forming performance returns."]},example:{title:s==="zh"?"示例计算":"Example Calculation",aDailyTitle:s==="zh"?"A币日结示例":"A Coin Daily Settlement Example",assumptions:s==="zh"?"假设条件：":"Assumptions:",calc:s==="zh"?"计算过程：":"Calculation:",result:s==="zh"?"最终结果：用户A当日获得 30 A币 奖励（价值约 30 元）":"Result: User A receives 30 A Coin for the day (worth ~30 RMB)",performanceTitle:s==="zh"?"绩效包示例（O币/分红）":"Performance Package Example (O Coin/Dividends)",performanceP:s==="zh"?"例如：某玩家创建一款小游戏，新增 1000 名玩家、带来 10000 元收入。 平台委员会奖励其 1% 平台净收入 + 1000 个 O币，玩家社区代表额外按“每增加 1 元收入分配 5%”激励。":"Example: A player creates a mini-game, adds 1,000 players and 10,000 RMB revenue. The committee awards 1% of net platform income + 1,000 O Coin; community representatives additionally allocate 5% for each 1 RMB increase.",formula:s==="zh"?"绩效包 = 1% ×（平台收入 - 运营成本） + 5% ×（游戏收入T - 游戏收入T-1） + 1000 个 O币":"Performance package = 1% × (Platform income − Operating costs) + 5% × (Game revenue T − Game revenue T−1) + 1,000 O Coin",exampleNote:s==="zh"?"若当期平台净收入 = 100,000 元，则：":"If current net platform income = 100,000 RMB:",cashLine:s==="zh"?"现金 = 100,000 × 1% + 10,000 × 5% = 1,000 + 500 = 1,500 元":"Cash = 100,000 × 1% + 10,000 × 5% = 1,000 + 500 = 1,500 RMB",bonusLine:s==="zh"?"并获得 1000 个 O币；年终分红 = 1000 / O币总量 × 总分红金额":"Plus 1,000 O Coin; year-end dividend = 1000 / total O Coin × total dividend amount",assumptionsBullets:[s==="zh"?"平台当日净收入：1000 元":"Platform net income of the day: 1000 RMB",s==="zh"?"A币发放比例：40% → 400 A币":"A Coin distribution ratio: 40% → 400 A Coin",s==="zh"?"用户A当日贡献：100 游戏币、10 签到分、50 元交易":"User A daily contribution: 100 game coins, 10 check-in points, 50 RMB trading",s==="zh"?"全网当日贡献：2000 游戏币、200 签到分、1000 元交易":"Network daily contribution: 2000 game coins, 200 check-in points, 1000 RMB trading"],calcSteps:[s==="zh"?"贡献权重 = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2 = 0.05 + 0.015 + 0.01 = 0.075":"Contribution weight = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2 = 0.05 + 0.015 + 0.01 = 0.075",s==="zh"?"假设全网贡献归一化权重 = 1.0":"Assume normalized network contribution weight = 1.0",s==="zh"?"用户A获得 A币 = 0.075 × 400 = 30 A币":"User A gets A Coin = 0.075 × 400 = 30 A Coin"]},others:{title:s==="zh"?"其他奖励":"Other Rewards",p:s==="zh"?"新手与普通参与者可零投入通过玩游戏获得游戏币或算力奖励，可用于每日 A币 结算与购买游戏道具。只要参与，就有奖励。":"Newcomers and regular participants can earn game coins or computing power by playing without investment, usable for daily A Coin settlement and purchasing game items. Participate to earn."},steps:{title:s==="zh"?"如何获得奖励 · 步骤图":"How to Earn Rewards · Steps",s1Title:s==="zh"?"注册与认证":"Register & Verify",s1Desc:s==="zh"?"完成账号注册与实名认证":"Complete account registration and real-name verification",s1Badge:s==="zh"?"解锁新手奖励":"Unlock newbie rewards",s2Title:s==="zh"?"试玩与新手任务":"Play & Onboarding Tasks",s2Desc:s==="zh"?"完成引导、体验小游戏":"Finish onboarding and try mini-games",s2Badge:s==="zh"?"获得 算力/游戏币":"Gain computing power/game coins",s3Title:s==="zh"?"日常活跃":"Daily Activity",s3Desc:s==="zh"?"签到、对局、交易等行为累计贡献":"Check-ins, matches, trades contribute cumulatively",s3Badge:s==="zh"?"提高 A币日结占比":"Increase A Coin daily share",s4Title:s==="zh"?"贡献开发/治理":"Contribute Dev/Governance",s4Desc:s==="zh"?"提交代码、内容或参与治理投票":"Submit code/content or join governance voting",s4Badge:s==="zh"?"获得 O币/分红权":"Gain O Coin/Dividend rights",s5Title:s==="zh"?"每日结算":"Daily Settlement",s5Desc:s==="zh"?"按贡献权重自动结算":"Auto-settlement by contribution weight",s5Badge:s==="zh"?"领取 A币（如示例：30 A币）":"Receive A Coin (e.g., 30 A Coin)",s6Title:s==="zh"?"使用奖励":"Use Rewards",s6Desc:s==="zh"?"用 A币结算、购买道具；O币参与分红或流通":"Use A Coin for settlement, buy items; O Coin for dividends or circulation",s6Badge:s==="zh"?"娱乐更有价值":"Entertainment with more value",hint:s==="zh"?"提示：A币日结与占比受平台收入与全网贡献影响；O币/分红权面向平台贡献者，遵循合规规则与治理流程。":"Hint: A Coin daily settlement and share depend on platform income and network contribution; O Coin/dividend rights target platform contributors and follow compliant rules and governance."},footer:{copyright:"© 2025 AllinONE"}},m={hero:{tag:"AllinONE · Open Economy & Governance",title:s==="zh"?"经济公开系统和开放式管理系统":"Open Economy System & Open Governance",desc:s==="zh"?"通过公开的财务系统与社区治理机制，确保平台经济透明、分配可追溯，并以数据驱动关键参数设定与持续优化。":"With transparent financial systems and community governance, the platform ensures economic transparency, traceable allocation, and data‑driven parameter setting and continuous optimization.",backHome:e.nav.backHome,quickView:e.nav.quickView},nav:{overview:s==="zh"?"概览":"Overview",compute:s==="zh"?"算力中心":"Computing Center",fund:s==="zh"?"资金池":"Fund Pool",governance:s==="zh"?"平台管理系统":"Platform Governance",params:s==="zh"?"关键参数":"Key Parameters",example:s==="zh"?"示例":"Example"},overview:{title:s==="zh"?"概览":"Overview",p:s==="zh"?"经济公开由两部分组成：算力中心与资金池。算力中心是平台的“大脑”，汇聚游戏活动、经济状态、数据分析与场内外市场数据；资金池记录平台所有收入与支出，保障经济公开透明。在此基础上，平台管理系统以数据为依据，通过投票对关键参数进行设定与调整，实现开放式治理。":"Open economy consists of two parts: the Computing Center and the Fund Pool. The Computing Center is the “brain” of the platform, aggregating gameplay, economic status, analytics, and market data. The Fund Pool records all income and expenditures to ensure transparency. Based on this, the Platform Governance system sets and adjusts key parameters via voting using data as evidence."},compute:{title:s==="zh"?"公开的财务系统：算力中心":"Transparent Financial System: Computing Center",p:s==="zh"?"算力中心是算力经济生态中心，展示多维度统计分析数据，更重要的是揭示数据如何驱动整个平台的经济循环。它汇集游戏活动、经济状态、数据分析及场内外市场数据，是经济公开、共建共享的重要手段。":"The Computing Center is the hub of the computing economy, showing multi‑dimensional analytics and, more importantly, revealing how data drives the platform’s economic cycle. It aggregates gameplay, economic status, analytics, and market data—an important means of openness and co‑building."},fund:{title:s==="zh"?"公开的财务系统：资金池":"Transparent Financial System: Fund Pool",p:s==="zh"?"平台资金池是完全透明的财务管理系统，记录平台所有收入与支出，确保经济公开透明并增强用户信任，同时保护用户隐私。资金池作为经济数据的“核心底账”，与算力中心形成“记录与展示”的互补关系。":"The platform Fund Pool is a fully transparent financial system that records all income and expenditures, ensuring transparency and trust while protecting privacy. As the “core ledger” of economic data, it complements the Computing Center in “recording vs. displaying”."},governance:{title:s==="zh"?"开放的社区管理：平台管理系统":"Open Community Management: Platform Governance",p1:s==="zh"?"当下 A币与 O币系统部分关键参数仍为人为拟定。我们以数据为基础建立数学模型辅助决策。平台管理系统拥有关键参数设定权限，采用少数权限成员投票修改的方式推进治理与优化。":"Currently, some key parameters of A Coin and O Coin are still manually set. We build mathematical models on data to assist decisions. The governance system has authority to set parameters and advances optimization via voting by authorized members.",p2:s==="zh"?"当前系统支持投票与参数修改，并展示关键数据：A币余额、O币余额与价格、全网算力、收入支出、游戏数据、玩家人数等。投票席位 11 人：5 名平台管理者 + 5 名玩家社区代表 + 1 名创始人。一般情况下投票权平等，创始人保留一票否决权。决议需半数以上通过并由创始人执行参数修改。":"The system supports voting and parameter changes, and displays key data: A Coin balance, O Coin balance and price, network computing power, income/expenditure, game data, player counts, etc. There are 11 seats: 5 platform managers + 5 community representatives + 1 founder. Votes are equal in general; the founder holds veto power. Decisions require a majority and are executed by the founder."},params:{title:s==="zh"?"关键参数（示例）":"Key Parameters (Examples)",leftTitle:s==="zh"?"分配与权重":"Allocation & Weights",leftBullets:[s==="zh"?"A币各部分分配权重":"Allocation weights for A Coin",s==="zh"?"O币各部分分配权重":"Allocation weights for O Coin",s==="zh"?"收入分配比例、分红权重、兑换比例":"Income distribution ratio, dividend weights, exchange ratio"],rightTitle:s==="zh"?"展示数据":"Displayed Data",rightBullets:[s==="zh"?"A币余额、O币余额与价格":"A Coin balance, O Coin balance & price",s==="zh"?"全网算力、收入支出":"Network computing power, income & expenditure",s==="zh"?"游戏数据、玩家人数等":"Game data, player counts, etc."]},example:{title:s==="zh"?"投票示例：O币分配与分红权重":"Voting Example: O Coin Allocation & Dividend Weights",p:s==="zh"?"通过平台管理系统，成员就 O币的分配权重与分红权重进行投票。O币面向“未来绩效”，分红权面向“历史/当期绩效”，二者共同构成绩效回报。议案需半数以上通过，由创始人执行参数变更。管理者可在系统内直接完成操作并全程留痕。":"Via the governance system, members vote on O Coin allocation and dividend weights. O Coin targets “future performance”, while dividends target “past/current performance”, together forming performance returns. Proposals require majority approval and are executed by the founder, with full audit trail."},footer:{copyright:"© 2025 AllinONE"}},p={hero:{tag:"AllinONE · Trading System",title:s==="zh"?"多样的游戏商品交易系统":"Diverse Game Item Trading System",desc:s==="zh"?"除了玩游戏以外，玩家还可以在平台上交易游戏道具。交易系统由官方商店、游戏电商和交易市场三部分构成，类似“京东超市 + 淘宝网店 + 闲鱼”的组合，覆盖官方直营、品牌自营与玩家自由交易的全场景。":"Beyond playing games, players can trade in‑game items on the platform. The trading system consists of Official Store, Game E‑commerce, and Marketplace—similar to a mix of JD Supermarket + Taobao Stores + Xianyu—covering official operation, brand‑run shops, and free player trading.",backHome:e.nav.backHome,quickView:e.nav.quickView},overview:{title:s==="zh"?"系统概览":"System Overview",p:s==="zh"?"我们将商品交易拆分为三大场域：平台直营的官方商店、由游戏方运营的游戏电商、以及以玩家为主体的自由交易市场，为玩家提供安全、便捷且自由的交易体验。":"We split item trading into three arenas: the platform‑run Official Store, game‑operated E‑commerce, and a player‑centric free Marketplace, providing a safe, convenient, and flexible trading experience."},cards:{officialStore:{title:s==="zh"?"官方商店":"Official Store",desc:s==="zh"?"由平台直接运营，严选道具与合规发售，适合需要官方保障与统一售后的玩家。":"Operated directly by the platform with curated items and compliant release—ideal for players who need official assurance and unified after‑sales.",link:s==="zh"?"进入官方商店":"Go to Official Store"},gameStore:{title:s==="zh"?"游戏电商":"Game E‑commerce",desc:s==="zh"?"由具体游戏方自营或授权运营，提供与游戏深度绑定的商品与服务，玩法联动更丰富。":"Run by specific game studios (self‑operated or authorized), offering deeply integrated goods and services with richer gameplay linkage.",link:s==="zh"?"进入游戏电商":"Go to Game E‑commerce"},marketplace:{title:s==="zh"?"交易市场":"Marketplace",desc:s==="zh"?"以玩家为主的自由买卖市场，支持道具发布与竞价撮合，兼顾开放流通与合规风控。":"A player‑driven free trading market supporting item listing and bid matching, balancing open circulation with compliant risk control.",link:s==="zh"?"进入交易市场":"Go to Marketplace"}},note:{p:s==="zh"?"这一组合模式就像把“淘宝网店、京东超市和闲鱼市场”融合到同一平台：既有官方保真，也有品牌自营，还支持玩家自由流通，目标是为你提供全方位、自由的交易环境。":"This combined model is like integrating “Taobao Stores, JD Supermarket, and Xianyu” into one platform: with official authenticity, brand self‑run shops, and free player circulation—to offer a comprehensive and flexible trading environment."},footer:{copyright:"© 2025 AllinONE"}},f={center:{header:{title:s==="zh"?"游戏电商中心":"Game Store Center",subtitle:s==="zh"?"发现优质游戏道具，连接游戏厂商与玩家":"Discover quality game items and connect studios with players",walletLabel:s==="zh"?"我的钱包":"My Wallet"},loading:s==="zh"?"加载游戏电商中心数据中...":"Loading game store center data...",featuredTitle:s==="zh"?"🔥 热门商品":"🔥 Featured Items",filters:{category:{all:s==="zh"?"全部分类":"All Categories",weapon:s==="zh"?"武器":"Weapon",armor:s==="zh"?"装备":"Armor",consumable:s==="zh"?"消耗品":"Consumable",skin:s==="zh"?"皮肤":"Skin"},games:{all:s==="zh"?"全部游戏":"All Games"},sort:{price:s==="zh"?"价格排序":"Sort by Price",asc:s==="zh"?"价格从低到高":"Low to High",desc:s==="zh"?"价格从高到低":"High to Low",comprehensive:s==="zh"?"综合排序":"Comprehensive",sales:s==="zh"?"销量排序":"Sort by Sales",rating:s==="zh"?"评分排序":"Sort by Rating",attention:s==="zh"?"关注度排序":"Sort by Attention"}},buttons:{buyNow:e.buttons.buyNow},storesTitle:s==="zh"?"🏪 游戏商店":"🏪 Game Stores",labels:{products:s==="zh"?"商品":"Products",sales:s==="zh"?"销量":"Sales",rating:s==="zh"?"评分":"Rating"}},detail:{loading:s==="zh"?"加载商店数据中...":"Loading store data...",storeNotFound:{title:s==="zh"?"商店不存在":"Store Not Found",desc:s==="zh"?"抱歉，您访问的商店不存在或已下线。":"Sorry, the store you visited does not exist or has been taken offline.",back:s==="zh"?"返回游戏电商中心":"Back to Game Store Center"},header:{officialStoreSuffix:s==="zh"?"官方商店":"Official Store"},walletLabel:s==="zh"?"我的钱包":"My Wallet",labels:{reviews:s==="zh"?"评价":"reviews",followers:s==="zh"?"关注者":"followers",productCount:s==="zh"?"商品数量":"Product Count",totalSales:s==="zh"?"总销量":"Total Sales",foundedYear:s==="zh"?"成立年份":"Founded"},products:{title:s==="zh"?"商品列表":"Products",all:s==="zh"?"全部":"All",totalPrefix:s==="zh"?"共":"Total",totalSuffix:s==="zh"?"件商品":"items",stock:s==="zh"?"库存":"Stock"},empty:{title:s==="zh"?"暂无商品":"No Products",desc:s==="zh"?"该分类下暂时没有商品":"No products in this category yet"},buttons:{buyNow:e.buttons.buyNow}}},x={header:{title:s==="zh"?"游戏中心":"Game Center",networkPower:s==="zh"?"全网算力:":"Network Power:",networkGameCoins:s==="zh"?"全网游戏币:":"Network Game Coins:"},stats:{todaySessions:s==="zh"?"今日游戏次数":"Sessions Today",todayComputing:s==="zh"?"今日获得算力":"Computing Power Today",avgRating:s==="zh"?"平均游戏评分":"Average Rating",streakDays:s==="zh"?"连续游戏天数":"Consecutive Days"},filter:{label:s==="zh"?"难度筛选:":"Filter by Difficulty:",all:s==="zh"?"全部":"All",easy:s==="zh"?"简单":"Easy",medium:s==="zh"?"中等":"Medium",hard:s==="zh"?"困难":"Hard"},difficulty:{easy:s==="zh"?"简单":"Easy",medium:s==="zh"?"中等":"Medium",hard:s==="zh"?"困难":"Hard"},status:{available:s==="zh"?"可游玩":"Available",comingSoon:s==="zh"?"即将上线":"Coming Soon",maintenance:s==="zh"?"维护中":"Maintenance"},games:{match3:{name:s==="zh"?"消消乐":"Match 3",desc:s==="zh"?"经典三消游戏，消除相同颜色的方块获得算力奖励":"Classic match‑3; clear same‑color blocks to earn computing power"},puzzle:{name:s==="zh"?"数字拼图":"Number Puzzle",desc:s==="zh"?"挑战你的逻辑思维，完成拼图获得丰厚奖励":"Challenge logic; complete puzzles for rewards"},memory:{name:s==="zh"?"记忆翻牌":"Memory Flip",desc:s==="zh"?"考验记忆力的翻牌游戏，记忆越好奖励越多":"Test memory; better recall yields more rewards"},snake:{name:s==="zh"?"贪吃蛇":"Snake",desc:s==="zh"?"经典贪吃蛇游戏，长度越长算力越高":"Classic snake; longer length yields higher computing power"}},buttons:{start:s==="zh"?"开始游戏":"Start Game",comingSoon:s==="zh"?"敬请期待":"Coming Soon",maintenance:s==="zh"?"维护中":"Maintenance",info:s==="zh"?"详情":"Info"}},v={title:s==="zh"?"个人中心":"Personal Center",refresh:s==="zh"?"刷新数据":"Refresh",nav:{home:e.nav.home,fundPool:s==="zh"?"资金池":"Fund Pool",blogCenter:e.nav.blogCenter,marketplace:s==="zh"?"交易市场":"Marketplace",officialStore:s==="zh"?"官方商店":"Official Store",gameStore:s==="zh"?"游戏商城":"Game Store",computingCenter:s==="zh"?"算力中心":"Computing Center",gameCenter:s==="zh"?"游戏中心":"Game Center",settings:s==="zh"?"设置":"Settings",settingsTheme:s==="zh"?"主题设置":"Theme",settingsNotice:s==="zh"?"通知设置":"Notifications",settingsBind:s==="zh"?"账户绑定":"Account Binding",settingsSecurity:s==="zh"?"安全设置":"Security"},left:{profile:s==="zh"?"玩家档案":"Player Profile",level:s==="zh"?"等级":"Level",exp:s==="zh"?"经验值":"EXP",stats:{totalGames:s==="zh"?"游戏场次":"Games Played",bestScore:s==="zh"?"最高分数":"Best Score",avgScore:s==="zh"?"平均分数":"Average Score",achievements:s==="zh"?"成就数量":"Achievements",playTime:s==="zh"?"游戏时长":"Play Time",minutes:s==="zh"?"分钟":"min"},walletOverview:s==="zh"?"钱包概览":"Wallet Overview",wallet:{cash:s==="zh"?"现金余额":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing",aCoins:s==="zh"?"A币":"A Coin",details:s==="zh"?"详情 →":"Details →",loading:s==="zh"?"加载中...":"Loading..."},recent:{title:s==="zh"?"最近活动":"Recent Activity",empty:s==="zh"?"暂无活动记录":"No activity yet"}},centerTabs:{inventory:s==="zh"?"道具仓库":"Inventory",transactions:s==="zh"?"交易记录":"Transactions",wallet:s==="zh"?"钱包管理":"Wallet",team:s==="zh"?"团队中心":"Team Center",analysis:s==="zh"?"收支分析":"Income & Expense",blog:s==="zh"?"博客管理":"Blog Manager"},transactionTabs:{purchases:s==="zh"?"购买记录":"Purchases",sales:s==="zh"?"销售记录":"Sales",listings:s==="zh"?"在售商品":"Listings"},inventory:{myItems:s==="zh"?"我的道具":"My Items",emptyTitle:s==="zh"?"暂无道具":"No items yet",emptySub:s==="zh"?"去商店购买一些道具吧！":"Go to store to buy some items!",qty:s==="zh"?"数量":"Qty"},transactions:{title:s==="zh"?"交易记录":"Transactions",purchaseWord:s==="zh"?"购买":"Purchase",sellWord:s==="zh"?"出售":"Sale",income:s==="zh"?"收入":"Income",expense:s==="zh"?"支出":"Expense",nonePurchase:s==="zh"?"暂无购买记录":"No purchases",noneSales:s==="zh"?"暂无销售记录":"No sales",noneListings:s==="zh"?"暂无在售商品":"No listings",toMarket:s==="zh"?"去交易市场发布一些商品吧！":"Go list items in marketplace!",price:s==="zh"?"售价":"Price",views:s==="zh"?"浏览":"Views",delist:s==="zh"?"下架商品":"Delist",editPrice:s==="zh"?"修改价格":"Edit Price"},walletSection:{cards:{cash:s==="zh"?"现金余额":"Cash Balance",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin",oCoins:s==="zh"?"O币":"O Coin",locked:s==="zh"?"锁定":"Locked"},actions:{recharge:{title:s==="zh"?"充值":"Recharge",subtitle:s==="zh"?"增加现金余额":"Increase cash balance"},exchange:{title:s==="zh"?"兑换":"Exchange",subtitle:s==="zh"?"货币互相兑换":"Convert between currencies"},tradeOCoin:{title:s==="zh"?"交易O币":"Trade O Coin",subtitle:s==="zh"?"买入 • 出售 • 即时交易":"Buy • Sell • Instant trade"}}},walletDetails:{title:s==="zh"?"收支明细":"Income & Expense Details",viewHint:s==="zh"?"点击查看明细":"Click to view details",headers:{cash:s==="zh"?"现金交易记录":"Cash Transactions",gameCoin:s==="zh"?"游戏币交易记录":"Game Coin Transactions",computingPower:s==="zh"?"算力交易记录":"Computing Power Transactions",aCoins:s==="zh"?"A币交易记录":"A Coin Transactions",oCoins:s==="zh"?"O币交易记录":"O Coin Transactions"},tags:{income:s==="zh"?"收入":"Income",expense:s==="zh"?"支出":"Expense"},empty:{cash:s==="zh"?"暂无现金交易记录":"No cash transactions",gameCoin:s==="zh"?"暂无游戏币交易记录":"No game coin transactions",computingPower:s==="zh"?"暂无算力交易记录":"No computing power transactions",aCoins:s==="zh"?"暂无A币交易记录":"No A Coin transactions",oCoins:s==="zh"?"暂无O币交易记录":"No O Coin transactions"},footer:{showRecentPrefix:s==="zh"?"显示最近 ":"Showing last ",showRecentSuffix:s==="zh"?" 条记录":" records",more:s==="zh"?"查看更多 →":"View more →",collapse:s==="zh"?"收起 ↑":"Collapse ↑"}},analysisSection:{title:s==="zh"?"收支分析":"Income & Expense",currentAssets:s==="zh"?"当前资产":"Current Assets",totalIncomeRMB:s==="zh"?"总收入（折算人民币）":"Total Income (in RMB)",totalExpenseRMB:s==="zh"?"总支出（折算人民币）":"Total Expense (in RMB)",commissionDetail:s==="zh"?"佣金明细":"Commission Details",myCommissionExpense:s==="zh"?"我的佣金支出":"My Commission Expense",refresh:s==="zh"?"刷新":"Refresh",monitor:{title:s==="zh"?"收支分析":"Income & Expense",loadingWallet:s==="zh"?"加载钱包数据中...":"Loading wallet data...",currencies:{cash:s==="zh"?"现金":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin",oCoins:s==="zh"?"O币":"O Coin"},calculating:s==="zh"?"计算中...":"Calculating..."},commission:{title:s==="zh"?"佣金明细":"Commission Details",refresh:s==="zh"?"刷新":"Refresh",myExpenseTitle:s==="zh"?"我的佣金支出":"My Commission Expense",labels:{cash:s==="zh"?"现金佣金":"Cash Commission",gameCoins:s==="zh"?"游戏币佣金":"Game Coin Commission",computingPower:s==="zh"?"算力佣金":"Computing Power Commission"},recordsTitle:s==="zh"?"我的佣金记录":"My Commission Records",loading:s==="zh"?"加载佣金数据中...":"Loading commission data...",id:"ID",order:s==="zh"?"订单":"Order",time:s==="zh"?"时间":"Time",expenseTag:s==="zh"?"佣金支出":"Commission Expense",empty:{title:s==="zh"?"暂无佣金记录":"No commission records",hint:s==="zh"?"进行交易后会显示佣金明细":"Commission details will appear after trades"},infoTitle:s==="zh"?"佣金说明":"Commission Notes",notes:{gameStore:s==="zh"?"• 游戏电商: 购买时支付 30% 佣金":"• Game E‑commerce: 30% commission on purchases",marketplace:s==="zh"?"• 玩家市场: 交易时支付 5% 佣金":"• Marketplace: 5% commission on trades",officialStore:s==="zh"?"• 官方商店: 购买时支付 15% 佣金":"• Official Store: 15% commission on purchases",personalHint:s==="zh"?"• 此处显示您个人支付的佣金明细":"• Shows the commission you personally paid"}},acoinAnalysis:{title:s==="zh"?"A币贡献度分析":"A Coin Contribution Analysis",basis:s==="zh"?"A币计算依据":"Basis of A Coin Calculation",thisMonth:s==="zh"?"本月贡献度":"Contribution This Month",gameCoinsEarned:s==="zh"?"游戏币获得":"Game Coins Earned",computingPower:s==="zh"?"算力贡献":"Computing Power",transactionActivity:s==="zh"?"交易活跃度":"Trading Activity",coinsUnit:s==="zh"?"币":"coins",powerUnit:s==="zh"?"算力":"computing",tradesUnit:s==="zh"?"笔交易":"trades",dailyRecords:s==="zh"?"每日结算记录":"Daily Settlement Records",expand:s==="zh"?"展开":"Expand",collapse:s==="zh"?"收起":"Collapse",todayStatus:s==="zh"?"今日结算状态":"Today’s Settlement Status",settled:s==="zh"?"已结算":"Settled",pending:s==="zh"?"待结算":"Pending",autoTime:s==="zh"?"每日自动结算，结算时间: 00:00 (系统时间)":"Auto settlement daily at 00:00 (system time)",contributors:s==="zh"?"受益人数":"Recipients",share:s==="zh"?"占比":"Share",none:s==="zh"?"暂无结算记录":"No settlement records"}},modals:{recharge:{title:s==="zh"?"充值":"Recharge",amountLabel:s==="zh"?"充值金额":"Amount",amountPlaceholder:s==="zh"?"请输入充值金额":"Enter amount",paymentLabel:s==="zh"?"支付方式":"Payment Method",options:{alipay:s==="zh"?"支付宝":"Alipay",wechat:s==="zh"?"微信支付":"WeChat Pay",card:s==="zh"?"银行卡":"Bank Card"},confirm:s==="zh"?"确认充值":"Confirm Recharge",cancel:s==="zh"?"取消":"Cancel"},exchange:{title:s==="zh"?"货币兑换":"Currency Exchange",amountLabel:s==="zh"?"兑换金额":"Amount",amountPlaceholder:s==="zh"?"请输入兑换金额":"Enter amount",fromLabel:s==="zh"?"从":"From",toLabel:s==="zh"?"到":"To",ratesTitle:s==="zh"?"汇率信息":"Rates",ratesNote:s==="zh"?"💡 汇率由平台管理投票决定":"💡 Rates are decided by platform governance voting",confirm:s==="zh"?"确认兑换":"Confirm Exchange",cancel:s==="zh"?"取消":"Cancel",options:{cash:s==="zh"?"现金":"Cash",gameCoin:s==="zh"?"游戏币":"Game Coin",computingPower:s==="zh"?"算力":"Computing Power",aCoins:s==="zh"?"A币":"A Coin"}},ocoin:{titles:{buy:s==="zh"?"购买O币":"Buy O Coin",sell:s==="zh"?"出售O币":"Sell O Coin"},market:{currentPrice:s==="zh"?"当前价格":"Current Price",change24h:s==="zh"?"24小时涨跌":"24h Change"},balances:{cash:s==="zh"?"现金余额":"Cash Balance",ocoin:s==="zh"?"O币余额":"O Coin Balance"},quantity:{buyLabel:s==="zh"?"购买数量":"Buy Quantity",sellLabel:s==="zh"?"出售数量":"Sell Quantity",buyPlaceholder:s==="zh"?"请输入购买数量":"Enter buy quantity",sellPlaceholder:s==="zh"?"请输入出售数量":"Enter sell quantity"},preview:{title:s==="zh"?"交易预览":"Trade Preview",qty:s==="zh"?"数量":"Quantity",unitPrice:s==="zh"?"单价":"Unit Price",total:s==="zh"?"总计":"Total"},tips:{title:s==="zh"?"交易提示":"Trading Tips",line1:s==="zh"?"• O币价格会根据市场供需波动":"• O Coin price fluctuates with market supply/demand",line2:s==="zh"?"• O币持有者可享有平台分红权":"• O Coin holders may enjoy dividend rights",line3:s==="zh"?"• 交易完成后立即生效":"• Trades take effect immediately after completion"},actions:{confirmBuy:s==="zh"?"确认购买":"Confirm Buy",confirmSell:s==="zh"?"确认出售":"Confirm Sell",cancel:s==="zh"?"取消":"Cancel",toggleToSell:s==="zh"?"切换到出售O币":"Switch to Sell O Coin",toggleToBuy:s==="zh"?"切换到购买O币":"Switch to Buy O Coin"}}},right:{globalData:s==="zh"?"全网数据":"Network Data",toComputing:s==="zh"?"算力中心 →":"Computing Center →",overview:s==="zh"?"生态概览":"Ecosystem Overview",metrics:{totalUsers:s==="zh"?"总用户数":"Total Users",onlineUsers:s==="zh"?"在线用户":"Online Users",totalComputePower:s==="zh"?"总算力池":"Total Computing Power",dailyTransactions:s==="zh"?"日交易量":"Daily Transactions",aCoinBalance:s==="zh"?"A币余额":"A Coin Balance",aCoinCirculating:s==="zh"?"A币流通量":"A Coin Circulating",aCoinHolders:s==="zh"?"A币持有人":"A Coin Holders",oCoinCirculating:s==="zh"?"O币流通量":"O Coin Circulating",oCoinPrice:s==="zh"?"O币价格":"O Coin Price",oCoinMarketCap:s==="zh"?"O币市值":"O Coin Market Cap",unitM:"M",unitWan:s==="zh"?"万":"10k"}}},k={header:{title:s==="zh"?"交易市场":"Marketplace",subtitle:s==="zh"?"玩家间道具与奖励交易平台":"Peer-to-peer trading platform for in-game items and rewards",publish:s==="zh"?"发布商品":"List Item",personalCenter:s==="zh"?"个人中心":"Personal Center",computingCenter:s==="zh"?"算力中心":"Computing Center",backHome:e.nav.backHome,walletLabel:s==="zh"?"我的钱包":"My Wallet"},loading:s==="zh"?"加载交易市场数据中...":"Loading marketplace data...",stats:{onSale:s==="zh"?"在售商品":"Items on Sale",today:s==="zh"?"今日交易":"Today’s Transactions",total:s==="zh"?"交易总额":"Total Volume",avgPrice:s==="zh"?"平均价格":"Average Price"},search:{placeholder:s==="zh"?"搜索商品...":"Search items...",categories:{all:s==="zh"?"所有分类":"All Categories",weapon:s==="zh"?"武器":"Weapon",armor:s==="zh"?"装备":"Armor",consumable:s==="zh"?"消耗品":"Consumable",material:s==="zh"?"材料":"Material",rare:s==="zh"?"稀有物品":"Rare Items"},sort:{date:s==="zh"?"最新发布":"Newest",price:s==="zh"?"价格排序":"Price",popularity:s==="zh"?"热门程度":"Popularity"}},list:{currencyNames:{computing:s==="zh"?"算力":"ComputingPower",computingPower:s==="zh"?"算力":"ComputingPower",cash:s==="zh"?"现金":"Cash",gameCoins:s==="zh"?"游戏币":"Game Coins",aCoins:s==="zh"?"A币":"A Coin"},views:s==="zh"?"浏览":"views",seller:s==="zh"?"卖家":"Seller",buyNow:s==="zh"?"立即购买":"Buy Now",insufficient:s==="zh"?"余额不足":"Insufficient Balance",canBuyWith:N=>s==="zh"?`可用${N}购买`:`Can buy with ${N}`,insufficientWith:N=>s==="zh"?`${N}余额不足`:`Insufficient ${N} balance`,empty:s==="zh"?"没有找到符合条件的商品":"No items match your filters"},modal:{title:s==="zh"?"发布商品":"List Item",noItemsTitle:s==="zh"?"您还没有可发布的道具":"You have no items to list",noItemsDesc:s==="zh"?"通过游戏获得道具后即可在此发布":"Earn items in games to list them here",selectItem:s==="zh"?"选择道具":"Select Item",currencyType:s==="zh"?"货币类型":"Currency",priceLabel:s==="zh"?"售价":"Price",cancel:e.buttons.cancel,submit:s==="zh"?"发布商品":"List Item",optionPlaceholder:s==="zh"?"请选择要发布的道具":"Select an item to list"}};return{common:e,login:r,register:n,about:o,blog:l,store:c,communityRewards:u,openEconomy:m,tradingSystem:p,marketplace:k,gameStore:f,gameCenter:x,personalCenter:v}},y=(s,e)=>{const r=e.split(".");let n=s;for(const o of r)n&&typeof n=="object"?n=n[o]:n=void 0;return typeof n=="function"?n():n??e},Lg=[{username:"player001",password:"Test123456",email:"player001@allinone.com",profile:{nickname:"游戏达人",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=player001",level:5,joinDate:"2024-12-01",totalGames:156,totalEarnings:2847.32},gameData:{totalPower:3450,dailyEarnings:78.45,gameCoins:12580,level:5,experience:2340,experienceToNext:3500,multiplier:2.2},gameHistory:[{date:"2025-01-20",game:"消消乐",score:15600,earnings:45.2,powerGained:156},{date:"2025-01-19",game:"消消乐",score:12800,earnings:38.7,powerGained:128},{date:"2025-01-18",game:"消消乐",score:18900,earnings:52.1,powerGained:189}]},{username:"newbie2025",password:"Welcome123",email:"newbie@allinone.com",profile:{nickname:"新手小白",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=newbie2025",level:1,joinDate:"2025-01-15",totalGames:8,totalEarnings:45.67},gameData:{totalPower:1234,dailyEarnings:12.34,gameCoins:890,level:1,experience:450,experienceToNext:1e3,multiplier:1},gameHistory:[{date:"2025-01-20",game:"消消乐",score:3200,earnings:8.5,powerGained:32},{date:"2025-01-19",game:"消消乐",score:2800,earnings:7.2,powerGained:28}]},{username:"master_gamer",password:"Master2025!",email:"master@allinone.com",profile:{nickname:"算力大师",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=master_gamer",level:8,joinDate:"2024-10-15",totalGames:567,totalEarnings:15678.9},gameData:{totalPower:8750,dailyEarnings:234.56,gameCoins:45670,level:8,experience:4560,experienceToNext:6e3,multiplier:4.8},gameHistory:[{date:"2025-01-20",game:"消消乐",score:45600,earnings:156.8,powerGained:456},{date:"2025-01-19",game:"消消乐",score:38900,earnings:134.2,powerGained:389},{date:"2025-01-18",game:"消消乐",score:52300,earnings:178.9,powerGained:523}]},{username:"casual_player",password:"Casual123",email:"casual@allinone.com",profile:{nickname:"休闲玩家",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=casual_player",level:3,joinDate:"2024-11-20",totalGames:89,totalEarnings:567.89},gameData:{totalPower:2100,dailyEarnings:34.56,gameCoins:3450,level:3,experience:1200,experienceToNext:2250,multiplier:1.5},gameHistory:[{date:"2025-01-20",game:"消消乐",score:8900,earnings:23.4,powerGained:89},{date:"2025-01-18",game:"消消乐",score:7600,earnings:19.8,powerGained:76}]},{username:"vip_user",password:"VIP2025@",email:"vip@allinone.com",profile:{nickname:"VIP会员",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=vip_user",level:10,joinDate:"2024-08-01",totalGames:1234,totalEarnings:45678.12},gameData:{totalPower:15600,dailyEarnings:456.78,gameCoins:89e3,level:10,experience:8900,experienceToNext:1e4,multiplier:5.7},gameHistory:[{date:"2025-01-20",game:"消消乐",score:78900,earnings:289.5,powerGained:789},{date:"2025-01-19",game:"消消乐",score:65400,earnings:234.8,powerGained:654},{date:"2025-01-18",game:"消消乐",score:89600,earnings:345.2,powerGained:896}]}],Tk=(s,e)=>Lg.find(n=>n.username===s&&n.password===e)||null,$g=()=>Lg.map(s=>({username:s.username,password:s.password,nickname:s.profile.nickname,level:s.profile.level}));function Dk(){const[s,e]=j.useState(""),[r,n]=j.useState(""),[o,l]=j.useState(!1),{lang:c}=Qt(),u=ps(c),[m,p]=j.useState(!1),{setIsAuthenticated:f,setCurrentUser:x}=j.useContext(zg),v=cn(),k=$g(),C=w=>{w.preventDefault(),l(!0),setTimeout(()=>{if(s&&r){const A=Tk(s,r);A?(localStorage.setItem("currentUser",JSON.stringify(A)),x(A),f(!0),lr.success(`欢迎回来，${A.profile.nickname}！`),v("/")):lr.error("用户名或密码错误")}else lr.error("请输入用户名和密码");l(!1)},1e3)},N=(w,A)=>{e(w),n(A),p(!1)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("h1",{className:"text-2xl font-bold",children:y(u,"login.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(u,"login.subtitle")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 md:p-8",children:[t.jsxs("form",{onSubmit:C,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(u,"login.labels.username")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-user text-slate-400"})}),t.jsx("input",{type:"text",id:"username",value:s,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(u,"login.placeholders.username"),required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(u,"login.labels.password")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"password",value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(u,"login.placeholders.password"),required:!0})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-700 dark:text-slate-300",children:y(u,"login.labels.rememberMe")})]}),t.jsx("div",{className:"text-sm",children:t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(u,"login.labels.forgotPassword")})})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-80 disabled:cursor-not-allowed transition-all",children:o?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),y(u,"common.buttons.loadingLogin")]}):y(u,"common.buttons.login")})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y(u,"login.noAccountPrompt")," ",t.jsx(ne,{to:"/register",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(u,"login.registerLink")})]})}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400",children:y(u,"login.test.title")})})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("button",{onClick:()=>p(!m),className:"w-full flex justify-center items-center gap-2 py-3 px-4 border border-slate-300 dark:border-slate-600 rounded-lg shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[t.jsx("i",{className:"fa-solid fa-vial text-green-600"}),m?y(u,"login.test.hide"):y(u,"login.test.show"),t.jsx("i",{className:`fa-solid fa-chevron-${m?"up":"down"} text-xs`})]}),m&&t.jsxs("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2 px-2",children:y(u,"login.test.clickTip")}),k.map((w,A)=>t.jsxs("div",{onClick:()=>N(w.username,w.password),className:"p-3 border border-slate-200 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer transition-all",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:w.nickname}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:w.username})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full",children:["Lv.",w.level]}),t.jsx("i",{className:"fa-solid fa-arrow-right text-xs text-slate-400"})]})]}),t.jsxs("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:[y(u,"login.test.password"),": ",w.password]})]},A))]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700 dark:text-green-300 text-sm",children:[t.jsx("i",{className:"fa-solid fa-info-circle"}),t.jsx("span",{className:"font-medium",children:y(u,"login.test.infoTitle")})]}),t.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 mb-2",children:y(u,"login.test.infoDesc")}),t.jsxs(ne,{to:"/test-accounts",className:"inline-flex items-center gap-1 text-xs text-green-700 dark:text-green-300 hover:text-green-800 dark:hover:text-green-200 font-medium underline",children:[t.jsx("i",{className:"fa-solid fa-external-link"}),y(u,"login.test.viewList")]})]})})]})]})]})})}var at;(function(s){s.assertEqual=o=>o;function e(o){}s.assertIs=e;function r(o){throw new Error}s.assertNever=r,s.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},s.getValidEnumValues=o=>{const l=s.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),c={};for(const u of l)c[u]=o[u];return s.objectValues(c)},s.objectValues=o=>s.objectKeys(o).map(function(l){return o[l]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},s.find=(o,l)=>{for(const c of o)if(l(c))return c},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}s.joinValues=n,s.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(at||(at={}));var tm;(function(s){s.mergeShapes=(e,r)=>({...e,...r})})(tm||(tm={}));const Ne=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qr=s=>{switch(typeof s){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(s)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(s)?Ne.array:s===null?Ne.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Ne.promise:typeof Map<"u"&&s instanceof Map?Ne.map:typeof Set<"u"&&s instanceof Set?Ne.set:typeof Date<"u"&&s instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},de=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_k=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:");class zs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},n={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,m=0;for(;m<c.path.length;){const p=c.path[m];m===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(r(c))):u[p]=u[p]||{_errors:[]},u=u[p],m++}}};return o(this),n}static assert(e){if(!(e instanceof zs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zs.create=s=>new zs(s);const Gn=(s,e)=>{let r;switch(s.code){case de.invalid_type:s.received===Ne.undefined?r="Required":r=`Expected ${s.expected}, received ${s.received}`;break;case de.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(s.expected,at.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(s.keys,", ")}`;break;case de.invalid_union:r="Invalid input";break;case de.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(s.options)}`;break;case de.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(s.options)}, received '${s.received}'`;break;case de.invalid_arguments:r="Invalid function arguments";break;case de.invalid_return_type:r="Invalid function return type";break;case de.invalid_date:r="Invalid date";break;case de.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(r=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?r=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?r=`Invalid input: must end with "${s.validation.endsWith}"`:at.assertNever(s.validation):s.validation!=="regex"?r=`Invalid ${s.validation}`:r="Invalid";break;case de.too_small:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:r="Invalid input";break;case de.too_big:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?r=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:r="Invalid input";break;case de.custom:r="Invalid input";break;case de.invalid_intersection_types:r="Intersection results could not be merged";break;case de.not_multiple_of:r=`Number must be a multiple of ${s.multipleOf}`;break;case de.not_finite:r="Number must be finite";break;default:r=e.defaultError,at.assertNever(s)}return{message:r}};let Vg=Gn;function Pk(s){Vg=s}function pc(){return Vg}const fc=s=>{const{data:e,path:r,errorMaps:n,issueData:o}=s,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let u="";const m=n.filter(p=>!!p).slice().reverse();for(const p of m)u=p(c,{data:e,defaultError:u}).message;return{...o,path:l,message:u}},Ek=[];function we(s,e){const r=pc(),n=fc({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,r,r===Gn?void 0:Gn].filter(o=>!!o)});s.common.issues.push(n)}class hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return We;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const l=await o.key,c=await o.value;n.push({key:l,value:c})}return hs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return We;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[l.value]=c.value)}return{status:e.value,value:n}}}const We=Object.freeze({status:"aborted"}),zn=s=>({status:"dirty",value:s}),ws=s=>({status:"valid",value:s}),sm=s=>s.status==="aborted",rm=s=>s.status==="dirty",an=s=>s.status==="valid",oo=s=>typeof Promise<"u"&&s instanceof Promise;function xc(s,e,r,n){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function Fg(s,e,r,n,o){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,r),r}var ze;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ze||(ze={}));var Gi,Ki;class Ir{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bf=(s,e)=>{if(an(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zs(s.common.issues);return this._error=r,this._error}}};function Xe(s){if(!s)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=s;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,u)=>{var m,p;const{message:f}=s;return c.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:(m=f??n)!==null&&m!==void 0?m:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(p=f??r)!==null&&p!==void 0?p:u.defaultError}},description:o}}class Qe{get description(){return this._def.description}_getType(e){return qr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hs,ctx:{common:e.parent.common,data:e.data,parsedType:qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(oo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)},l=this._parseSync({data:e,path:o.path,parent:o});return bf(o,l)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:o});return an(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((n=(r=l==null?void 0:l.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(l=>an(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qr(e)},o=this._parse({data:e,path:n.path,parent:n}),l=await(oo(o)?o:Promise.resolve(o));return bf(n,l)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,l)=>{const c=e(o),u=()=>l.addIssue({code:de.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new fr({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Tr.create(this,this._def)}nullable(){return _a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pr.create(this)}promise(){return Zn.create(this,this._def)}or(e){return mo.create([this,e],this._def)}and(e){return ho.create(this,e,this._def)}transform(e){return new fr({...Xe(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bo({...Xe(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new Rm({typeName:Be.ZodBranded,type:this,...Xe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new yo({...Xe(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Eo.create(this,e)}readonly(){return vo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ik=/^c[^\s-]{8,}$/i,Rk=/^[0-9a-z]+$/,Mk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ok=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zk=/^[a-z0-9_-]{21}$/i,Lk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$k=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pu;const Bk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Wk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Hk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Gk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Kk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zk=new RegExp(`^${Bg}$`);function Ug(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const r=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Yk(s){return new RegExp(`^${Ug(s)}$`)}function Wg(s){let e=`${Bg}T${Ug(s)}`;const r=[];return r.push(s.local?"Z?":"Z"),s.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function qk(s,e){return!!((e==="v4"||!e)&&Bk.test(s)||(e==="v6"||!e)&&Wk.test(s))}function Xk(s,e){if(!Lk.test(s))return!1;try{const[r]=s.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function Jk(s,e){return!!((e==="v4"||!e)&&Uk.test(s)||(e==="v6"||!e)&&Hk.test(s))}class hr extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const l=this._getOrReturnCtx(e);return we(l,{code:de.invalid_type,expected:Ne.string,received:l.parsedType}),We}const n=new hs;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,u=e.data.length<l.value;(c||u)&&(o=this._getOrReturnCtx(e,o),c?we(o,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):u&&we(o,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")Vk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"email",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")Pu||(Pu=new RegExp(Fk,"u")),Pu.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"emoji",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")Ok.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"uuid",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")zk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"nanoid",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")Ik.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cuid",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")Rk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cuid2",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")Mk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"ulid",code:de.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),we(o,{validation:"url",code:de.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"regex",code:de.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?Wg(l).test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?Zk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?Yk(l).test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:de.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?$k.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"duration",code:de.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?qk(e.data,l.version)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"ip",code:de.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?Xk(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"jwt",code:de.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?Jk(e.data,l.version)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cidr",code:de.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?Gk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"base64",code:de.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?Kk.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"base64url",code:de.invalid_string,message:l.message}),n.dirty()):at.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:de.invalid_string,...ze.errToObj(n)})}_addCheck(e){return new hr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ze.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ze.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ze.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ze.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ze.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ze.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ze.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ze.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ze.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ze.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ze.errToObj(r)})}nonempty(e){return this.min(1,ze.errToObj(e))}trim(){return new hr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}hr.create=s=>{var e;return new hr({checks:[],typeName:Be.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...Xe(s)})};function Qk(s,e){const r=(s.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,l=parseInt(s.toFixed(o).replace(".","")),c=parseInt(e.toFixed(o).replace(".",""));return l%c/Math.pow(10,o)}class Aa extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const l=this._getOrReturnCtx(e);return we(l,{code:de.invalid_type,expected:Ne.number,received:l.parsedType}),We}let n;const o=new hs;for(const l of this._def.checks)l.kind==="int"?at.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:de.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?Qk(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),we(n,{code:de.not_finite,message:l.message}),o.dirty()):at.assertNever(l);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,o){return new Aa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(o)}]})}_addCheck(e){return new Aa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Aa.create=s=>new Aa({checks:[],typeName:Be.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...Xe(s)});class Ta extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let n;const o=new hs;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),we(n,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):at.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return we(r,{code:de.invalid_type,expected:Ne.bigint,received:r.parsedType}),We}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,o){return new Ta({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(o)}]})}_addCheck(e){return new Ta({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ta.create=s=>{var e;return new Ta({checks:[],typeName:Be.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...Xe(s)})};class lo extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.boolean,received:n.parsedType}),We}return ws(e.data)}}lo.create=s=>new lo({typeName:Be.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...Xe(s)});class nn extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const l=this._getOrReturnCtx(e);return we(l,{code:de.invalid_type,expected:Ne.date,received:l.parsedType}),We}if(isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return we(l,{code:de.invalid_date}),We}const n=new hs;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:de.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:de.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):at.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nn({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}nn.create=s=>new nn({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:Be.ZodDate,...Xe(s)});class gc extends Qe{_parse(e){if(this._getType(e)!==Ne.symbol){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.symbol,received:n.parsedType}),We}return ws(e.data)}}gc.create=s=>new gc({typeName:Be.ZodSymbol,...Xe(s)});class co extends Qe{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.undefined,received:n.parsedType}),We}return ws(e.data)}}co.create=s=>new co({typeName:Be.ZodUndefined,...Xe(s)});class uo extends Qe{_parse(e){if(this._getType(e)!==Ne.null){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.null,received:n.parsedType}),We}return ws(e.data)}}uo.create=s=>new uo({typeName:Be.ZodNull,...Xe(s)});class Kn extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return ws(e.data)}}Kn.create=s=>new Kn({typeName:Be.ZodAny,...Xe(s)});class tn extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ws(e.data)}}tn.create=s=>new tn({typeName:Be.ZodUnknown,...Xe(s)});class ea extends Qe{_parse(e){const r=this._getOrReturnCtx(e);return we(r,{code:de.invalid_type,expected:Ne.never,received:r.parsedType}),We}}ea.create=s=>new ea({typeName:Be.ZodNever,...Xe(s)});class bc extends Qe{_parse(e){if(this._getType(e)!==Ne.undefined){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.void,received:n.parsedType}),We}return ws(e.data)}}bc.create=s=>new bc({typeName:Be.ZodVoid,...Xe(s)});class pr extends Qe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==Ne.array)return we(r,{code:de.invalid_type,expected:Ne.array,received:r.parsedType}),We;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,u=r.data.length<o.exactLength.value;(c||u)&&(we(r,{code:c?de.too_big:de.too_small,minimum:u?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(we(r,{code:de.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(we(r,{code:de.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>o.type._parseAsync(new Ir(r,c,r.path,u)))).then(c=>hs.mergeArray(n,c));const l=[...r.data].map((c,u)=>o.type._parseSync(new Ir(r,c,r.path,u)));return hs.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new pr({...this._def,minLength:{value:e,message:ze.toString(r)}})}max(e,r){return new pr({...this._def,maxLength:{value:e,message:ze.toString(r)}})}length(e,r){return new pr({...this._def,exactLength:{value:e,message:ze.toString(r)}})}nonempty(e){return this.min(1,e)}}pr.create=(s,e)=>new pr({type:s,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Xe(e)});function On(s){if(s instanceof wt){const e={};for(const r in s.shape){const n=s.shape[r];e[r]=Tr.create(On(n))}return new wt({...s._def,shape:()=>e})}else return s instanceof pr?new pr({...s._def,type:On(s.element)}):s instanceof Tr?Tr.create(On(s.unwrap())):s instanceof _a?_a.create(On(s.unwrap())):s instanceof Rr?Rr.create(s.items.map(e=>On(e))):s}class wt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=at.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ne.object){const p=this._getOrReturnCtx(e);return we(p,{code:de.invalid_type,expected:Ne.object,received:p.parsedType}),We}const{status:n,ctx:o}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ea&&this._def.unknownKeys==="strip"))for(const p in o.data)c.includes(p)||u.push(p);const m=[];for(const p of c){const f=l[p],x=o.data[p];m.push({key:{status:"valid",value:p},value:f._parse(new Ir(o,x,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof ea){const p=this._def.unknownKeys;if(p==="passthrough")for(const f of u)m.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(p==="strict")u.length>0&&(we(o,{code:de.unrecognized_keys,keys:u}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const f of u){const x=o.data[f];m.push({key:{status:"valid",value:f},value:p._parse(new Ir(o,x,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const f of m){const x=await f.key,v=await f.value;p.push({key:x,value:v,alwaysSet:f.alwaysSet})}return p}).then(p=>hs.mergeObjectSync(n,p)):hs.mergeObjectSync(n,m)}get shape(){return this._def.shape()}strict(e){return ze.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,l,c,u;const m=(c=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,r,n).message)!==null&&c!==void 0?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=ze.errToObj(e).message)!==null&&u!==void 0?u:m}:{message:m}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const r={};return at.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new wt({...this._def,shape:()=>r})}omit(e){const r={};return at.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new wt({...this._def,shape:()=>r})}deepPartial(){return On(this)}partial(e){const r={};return at.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new wt({...this._def,shape:()=>r})}required(e){const r={};return at.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof Tr;)l=l._def.innerType;r[n]=l}}),new wt({...this._def,shape:()=>r})}keyof(){return Hg(at.objectKeys(this.shape))}}wt.create=(s,e)=>new wt({shape:()=>s,unknownKeys:"strip",catchall:ea.create(),typeName:Be.ZodObject,...Xe(e)});wt.strictCreate=(s,e)=>new wt({shape:()=>s,unknownKeys:"strict",catchall:ea.create(),typeName:Be.ZodObject,...Xe(e)});wt.lazycreate=(s,e)=>new wt({shape:s,unknownKeys:"strip",catchall:ea.create(),typeName:Be.ZodObject,...Xe(e)});class mo extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(l){for(const u of l)if(u.result.status==="valid")return u.result;for(const u of l)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=l.map(u=>new zs(u.ctx.common.issues));return we(r,{code:de.invalid_union,unionErrors:c}),We}if(r.common.async)return Promise.all(n.map(async l=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let l;const c=[];for(const m of n){const p={...r,common:{...r.common,issues:[]},parent:null},f=m._parseSync({data:r.data,path:r.path,parent:p});if(f.status==="valid")return f;f.status==="dirty"&&!l&&(l={result:f,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;const u=c.map(m=>new zs(m));return we(r,{code:de.invalid_union,unionErrors:u}),We}}get options(){return this._def.options}}mo.create=(s,e)=>new mo({options:s,typeName:Be.ZodUnion,...Xe(e)});const Yr=s=>s instanceof fo?Yr(s.schema):s instanceof fr?Yr(s.innerType()):s instanceof xo?[s.value]:s instanceof Da?s.options:s instanceof go?at.objectValues(s.enum):s instanceof bo?Yr(s._def.innerType):s instanceof co?[void 0]:s instanceof uo?[null]:s instanceof Tr?[void 0,...Yr(s.unwrap())]:s instanceof _a?[null,...Yr(s.unwrap())]:s instanceof Rm||s instanceof vo?Yr(s.unwrap()):s instanceof yo?Yr(s._def.innerType):[];class Pc extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.object)return we(r,{code:de.invalid_type,expected:Ne.object,received:r.parsedType}),We;const n=this.discriminator,o=r.data[n],l=this.optionsMap.get(o);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(we(r,{code:de.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const l of r){const c=Yr(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,l)}}return new Pc({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...Xe(n)})}}function am(s,e){const r=qr(s),n=qr(e);if(s===e)return{valid:!0,data:s};if(r===Ne.object&&n===Ne.object){const o=at.objectKeys(e),l=at.objectKeys(s).filter(u=>o.indexOf(u)!==-1),c={...s,...e};for(const u of l){const m=am(s[u],e[u]);if(!m.valid)return{valid:!1};c[u]=m.data}return{valid:!0,data:c}}else if(r===Ne.array&&n===Ne.array){if(s.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<s.length;l++){const c=s[l],u=e[l],m=am(c,u);if(!m.valid)return{valid:!1};o.push(m.data)}return{valid:!0,data:o}}else return r===Ne.date&&n===Ne.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class ho extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(l,c)=>{if(sm(l)||sm(c))return We;const u=am(l.value,c.value);return u.valid?((rm(l)||rm(c))&&r.dirty(),{status:r.value,value:u.data}):(we(n,{code:de.invalid_intersection_types}),We)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,c])=>o(l,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ho.create=(s,e,r)=>new ho({left:s,right:e,typeName:Be.ZodIntersection,...Xe(r)});class Rr extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.array)return we(n,{code:de.invalid_type,expected:Ne.array,received:n.parsedType}),We;if(n.data.length<this._def.items.length)return we(n,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&n.data.length>this._def.items.length&&(we(n,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...n.data].map((c,u)=>{const m=this._def.items[u]||this._def.rest;return m?m._parse(new Ir(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(l).then(c=>hs.mergeArray(r,c)):hs.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Rr({...this._def,rest:e})}}Rr.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rr({items:s,typeName:Be.ZodTuple,rest:null,...Xe(e)})};class po extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.object)return we(n,{code:de.invalid_type,expected:Ne.object,received:n.parsedType}),We;const o=[],l=this._def.keyType,c=this._def.valueType;for(const u in n.data)o.push({key:l._parse(new Ir(n,u,n.path,u)),value:c._parse(new Ir(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?hs.mergeObjectAsync(r,o):hs.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Qe?new po({keyType:e,valueType:r,typeName:Be.ZodRecord,...Xe(n)}):new po({keyType:hr.create(),valueType:e,typeName:Be.ZodRecord,...Xe(r)})}}class yc extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.map)return we(n,{code:de.invalid_type,expected:Ne.map,received:n.parsedType}),We;const o=this._def.keyType,l=this._def.valueType,c=[...n.data.entries()].map(([u,m],p)=>({key:o._parse(new Ir(n,u,n.path,[p,"key"])),value:l._parse(new Ir(n,m,n.path,[p,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const m of c){const p=await m.key,f=await m.value;if(p.status==="aborted"||f.status==="aborted")return We;(p.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(p.value,f.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const m of c){const p=m.key,f=m.value;if(p.status==="aborted"||f.status==="aborted")return We;(p.status==="dirty"||f.status==="dirty")&&r.dirty(),u.set(p.value,f.value)}return{status:r.value,value:u}}}}yc.create=(s,e,r)=>new yc({valueType:e,keyType:s,typeName:Be.ZodMap,...Xe(r)});class on extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.set)return we(n,{code:de.invalid_type,expected:Ne.set,received:n.parsedType}),We;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(we(n,{code:de.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(we(n,{code:de.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(m){const p=new Set;for(const f of m){if(f.status==="aborted")return We;f.status==="dirty"&&r.dirty(),p.add(f.value)}return{status:r.value,value:p}}const u=[...n.data.values()].map((m,p)=>l._parse(new Ir(n,m,n.path,p)));return n.common.async?Promise.all(u).then(m=>c(m)):c(u)}min(e,r){return new on({...this._def,minSize:{value:e,message:ze.toString(r)}})}max(e,r){return new on({...this._def,maxSize:{value:e,message:ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}on.create=(s,e)=>new on({valueType:s,minSize:null,maxSize:null,typeName:Be.ZodSet,...Xe(e)});class Un extends Qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.function)return we(r,{code:de.invalid_type,expected:Ne.function,received:r.parsedType}),We;function n(u,m){return fc({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pc(),Gn].filter(p=>!!p),issueData:{code:de.invalid_arguments,argumentsError:m}})}function o(u,m){return fc({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pc(),Gn].filter(p=>!!p),issueData:{code:de.invalid_return_type,returnTypeError:m}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Zn){const u=this;return ws(async function(...m){const p=new zs([]),f=await u._def.args.parseAsync(m,l).catch(k=>{throw p.addIssue(n(m,k)),p}),x=await Reflect.apply(c,this,f);return await u._def.returns._def.type.parseAsync(x,l).catch(k=>{throw p.addIssue(o(x,k)),p})})}else{const u=this;return ws(function(...m){const p=u._def.args.safeParse(m,l);if(!p.success)throw new zs([n(m,p.error)]);const f=Reflect.apply(c,this,p.data),x=u._def.returns.safeParse(f,l);if(!x.success)throw new zs([o(f,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Un({...this._def,args:Rr.create(e).rest(tn.create())})}returns(e){return new Un({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Un({args:e||Rr.create([]).rest(tn.create()),returns:r||tn.create(),typeName:Be.ZodFunction,...Xe(n)})}}class fo extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}fo.create=(s,e)=>new fo({getter:s,typeName:Be.ZodLazy,...Xe(e)});class xo extends Qe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return we(r,{received:r.data,code:de.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}xo.create=(s,e)=>new xo({value:s,typeName:Be.ZodLiteral,...Xe(e)});function Hg(s,e){return new Da({values:s,typeName:Be.ZodEnum,...Xe(e)})}class Da extends Qe{constructor(){super(...arguments),Gi.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return we(r,{expected:at.joinValues(n),received:r.parsedType,code:de.invalid_type}),We}if(xc(this,Gi)||Fg(this,Gi,new Set(this._def.values)),!xc(this,Gi).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return we(r,{received:r.data,code:de.invalid_enum_value,options:n}),We}return ws(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Da.create(e,{...this._def,...r})}exclude(e,r=this._def){return Da.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Gi=new WeakMap;Da.create=Hg;class go extends Qe{constructor(){super(...arguments),Ki.set(this,void 0)}_parse(e){const r=at.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const o=at.objectValues(r);return we(n,{expected:at.joinValues(o),received:n.parsedType,code:de.invalid_type}),We}if(xc(this,Ki)||Fg(this,Ki,new Set(at.getValidEnumValues(this._def.values))),!xc(this,Ki).has(e.data)){const o=at.objectValues(r);return we(n,{received:n.data,code:de.invalid_enum_value,options:o}),We}return ws(e.data)}get enum(){return this._def.values}}Ki=new WeakMap;go.create=(s,e)=>new go({values:s,typeName:Be.ZodNativeEnum,...Xe(e)});class Zn extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.promise&&r.common.async===!1)return we(r,{code:de.invalid_type,expected:Ne.promise,received:r.parsedType}),We;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return ws(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zn.create=(s,e)=>new Zn({type:s,typeName:Be.ZodPromise,...Xe(e)});class fr extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,l={addIssue:c=>{we(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const c=o.transform(n.data,l);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return We;const m=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return m.status==="aborted"?We:m.status==="dirty"||r.value==="dirty"?zn(m.value):m});{if(r.value==="aborted")return We;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?We:u.status==="dirty"||r.value==="dirty"?zn(u.value):u}}if(o.type==="refinement"){const c=u=>{const m=o.refinement(u,l);if(n.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?We:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?We:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!an(c))return c;const u=o.transform(c.value,l);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>an(c)?Promise.resolve(o.transform(c.value,l)).then(u=>({status:r.value,value:u})):c);at.assertNever(o)}}fr.create=(s,e,r)=>new fr({schema:s,typeName:Be.ZodEffects,effect:e,...Xe(r)});fr.createWithPreprocess=(s,e,r)=>new fr({schema:e,effect:{type:"preprocess",transform:s},typeName:Be.ZodEffects,...Xe(r)});class Tr extends Qe{_parse(e){return this._getType(e)===Ne.undefined?ws(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tr.create=(s,e)=>new Tr({innerType:s,typeName:Be.ZodOptional,...Xe(e)});class _a extends Qe{_parse(e){return this._getType(e)===Ne.null?ws(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_a.create=(s,e)=>new _a({innerType:s,typeName:Be.ZodNullable,...Xe(e)});class bo extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bo.create=(s,e)=>new bo({innerType:s,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class yo extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return oo(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new zs(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new zs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yo.create=(s,e)=>new yo({innerType:s,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class vc extends Qe{_parse(e){if(this._getType(e)!==Ne.nan){const n=this._getOrReturnCtx(e);return we(n,{code:de.invalid_type,expected:Ne.nan,received:n.parsedType}),We}return{status:"valid",value:e.data}}}vc.create=s=>new vc({typeName:Be.ZodNaN,...Xe(s)});const e1=Symbol("zod_brand");class Rm extends Qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Eo extends Qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?We:l.status==="dirty"?(r.dirty(),zn(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?We:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new Eo({in:e,out:r,typeName:Be.ZodPipeline})}}class vo extends Qe{_parse(e){const r=this._def.innerType._parse(e),n=o=>(an(o)&&(o.value=Object.freeze(o.value)),o);return oo(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}vo.create=(s,e)=>new vo({innerType:s,typeName:Be.ZodReadonly,...Xe(e)});function yf(s,e){const r=typeof s=="function"?s(e):typeof s=="string"?{message:s}:s;return typeof r=="string"?{message:r}:r}function Gg(s,e={},r){return s?Kn.create().superRefine((n,o)=>{var l,c;const u=s(n);if(u instanceof Promise)return u.then(m=>{var p,f;if(!m){const x=yf(e,n),v=(f=(p=x.fatal)!==null&&p!==void 0?p:r)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...x,fatal:v})}});if(!u){const m=yf(e,n),p=(c=(l=m.fatal)!==null&&l!==void 0?l:r)!==null&&c!==void 0?c:!0;o.addIssue({code:"custom",...m,fatal:p})}}):Kn.create()}const t1={object:wt.lazycreate};var Be;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(Be||(Be={}));const s1=(s,e={message:`Input not instance of ${s.name}`})=>Gg(r=>r instanceof s,e),Kg=hr.create,Zg=Aa.create,r1=vc.create,a1=Ta.create,Yg=lo.create,n1=nn.create,i1=gc.create,o1=co.create,l1=uo.create,c1=Kn.create,d1=tn.create,u1=ea.create,m1=bc.create,h1=pr.create,p1=wt.create,f1=wt.strictCreate,x1=mo.create,g1=Pc.create,b1=ho.create,y1=Rr.create,v1=po.create,w1=yc.create,j1=on.create,N1=Un.create,k1=fo.create,C1=xo.create,S1=Da.create,A1=go.create,T1=Zn.create,vf=fr.create,D1=Tr.create,_1=_a.create,P1=fr.createWithPreprocess,E1=Eo.create,I1=()=>Kg().optional(),R1=()=>Zg().optional(),M1=()=>Yg().optional(),O1={string:s=>hr.create({...s,coerce:!0}),number:s=>Aa.create({...s,coerce:!0}),boolean:s=>lo.create({...s,coerce:!0}),bigint:s=>Ta.create({...s,coerce:!0}),date:s=>nn.create({...s,coerce:!0})},z1=We;var Rn=Object.freeze({__proto__:null,defaultErrorMap:Gn,setErrorMap:Pk,getErrorMap:pc,makeIssue:fc,EMPTY_PATH:Ek,addIssueToContext:we,ParseStatus:hs,INVALID:We,DIRTY:zn,OK:ws,isAborted:sm,isDirty:rm,isValid:an,isAsync:oo,get util(){return at},get objectUtil(){return tm},ZodParsedType:Ne,getParsedType:qr,ZodType:Qe,datetimeRegex:Wg,ZodString:hr,ZodNumber:Aa,ZodBigInt:Ta,ZodBoolean:lo,ZodDate:nn,ZodSymbol:gc,ZodUndefined:co,ZodNull:uo,ZodAny:Kn,ZodUnknown:tn,ZodNever:ea,ZodVoid:bc,ZodArray:pr,ZodObject:wt,ZodUnion:mo,ZodDiscriminatedUnion:Pc,ZodIntersection:ho,ZodTuple:Rr,ZodRecord:po,ZodMap:yc,ZodSet:on,ZodFunction:Un,ZodLazy:fo,ZodLiteral:xo,ZodEnum:Da,ZodNativeEnum:go,ZodPromise:Zn,ZodEffects:fr,ZodTransformer:fr,ZodOptional:Tr,ZodNullable:_a,ZodDefault:bo,ZodCatch:yo,ZodNaN:vc,BRAND:e1,ZodBranded:Rm,ZodPipeline:Eo,ZodReadonly:vo,custom:Gg,Schema:Qe,ZodSchema:Qe,late:t1,get ZodFirstPartyTypeKind(){return Be},coerce:O1,any:c1,array:h1,bigint:a1,boolean:Yg,date:n1,discriminatedUnion:g1,effect:vf,enum:S1,function:N1,instanceof:s1,intersection:b1,lazy:k1,literal:C1,map:w1,nan:r1,nativeEnum:A1,never:u1,null:l1,nullable:_1,number:Zg,object:p1,oboolean:M1,onumber:R1,optional:D1,ostring:I1,pipeline:E1,preprocess:P1,promise:T1,record:v1,set:j1,strictObject:f1,string:Kg,symbol:i1,transformer:vf,tuple:y1,undefined:o1,union:x1,unknown:d1,void:m1,NEVER:z1,ZodIssueCode:de,quotelessJson:_k,ZodError:zs}),Io=s=>s.type==="checkbox",Xa=s=>s instanceof Date,ys=s=>s==null;const qg=s=>typeof s=="object";var Rt=s=>!ys(s)&&!Array.isArray(s)&&qg(s)&&!Xa(s),L1=s=>Rt(s)&&s.target?Io(s.target)?s.target.checked:s.target.value:s,$1=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,V1=(s,e)=>s.has($1(e)),F1=s=>{const e=s.constructor&&s.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},Mm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(s){let e;const r=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(Mm&&(s instanceof Blob||n))&&(r||Rt(s)))if(e=r?[]:Object.create(Object.getPrototypeOf(s)),!r&&!F1(s))e=s;else for(const o in s)s.hasOwnProperty(o)&&(e[o]=Xt(s[o]));else return s;return e}var Ec=s=>/^\w*$/.test(s),Lt=s=>s===void 0,Om=s=>Array.isArray(s)?s.filter(Boolean):[],zm=s=>Om(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(s,e,r)=>{if(!e||!Rt(s))return r;const n=(Ec(e)?[e]:zm(e)).reduce((o,l)=>ys(o)?o:o[l],s);return Lt(n)||n===s?Lt(s[e])?r:s[e]:n},Sr=s=>typeof s=="boolean",ut=(s,e,r)=>{let n=-1;const o=Ec(e)?[e]:zm(e),l=o.length,c=l-1;for(;++n<l;){const u=o[n];let m=r;if(n!==c){const p=s[u];m=Rt(p)||Array.isArray(p)?p:isNaN(+o[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;s[u]=m,s=s[u]}};const wf={BLUR:"blur",FOCUS_OUT:"focusout"},dr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},B1=he.createContext(null);B1.displayName="HookFormContext";var U1=(s,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const l in s)Object.defineProperty(o,l,{get:()=>{const c=l;return e._proxyFormState[c]!==dr.all&&(e._proxyFormState[c]=!n||dr.all),s[c]}});return o};const W1=typeof window<"u"?he.useLayoutEffect:he.useEffect;var Ar=s=>typeof s=="string",H1=(s,e,r,n,o)=>Ar(s)?(n&&e.watch.add(s),Pe(r,s,o)):Array.isArray(s)?s.map(l=>(n&&e.watch.add(l),Pe(r,l))):(n&&(e.watchAll=!0),r),nm=s=>ys(s)||!qg(s);function Sa(s,e,r=new WeakSet){if(nm(s)||nm(e))return s===e;if(Xa(s)&&Xa(e))return s.getTime()===e.getTime();const n=Object.keys(s),o=Object.keys(e);if(n.length!==o.length)return!1;if(r.has(s)||r.has(e))return!0;r.add(s),r.add(e);for(const l of n){const c=s[l];if(!o.includes(l))return!1;if(l!=="ref"){const u=e[l];if(Xa(c)&&Xa(u)||Rt(c)&&Rt(u)||Array.isArray(c)&&Array.isArray(u)?!Sa(c,u,r):c!==u)return!1}}return!0}var Xg=(s,e,r,n,o)=>e?{...r[s],types:{...r[s]&&r[s].types?r[s].types:{},[n]:o||!0}}:{},Ji=s=>Array.isArray(s)?s:[s],jf=()=>{let s=[];return{get observers(){return s},next:o=>{for(const l of s)l.next&&l.next(o)},subscribe:o=>(s.push(o),{unsubscribe:()=>{s=s.filter(l=>l!==o)}}),unsubscribe:()=>{s=[]}}},Ds=s=>Rt(s)&&!Object.keys(s).length,Lm=s=>s.type==="file",ur=s=>typeof s=="function",wc=s=>{if(!Mm)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Jg=s=>s.type==="select-multiple",$m=s=>s.type==="radio",G1=s=>$m(s)||Io(s),Eu=s=>wc(s)&&s.isConnected;function K1(s,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)s=Lt(s)?n++:s[e[n++]];return s}function Z1(s){for(const e in s)if(s.hasOwnProperty(e)&&!Lt(s[e]))return!1;return!0}function zt(s,e){const r=Array.isArray(e)?e:Ec(e)?[e]:zm(e),n=r.length===1?s:K1(s,r),o=r.length-1,l=r[o];return n&&delete n[l],o!==0&&(Rt(n)&&Ds(n)||Array.isArray(n)&&Z1(n))&&zt(s,r.slice(0,-1)),s}var Qg=s=>{for(const e in s)if(ur(s[e]))return!0;return!1};function jc(s,e={}){const r=Array.isArray(s);if(Rt(s)||r)for(const n in s)Array.isArray(s[n])||Rt(s[n])&&!Qg(s[n])?(e[n]=Array.isArray(s[n])?[]:{},jc(s[n],e[n])):ys(s[n])||(e[n]=!0);return e}function eb(s,e,r){const n=Array.isArray(s);if(Rt(s)||n)for(const o in s)Array.isArray(s[o])||Rt(s[o])&&!Qg(s[o])?Lt(e)||nm(r[o])?r[o]=Array.isArray(s[o])?jc(s[o],[]):{...jc(s[o])}:eb(s[o],ys(e)?{}:e[o],r[o]):r[o]=!Sa(s[o],e[o]);return r}var Fi=(s,e)=>eb(s,e,jc(e));const Nf={value:!1,isValid:!1},kf={value:!0,isValid:!0};var tb=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Lt(s[0].attributes.value)?Lt(s[0].value)||s[0].value===""?kf:{value:s[0].value,isValid:!0}:kf:Nf}return Nf},sb=(s,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Lt(s)?s:e?s===""?NaN:s&&+s:r&&Ar(s)?new Date(s):n?n(s):s;const Cf={isValid:!1,value:null};var rb=s=>Array.isArray(s)?s.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Cf):Cf;function Sf(s){const e=s.ref;return Lm(e)?e.files:$m(e)?rb(s.refs).value:Jg(e)?[...e.selectedOptions].map(({value:r})=>r):Io(e)?tb(s.refs).value:sb(Lt(e.value)?s.ref.value:e.value,s)}var Y1=(s,e,r,n)=>{const o={};for(const l of s){const c=Pe(e,l);c&&ut(o,l,c._f)}return{criteriaMode:r,names:[...s],fields:o,shouldUseNativeValidation:n}},Nc=s=>s instanceof RegExp,Bi=s=>Lt(s)?s:Nc(s)?s.source:Rt(s)?Nc(s.value)?s.value.source:s.value:s,Af=s=>({isOnSubmit:!s||s===dr.onSubmit,isOnBlur:s===dr.onBlur,isOnChange:s===dr.onChange,isOnAll:s===dr.all,isOnTouch:s===dr.onTouched});const Tf="AsyncFunction";var q1=s=>!!s&&!!s.validate&&!!(ur(s.validate)&&s.validate.constructor.name===Tf||Rt(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===Tf)),X1=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),Df=(s,e,r)=>!r&&(e.watchAll||e.watch.has(s)||[...e.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const Qi=(s,e,r,n)=>{for(const o of r||Object.keys(s)){const l=Pe(s,o);if(l){const{_f:c,...u}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(Qi(u,e))break}else if(Rt(u)&&Qi(u,e))break}}};function _f(s,e,r){const n=Pe(s,r);if(n||Ec(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=Pe(e,l),u=Pe(s,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(u&&u.type)return{name:l,error:u};if(u&&u.root&&u.root.type)return{name:`${l}.root`,error:u.root};o.pop()}return{name:r}}var J1=(s,e,r,n)=>{r(s);const{name:o,...l}=s;return Ds(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!n||dr.all))},Q1=(s,e,r)=>!s||!e||s===e||Ji(s).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),eC=(s,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||s):(r?n.isOnBlur:o.isOnBlur)?!s:(r?n.isOnChange:o.isOnChange)?s:!0,tC=(s,e)=>!Om(Pe(s,e)).length&&zt(s,e),sC=(s,e,r)=>{const n=Ji(Pe(s,r));return ut(n,"root",e[r]),ut(s,r,n),s},cc=s=>Ar(s);function Pf(s,e,r="validate"){if(cc(s)||Array.isArray(s)&&s.every(cc)||Sr(s)&&!s)return{type:r,message:cc(s)?s:"",ref:e}}var Mn=s=>Rt(s)&&!Nc(s)?s:{value:s,message:""},Ef=async(s,e,r,n,o,l)=>{const{ref:c,refs:u,required:m,maxLength:p,minLength:f,min:x,max:v,pattern:k,validate:C,name:N,valueAsNumber:w,mount:A}=s._f,D=Pe(r,N);if(!A||e.has(N))return{};const T=u?u[0]:c,B=te=>{o&&T.reportValidity&&(T.setCustomValidity(Sr(te)?"":te||""),T.reportValidity())},E={},_=$m(c),L=Io(c),P=_||L,U=(w||Lm(c))&&Lt(c.value)&&Lt(D)||wc(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,W=Xg.bind(null,N,n,E),re=(te,se,ae,O=Zr.maxLength,V=Zr.minLength)=>{const K=te?se:ae;E[N]={type:te?O:V,message:K,ref:c,...W(te?O:V,K)}};if(l?!Array.isArray(D)||!D.length:m&&(!P&&(U||ys(D))||Sr(D)&&!D||L&&!tb(u).isValid||_&&!rb(u).isValid)){const{value:te,message:se}=cc(m)?{value:!!m,message:m}:Mn(m);if(te&&(E[N]={type:Zr.required,message:se,ref:T,...W(Zr.required,se)},!n))return B(se),E}if(!U&&(!ys(x)||!ys(v))){let te,se;const ae=Mn(v),O=Mn(x);if(!ys(D)&&!isNaN(D)){const V=c.valueAsNumber||D&&+D;ys(ae.value)||(te=V>ae.value),ys(O.value)||(se=V<O.value)}else{const V=c.valueAsDate||new Date(D),K=Q=>new Date(new Date().toDateString()+" "+Q),R=c.type=="time",J=c.type=="week";Ar(ae.value)&&D&&(te=R?K(D)>K(ae.value):J?D>ae.value:V>new Date(ae.value)),Ar(O.value)&&D&&(se=R?K(D)<K(O.value):J?D<O.value:V<new Date(O.value))}if((te||se)&&(re(!!te,ae.message,O.message,Zr.max,Zr.min),!n))return B(E[N].message),E}if((p||f)&&!U&&(Ar(D)||l&&Array.isArray(D))){const te=Mn(p),se=Mn(f),ae=!ys(te.value)&&D.length>+te.value,O=!ys(se.value)&&D.length<+se.value;if((ae||O)&&(re(ae,te.message,se.message),!n))return B(E[N].message),E}if(k&&!U&&Ar(D)){const{value:te,message:se}=Mn(k);if(Nc(te)&&!D.match(te)&&(E[N]={type:Zr.pattern,message:se,ref:c,...W(Zr.pattern,se)},!n))return B(se),E}if(C){if(ur(C)){const te=await C(D,r),se=Pf(te,T);if(se&&(E[N]={...se,...W(Zr.validate,se.message)},!n))return B(se.message),E}else if(Rt(C)){let te={};for(const se in C){if(!Ds(te)&&!n)break;const ae=Pf(await C[se](D,r),T,se);ae&&(te={...ae,...W(se,ae.message)},B(ae.message),n&&(E[N]=te))}if(!Ds(te)&&(E[N]={ref:T,...te},!n))return E}}return B(!0),E};const rC={mode:dr.onSubmit,reValidateMode:dr.onChange,shouldFocusError:!0};function aC(s={}){let e={...rC,...s},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=Rt(e.defaultValues)||Rt(e.values)?Xt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Xt(o),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...f};const v={array:jf(),state:jf()},k=e.criteriaMode===dr.all,C=z=>Z=>{clearTimeout(p),p=setTimeout(z,Z)},N=async z=>{if(!e.disabled&&(f.isValid||x.isValid||z)){const Z=e.resolver?Ds((await L()).errors):await U(n,!0);Z!==r.isValid&&v.state.next({isValid:Z})}},w=(z,Z)=>{!e.disabled&&(f.isValidating||f.validatingFields||x.isValidating||x.validatingFields)&&((z||Array.from(u.mount)).forEach(q=>{q&&(Z?ut(r.validatingFields,q,Z):zt(r.validatingFields,q))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Ds(r.validatingFields)}))},A=(z,Z=[],q,fe,xe=!0,me=!0)=>{if(fe&&q&&!e.disabled){if(c.action=!0,me&&Array.isArray(Pe(n,z))){const Se=q(Pe(n,z),fe.argA,fe.argB);xe&&ut(n,z,Se)}if(me&&Array.isArray(Pe(r.errors,z))){const Se=q(Pe(r.errors,z),fe.argA,fe.argB);xe&&ut(r.errors,z,Se),tC(r.errors,z)}if((f.touchedFields||x.touchedFields)&&me&&Array.isArray(Pe(r.touchedFields,z))){const Se=q(Pe(r.touchedFields,z),fe.argA,fe.argB);xe&&ut(r.touchedFields,z,Se)}(f.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Fi(o,l)),v.state.next({name:z,isDirty:re(z,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(l,z,Z)},D=(z,Z)=>{ut(r.errors,z,Z),v.state.next({errors:r.errors})},T=z=>{r.errors=z,v.state.next({errors:r.errors,isValid:!1})},B=(z,Z,q,fe)=>{const xe=Pe(n,z);if(xe){const me=Pe(l,z,Lt(q)?Pe(o,z):q);Lt(me)||fe&&fe.defaultChecked||Z?ut(l,z,Z?me:Sf(xe._f)):ae(z,me),c.mount&&N()}},E=(z,Z,q,fe,xe)=>{let me=!1,Se=!1;const ge={name:z};if(!e.disabled){if(!q||fe){(f.isDirty||x.isDirty)&&(Se=r.isDirty,r.isDirty=ge.isDirty=re(),me=Se!==ge.isDirty);const rt=Sa(Pe(o,z),Z);Se=!!Pe(r.dirtyFields,z),rt?zt(r.dirtyFields,z):ut(r.dirtyFields,z,!0),ge.dirtyFields=r.dirtyFields,me=me||(f.dirtyFields||x.dirtyFields)&&Se!==!rt}if(q){const rt=Pe(r.touchedFields,z);rt||(ut(r.touchedFields,z,q),ge.touchedFields=r.touchedFields,me=me||(f.touchedFields||x.touchedFields)&&rt!==q)}me&&xe&&v.state.next(ge)}return me?ge:{}},_=(z,Z,q,fe)=>{const xe=Pe(r.errors,z),me=(f.isValid||x.isValid)&&Sr(Z)&&r.isValid!==Z;if(e.delayError&&q?(m=C(()=>D(z,q)),m(e.delayError)):(clearTimeout(p),m=null,q?ut(r.errors,z,q):zt(r.errors,z)),(q?!Sa(xe,q):xe)||!Ds(fe)||me){const Se={...fe,...me&&Sr(Z)?{isValid:Z}:{},errors:r.errors,name:z};r={...r,...Se},v.state.next(Se)}},L=async z=>{w(z,!0);const Z=await e.resolver(l,e.context,Y1(z||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(z),Z},P=async z=>{const{errors:Z}=await L(z);if(z)for(const q of z){const fe=Pe(Z,q);fe?ut(r.errors,q,fe):zt(r.errors,q)}else r.errors=Z;return Z},U=async(z,Z,q={valid:!0})=>{for(const fe in z){const xe=z[fe];if(xe){const{_f:me,...Se}=xe;if(me){const ge=u.array.has(me.name),rt=xe._f&&q1(xe._f);rt&&f.validatingFields&&w([fe],!0);const ft=await Ef(xe,u.disabled,l,k,e.shouldUseNativeValidation&&!Z,ge);if(rt&&f.validatingFields&&w([fe]),ft[me.name]&&(q.valid=!1,Z))break;!Z&&(Pe(ft,me.name)?ge?sC(r.errors,ft,me.name):ut(r.errors,me.name,ft[me.name]):zt(r.errors,me.name))}!Ds(Se)&&await U(Se,Z,q)}}return q.valid},W=()=>{for(const z of u.unMount){const Z=Pe(n,z);Z&&(Z._f.refs?Z._f.refs.every(q=>!Eu(q)):!Eu(Z._f.ref))&&Me(z)}u.unMount=new Set},re=(z,Z)=>!e.disabled&&(z&&Z&&ut(l,z,Z),!Sa(Q(),o)),te=(z,Z,q)=>H1(z,u,{...c.mount?l:Lt(Z)?o:Ar(z)?{[z]:Z}:Z},q,Z),se=z=>Om(Pe(c.mount?l:o,z,e.shouldUnregister?Pe(o,z,[]):[])),ae=(z,Z,q={})=>{const fe=Pe(n,z);let xe=Z;if(fe){const me=fe._f;me&&(!me.disabled&&ut(l,z,sb(Z,me)),xe=wc(me.ref)&&ys(Z)?"":Z,Jg(me.ref)?[...me.ref.options].forEach(Se=>Se.selected=xe.includes(Se.value)):me.refs?Io(me.ref)?me.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(xe)?Se.checked=!!xe.find(ge=>ge===Se.value):Se.checked=xe===Se.value||!!xe)}):me.refs.forEach(Se=>Se.checked=Se.value===xe):Lm(me.ref)?me.ref.value="":(me.ref.value=xe,me.ref.type||v.state.next({name:z,values:Xt(l)})))}(q.shouldDirty||q.shouldTouch)&&E(z,xe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&J(z)},O=(z,Z,q)=>{for(const fe in Z){if(!Z.hasOwnProperty(fe))return;const xe=Z[fe],me=z+"."+fe,Se=Pe(n,me);(u.array.has(z)||Rt(xe)||Se&&!Se._f)&&!Xa(xe)?O(me,xe,q):ae(me,xe,q)}},V=(z,Z,q={})=>{const fe=Pe(n,z),xe=u.array.has(z),me=Xt(Z);ut(l,z,me),xe?(v.array.next({name:z,values:Xt(l)}),(f.isDirty||f.dirtyFields||x.isDirty||x.dirtyFields)&&q.shouldDirty&&v.state.next({name:z,dirtyFields:Fi(o,l),isDirty:re(z,me)})):fe&&!fe._f&&!ys(me)?O(z,me,q):ae(z,me,q),Df(z,u)&&v.state.next({...r,name:z}),v.state.next({name:c.mount?z:void 0,values:Xt(l)})},K=async z=>{c.mount=!0;const Z=z.target;let q=Z.name,fe=!0;const xe=Pe(n,q),me=rt=>{fe=Number.isNaN(rt)||Xa(rt)&&isNaN(rt.getTime())||Sa(rt,Pe(l,q,rt))},Se=Af(e.mode),ge=Af(e.reValidateMode);if(xe){let rt,ft;const Vt=Z.type?Sf(xe._f):L1(z),Mt=z.type===wf.BLUR||z.type===wf.FOCUS_OUT,$s=!X1(xe._f)&&!e.resolver&&!Pe(r.errors,q)&&!xe._f.deps||eC(Mt,Pe(r.touchedFields,q),r.isSubmitted,ge,Se),Es=Df(q,u,Mt);ut(l,q,Vt),Mt?(!Z||!Z.readOnly)&&(xe._f.onBlur&&xe._f.onBlur(z),m&&m(0)):xe._f.onChange&&xe._f.onChange(z);const xr=E(q,Vt,Mt),zr=!Ds(xr)||Es;if(!Mt&&v.state.next({name:q,type:z.type,values:Xt(l)}),$s)return(f.isValid||x.isValid)&&(e.mode==="onBlur"?Mt&&N():Mt||N()),zr&&v.state.next({name:q,...Es?{}:xr});if(!Mt&&Es&&v.state.next({...r}),e.resolver){const{errors:Xs}=await L([q]);if(me(Vt),fe){const Lr=_f(r.errors,n,q),xs=_f(Xs,n,Lr.name||q);rt=xs.error,q=xs.name,ft=Ds(Xs)}}else w([q],!0),rt=(await Ef(xe,u.disabled,l,k,e.shouldUseNativeValidation))[q],w([q]),me(Vt),fe&&(rt?ft=!1:(f.isValid||x.isValid)&&(ft=await U(n,!0)));fe&&(xe._f.deps&&J(xe._f.deps),_(q,ft,rt,xr))}},R=(z,Z)=>{if(Pe(r.errors,Z)&&z.focus)return z.focus(),1},J=async(z,Z={})=>{let q,fe;const xe=Ji(z);if(e.resolver){const me=await P(Lt(z)?z:xe);q=Ds(me),fe=z?!xe.some(Se=>Pe(me,Se)):q}else z?(fe=(await Promise.all(xe.map(async me=>{const Se=Pe(n,me);return await U(Se&&Se._f?{[me]:Se}:Se)}))).every(Boolean),!(!fe&&!r.isValid)&&N()):fe=q=await U(n);return v.state.next({...!Ar(z)||(f.isValid||x.isValid)&&q!==r.isValid?{}:{name:z},...e.resolver||!z?{isValid:q}:{},errors:r.errors}),Z.shouldFocus&&!fe&&Qi(n,R,z?xe:u.mount),fe},Q=z=>{const Z={...c.mount?l:o};return Lt(z)?Z:Ar(z)?Pe(Z,z):z.map(q=>Pe(Z,q))},I=(z,Z)=>({invalid:!!Pe((Z||r).errors,z),isDirty:!!Pe((Z||r).dirtyFields,z),error:Pe((Z||r).errors,z),isValidating:!!Pe(r.validatingFields,z),isTouched:!!Pe((Z||r).touchedFields,z)}),H=z=>{z&&Ji(z).forEach(Z=>zt(r.errors,Z)),v.state.next({errors:z?r.errors:{}})},ie=(z,Z,q)=>{const fe=(Pe(n,z,{_f:{}})._f||{}).ref,xe=Pe(r.errors,z)||{},{ref:me,message:Se,type:ge,...rt}=xe;ut(r.errors,z,{...rt,...Z,ref:fe}),v.state.next({name:z,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&fe&&fe.focus&&fe.focus()},ve=(z,Z)=>ur(z)?v.state.subscribe({next:q=>"values"in q&&z(te(void 0,Z),q)}):te(z,Z,!0),Le=z=>v.state.subscribe({next:Z=>{Q1(z.name,Z.name,z.exact)&&J1(Z,z.formState||f,is,z.reRenderRoot)&&z.callback({values:{...l},...r,...Z,defaultValues:o})}}).unsubscribe,be=z=>(c.mount=!0,x={...x,...z.formState},Le({...z,formState:x})),Me=(z,Z={})=>{for(const q of z?Ji(z):u.mount)u.mount.delete(q),u.array.delete(q),Z.keepValue||(zt(n,q),zt(l,q)),!Z.keepError&&zt(r.errors,q),!Z.keepDirty&&zt(r.dirtyFields,q),!Z.keepTouched&&zt(r.touchedFields,q),!Z.keepIsValidating&&zt(r.validatingFields,q),!e.shouldUnregister&&!Z.keepDefaultValue&&zt(o,q);v.state.next({values:Xt(l)}),v.state.next({...r,...Z.keepDirty?{isDirty:re()}:{}}),!Z.keepIsValid&&N()},$e=({disabled:z,name:Z})=>{(Sr(z)&&c.mount||z||u.disabled.has(Z))&&(z?u.disabled.add(Z):u.disabled.delete(Z))},Ge=(z,Z={})=>{let q=Pe(n,z);const fe=Sr(Z.disabled)||Sr(e.disabled);return ut(n,z,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:z}},name:z,mount:!0,...Z}}),u.mount.add(z),q?$e({disabled:Sr(Z.disabled)?Z.disabled:e.disabled,name:z}):B(z,!0,Z.value),{...fe?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Bi(Z.min),max:Bi(Z.max),minLength:Bi(Z.minLength),maxLength:Bi(Z.maxLength),pattern:Bi(Z.pattern)}:{},name:z,onChange:K,onBlur:K,ref:xe=>{if(xe){Ge(z,Z),q=Pe(n,z);const me=Lt(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,Se=G1(me),ge=q._f.refs||[];if(Se?ge.find(rt=>rt===me):me===q._f.ref)return;ut(n,z,{_f:{...q._f,...Se?{refs:[...ge.filter(Eu),me,...Array.isArray(Pe(o,z))?[{}]:[]],ref:{type:me.type,name:z}}:{ref:me}}}),B(z,!1,void 0,me)}else q=Pe(n,z,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(V1(u.array,z)&&c.action)&&u.unMount.add(z)}}},it=()=>e.shouldFocusError&&Qi(n,R,u.mount),Wt=z=>{Sr(z)&&(v.state.next({disabled:z}),Qi(n,(Z,q)=>{const fe=Pe(n,q);fe&&(Z.disabled=fe._f.disabled||z,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(xe=>{xe.disabled=fe._f.disabled||z}))},0,!1))},es=(z,Z)=>async q=>{let fe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let xe=Xt(l);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Se}=await L();r.errors=me,xe=Xt(Se)}else await U(n);if(u.disabled.size)for(const me of u.disabled)zt(xe,me);if(zt(r.errors,"root"),Ds(r.errors)){v.state.next({errors:{}});try{await z(xe,q)}catch(me){fe=me}}else Z&&await Z({...r.errors},q),it(),setTimeout(it);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ds(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},Ls=(z,Z={})=>{Pe(n,z)&&(Lt(Z.defaultValue)?V(z,Xt(Pe(o,z))):(V(z,Z.defaultValue),ut(o,z,Xt(Z.defaultValue))),Z.keepTouched||zt(r.touchedFields,z),Z.keepDirty||(zt(r.dirtyFields,z),r.isDirty=Z.defaultValue?re(z,Xt(Pe(o,z))):re()),Z.keepError||(zt(r.errors,z),f.isValid&&N()),v.state.next({...r}))},fs=(z,Z={})=>{const q=z?Xt(z):o,fe=Xt(q),xe=Ds(z),me=xe?o:fe;if(Z.keepDefaultValues||(o=q),!Z.keepValues){if(Z.keepDirtyValues){const Se=new Set([...u.mount,...Object.keys(Fi(o,l))]);for(const ge of Array.from(Se))Pe(r.dirtyFields,ge)?ut(me,ge,Pe(l,ge)):V(ge,Pe(me,ge))}else{if(Mm&&Lt(z))for(const Se of u.mount){const ge=Pe(n,Se);if(ge&&ge._f){const rt=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(wc(rt)){const ft=rt.closest("form");if(ft){ft.reset();break}}}}if(Z.keepFieldsRef)for(const Se of u.mount)V(Se,Pe(me,Se));else n={}}l=e.shouldUnregister?Z.keepDefaultValues?Xt(o):{}:Xt(me),v.array.next({values:{...me}}),v.state.next({values:{...me}})}u={mount:Z.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!f.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,c.watch=!!e.shouldUnregister,v.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Sa(z,o)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&l?Fi(o,l):r.dirtyFields:Z.keepDefaultValues&&z?Fi(o,z):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},js=(z,Z)=>fs(ur(z)?z(l):z,Z),Ct=(z,Z={})=>{const q=Pe(n,z),fe=q&&q._f;if(fe){const xe=fe.refs?fe.refs[0]:fe.ref;xe.focus&&(xe.focus(),Z.shouldSelect&&ur(xe.select)&&xe.select())}},is=z=>{r={...r,...z}},St={control:{register:Ge,unregister:Me,getFieldState:I,handleSubmit:es,setError:ie,_subscribe:Le,_runSchema:L,_focusError:it,_getWatch:te,_getDirty:re,_setValid:N,_setFieldArray:A,_setDisabledField:$e,_setErrors:T,_getFieldArray:se,_reset:fs,_resetDefaultValues:()=>ur(e.defaultValues)&&e.defaultValues().then(z=>{js(z,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Wt,_subjects:v,_proxyFormState:f,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(z){c=z},get _defaultValues(){return o},get _names(){return u},set _names(z){u=z},get _formState(){return r},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:be,trigger:J,register:Ge,handleSubmit:es,watch:ve,setValue:V,getValues:Q,reset:js,resetField:Ls,clearErrors:H,unregister:Me,setError:ie,setFocus:Ct,getFieldState:I};return{...St,formControl:St}}function nC(s={}){const e=he.useRef(void 0),r=he.useRef(void 0),[n,o]=he.useState({isDirty:!1,isValidating:!1,isLoading:ur(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ur(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:n},s.defaultValues&&!ur(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:c,...u}=aC(s);e.current={...u,formState:n}}const l=e.current.control;return l._options=s,W1(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(u=>({...u,isReady:!0})),l._formState.isReady=!0,c},[l]),he.useEffect(()=>l._disableForm(s.disabled),[l,s.disabled]),he.useEffect(()=>{s.mode&&(l._options.mode=s.mode),s.reValidateMode&&(l._options.reValidateMode=s.reValidateMode)},[l,s.mode,s.reValidateMode]),he.useEffect(()=>{s.errors&&(l._setErrors(s.errors),l._focusError())},[l,s.errors]),he.useEffect(()=>{s.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,s.shouldUnregister]),he.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),he.useEffect(()=>{s.values&&!Sa(s.values,r.current)?(l._reset(s.values,{keepFieldsRef:!0,...l._options.resetOptions}),r.current=s.values,o(c=>({...c}))):l._resetDefaultValues()},[l,s.values]),he.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=U1(n,l),e.current}const If=(s,e,r)=>{if(s&&"reportValidity"in s){const n=Pe(r,e);s.setCustomValidity(n&&n.message||""),s.reportValidity()}},ab=(s,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?If(n.ref,r,s):n.refs&&n.refs.forEach(o=>If(o,r,s))}},iC=(s,e)=>{e.shouldUseNativeValidation&&ab(s,e);const r={};for(const n in s){const o=Pe(e.fields,n),l=Object.assign(s[n]||{},{ref:o&&o.ref});if(oC(e.names||Object.keys(s),n)){const c=Object.assign({},Pe(r,n));ut(c,"root",l),ut(r,n,c)}else ut(r,n,l)}return r},oC=(s,e)=>s.some(r=>r.startsWith(e+"."));var lC=function(s,e){for(var r={};s.length;){var n=s[0],o=n.code,l=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[c]={message:u.message,type:u.code}}else r[c]={message:l,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(x){return s.push(x)})}),e){var m=r[c].types,p=m&&m[n.code];r[c]=Xg(c,e,r,o,p?[].concat(p,n.message):n.message)}s.shift()}return r},cC=function(s,e,r){return r===void 0&&(r={}),function(n,o,l){try{return Promise.resolve(function(c,u){try{var m=Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(p){return l.shouldUseNativeValidation&&ab({},l),{errors:{},values:r.raw?n:p}})}catch(p){return u(p)}return m&&m.then?m.then(void 0,u):m}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:iC(lC(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}}};const dC=Rn.object({username:Rn.string().min(3,"用户名至少3个字符").max(20,"用户名最多20个字符"),email:Rn.string().email("请输入有效的邮箱地址"),password:Rn.string().min(6,"密码至少6个字符").refine(s=>/[A-Z]/.test(s),{message:"密码必须包含至少一个大写字母"}),confirmPassword:Rn.string(),agreeTerms:Rn.boolean().refine(s=>s===!0,{message:"您必须同意服务条款和隐私政策"})}).refine(s=>s.password===s.confirmPassword,{message:"两次输入的密码不一致",path:["confirmPassword"]});function uC(){const[s,e]=j.useState(!1),{lang:r}=Qt(),n=ps(r),o=cn(),{register:l,handleSubmit:c,formState:{errors:u}}=nC({resolver:cC(dC),defaultValues:{username:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}}),m=p=>{e(!0),setTimeout(()=>{lr.success("注册成功！请登录您的账户"),o("/login"),e(!1)},1500)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("h1",{className:"text-2xl font-bold",children:y(n,"register.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(n,"register.subtitle")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 md:p-8",children:[t.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.username")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-user text-slate-400"})}),t.jsx("input",{type:"text",id:"username",...l("username"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.username")})]}),u.username&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.username.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.email")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-envelope text-slate-400"})}),t.jsx("input",{type:"email",id:"email",...l("email"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.email")})]}),u.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.email.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.password")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"password",...l("password"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.password")})]}),u.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.password.message})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-1",children:y(n,"register.labels.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("i",{className:"fa-solid fa-lock text-slate-400"})}),t.jsx("input",{type:"password",id:"confirmPassword",...l("confirmPassword"),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:y(n,"register.placeholders.confirmPassword")})]}),u.confirmPassword&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.confirmPassword.message})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center h-5",children:t.jsx("input",{id:"agreeTerms",type:"checkbox",...l("agreeTerms"),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsxs("label",{htmlFor:"agreeTerms",className:"text-slate-600 dark:text-slate-300",children:[y(n,"register.labels.agreePrefix"),t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.labels.terms")}),y(n,"register.labels.and"),t.jsx("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.labels.privacy")})]})})]}),u.agreeTerms&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:u.agreeTerms.message})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-80 disabled:cursor-not-allowed transition-all",children:s?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),y(n,"common.buttons.creatingAccount")]}):y(n,"register.buttons.submit")})})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[y(n,"register.haveAccountPrompt")," ",t.jsx(ne,{to:"/login",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:y(n,"register.loginLink")})]})})]})]})})}const Vm=j.createContext({});function Fm(s){const e=j.useRef(null);return e.current===null&&(e.current=s()),e.current}const Bm=typeof window<"u",nb=Bm?j.useLayoutEffect:j.useEffect,Ic=j.createContext(null),Um=j.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class mC extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,o=n instanceof HTMLElement&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hC({children:s,isPresent:e,anchorX:r}){const n=j.useId(),o=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(Um);return j.useInsertionEffect(()=>{const{width:u,height:m,top:p,left:f,right:x}=l.current;if(e||!o.current||!u||!m)return;const v=r==="left"?`left: ${f}`:`right: ${x}`;o.current.dataset.motionPopId=n;const k=document.createElement("style");return c&&(k.nonce=c),document.head.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(k)&&document.head.removeChild(k)}},[e]),t.jsx(mC,{isPresent:e,childRef:o,sizeRef:l,children:j.cloneElement(s,{ref:o})})}const pC=({children:s,initial:e,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:l,mode:c,anchorX:u})=>{const m=Fm(fC),p=j.useId();let f=!0,x=j.useMemo(()=>(f=!1,{id:p,initial:e,isPresent:r,custom:o,onExitComplete:v=>{m.set(v,!0);for(const k of m.values())if(!k)return;n&&n()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[r,m,n]);return l&&f&&(x={...x}),j.useMemo(()=>{m.forEach((v,k)=>m.set(k,!1))},[r]),j.useEffect(()=>{!r&&!m.size&&n&&n()},[r]),c==="popLayout"&&(s=t.jsx(hC,{isPresent:r,anchorX:u,children:s})),t.jsx(Ic.Provider,{value:x,children:s})};function fC(){return new Map}function ib(s=!0){const e=j.useContext(Ic);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=e,l=j.useId();j.useEffect(()=>{if(s)return o(l)},[s]);const c=j.useCallback(()=>s&&n&&n(l),[l,n,s]);return!r&&n?[!1,c]:[!0]}const ql=s=>s.key||"";function Rf(s){const e=[];return j.Children.forEach(s,r=>{j.isValidElement(r)&&e.push(r)}),e}const xC=({children:s,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:u="left"})=>{const[m,p]=ib(c),f=j.useMemo(()=>Rf(s),[s]),x=c&&!m?[]:f.map(ql),v=j.useRef(!0),k=j.useRef(f),C=Fm(()=>new Map),[N,w]=j.useState(f),[A,D]=j.useState(f);nb(()=>{v.current=!1,k.current=f;for(let E=0;E<A.length;E++){const _=ql(A[E]);x.includes(_)?C.delete(_):C.get(_)!==!0&&C.set(_,!1)}},[A,x.length,x.join("-")]);const T=[];if(f!==N){let E=[...f];for(let _=0;_<A.length;_++){const L=A[_],P=ql(L);x.includes(P)||(E.splice(_,0,L),T.push(L))}return l==="wait"&&T.length&&(E=T),D(Rf(E)),w(f),null}const{forceRender:B}=j.useContext(Vm);return t.jsx(t.Fragment,{children:A.map(E=>{const _=ql(E),L=c&&!m?!1:f===A||x.includes(_),P=()=>{if(C.has(_))C.set(_,!0);else return;let U=!0;C.forEach(W=>{W||(U=!1)}),U&&(B==null||B(),D(k.current),c&&(p==null||p()),n&&n())};return t.jsx(pC,{isPresent:L,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,onExitComplete:L?void 0:P,anchorX:u,children:E},_)})})};function Wm(s,e){s.indexOf(e)===-1&&s.push(e)}function Hm(s,e){const r=s.indexOf(e);r>-1&&s.splice(r,1)}const ta=(s,e,r)=>r>e?e:r<s?s:r;let Gm=()=>{};const sa={},ob=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),lb=s=>/^0[^.\s]+$/u.test(s);function Km(s){let e;return()=>(e===void 0&&(e=s()),e)}const qs=s=>s,gC=(s,e)=>r=>e(s(r)),Ro=(...s)=>s.reduce(gC),wo=(s,e,r)=>{const n=e-s;return n===0?1:(r-s)/n};class Zm{constructor(){this.subscriptions=[]}add(e){return Wm(this.subscriptions,e),()=>Hm(this.subscriptions,e)}notify(e,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,n);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=s=>s*1e3,_r=s=>s/1e3;function cb(s,e){return e?s*(1e3/e):0}const db=(s,e,r)=>(((1-3*r+3*e)*s+(3*r-6*e))*s+3*e)*s,bC=1e-7,yC=12;function vC(s,e,r,n,o){let l,c,u=0;do c=e+(r-e)/2,l=db(c,n,o)-s,l>0?r=c:e=c;while(Math.abs(l)>bC&&++u<yC);return c}function Mo(s,e,r,n){if(s===e&&r===n)return qs;const o=l=>vC(l,0,1,s,r);return l=>l===0||l===1?l:db(o(l),e,n)}const ub=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,mb=s=>e=>1-s(1-e),hb=Mo(.33,1.53,.69,.99),Ym=mb(hb),pb=ub(Ym),fb=s=>(s*=2)<1?.5*Ym(s):.5*(2-Math.pow(2,-10*(s-1))),qm=s=>1-Math.sin(Math.acos(s)),xb=mb(qm),gb=ub(qm),wC=Mo(.42,0,1,1),jC=Mo(0,0,.58,1),bb=Mo(.42,0,.58,1),NC=s=>Array.isArray(s)&&typeof s[0]!="number",yb=s=>Array.isArray(s)&&typeof s[0]=="number",kC={linear:qs,easeIn:wC,easeInOut:bb,easeOut:jC,circIn:qm,circInOut:gb,circOut:xb,backIn:Ym,backInOut:pb,backOut:hb,anticipate:fb},CC=s=>typeof s=="string",Mf=s=>{if(yb(s)){Gm(s.length===4);const[e,r,n,o]=s;return Mo(e,r,n,o)}else if(CC(s))return kC[s];return s},Xl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Of={value:null};function SC(s,e){let r=new Set,n=new Set,o=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},m=0;function p(x){c.has(x)&&(f.schedule(x),s()),m++,x(u)}const f={schedule:(x,v=!1,k=!1)=>{const N=k&&o?r:n;return v&&c.add(x),N.has(x)||N.add(x),x},cancel:x=>{n.delete(x),c.delete(x)},process:x=>{if(u=x,o){l=!0;return}o=!0,[r,n]=[n,r],r.forEach(p),e&&Of.value&&Of.value.frameloop[e].push(m),m=0,r.clear(),o=!1,l&&(l=!1,f.process(x))}};return f}const AC=40;function vb(s,e){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=Xl.reduce((T,B)=>(T[B]=SC(l,e?B:void 0),T),{}),{setup:u,read:m,resolveKeyframes:p,preUpdate:f,update:x,preRender:v,render:k,postRender:C}=c,N=()=>{const T=sa.useManualTiming?o.timestamp:performance.now();r=!1,sa.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(T-o.timestamp,AC),1)),o.timestamp=T,o.isProcessing=!0,u.process(o),m.process(o),p.process(o),f.process(o),x.process(o),v.process(o),k.process(o),C.process(o),o.isProcessing=!1,r&&e&&(n=!1,s(N))},w=()=>{r=!0,n=!0,o.isProcessing||s(N)};return{schedule:Xl.reduce((T,B)=>{const E=c[B];return T[B]=(_,L=!1,P=!1)=>(r||w(),E.schedule(_,L,P)),T},{}),cancel:T=>{for(let B=0;B<Xl.length;B++)c[Xl[B]].cancel(T)},state:o,steps:c}}const{schedule:kt,cancel:Pa,state:rs,steps:Iu}=vb(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0);let dc;function TC(){dc=void 0}const Ps={now:()=>(dc===void 0&&Ps.set(rs.isProcessing||sa.useManualTiming?rs.timestamp:performance.now()),dc),set:s=>{dc=s,queueMicrotask(TC)}},wb=s=>e=>typeof e=="string"&&e.startsWith(s),Xm=wb("--"),DC=wb("var(--"),Jm=s=>DC(s)?_C.test(s.split("/*")[0].trim()):!1,_C=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ti={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},jo={...ti,transform:s=>ta(0,1,s)},Jl={...ti,default:1},eo=s=>Math.round(s*1e5)/1e5,Qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PC(s){return s==null}const EC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e0=(s,e)=>r=>!!(typeof r=="string"&&EC.test(r)&&r.startsWith(s)||e&&!PC(r)&&Object.prototype.hasOwnProperty.call(r,e)),jb=(s,e,r)=>n=>{if(typeof n!="string")return n;const[o,l,c,u]=n.match(Qm);return{[s]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},IC=s=>ta(0,255,s),Ru={...ti,transform:s=>Math.round(IC(s))},Ja={test:e0("rgb","red"),parse:jb("red","green","blue"),transform:({red:s,green:e,blue:r,alpha:n=1})=>"rgba("+Ru.transform(s)+", "+Ru.transform(e)+", "+Ru.transform(r)+", "+eo(jo.transform(n))+")"};function RC(s){let e="",r="",n="",o="";return s.length>5?(e=s.substring(1,3),r=s.substring(3,5),n=s.substring(5,7),o=s.substring(7,9)):(e=s.substring(1,2),r=s.substring(2,3),n=s.substring(3,4),o=s.substring(4,5),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const im={test:e0("#"),parse:RC,transform:Ja.transform},Oo=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),ka=Oo("deg"),Pr=Oo("%"),Ue=Oo("px"),MC=Oo("vh"),OC=Oo("vw"),zf={...Pr,parse:s=>Pr.parse(s)/100,transform:s=>Pr.transform(s*100)},Ln={test:e0("hsl","hue"),parse:jb("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(s)+", "+Pr.transform(eo(e))+", "+Pr.transform(eo(r))+", "+eo(jo.transform(n))+")"},us={test:s=>Ja.test(s)||im.test(s)||Ln.test(s),parse:s=>Ja.test(s)?Ja.parse(s):Ln.test(s)?Ln.parse(s):im.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Ja.transform(s):Ln.transform(s)},zC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LC(s){var e,r;return isNaN(s)&&typeof s=="string"&&(((e=s.match(Qm))==null?void 0:e.length)||0)+(((r=s.match(zC))==null?void 0:r.length)||0)>0}const Nb="number",kb="color",$C="var",VC="var(",Lf="${}",FC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function No(s){const e=s.toString(),r=[],n={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(FC,m=>(us.test(m)?(n.color.push(l),o.push(kb),r.push(us.parse(m))):m.startsWith(VC)?(n.var.push(l),o.push($C),r.push(m)):(n.number.push(l),o.push(Nb),r.push(parseFloat(m))),++l,Lf)).split(Lf);return{values:r,split:u,indexes:n,types:o}}function Cb(s){return No(s).values}function Sb(s){const{split:e,types:r}=No(s),n=e.length;return o=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],o[c]!==void 0){const u=r[c];u===Nb?l+=eo(o[c]):u===kb?l+=us.transform(o[c]):l+=o[c]}return l}}const BC=s=>typeof s=="number"?0:s;function UC(s){const e=Cb(s);return Sb(s)(e.map(BC))}const Ea={test:LC,parse:Cb,createTransformer:Sb,getAnimatableNone:UC};function Mu(s,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(e-s)*6*r:r<1/2?e:r<2/3?s+(e-s)*(2/3-r)*6:s}function WC({hue:s,saturation:e,lightness:r,alpha:n}){s/=360,e/=100,r/=100;let o=0,l=0,c=0;if(!e)o=l=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,m=2*r-u;o=Mu(m,u,s+1/3),l=Mu(m,u,s),c=Mu(m,u,s-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function kc(s,e){return r=>r>0?e:s}const jt=(s,e,r)=>s+(e-s)*r,Ou=(s,e,r)=>{const n=s*s,o=r*(e*e-n)+n;return o<0?0:Math.sqrt(o)},HC=[im,Ja,Ln],GC=s=>HC.find(e=>e.test(s));function $f(s){const e=GC(s);if(!e)return!1;let r=e.parse(s);return e===Ln&&(r=WC(r)),r}const Vf=(s,e)=>{const r=$f(s),n=$f(e);if(!r||!n)return kc(s,e);const o={...r};return l=>(o.red=Ou(r.red,n.red,l),o.green=Ou(r.green,n.green,l),o.blue=Ou(r.blue,n.blue,l),o.alpha=jt(r.alpha,n.alpha,l),Ja.transform(o))},om=new Set(["none","hidden"]);function KC(s,e){return om.has(s)?r=>r<=0?s:e:r=>r>=1?e:s}function ZC(s,e){return r=>jt(s,e,r)}function t0(s){return typeof s=="number"?ZC:typeof s=="string"?Jm(s)?kc:us.test(s)?Vf:XC:Array.isArray(s)?Ab:typeof s=="object"?us.test(s)?Vf:YC:kc}function Ab(s,e){const r=[...s],n=r.length,o=s.map((l,c)=>t0(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)r[c]=o[c](l);return r}}function YC(s,e){const r={...s,...e},n={};for(const o in r)s[o]!==void 0&&e[o]!==void 0&&(n[o]=t0(s[o])(s[o],e[o]));return o=>{for(const l in n)r[l]=n[l](o);return r}}function qC(s,e){const r=[],n={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=s.indexes[l][n[l]],u=s.values[c]??0;r[o]=u,n[l]++}return r}const XC=(s,e)=>{const r=Ea.createTransformer(e),n=No(s),o=No(e);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?om.has(s)&&!o.values.length||om.has(e)&&!n.values.length?KC(s,e):Ro(Ab(qC(n,o),o.values),r):kc(s,e)};function Tb(s,e,r){return typeof s=="number"&&typeof e=="number"&&typeof r=="number"?jt(s,e,r):t0(s)(s,e)}const JC=s=>{const e=({timestamp:r})=>s(r);return{start:()=>kt.update(e,!0),stop:()=>Pa(e),now:()=>rs.isProcessing?rs.timestamp:Ps.now()}},Db=(s,e,r=10)=>{let n="";const o=Math.max(Math.round(e/r),2);for(let l=0;l<o;l++)n+=s(l/(o-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Cc=2e4;function s0(s){let e=0;const r=50;let n=s.next(e);for(;!n.done&&e<Cc;)e+=r,n=s.next(e);return e>=Cc?1/0:e}function QC(s,e=100,r){const n=r({...s,keyframes:[0,e]}),o=Math.min(s0(n),Cc);return{type:"keyframes",ease:l=>n.next(o*l).value/e,duration:_r(o)}}const e2=5;function _b(s,e,r){const n=Math.max(e-e2,0);return cb(r-s(n),e-n)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function t2({duration:s=Dt.duration,bounce:e=Dt.bounce,velocity:r=Dt.velocity,mass:n=Dt.mass}){let o,l,c=1-e;c=ta(Dt.minDamping,Dt.maxDamping,c),s=ta(Dt.minDuration,Dt.maxDuration,_r(s)),c<1?(o=p=>{const f=p*c,x=f*s,v=f-r,k=lm(p,c),C=Math.exp(-x);return Ff-v/k*C},l=p=>{const x=p*c*s,v=x*r+r,k=Math.pow(c,2)*Math.pow(p,2)*s,C=Math.exp(-x),N=lm(Math.pow(p,2),c);return(-o(p)+Ff>0?-1:1)*((v-k)*C)/N}):(o=p=>{const f=Math.exp(-p*s),x=(p-r)*s+1;return-.001+f*x},l=p=>{const f=Math.exp(-p*s),x=(r-p)*(s*s);return f*x});const u=5/s,m=r2(o,l,u);if(s=Dr(s),isNaN(m))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:s};{const p=Math.pow(m,2)*n;return{stiffness:p,damping:c*2*Math.sqrt(n*p),duration:s}}}const s2=12;function r2(s,e,r){let n=r;for(let o=1;o<s2;o++)n=n-s(n)/e(n);return n}function lm(s,e){return s*Math.sqrt(1-e*e)}const a2=["duration","bounce"],n2=["stiffness","damping","mass"];function Bf(s,e){return e.some(r=>s[r]!==void 0)}function i2(s){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...s};if(!Bf(s,n2)&&Bf(s,a2))if(s.visualDuration){const r=s.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,l=2*ta(.05,1,1-(s.bounce||0))*Math.sqrt(o);e={...e,mass:Dt.mass,stiffness:o,damping:l}}else{const r=t2(s);e={...e,...r,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Sc(s=Dt.visualDuration,e=Dt.bounce){const r=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:p,mass:f,duration:x,velocity:v,isResolvedFromDuration:k}=i2({...r,velocity:-_r(r.velocity||0)}),C=v||0,N=p/(2*Math.sqrt(m*f)),w=c-l,A=_r(Math.sqrt(m/f)),D=Math.abs(w)<5;n||(n=D?Dt.restSpeed.granular:Dt.restSpeed.default),o||(o=D?Dt.restDelta.granular:Dt.restDelta.default);let T;if(N<1){const E=lm(A,N);T=_=>{const L=Math.exp(-N*A*_);return c-L*((C+N*A*w)/E*Math.sin(E*_)+w*Math.cos(E*_))}}else if(N===1)T=E=>c-Math.exp(-A*E)*(w+(C+A*w)*E);else{const E=A*Math.sqrt(N*N-1);T=_=>{const L=Math.exp(-N*A*_),P=Math.min(E*_,300);return c-L*((C+N*A*w)*Math.sinh(P)+E*w*Math.cosh(P))/E}}const B={calculatedDuration:k&&x||null,next:E=>{const _=T(E);if(k)u.done=E>=x;else{let L=E===0?C:0;N<1&&(L=E===0?Dr(C):_b(T,E,_));const P=Math.abs(L)<=n,U=Math.abs(c-_)<=o;u.done=P&&U}return u.value=u.done?c:_,u},toString:()=>{const E=Math.min(s0(B),Cc),_=Db(L=>B.next(E*L).value,E,30);return E+"ms "+_},toTransition:()=>{}};return B}Sc.applyToOptions=s=>{const e=QC(s,100,Sc);return s.ease=e.ease,s.duration=Dr(e.duration),s.type="keyframes",s};function cm({keyframes:s,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:p=.5,restSpeed:f}){const x=s[0],v={done:!1,value:x},k=P=>u!==void 0&&P<u||m!==void 0&&P>m,C=P=>u===void 0?m:m===void 0||Math.abs(u-P)<Math.abs(m-P)?u:m;let N=r*e;const w=x+N,A=c===void 0?w:c(w);A!==w&&(N=A-x);const D=P=>-N*Math.exp(-P/n),T=P=>A+D(P),B=P=>{const U=D(P),W=T(P);v.done=Math.abs(U)<=p,v.value=v.done?A:W};let E,_;const L=P=>{k(v.value)&&(E=P,_=Sc({keyframes:[v.value,C(v.value)],velocity:_b(T,P,v.value),damping:o,stiffness:l,restDelta:p,restSpeed:f}))};return L(0),{calculatedDuration:null,next:P=>{let U=!1;return!_&&E===void 0&&(U=!0,B(P),L(P)),E!==void 0&&P>=E?_.next(P-E):(!U&&B(P),v)}}}function o2(s,e,r){const n=[],o=r||sa.mix||Tb,l=s.length-1;for(let c=0;c<l;c++){let u=o(s[c],s[c+1]);if(e){const m=Array.isArray(e)?e[c]||qs:e;u=Ro(m,u)}n.push(u)}return n}function l2(s,e,{clamp:r=!0,ease:n,mixer:o}={}){const l=s.length;if(Gm(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=s[0]===s[1];s[0]>s[l-1]&&(s=[...s].reverse(),e=[...e].reverse());const u=o2(e,n,o),m=u.length,p=f=>{if(c&&f<s[0])return e[0];let x=0;if(m>1)for(;x<s.length-2&&!(f<s[x+1]);x++);const v=wo(s[x],s[x+1],f);return u[x](v)};return r?f=>p(ta(s[0],s[l-1],f)):p}function c2(s,e){const r=s[s.length-1];for(let n=1;n<=e;n++){const o=wo(0,e,n);s.push(jt(r,1,o))}}function d2(s){const e=[0];return c2(e,s.length-1),e}function u2(s,e){return s.map(r=>r*e)}function m2(s,e){return s.map(()=>e||bb).splice(0,s.length-1)}function to({duration:s=300,keyframes:e,times:r,ease:n="easeInOut"}){const o=NC(n)?n.map(Mf):Mf(n),l={done:!1,value:e[0]},c=u2(r&&r.length===e.length?r:d2(e),s),u=l2(c,e,{ease:Array.isArray(o)?o:m2(e,o)});return{calculatedDuration:s,next:m=>(l.value=u(m),l.done=m>=s,l)}}const h2=s=>s!==null;function r0(s,{repeat:e,repeatType:r="loop"},n,o=1){const l=s.filter(h2),u=o<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!u||n===void 0?l[u]:n}const p2={decay:cm,inertia:cm,tween:to,keyframes:to,spring:Sc};function Pb(s){typeof s.type=="string"&&(s.type=p2[s.type])}class a0{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const f2=s=>s/100;class Eb extends a0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Ps.now()&&this.tick(Ps.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Pb(e);const{type:r=to,repeat:n=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const m=r||to;m!==to&&typeof u[0]!="number"&&(this.mixKeyframes=Ro(f2,Tb(u[0],u[1])),u=[0,100]);const p=m({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=s0(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:f,repeat:x,repeatType:v,repeatDelay:k,type:C,onUpdate:N,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const A=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let T=this.currentTime,B=n;if(x){const P=Math.min(this.currentTime,o)/u;let U=Math.floor(P),W=P%1;!W&&P>=1&&(W=1),W===1&&U--,U=Math.min(U,x+1),!!(U%2)&&(v==="reverse"?(W=1-W,k&&(W-=k/u)):v==="mirror"&&(B=c)),T=ta(0,1,W)*u}const E=D?{done:!1,value:f[0]}:B.next(T);l&&(E.value=l(E.value));let{done:_}=E;!D&&m!==null&&(_=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return L&&C!==cm&&(E.value=r0(f,this.options,w,this.speed)),N&&N(E.value),L&&this.finish(),E}then(e,r){return this.finished.then(e,r)}get duration(){return _r(this.calculatedDuration)}get time(){return _r(this.currentTime)}set time(e){e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ps.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=_r(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=JC,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),r&&r();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function x2(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const Qa=s=>s*180/Math.PI,dm=s=>{const e=Qa(Math.atan2(s[1],s[0]));return um(e)},g2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:dm,rotateZ:dm,skewX:s=>Qa(Math.atan(s[1])),skewY:s=>Qa(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},um=s=>(s=s%360,s<0&&(s+=360),s),Uf=dm,Wf=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),Hf=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),b2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wf,scaleY:Hf,scale:s=>(Wf(s)+Hf(s))/2,rotateX:s=>um(Qa(Math.atan2(s[6],s[5]))),rotateY:s=>um(Qa(Math.atan2(-s[2],s[0]))),rotateZ:Uf,rotate:Uf,skewX:s=>Qa(Math.atan(s[4])),skewY:s=>Qa(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function Gf(s){return s.includes("scale")?1:0}function mm(s,e){if(!s||s==="none")return Gf(e);const r=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(r)n=b2,o=r;else{const u=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=g2,o=u}if(!o)return Gf(e);const l=n[e],c=o[1].split(",").map(v2);return typeof l=="function"?l(c):c[l]}const y2=(s,e)=>{const{transform:r="none"}=getComputedStyle(s);return mm(r,e)};function v2(s){return parseFloat(s.trim())}const si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=new Set(si),Kf=s=>s===ti||s===Ue,w2=new Set(["x","y","z"]),j2=si.filter(s=>!w2.has(s));function N2(s){const e=[];return j2.forEach(r=>{const n=s.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const sn={width:({x:s},{paddingLeft:e="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),height:({y:s},{paddingTop:e="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>mm(e,"x"),y:(s,{transform:e})=>mm(e,"y")};sn.translateX=sn.x;sn.translateY=sn.y;const rn=new Set;let hm=!1,pm=!1,fm=!1;function Ib(){if(pm){const s=Array.from(rn).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),r=new Map;e.forEach(n=>{const o=N2(n);o.length&&(r.set(n,o),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([l,c])=>{var u;(u=n.getValue(l))==null||u.set(c)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pm=!1,hm=!1,rn.forEach(s=>s.complete(fm)),rn.clear()}function Rb(){rn.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(pm=!0)})}function k2(){fm=!0,Rb(),Ib(),fm=!1}class n0{constructor(e,r,n,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rn.add(this),hm||(hm=!0,kt.read(Rb),kt.resolveKeyframes(Ib))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(n&&r){const u=n.readValue(r,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}x2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const C2=s=>s.startsWith("--");function S2(s,e,r){C2(e)?s.style.setProperty(e,r):s.style[e]=r}const A2=Km(()=>window.ScrollTimeline!==void 0),T2={};function D2(s,e){const r=Km(s);return()=>T2[e]??r()}const Mb=D2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zi=([s,e,r,n])=>`cubic-bezier(${s}, ${e}, ${r}, ${n})`,Zf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zi([0,.65,.55,1]),circOut:Zi([.55,0,1,.45]),backIn:Zi([.31,.01,.66,-.59]),backOut:Zi([.33,1.53,.69,.99])};function Ob(s,e){if(s)return typeof s=="function"?Mb()?Db(s,e):"ease-out":yb(s)?Zi(s):Array.isArray(s)?s.map(r=>Ob(r,e)||Zf.easeOut):Zf[s]}function _2(s,e,r,{delay:n=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},p=void 0){const f={[e]:r};m&&(f.offset=m);const x=Ob(u,o);Array.isArray(x)&&(f.easing=x);const v={delay:n,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),s.animate(f,v)}function zb(s){return typeof s=="function"&&"applyToOptions"in s}function P2({type:s,...e}){return zb(s)&&Mb()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class E2 extends a0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Gm(typeof e.type!="string");const p=P2(e);this.animation=_2(r,n,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=r0(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):S2(r,n,f),this.animation.cancel()}m==null||m(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return _r(Number(e))}get time(){return _r(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&A2()?(this.animation.timeline=e,qs):r(this)}}const Lb={anticipate:fb,backInOut:pb,circInOut:gb};function I2(s){return s in Lb}function R2(s){typeof s.ease=="string"&&I2(s.ease)&&(s.ease=Lb[s.ease])}const Yf=10;class M2 extends E2{constructor(e){R2(e),Pb(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:o,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new Eb({...c,autoplay:!1}),m=Dr(this.finishedTime??this.time);r.setWithVelocity(u.sample(m-Yf).value,u.sample(m).value,Yf),u.stop()}}const qf=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Ea.test(s)||s==="0")&&!s.startsWith("url("));function O2(s){const e=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==e)return!0}function z2(s,e,r,n){const o=s[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=s[s.length-1],c=qf(o,e),u=qf(l,e);return!c||!u?!1:O2(s)||(r==="spring"||zb(r))&&n}const L2=new Set(["opacity","clipPath","filter","transform"]),$2=Km(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function V2(s){const{motionValue:e,name:r,repeatDelay:n,repeatType:o,damping:l,type:c}=s;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=e.owner.getProps();return $2()&&r&&L2.has(r)&&(r!=="transform"||!m)&&!u&&!n&&o!=="mirror"&&l!==0&&c!=="inertia"}const F2=40;class B2 extends a0{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:p,element:f,...x}){var C;super(),this.stop=()=>{var N,w;this._animation?(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)):(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ps.now();const v={autoplay:e,delay:r,type:n,repeat:o,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:f,...x},k=(f==null?void 0:f.KeyframeResolver)||n0;this.keyframeResolver=new k(u,(N,w,A)=>this.onKeyframesResolved(N,w,v,!A),m,p,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,r,n,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:p,onUpdate:f}=n;this.resolvedAt=Ps.now(),z2(e,l,c,u)||((sa.instantAnimations||!m)&&(f==null||f(r0(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>F2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},k=!p&&V2(v)?new M2({...v,element:v.motionValue.owner.current}):new Eb(v);k.finished.then(()=>this.notifyFinished()).catch(qs),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||k2(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const U2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W2(s){const e=U2.exec(s);if(!e)return[,];const[,r,n,o]=e;return[`--${r??n}`,o]}function $b(s,e,r=1){const[n,o]=W2(s);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return ob(c)?parseFloat(c):c}return Jm(o)?$b(o,e,r+1):o}function i0(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const Vb=new Set(["width","height","top","left","right","bottom",...si]),H2={test:s=>s==="auto",parse:s=>s},Fb=s=>e=>e.test(s),Bb=[ti,Ue,Pr,ka,OC,MC,H2],Xf=s=>Bb.find(Fb(s));function G2(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||lb(s):!0}const K2=new Set(["brightness","contrast","saturate","opacity"]);function Z2(s){const[e,r]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=r.match(Qm)||[];if(!n)return s;const o=r.replace(n,"");let l=K2.has(e)?1:0;return n!==r&&(l*=100),e+"("+l+o+")"}const Y2=/\b([a-z-]*)\(.*?\)/gu,xm={...Ea,getAnimatableNone:s=>{const e=s.match(Y2);return e?e.map(Z2).join(" "):s}},Jf={...ti,transform:Math.round},q2={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Jl,scaleX:Jl,scaleY:Jl,scaleZ:Jl,skew:ka,skewX:ka,skewY:ka,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:jo,originX:zf,originY:zf,originZ:Ue},o0={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...q2,zIndex:Jf,fillOpacity:jo,strokeOpacity:jo,numOctaves:Jf},X2={...o0,color:us,backgroundColor:us,outlineColor:us,fill:us,stroke:us,borderColor:us,borderTopColor:us,borderRightColor:us,borderBottomColor:us,borderLeftColor:us,filter:xm,WebkitFilter:xm},Ub=s=>X2[s];function Wb(s,e){let r=Ub(s);return r!==xm&&(r=Ea),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const J2=new Set(["auto","none","0"]);function Q2(s,e,r){let n=0,o;for(;n<s.length&&!o;){const l=s[n];typeof l=="string"&&!J2.has(l)&&No(l).values.length&&(o=s[n]),n++}if(o&&r)for(const l of e)s[l]=Wb(r,o)}class eS extends n0{constructor(e,r,n,o,l){super(e,r,n,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Jm(p))){const f=$b(p,r.current);f!==void 0&&(e[m]=f),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Vb.has(n)||e.length!==2)return;const[o,l]=e,c=Xf(o),u=Xf(l);if(c!==u)if(Kf(c)&&Kf(u))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else sn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let o=0;o<e.length;o++)(e[o]===null||G2(e[o]))&&n.push(o);n.length&&Q2(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(n,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=sn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function tS(s,e,r){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let n=document;const o=(r==null?void 0:r[s])??n.querySelectorAll(s);return o?Array.from(o):[]}return Array.from(s)}const Qf=30,sS=s=>!isNaN(parseFloat(s));class rS{constructor(e,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{var c,u;const l=Ps.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ps.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Zm);const n=this.events[e].add(r);return e==="change"?()=>{n(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qf)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Qf);return cb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ko(s,e){return new rS(s,e)}const Hb=(s,e)=>e&&typeof s=="number"?e.transform(s):s,{schedule:l0}=vb(queueMicrotask,!1),or={x:!1,y:!1};function Gb(){return or.x||or.y}function aS(s){return s==="x"||s==="y"?or[s]?null:(or[s]=!0,()=>{or[s]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function Kb(s,e){const r=tS(s),n=new AbortController,o={passive:!0,...e,signal:n.signal};return[r,o,()=>n.abort()]}function ex(s){return!(s.pointerType==="touch"||Gb())}function nS(s,e,r={}){const[n,o,l]=Kb(s,r),c=u=>{if(!ex(u))return;const{target:m}=u,p=e(m,u);if(typeof p!="function"||!m)return;const f=x=>{ex(x)&&(p(x),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,o)};return n.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const Zb=(s,e)=>e?s===e?!0:Zb(s,e.parentElement):!1,c0=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,iS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oS(s){return iS.has(s.tagName)||s.tabIndex!==-1}const Yi=new WeakSet;function tx(s){return e=>{e.key==="Enter"&&s(e)}}function zu(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lS=(s,e)=>{const r=s.currentTarget;if(!r)return;const n=tx(()=>{if(Yi.has(r))return;zu(r,"down");const o=tx(()=>{zu(r,"up")}),l=()=>zu(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function sx(s){return c0(s)&&!Gb()}function cS(s,e,r={}){const[n,o,l]=Kb(s,r),c=u=>{const m=u.currentTarget;if(!sx(u)||Yi.has(m))return;Yi.add(m);const p=e(m,u),f=(k,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),Yi.has(m)&&Yi.delete(m),sx(k)&&typeof p=="function"&&p(k,{success:C})},x=k=>{f(k,m===window||m===document||r.useGlobalTarget||Zb(m,k.target))},v=k=>{f(k,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",v,o)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),u instanceof HTMLElement&&(u.addEventListener("focus",p=>lS(p,o)),!oS(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}const dS=[...Bb,us,Ea],uS=s=>dS.find(Fb(s)),Yb=j.createContext({strict:!1}),rx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yn={};for(const s in rx)Yn[s]={isEnabled:e=>rx[s].some(r=>!!e[r])};function mS(s){for(const e in s)Yn[e]={...Yn[e],...s[e]}}const hS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ac(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||hS.has(s)}let qb=s=>!Ac(s);function pS(s){s&&(qb=e=>e.startsWith("on")?!Ac(e):s(e))}try{pS(require("@emotion/is-prop-valid").default)}catch{}function fS(s,e,r){const n={};for(const o in s)o==="values"&&typeof s.values=="object"||(qb(o)||r===!0&&Ac(o)||!e&&!Ac(o)||s.draggable&&o.startsWith("onDrag"))&&(n[o]=s[o]);return n}function xS(s){if(typeof Proxy>"u")return s;const e=new Map,r=(...n)=>s(...n);return new Proxy(r,{get:(n,o)=>o==="create"?s:(e.has(o)||e.set(o,s(o)),e.get(o))})}const Rc=j.createContext({});function Mc(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Co(s){return typeof s=="string"||Array.isArray(s)}const d0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...d0];function Oc(s){return Mc(s.animate)||u0.some(e=>Co(s[e]))}function Xb(s){return!!(Oc(s)||s.variants)}function gS(s,e){if(Oc(s)){const{initial:r,animate:n}=s;return{initial:r===!1||Co(r)?r:void 0,animate:Co(n)?n:void 0}}return s.inherit!==!1?e:{}}function bS(s){const{initial:e,animate:r}=gS(s,j.useContext(Rc));return j.useMemo(()=>({initial:e,animate:r}),[ax(e),ax(r)])}function ax(s){return Array.isArray(s)?s.join(" "):s}const yS=Symbol.for("motionComponentSymbol");function $n(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function vS(s,e,r){return j.useCallback(n=>{n&&s.onMount&&s.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):$n(r)&&(r.current=n))},[e])}const m0=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wS="framerAppearId",Jb="data-"+m0(wS),Qb=j.createContext({});function jS(s,e,r,n,o){var N,w;const{visualElement:l}=j.useContext(Rc),c=j.useContext(Yb),u=j.useContext(Ic),m=j.useContext(Um).reducedMotion,p=j.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(s,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const f=p.current,x=j.useContext(Qb);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&NS(p.current,r,o,x);const v=j.useRef(!1);j.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const k=r[Jb],C=j.useRef(!!k&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,k))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,k)));return nb(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),l0.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,k)}),C.current=!1))}),f}function NS(s,e,r,n){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:p,layoutCrossfade:f}=e;s.projection=new r(s.latestValues,e["data-framer-portal-id"]?void 0:ey(s.parent)),s.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&$n(u),visualElement:s,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:m,layoutRoot:p})}function ey(s){if(s)return s.options.allowProjection!==!1?s.projection:ey(s.parent)}function kS({preloadedFeatures:s,createVisualElement:e,useRender:r,useVisualState:n,Component:o}){s&&mS(s);function l(u,m){let p;const f={...j.useContext(Um),...u,layoutId:CS(u)},{isStatic:x}=f,v=bS(u),k=n(u,x);if(!x&&Bm){SS();const C=AS(f);p=C.MeasureLayout,v.visualElement=jS(o,k,f,e,C.ProjectionNode)}return t.jsxs(Rc.Provider,{value:v,children:[p&&v.visualElement?t.jsx(p,{visualElement:v.visualElement,...f}):null,r(o,u,vS(k,v.visualElement,m),k,x,v.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=j.forwardRef(l);return c[yS]=o,c}function CS({layoutId:s}){const e=j.useContext(Vm).id;return e&&s!==void 0?e+"-"+s:s}function SS(s,e){j.useContext(Yb).strict}function AS(s){const{drag:e,layout:r}=Yn;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(s)||r!=null&&r.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const So={};function TS(s){for(const e in s)So[e]=s[e],Xm(e)&&(So[e].isCSSVariable=!0)}function ty(s,{layout:e,layoutId:r}){return ri.has(s)||s.startsWith("origin")||(e||r!==void 0)&&(!!So[s]||s==="opacity")}const ms=s=>!!(s&&s.getVelocity),DS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_S=si.length;function PS(s,e,r){let n="",o=!0;for(let l=0;l<_S;l++){const c=si[l],u=s[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||r){const p=Hb(u,o0[c]);if(!m){o=!1;const f=DS[c]||c;n+=`${f}(${p}) `}r&&(e[c]=p)}}return n=n.trim(),r?n=r(e,o?"":n):o&&(n="none"),n}function h0(s,e,r){const{style:n,vars:o,transformOrigin:l}=s;let c=!1,u=!1;for(const m in e){const p=e[m];if(ri.has(m)){c=!0;continue}else if(Xm(m)){o[m]=p;continue}else{const f=Hb(p,o0[m]);m.startsWith("origin")?(u=!0,l[m]=f):n[m]=f}}if(e.transform||(c||r?n.transform=PS(e,s.transform,r):n.transform&&(n.transform="none")),u){const{originX:m="50%",originY:p="50%",originZ:f=0}=l;n.transformOrigin=`${m} ${p} ${f}`}}const p0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sy(s,e,r){for(const n in e)!ms(e[n])&&!ty(n,r)&&(s[n]=e[n])}function ES({transformTemplate:s},e){return j.useMemo(()=>{const r=p0();return h0(r,e,s),Object.assign({},r.vars,r.style)},[e])}function IS(s,e){const r=s.style||{},n={};return sy(n,r,s),Object.assign(n,ES(s,e)),n}function RS(s,e){const r={},n=IS(s,e);return s.drag&&s.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(r.tabIndex=0),r.style=n,r}const MS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(s){return typeof s!="string"||s.includes("-")?!1:!!(MS.indexOf(s)>-1||/[A-Z]/u.test(s))}const OS={offset:"stroke-dashoffset",array:"stroke-dasharray"},zS={offset:"strokeDashoffset",array:"strokeDasharray"};function LS(s,e,r=1,n=0,o=!0){s.pathLength=1;const l=o?OS:zS;s[l.offset]=Ue.transform(-n);const c=Ue.transform(e),u=Ue.transform(r);s[l.array]=`${c} ${u}`}function ry(s,{attrX:e,attrY:r,attrScale:n,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},m,p,f){if(h0(s,u,p),m){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:x,style:v}=s;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),o!==void 0&&LS(x,o,l,c,!1)}const ay=()=>({...p0(),attrs:{}}),ny=s=>typeof s=="string"&&s.toLowerCase()==="svg";function $S(s,e,r,n){const o=j.useMemo(()=>{const l=ay();return ry(l,e,ny(n),s.transformTemplate,s.style),{...l.attrs,style:{...l.style}}},[e]);if(s.style){const l={};sy(l,s.style,s),o.style={...l,...o.style}}return o}function VS(s=!1){return(r,n,o,{latestValues:l},c)=>{const m=(f0(r)?$S:RS)(n,l,c,r),p=fS(n,typeof r=="string",s),f=r!==j.Fragment?{...p,...m,ref:o}:{},{children:x}=n,v=j.useMemo(()=>ms(x)?x.get():x,[x]);return j.createElement(r,{...f,children:v})}}function nx(s){const e=[{},{}];return s==null||s.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function x0(s,e,r,n){if(typeof e=="function"){const[o,l]=nx(n);e=e(r!==void 0?r:s.custom,o,l)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[o,l]=nx(n);e=e(r!==void 0?r:s.custom,o,l)}return e}function uc(s){return ms(s)?s.get():s}function FS({scrapeMotionValuesFromProps:s,createRenderState:e},r,n,o){return{latestValues:BS(r,n,o,s),renderState:e()}}const iy=s=>(e,r)=>{const n=j.useContext(Rc),o=j.useContext(Ic),l=()=>FS(s,e,n,o);return r?l():Fm(l)};function BS(s,e,r,n){const o={},l=n(s,{});for(const v in l)o[v]=uc(l[v]);let{initial:c,animate:u}=s;const m=Oc(s),p=Xb(s);e&&p&&!m&&s.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const x=f?u:c;if(x&&typeof x!="boolean"&&!Mc(x)){const v=Array.isArray(x)?x:[x];for(let k=0;k<v.length;k++){const C=x0(s,v[k]);if(C){const{transitionEnd:N,transition:w,...A}=C;for(const D in A){let T=A[D];if(Array.isArray(T)){const B=f?T.length-1:0;T=T[B]}T!==null&&(o[D]=T)}for(const D in N)o[D]=N[D]}}}return o}function g0(s,e,r){var l;const{style:n}=s,o={};for(const c in n)(ms(n[c])||e.style&&ms(e.style[c])||ty(c,s)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=n[c]);return o}const US={useVisualState:iy({scrapeMotionValuesFromProps:g0,createRenderState:p0})};function oy(s,e,r){const n=g0(s,e,r);for(const o in s)if(ms(s[o])||ms(e[o])){const l=si.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=s[o]}return n}const WS={useVisualState:iy({scrapeMotionValuesFromProps:oy,createRenderState:ay})};function HS(s,e){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...f0(n)?WS:US,preloadedFeatures:s,useRender:VS(o),createVisualElement:e,Component:n};return kS(c)}}function Ao(s,e,r){const n=s.getProps();return x0(n,e,r!==void 0?r:n.custom,s)}const gm=s=>Array.isArray(s);function GS(s,e,r){s.hasValue(e)?s.getValue(e).set(r):s.addValue(e,ko(r))}function KS(s){return gm(s)?s[s.length-1]||0:s}function ZS(s,e){const r=Ao(s,e);let{transitionEnd:n={},transition:o={},...l}=r||{};l={...l,...n};for(const c in l){const u=KS(l[c]);GS(s,c,u)}}function YS(s){return!!(ms(s)&&s.add)}function bm(s,e){const r=s.getValue("willChange");if(YS(r))return r.add(e);if(!r&&sa.WillChange){const n=new sa.WillChange("auto");s.addValue("willChange",n),n.add(e)}}function ly(s){return s.props[Jb]}const qS=s=>s!==null;function XS(s,{repeat:e,repeatType:r="loop"},n){const o=s.filter(qS),l=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[l]}const JS={type:"spring",stiffness:500,damping:25,restSpeed:10},QS=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),e4={type:"keyframes",duration:.8},t4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s4=(s,{keyframes:e})=>e.length>2?e4:ri.has(s)?s.startsWith("scale")?QS(e[1]):JS:t4;function r4({when:s,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:p,...f}){return!!Object.keys(f).length}const b0=(s,e,r,n={},o,l)=>c=>{const u=i0(n,s)||{},m=u.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Dr(m);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:s,motionValue:e,element:l?void 0:o};r4(u)||Object.assign(f,s4(s,f)),f.duration&&(f.duration=Dr(f.duration)),f.repeatDelay&&(f.repeatDelay=Dr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let x=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(x=!0)),(sa.instantAnimations||sa.skipAnimations)&&(x=!0,f.duration=0,f.delay=0),f.allowFlatten=!u.type&&!u.ease,x&&!l&&e.get()!==void 0){const v=XS(f.keyframes,u);if(v!==void 0){kt.update(()=>{f.onUpdate(v),f.onComplete()});return}}return new B2(f)};function a4({protectedKeys:s,needsAnimating:e},r){const n=s.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function cy(s,e,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:l=s.getDefaultTransition(),transitionEnd:c,...u}=e;n&&(l=n);const m=[],p=o&&s.animationState&&s.animationState.getState()[o];for(const f in u){const x=s.getValue(f,s.latestValues[f]??null),v=u[f];if(v===void 0||p&&a4(p,f))continue;const k={delay:r,...i0(l||{},f)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===C&&!k.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const A=ly(s);if(A){const D=window.MotionHandoffAnimation(A,f,kt);D!==null&&(k.startTime=D,N=!0)}}bm(s,f),x.start(b0(f,x,v,s.shouldReduceMotion&&Vb.has(f)?{type:!1}:k,s,N));const w=x.animation;w&&m.push(w)}return c&&Promise.all(m).then(()=>{kt.update(()=>{c&&ZS(s,c)})}),m}function ym(s,e,r={}){var m;const n=Ao(s,e,r.type==="exit"?(m=s.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=s.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const l=n?()=>Promise.all(cy(s,n,r)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:x,staggerDirection:v}=o;return n4(s,e,f+p,x,v,r)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,f]=u==="beforeChildren"?[l,c]:[c,l];return p().then(()=>f())}else return Promise.all([l(),c(r.delay)])}function n4(s,e,r=0,n=0,o=1,l){const c=[],u=(s.variantChildren.size-1)*n,m=o===1?(p=0)=>p*n:(p=0)=>u-p*n;return Array.from(s.variantChildren).sort(i4).forEach((p,f)=>{p.notify("AnimationStart",e),c.push(ym(p,e,{...l,delay:r+m(f)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function i4(s,e){return s.sortNodePosition(e)}function o4(s,e,r={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const o=e.map(l=>ym(s,l,r));n=Promise.all(o)}else if(typeof e=="string")n=ym(s,e,r);else{const o=typeof e=="function"?Ao(s,e,r.custom):e;n=Promise.all(cy(s,o,r))}return n.then(()=>{s.notify("AnimationComplete",e)})}function dy(s,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==s.length)return!1;for(let n=0;n<r;n++)if(e[n]!==s[n])return!1;return!0}const l4=u0.length;function uy(s){if(!s)return;if(!s.isControllingVariants){const r=s.parent?uy(s.parent)||{}:{};return s.props.initial!==void 0&&(r.initial=s.props.initial),r}const e={};for(let r=0;r<l4;r++){const n=u0[r],o=s.props[n];(Co(o)||o===!1)&&(e[n]=o)}return e}const c4=[...d0].reverse(),d4=d0.length;function u4(s){return e=>Promise.all(e.map(({animation:r,options:n})=>o4(s,r,n)))}function m4(s){let e=u4(s),r=ix(),n=!0;const o=m=>(p,f)=>{var v;const x=Ao(s,f,m==="exit"?(v=s.presenceContext)==null?void 0:v.custom:void 0);if(x){const{transition:k,transitionEnd:C,...N}=x;p={...p,...N,...C}}return p};function l(m){e=m(s)}function c(m){const{props:p}=s,f=uy(s.parent)||{},x=[],v=new Set;let k={},C=1/0;for(let w=0;w<d4;w++){const A=c4[w],D=r[A],T=p[A]!==void 0?p[A]:f[A],B=Co(T),E=A===m?D.isActive:null;E===!1&&(C=w);let _=T===f[A]&&T!==p[A]&&B;if(_&&n&&s.manuallyAnimateOnMount&&(_=!1),D.protectedKeys={...k},!D.isActive&&E===null||!T&&!D.prevProp||Mc(T)||typeof T=="boolean")continue;const L=h4(D.prevProp,T);let P=L||A===m&&D.isActive&&!_&&B||w>C&&B,U=!1;const W=Array.isArray(T)?T:[T];let re=W.reduce(o(A),{});E===!1&&(re={});const{prevResolvedValues:te={}}=D,se={...te,...re},ae=K=>{P=!0,v.has(K)&&(U=!0,v.delete(K)),D.needsAnimating[K]=!0;const R=s.getValue(K);R&&(R.liveStyle=!1)};for(const K in se){const R=re[K],J=te[K];if(k.hasOwnProperty(K))continue;let Q=!1;gm(R)&&gm(J)?Q=!dy(R,J):Q=R!==J,Q?R!=null?ae(K):v.add(K):R!==void 0&&v.has(K)?ae(K):D.protectedKeys[K]=!0}D.prevProp=T,D.prevResolvedValues=re,D.isActive&&(k={...k,...re}),n&&s.blockInitialAnimation&&(P=!1),P&&(!(_&&L)||U)&&x.push(...W.map(K=>({animation:K,options:{type:A}})))}if(v.size){const w={};if(typeof p.initial!="boolean"){const A=Ao(s,Array.isArray(p.initial)?p.initial[0]:p.initial);A&&A.transition&&(w.transition=A.transition)}v.forEach(A=>{const D=s.getBaseTarget(A),T=s.getValue(A);T&&(T.liveStyle=!0),w[A]=D??null}),x.push({animation:w})}let N=!!x.length;return n&&(p.initial===!1||p.initial===p.animate)&&!s.manuallyAnimateOnMount&&(N=!1),n=!1,N?e(x):Promise.resolve()}function u(m,p){var x;if(r[m].isActive===p)return Promise.resolve();(x=s.variantChildren)==null||x.forEach(v=>{var k;return(k=v.animationState)==null?void 0:k.setActive(m,p)}),r[m].isActive=p;const f=c(m);for(const v in r)r[v].protectedKeys={};return f}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>r,reset:()=>{r=ix(),n=!0}}}function h4(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!dy(e,s):!1}function Ya(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ix(){return{animate:Ya(!0),whileInView:Ya(),whileHover:Ya(),whileTap:Ya(),whileDrag:Ya(),whileFocus:Ya(),exit:Ya()}}class Ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}class p4 extends Ia{constructor(e){super(e),e.animationState||(e.animationState=m4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let f4=0;class x4 extends Ia{constructor(){super(...arguments),this.id=f4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const g4={animation:{Feature:p4},exit:{Feature:x4}};function To(s,e,r,n={passive:!0}){return s.addEventListener(e,r,n),()=>s.removeEventListener(e,r)}function zo(s){return{point:{x:s.pageX,y:s.pageY}}}const b4=s=>e=>c0(e)&&s(e,zo(e));function so(s,e,r,n){return To(s,e,b4(r),n)}function my({top:s,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:s,max:n}}}function y4({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function v4(s,e){if(!e)return s;const r=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const hy=1e-4,w4=1-hy,j4=1+hy,py=.01,N4=0-py,k4=0+py;function vs(s){return s.max-s.min}function C4(s,e,r){return Math.abs(s-e)<=r}function ox(s,e,r,n=.5){s.origin=n,s.originPoint=jt(e.min,e.max,s.origin),s.scale=vs(r)/vs(e),s.translate=jt(r.min,r.max,s.origin)-s.originPoint,(s.scale>=w4&&s.scale<=j4||isNaN(s.scale))&&(s.scale=1),(s.translate>=N4&&s.translate<=k4||isNaN(s.translate))&&(s.translate=0)}function ro(s,e,r,n){ox(s.x,e.x,r.x,n?n.originX:void 0),ox(s.y,e.y,r.y,n?n.originY:void 0)}function lx(s,e,r){s.min=r.min+e.min,s.max=s.min+vs(e)}function S4(s,e,r){lx(s.x,e.x,r.x),lx(s.y,e.y,r.y)}function cx(s,e,r){s.min=e.min-r.min,s.max=s.min+vs(e)}function ao(s,e,r){cx(s.x,e.x,r.x),cx(s.y,e.y,r.y)}const dx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vn=()=>({x:dx(),y:dx()}),ux=()=>({min:0,max:0}),It=()=>({x:ux(),y:ux()});function Zs(s){return[s("x"),s("y")]}function Lu(s){return s===void 0||s===1}function vm({scale:s,scaleX:e,scaleY:r}){return!Lu(s)||!Lu(e)||!Lu(r)}function qa(s){return vm(s)||fy(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function fy(s){return mx(s.x)||mx(s.y)}function mx(s){return s&&s!=="0%"}function Tc(s,e,r){const n=s-r,o=e*n;return r+o}function hx(s,e,r,n,o){return o!==void 0&&(s=Tc(s,o,n)),Tc(s,r,n)+e}function wm(s,e=0,r=1,n,o){s.min=hx(s.min,e,r,n,o),s.max=hx(s.max,e,r,n,o)}function xy(s,{x:e,y:r}){wm(s.x,e.translate,e.scale,e.originPoint),wm(s.y,r.translate,r.scale,r.originPoint)}const px=.999999999999,fx=1.0000000000001;function A4(s,e,r,n=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=r[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bn(s,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,xy(s,c)),n&&qa(l.latestValues)&&Bn(s,l.latestValues))}e.x<fx&&e.x>px&&(e.x=1),e.y<fx&&e.y>px&&(e.y=1)}function Fn(s,e){s.min=s.min+e,s.max=s.max+e}function xx(s,e,r,n,o=.5){const l=jt(s.min,s.max,o);wm(s,e,r,l,n)}function Bn(s,e){xx(s.x,e.x,e.scaleX,e.scale,e.originX),xx(s.y,e.y,e.scaleY,e.scale,e.originY)}function gy(s,e){return my(v4(s.getBoundingClientRect(),e))}function T4(s,e,r){const n=gy(s,r),{scroll:o}=e;return o&&(Fn(n.x,o.offset.x),Fn(n.y,o.offset.y)),n}const by=({current:s})=>s?s.ownerDocument.defaultView:null,gx=(s,e)=>Math.abs(s-e);function D4(s,e){const r=gx(s.x,e.x),n=gx(s.y,e.y);return Math.sqrt(r**2+n**2)}class yy{constructor(e,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Vu(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,k=D4(x.offset,{x:0,y:0})>=3;if(!v&&!k)return;const{point:C}=x,{timestamp:N}=rs;this.history.push({...C,timestamp:N});const{onStart:w,onMove:A}=this.handlers;v||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=$u(v,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:k,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vu(x.type==="pointercancel"?this.lastMoveEventInfo:$u(v,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,w),C&&C(x,w)},!c0(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=zo(e),u=$u(c,this.transformPagePoint),{point:m}=u,{timestamp:p}=rs;this.history=[{...m,timestamp:p}];const{onSessionStart:f}=r;f&&f(e,Vu(u,this.history)),this.removeListeners=Ro(so(this.contextWindow,"pointermove",this.handlePointerMove),so(this.contextWindow,"pointerup",this.handlePointerUp),so(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function $u(s,e){return e?{point:e(s.point)}:s}function bx(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Vu({point:s},e){return{point:s,delta:bx(s,vy(e)),offset:bx(s,_4(e)),velocity:P4(e,.1)}}function _4(s){return s[0]}function vy(s){return s[s.length-1]}function P4(s,e){if(s.length<2)return{x:0,y:0};let r=s.length-1,n=null;const o=vy(s);for(;r>=0&&(n=s[r],!(o.timestamp-n.timestamp>Dr(e)));)r--;if(!n)return{x:0,y:0};const l=_r(o.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-n.x)/l,y:(o.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function E4(s,{min:e,max:r},n){return e!==void 0&&s<e?s=n?jt(e,s,n.min):Math.max(s,e):r!==void 0&&s>r&&(s=n?jt(r,s,n.max):Math.min(s,r)),s}function yx(s,e,r){return{min:e!==void 0?s.min+e:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function I4(s,{top:e,left:r,bottom:n,right:o}){return{x:yx(s.x,r,o),y:yx(s.y,e,n)}}function vx(s,e){let r=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([r,n]=[n,r]),{min:r,max:n}}function R4(s,e){return{x:vx(s.x,e.x),y:vx(s.y,e.y)}}function M4(s,e){let r=.5;const n=vs(s),o=vs(e);return o>n?r=wo(e.min,e.max-n,s.min):n>o&&(r=wo(s.min,s.max-o,e.min)),ta(0,1,r)}function O4(s,e){const r={};return e.min!==void 0&&(r.min=e.min-s.min),e.max!==void 0&&(r.max=e.max-s.min),r}const jm=.35;function z4(s=jm){return s===!1?s=0:s===!0&&(s=jm),{x:wx(s,"left","right"),y:wx(s,"top","bottom")}}function wx(s,e,r){return{min:jx(s,e),max:jx(s,r)}}function jx(s,e){return typeof s=="number"?s:s[e]||0}const L4=new WeakMap;class $4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(zo(f).point)},l=(f,x)=>{const{drag:v,dragPropagation:k,onDragStart:C}=this.getProps();if(v&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aS(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zs(w=>{let A=this.getAxisMotionValue(w).get()||0;if(Pr.test(A)){const{projection:D}=this.visualElement;if(D&&D.layout){const T=D.layout.layoutBox[w];T&&(A=vs(T)*(parseFloat(A)/100))}}this.originPoint[w]=A}),C&&kt.postRender(()=>C(f,x)),bm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(f,x)=>{const{dragPropagation:v,dragDirectionLock:k,onDirectionLock:C,onDrag:N}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=x;if(k&&this.currentDirection===null){this.currentDirection=V4(w),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),N&&N(f,x)},u=(f,x)=>this.stop(f,x),m=()=>Zs(f=>{var x;return this.getAnimationState(f)==="paused"&&((x=this.getAxisMotionValue(f).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new yy(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:by(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kt.postRender(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:o}=this.getProps();if(!n||!Ql(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=E4(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&$n(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=I4(n.layoutBox,e):this.constraints=!1,this.elastic=z4(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=O4(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!$n(e))return!1;const n=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=T4(n,o.root,this.visualElement.getTransformPagePoint());let c=R4(o.layout.layoutBox,l);if(r){const u=r(y4(c));this.hasMutatedConstraints=!!u,u&&(c=my(u))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},p=Zs(f=>{if(!Ql(f,r,this.currentDirection))return;let x=m&&m[f]||{};c&&(x={min:0,max:0});const v=o?200:1e6,k=o?40:1e7,C={type:"inertia",velocity:n?e[f]:0,bounceStiffness:v,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(f,C)});return Promise.all(p).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return bm(this.visualElement,e),n.start(b0(e,n,0,r,this.visualElement,!1))}stopAnimation(){Zs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zs(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zs(r=>{const{drag:n}=this.getProps();if(!Ql(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[r];l.set(e[r]-jt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!$n(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zs(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();o[c]=M4({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zs(c=>{if(!Ql(c,e,null))return;const u=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];u.set(jt(m,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;L4.set(this.visualElement,this);const e=this.visualElement.current,r=so(e,"pointerdown",m=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(m)}),n=()=>{const{dragConstraints:m}=this.getProps();$n(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),kt.read(n);const c=To(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zs(f=>{const x=this.getAxisMotionValue(f);x&&(this.originPoint[f]+=m[f].translate,x.set(x.get()+m[f].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=jm,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Ql(s,e,r){return(e===!0||e===s)&&(r===null||r===s)}function V4(s,e=10){let r=null;return Math.abs(s.y)>e?r="y":Math.abs(s.x)>e&&(r="x"),r}class F4 extends Ia{constructor(e){super(e),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new $4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nx=s=>(e,r)=>{s&&kt.postRender(()=>s(e,r))};class B4 extends Ia{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(e){this.session=new yy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:by(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Nx(e),onStart:Nx(r),onMove:n,onEnd:(l,c)=>{delete this.session,o&&kt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kx(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const Ui={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(Ue.test(s))s=parseFloat(s);else return s;const r=kx(s,e.target.x),n=kx(s,e.target.y);return`${r}% ${n}%`}},U4={correct:(s,{treeScale:e,projectionDelta:r})=>{const n=s,o=Ea.parse(s);if(o.length>5)return n;const l=Ea.createTransformer(s),c=typeof o[0]!="number"?1:0,u=r.x.scale*e.x,m=r.y.scale*e.y;o[0+c]/=u,o[1+c]/=m;const p=jt(u,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class W4 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:l}=e;TS(H4),l&&(r.group&&r.group.add(l),n&&n.register&&o&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:o,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,o||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||kt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wy(s){const[e,r]=ib(),n=j.useContext(Vm);return t.jsx(W4,{...s,layoutGroup:n,switchLayoutGroup:j.useContext(Qb),isPresent:e,safeToRemove:r})}const H4={borderRadius:{...Ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ui,borderTopRightRadius:Ui,borderBottomLeftRadius:Ui,borderBottomRightRadius:Ui,boxShadow:U4};function G4(s,e,r){const n=ms(s)?s:ko(s);return n.start(b0("",n,e,r)),n.animation}function K4(s){return s instanceof SVGElement&&s.tagName!=="svg"}const Z4=(s,e)=>s.depth-e.depth;class Y4{constructor(){this.children=[],this.isDirty=!1}add(e){Wm(this.children,e),this.isDirty=!0}remove(e){Hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Z4),this.isDirty=!1,this.children.forEach(e)}}function q4(s,e){const r=Ps.now(),n=({timestamp:o})=>{const l=o-r;l>=e&&(Pa(n),s(l-e))};return kt.setup(n,!0),()=>Pa(n)}const jy=["TopLeft","TopRight","BottomLeft","BottomRight"],X4=jy.length,Cx=s=>typeof s=="string"?parseFloat(s):s,Sx=s=>typeof s=="number"||Ue.test(s);function J4(s,e,r,n,o,l){o?(s.opacity=jt(0,r.opacity??1,Q4(n)),s.opacityExit=jt(e.opacity??1,0,e3(n))):l&&(s.opacity=jt(e.opacity??1,r.opacity??1,n));for(let c=0;c<X4;c++){const u=`border${jy[c]}Radius`;let m=Ax(e,u),p=Ax(r,u);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Sx(m)===Sx(p)?(s[u]=Math.max(jt(Cx(m),Cx(p),n),0),(Pr.test(p)||Pr.test(m))&&(s[u]+="%")):s[u]=p}(e.rotate||r.rotate)&&(s.rotate=jt(e.rotate||0,r.rotate||0,n))}function Ax(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const Q4=Ny(0,.5,xb),e3=Ny(.5,.95,qs);function Ny(s,e,r){return n=>n<s?0:n>e?1:r(wo(s,e,n))}function Tx(s,e){s.min=e.min,s.max=e.max}function Ks(s,e){Tx(s.x,e.x),Tx(s.y,e.y)}function Dx(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function _x(s,e,r,n,o){return s-=e,s=Tc(s,1/r,n),o!==void 0&&(s=Tc(s,1/o,n)),s}function t3(s,e=0,r=1,n=.5,o,l=s,c=s){if(Pr.test(e)&&(e=parseFloat(e),e=jt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=jt(l.min,l.max,n);s===l&&(u-=e),s.min=_x(s.min,e,r,u,o),s.max=_x(s.max,e,r,u,o)}function Px(s,e,[r,n,o],l,c){t3(s,e[r],e[n],e[o],e.scale,l,c)}const s3=["x","scaleX","originX"],r3=["y","scaleY","originY"];function Ex(s,e,r,n){Px(s.x,e,s3,r?r.x:void 0,n?n.x:void 0),Px(s.y,e,r3,r?r.y:void 0,n?n.y:void 0)}function Ix(s){return s.translate===0&&s.scale===1}function ky(s){return Ix(s.x)&&Ix(s.y)}function Rx(s,e){return s.min===e.min&&s.max===e.max}function a3(s,e){return Rx(s.x,e.x)&&Rx(s.y,e.y)}function Mx(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function Cy(s,e){return Mx(s.x,e.x)&&Mx(s.y,e.y)}function Ox(s){return vs(s.x)/vs(s.y)}function zx(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class n3{constructor(){this.members=[]}add(e){Wm(this.members,e),e.scheduleRender()}remove(e){if(Hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i3(s,e,r){let n="";const o=s.x.translate/e.x,l=s.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((o||l||c)&&(n=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:f,rotateX:x,rotateY:v,skewX:k,skewY:C}=r;p&&(n=`perspective(${p}px) ${n}`),f&&(n+=`rotate(${f}deg) `),x&&(n+=`rotateX(${x}deg) `),v&&(n+=`rotateY(${v}deg) `),k&&(n+=`skewX(${k}deg) `),C&&(n+=`skewY(${C}deg) `)}const u=s.x.scale*e.x,m=s.y.scale*e.y;return(u!==1||m!==1)&&(n+=`scale(${u}, ${m})`),n||"none"}const Fu=["","X","Y","Z"],o3={visibility:"hidden"},Lx=1e3;let l3=0;function Bu(s,e,r,n){const{latestValues:o}=e;o[s]&&(r[s]=o[s],e.setStaticValue(s,0),n&&(n[s]=0))}function Sy(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const r=ly(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=s.options;window.MotionCancelOptimisedAnimation(r,"transform",kt,!(o||l))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&Sy(n)}function Ay({attachResizeListener:s,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=l3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u3),this.nodes.forEach(x3),this.nodes.forEach(g3),this.nodes.forEach(m3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y4)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zm),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=K4(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),s){let f;const x=()=>this.root.updateBlockedByResize=!1;s(c,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=q4(x,250),mc.hasAnimatedSinceResize&&(mc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vx))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||j3,{onLayoutAnimationStart:N,onLayoutAnimationComplete:w}=p.getProps(),A=!this.targetLayout||!Cy(this.targetLayout,k),D=!x&&v;if(this.options.layoutRoot||this.resumeFrom||D||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,D);const T={...i0(C,"layout"),onPlay:N,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else x||Vx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const x=this.path[f];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($x);return}this.isUpdating||this.nodes.forEach(p3),this.isUpdating=!1,this.nodes.forEach(f3),this.nodes.forEach(c3),this.nodes.forEach(d3),this.clearAllSnapshots();const u=Ps.now();rs.delta=ta(0,1e3/60,u-rs.timestamp),rs.timestamp=u,rs.isProcessing=!0,Iu.update.process(rs),Iu.preRender.process(rs),Iu.render.process(rs),rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h3),this.sharedNodes.forEach(y3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vs(this.snapshot.measuredBox.x)&&!vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ky(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||qa(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),N3(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return It();const u=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(k3))){const{scroll:f}=this.root;f&&(Fn(u.x,f.offset.x),Fn(u.y,f.offset.y))}return u}removeElementScroll(c){var m;const u=It();if(Ks(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:x,options:v}=f;f!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Ks(u,c),Fn(u.x,x.offset.x),Fn(u.y,x.offset.y))}return u}applyTransform(c,u=!1){const m=It();Ks(m,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Bn(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),qa(f.latestValues)&&Bn(m,f.latestValues)}return qa(this.latestValues)&&Bn(m,this.latestValues),m}removeTransform(c){const u=It();Ks(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!qa(p.latestValues))continue;vm(p.latestValues)&&p.updateSnapshot();const f=It(),x=p.measurePageBox();Ks(f,x),Ex(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return qa(this.latestValues)&&Ex(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:x}=this.options;if(!(!this.layout||!(f||x))){if(this.resolvedRelativeTargetAt=rs.timestamp,!this.targetDelta&&!this.relativeTarget){const k=this.getClosestProjectingParent();k&&k.layout&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),ao(this.relativeTargetOrigin,this.layout.layoutBox,k.layout.layoutBox),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ks(this.target,this.layout.layoutBox),xy(this.target,this.targetDelta)):Ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const k=this.getClosestProjectingParent();k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),ao(this.relativeTargetOrigin,this.target,k.target),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vm(this.parent.latestValues)||fy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rs.timestamp&&(m=!1),m)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;Ks(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;A4(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=It());const{target:k}=c;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dx(this.prevProjectionDelta.x,this.projectionDelta.x),Dx(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vn(),this.projectionDelta=Vn(),this.projectionDeltaWithTransform=Vn()}setAnimationOrigin(c,u=!1){const m=this.snapshot,p=m?m.latestValues:{},f={...this.latestValues},x=Vn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=It(),k=m?m.source:void 0,C=this.layout?this.layout.source:void 0,N=k!==C,w=this.getStack(),A=!w||w.members.length<=1,D=!!(N&&!A&&this.options.crossfade===!0&&!this.path.some(w3));this.animationProgress=0;let T;this.mixTargetDelta=B=>{const E=B/1e3;Fx(x.x,c.x,E),Fx(x.y,c.y,E),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ao(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v3(this.relativeTarget,this.relativeTargetOrigin,v,E),T&&a3(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=It()),Ks(T,this.relativeTarget)),N&&(this.animationValues=f,J4(f,p,this.latestValues,E,D,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{mc.hasAnimatedSinceResize=!0,this.currentAnimation=G4(0,Lx,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:p,latestValues:f}=c;if(!(!u||!m||!p)){if(this!==c&&this.layout&&p&&Ty(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||It();const x=vs(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+x;const v=vs(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+v}Ks(u,m),Bn(u,f),ro(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new n3),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const p={};m.z&&Bu("z",c,p,this.animationValues);for(let f=0;f<Fu.length;f++)Bu(`rotate${Fu[f]}`,c,p,this.animationValues),Bu(`skew${Fu[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return o3;const u={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uc(c==null?void 0:c.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=uc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(k.transform=m?m({},""):"none",this.hasProjected=!1),k}const f=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=i3(this.projectionDeltaWithTransform,this.treeScale,f),m&&(u.transform=m(f,u.transform));const{x,y:v}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,p.animationValues?u.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const k in So){if(f[k]===void 0)continue;const{correct:C,applyTo:N,isCSSVariable:w}=So[k],A=u.transform==="none"?f[k]:C(f[k],p);if(N){const D=N.length;for(let T=0;T<D;T++)u[N[T]]=A}else w?this.options.visualElement.renderState.vars[k]=A:u[k]=A}return this.options.layoutId&&(u.pointerEvents=p===this?uc(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach($x),this.root.sharedNodes.clear()}}}function c3(s){s.updateLayout()}function d3(s){var r;const e=((r=s.resumeFrom)==null?void 0:r.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=s.layout,{animationType:l}=s.options,c=e.source!==s.layout.source;l==="size"?Zs(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],k=vs(v);v.min=n[x].min,v.max=v.min+k}):Ty(l,e.layoutBox,n)&&Zs(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],k=vs(n[x]);v.max=v.min+k,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[x].max=s.relativeTarget[x].min+k)});const u=Vn();ro(u,n,e.layoutBox);const m=Vn();c?ro(m,s.applyTransform(o,!0),e.measuredBox):ro(m,n,e.layoutBox);const p=!ky(u);let f=!1;if(!s.resumeFrom){const x=s.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:k}=x;if(v&&k){const C=It();ao(C,e.layoutBox,v.layoutBox);const N=It();ao(N,n,k.layoutBox),Cy(C,N)||(f=!0),x.options.layoutRoot&&(s.relativeTarget=N,s.relativeTargetOrigin=C,s.relativeParent=x)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:m,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:f})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function u3(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function m3(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function h3(s){s.clearSnapshot()}function $x(s){s.clearMeasurements()}function p3(s){s.isLayoutDirty=!1}function f3(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function Vx(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function x3(s){s.resolveTargetDelta()}function g3(s){s.calcProjection()}function b3(s){s.resetSkewAndRotation()}function y3(s){s.removeLeadSnapshot()}function Fx(s,e,r){s.translate=jt(e.translate,0,r),s.scale=jt(e.scale,1,r),s.origin=e.origin,s.originPoint=e.originPoint}function Bx(s,e,r,n){s.min=jt(e.min,r.min,n),s.max=jt(e.max,r.max,n)}function v3(s,e,r,n){Bx(s.x,e.x,r.x,n),Bx(s.y,e.y,r.y,n)}function w3(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const j3={duration:.45,ease:[.4,0,.1,1]},Ux=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Wx=Ux("applewebkit/")&&!Ux("chrome/")?Math.round:qs;function Hx(s){s.min=Wx(s.min),s.max=Wx(s.max)}function N3(s){Hx(s.x),Hx(s.y)}function Ty(s,e,r){return s==="position"||s==="preserve-aspect"&&!C4(Ox(e),Ox(r),.2)}function k3(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const C3=Ay({attachResizeListener:(s,e)=>To(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uu={current:void 0},Dy=Ay({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Uu.current){const s=new C3({});s.mount(window),s.setOptions({layoutScroll:!0}),Uu.current=s}return Uu.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),S3={pan:{Feature:B4},drag:{Feature:F4,ProjectionNode:Dy,MeasureLayout:wy}};function Gx(s,e,r){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=n[o];l&&kt.postRender(()=>l(e,zo(e)))}class A3 extends Ia{mount(){const{current:e}=this.node;e&&(this.unmount=nS(e,(r,n)=>(Gx(this.node,n,"Start"),o=>Gx(this.node,o,"End"))))}unmount(){}}class T3 extends Ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ro(To(this.node.current,"focus",()=>this.onFocus()),To(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kx(s,e,r){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=n[o];l&&kt.postRender(()=>l(e,zo(e)))}class D3 extends Ia{mount(){const{current:e}=this.node;e&&(this.unmount=cS(e,(r,n)=>(Kx(this.node,n,"Start"),(o,{success:l})=>Kx(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nm=new WeakMap,Wu=new WeakMap,_3=s=>{const e=Nm.get(s.target);e&&e(s)},P3=s=>{s.forEach(_3)};function E3({root:s,...e}){const r=s||document;Wu.has(r)||Wu.set(r,{});const n=Wu.get(r),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(P3,{root:s,...e})),n[o]}function I3(s,e,r){const n=E3(e);return Nm.set(s,r),n.observe(s),()=>{Nm.delete(s),n.unobserve(s)}}const R3={some:0,all:1};class M3 extends Ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:R3[o]},u=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:x}=this.node.getProps(),v=p?f:x;v&&v(m)};return I3(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(O3(e,r))&&this.startObserver()}unmount(){}}function O3({viewport:s={}},{viewport:e={}}={}){return r=>s[r]!==e[r]}const z3={inView:{Feature:M3},tap:{Feature:D3},focus:{Feature:T3},hover:{Feature:A3}},L3={layout:{ProjectionNode:Dy,MeasureLayout:wy}},km={current:null},_y={current:!1};function $3(){if(_y.current=!0,!!Bm)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=s.matches;s.addListener(e),e()}else km.current=!1}const V3=new WeakMap;function F3(s,e,r){for(const n in e){const o=e[n],l=r[n];if(ms(o))s.addValue(n,o);else if(ms(l))s.addValue(n,ko(o,{owner:s}));else if(l!==o)if(s.hasValue(n)){const c=s.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=s.getStaticValue(n);s.addValue(n,ko(c!==void 0?c:o,{owner:s}))}}for(const n in r)e[n]===void 0&&s.removeValue(n);return e}const Zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class B3{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ps.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,kt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Oc(r),this.isVariantNode=Xb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in x){const k=x[v];m[v]!==void 0&&ms(k)&&k.set(m[v],!1)}}mount(e){this.current=e,V3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),_y.current||$3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ri.has(e);n&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&kt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yn){const r=Yn[e];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Zx.length;n++){const o=Zx[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=F3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ko(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(ob(n)||lb(n))?n=parseFloat(n):!uS(n)&&Ea.test(r)&&(n=Wb(e,r)),this.setBaseTarget(e,ms(n)?n.get():n)),ms(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const c=x0(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(n=c[e])}if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ms(o)?o:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Zm),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Py extends B3{constructor(){super(...arguments),this.KeyframeResolver=eS}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ms(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Ey(s,{style:e,vars:r},n,o){Object.assign(s.style,e,o&&o.getProjectionStyles(n));for(const l in r)s.style.setProperty(l,r[l])}function U3(s){return window.getComputedStyle(s)}class W3 extends Py{constructor(){super(...arguments),this.type="html",this.renderInstance=Ey}readValueFromInstance(e,r){if(ri.has(r))return y2(e,r);{const n=U3(e),o=(Xm(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return gy(e,r)}build(e,r,n){h0(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return g0(e,r,n)}}const Iy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H3(s,e,r,n){Ey(s,e,void 0,n);for(const o in e.attrs)s.setAttribute(Iy.has(o)?o:m0(o),e.attrs[o])}class G3 extends Py{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ri.has(r)){const n=Ub(r);return n&&n.default||0}return r=Iy.has(r)?r:m0(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return oy(e,r,n)}build(e,r,n){ry(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,o){H3(e,r,n,o)}mount(e){this.isSVGTag=ny(e.tagName),super.mount(e)}}const K3=(s,e)=>f0(s)?new G3(e):new W3(e,{allowProjection:s!==j.Fragment}),Z3=HS({...g4,...z3,...S3,...L3},K3),Ys=xS(Z3),Yx=[{id:"match3",name:"消消乐",description:"经典三消游戏，消除相同颜色的方块获得算力奖励",icon:"fa-solid fa-gem",difficulty:"easy",rewards:{computingPower:50,gameCoins:50},players:1234,status:"available"},{id:"puzzle",name:"数字拼图",description:"挑战你的逻辑思维，完成拼图获得丰厚奖励",icon:"fa-solid fa-puzzle-piece",difficulty:"medium",rewards:{computingPower:80,gameCoins:80},players:567,status:"coming-soon"},{id:"memory",name:"记忆翻牌",description:"考验记忆力的翻牌游戏，记忆越好奖励越多",icon:"fa-solid fa-brain",difficulty:"medium",rewards:{computingPower:70,gameCoins:70},players:890,status:"coming-soon"},{id:"snake",name:"贪吃蛇",description:"经典贪吃蛇游戏，长度越长算力越高",icon:"fa-solid fa-worm",difficulty:"hard",rewards:{computingPower:100,gameCoins:100},players:456,status:"maintenance"}],Y3={easy:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400",medium:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400",hard:"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400"},q3={available:"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400","coming-soon":"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",maintenance:"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400"};function X3(){const{lang:s}=Qt(),e=ps(s),[r,n]=j.useState("all"),o=r==="all"?Yx:Yx.filter(l=>l.difficulty===r);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-300 dark:bg-slate-600"}),t.jsx("h1",{className:"hidden md:block text-lg font-semibold text-slate-700 dark:text-slate-200",children:y(e,"gameCenter.header.title")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-500"}),t.jsxs("span",{children:[y(e,"gameCenter.header.networkPower")," ",t.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"1,234"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[t.jsx("i",{className:"fa-solid fa-gem text-purple-500"}),t.jsxs("span",{children:[y(e,"gameCenter.header.networkGameCoins")," ",t.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"5,678"})]})]})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"12"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.todaySessions")})]})]})}),t.jsx(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-trophy text-green-600 dark:text-green-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"856"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.todayComputingPower")})]})]})}),t.jsx(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-star text-purple-600 dark:text-purple-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"4.8"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.avgRating")})]})]})}),t.jsx(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-fire text-orange-600 dark:text-orange-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"7"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(e,"gameCenter.stats.streakDays")})]})]})})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:y(e,"gameCenter.filter.label")}),t.jsx("div",{className:"flex gap-2",children:["all","easy","medium","hard"].map(l=>t.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${r===l?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:l==="all"?y(e,"gameCenter.filter.all"):l==="easy"?y(e,"gameCenter.filter.easy"):l==="medium"?y(e,"gameCenter.filter.medium"):y(e,"gameCenter.filter.hard")},l))})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((l,c)=>t.jsx(Ys.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-white dark:bg-slate-800 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl group-hover:scale-110 transition-transform",children:t.jsx("i",{className:l.icon})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y3[l.difficulty]}`,children:l.difficulty==="easy"?y(e,"gameCenter.difficulty.easy"):l.difficulty==="medium"?y(e,"gameCenter.difficulty.medium"):y(e,"gameCenter.difficulty.hard")}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q3[l.status]}`,children:y(e,`gameCenter.status.${l.status==="coming-soon"?"comingSoon":l.status}`)})]})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:y(e,`gameCenter.games.${l.id}.name`)}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4 line-clamp-2",children:y(e,`gameCenter.games.${l.id}.desc`)}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-500"}),t.jsx("span",{children:l.rewards.computingPower})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-gem text-purple-500"}),t.jsx("span",{children:l.rewards.gameCoins})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-users"}),t.jsx("span",{children:l.players})]})]})}),t.jsxs("div",{className:"flex gap-2",children:[l.status==="available"?t.jsx(ne,{to:`/game/${l.id}`,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-center py-2 px-4 rounded-lg font-medium transition-colors",children:y(e,"gameCenter.buttons.start")}):t.jsx("button",{disabled:!0,className:"flex-1 bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 text-center py-2 px-4 rounded-lg font-medium cursor-not-allowed",children:l.status==="coming-soon"?y(e,"gameCenter.buttons.comingSoon"):y(e,"gameCenter.buttons.maintenance")}),t.jsx("button",{className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:t.jsx("i",{className:"fa-solid fa-info-circle"})})]})]})},l.id))})]})]})}class J3{constructor(){Ee(this,"storageKey","computing_power_data");Ee(this,"currentUserId","user_001")}getUserData(e=this.currentUserId){const r=localStorage.getItem(`${this.storageKey}_${e}`);return r?JSON.parse(r):this.getDefaultUserData(e)}saveUserData(e=this.currentUserId,r){localStorage.setItem(`${this.storageKey}_${e}`,JSON.stringify(r))}getDefaultUserData(e){return{user:{id:e,username:`Player_${e.slice(-4)}`,email:`${e}@example.com`,joinedAt:new Date().toISOString(),lastActiveAt:new Date().toISOString()},stats:{totalComputingPower:0,todayEarned:0,weeklyEarned:0,monthlyEarned:0,totalGamesPlayed:0,averageScore:0,bestScore:0,currentRank:1,nextRankThreshold:1e3},gameRecords:[],achievements:this.getDefaultAchievements()}}getDefaultAchievements(){return[{id:"first_game",name:"初次体验",description:"完成第一场游戏",icon:"fa-solid fa-play",progress:0,maxProgress:1},{id:"score_master",name:"得分大师",description:"单局得分超过5000分",icon:"fa-solid fa-star",progress:0,maxProgress:1},{id:"game_veteran",name:"游戏老手",description:"完成10场游戏",icon:"fa-solid fa-trophy",progress:0,maxProgress:10},{id:"computing_collector",name:"算力收集者",description:"累计获得1000算力",icon:"fa-solid fa-coins",progress:0,maxProgress:1e3}]}async addGameRecord(e){const r=this.getUserData(),n={id:`game_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...e,completedAt:new Date};r.gameRecords.unshift(n),r.stats.totalComputingPower+=e.computingPowerEarned,r.stats.todayEarned+=e.computingPowerEarned,r.stats.weeklyEarned+=e.computingPowerEarned,r.stats.monthlyEarned+=e.computingPowerEarned,r.stats.totalGamesPlayed+=1,r.stats.bestScore=Math.max(r.stats.bestScore,e.score),r.stats.averageScore=Math.round(r.gameRecords.reduce((o,l)=>o+l.score,0)/r.gameRecords.length),r.stats.currentRank=Math.floor(r.stats.totalComputingPower/1e3)+1,r.stats.nextRankThreshold=r.stats.currentRank*1e3,this.checkAchievements(r,n),r.user.lastActiveAt=new Date().toISOString(),this.saveUserData(this.currentUserId,r),console.log("游戏记录已保存:",n)}checkAchievements(e,r){e.achievements.forEach(n=>{if(!n.unlockedAt)switch(n.id){case"first_game":e.stats.totalGamesPlayed>=1&&(n.unlockedAt=new Date,n.progress=1);break;case"score_master":r.score>=5e3&&(n.unlockedAt=new Date,n.progress=1);break;case"game_veteran":n.progress=e.stats.totalGamesPlayed,e.stats.totalGamesPlayed>=10&&(n.unlockedAt=new Date);break;case"computing_collector":n.progress=e.stats.totalComputingPower,e.stats.totalComputingPower>=1e3&&(n.unlockedAt=new Date);break}})}async getUserComputingData(){const e=this.getUserData(),r=this.calculateEarnings(e.stats.totalComputingPower),n={...e.user,joinedAt:new Date(e.user.joinedAt),lastActiveAt:new Date(e.user.lastActiveAt)},o=e.gameRecords.slice(0,5).map(c=>({...c,completedAt:new Date(c.completedAt)})),l=e.achievements.map(c=>({...c,unlockedAt:c.unlockedAt?new Date(c.unlockedAt):void 0}));return{user:n,stats:{...e.stats,earnings:r},recentGames:o,achievements:l}}async getGameHistory(e=50){return this.getUserData().gameRecords.slice(0,e).map(n=>({...n,completedAt:new Date(n.completedAt)}))}getNetworkStats(){return{totalNetworkPower:5e7,dailyReward:1e5}}calculateEarnings(e){const{totalNetworkPower:r,dailyReward:n}=this.getNetworkStats(),o=e/r,l=n*o,c=l/24;return{userRatio:o*100,dailyEarning:Math.round(l*100)/100,hourlyEarning:Math.round(c*100)/100,monthlyEarning:Math.round(l*30*100)/100}}async getLeaderboard(){const e=this.getUserData(),r=[{username:e.user.username,totalComputingPower:e.stats.totalComputingPower},{username:"AliceGamer",totalComputingPower:15420},{username:"BobMaster",totalComputingPower:12350},{username:"CharlieAce",totalComputingPower:9870},{username:"DianaQueen",totalComputingPower:8650},{username:"EvanKing",totalComputingPower:7430},{username:"FionaWiz",totalComputingPower:6210},{username:"GeorgeHero",totalComputingPower:5890},{username:"HelenStar",totalComputingPower:4670},{username:"IvanChamp",totalComputingPower:3450}];return r.sort((n,o)=>o.totalComputingPower-n.totalComputingPower),r.map((n,o)=>({...n,rank:o+1}))}async clearAllData(){localStorage.removeItem(`${this.storageKey}_${this.currentUserId}`)}}const Ry=new J3,My=j.createContext(void 0),ec={userId:"current-user",username:"游戏玩家",stats:{totalGames:0,totalScore:0,totalComputingPower:0,totalGameCoins:0,averageScore:0,bestScore:0,playTime:0,level:1,experience:0,achievements:[],dailyStreak:1,lastLoginDate:new Date().toISOString().split("T")[0]},assets:{computingPower:1e3,gameCoins:500,realMoney:0,items:[]},recentActivities:[]};function Q3({children:s}){const[e,r]=j.useState(()=>{const m=localStorage.getItem("allinone-user-data");if(m)try{const p=JSON.parse(m);return{...ec,...p,stats:{...ec.stats,...p.stats},assets:{...ec.assets,...p.assets}}}catch(p){console.error("Failed to parse saved user data:",p)}return ec}),n=m=>{localStorage.setItem("allinone-user-data",JSON.stringify(m))},o=m=>{r(p=>{const f={...p.stats,totalGames:p.stats.totalGames+1,totalScore:p.stats.totalScore+m.score,totalComputingPower:p.stats.totalComputingPower+m.computingPowerEarned,totalGameCoins:p.stats.totalGameCoins+m.gameCoinsEarned,playTime:p.stats.playTime+m.playTime,bestScore:Math.max(p.stats.bestScore,m.score),experience:p.stats.experience+Math.floor(m.score/100)};f.averageScore=Math.round(f.totalScore/f.totalGames),f.level=Math.floor(f.experience/1e3)+1;const x={id:Date.now().toString(),type:"game",description:`完成${m.gameType}游戏，获得${m.score}分`,timestamp:new Date,value:m.score},v={...p,stats:f,recentActivities:[x,...p.recentActivities.slice(0,19)]};return n(v),v})},l=m=>{r(p=>{const f={...p,assets:{...p.assets,...m}};return n(f),f})},c=m=>{r(p=>{const f={...m,id:Date.now().toString(),timestamp:new Date},x={...p,recentActivities:[f,...p.recentActivities.slice(0,19)]};return n(x),x})},u=async()=>{try{console.log("用户数据已刷新")}catch(m){console.error("Failed to refresh user data:",m)}};return j.useEffect(()=>{const m=new Date().toISOString().split("T")[0];if(e.stats.lastLoginDate!==m){const p=new Date;p.setDate(p.getDate()-1);const f=p.toISOString().split("T")[0],x=e.stats.lastLoginDate===f?e.stats.dailyStreak+1:1;r(v=>{const k={...v,stats:{...v.stats,dailyStreak:x,lastLoginDate:m}};return n(k),k}),c({type:"reward",description:`每日登录奖励，连续登录${x}天`,value:x*10})}},[]),t.jsx(My.Provider,{value:{userData:e,updateUserStats:o,updateUserAssets:l,addActivity:c,refreshUserData:u},children:s})}function Lo(){const s=j.useContext(My);if(s===void 0)throw new Error("useUserData must be used within a UserDataProvider");return s}const zc=(s,e)=>{try{const r=localStorage.getItem(s);if(r)return JSON.parse(r,(n,o)=>typeof o=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(o)?new Date(o):o)}catch(r){console.error(`Error loading ${s} from localStorage`,r)}return e},tc=(s,e)=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(r){console.error(`Error saving ${s} to localStorage`,r)}},ra=()=>{tc("oCoin_marketData",Je),tc("oCoin_userBalances",Array.from(Jr.entries())),tc("oCoin_transactions",dn),tc("oCoin_options",Lc)};let Je=zc("oCoin_marketData",{currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],allTimeHigh:0,allTimeLow:0,lastUpdated:new Date,dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0});const Jr=new Map(zc("oCoin_userBalances",[])),dn=zc("oCoin_transactions",[]),Lc=zc("oCoin_options",[]),Oy=()=>{const s=[];for(let o=29;o>=0;o--){const l=new Date;l.setDate(l.getDate()-o);const c=.08+Math.sin(o*(Math.PI/15))*.04;s.push({timestamp:l,price:parseFloat(c.toFixed(4))})}const e=Math.max(...s.map(o=>o.price)),r=Math.min(...s.map(o=>o.price)),n=s.length>0?s[s.length-1].price:.01;return Je={...Je,currentPrice:n,marketCap:n*Je.circulatingSupply,priceHistory:s,allTimeHigh:e,allTimeLow:r,lastUpdated:new Date},ra(),Je},Cm=()=>({...Je}),e6=s=>{const e={timestamp:new Date,price:s};return Je={...Je,currentPrice:s,marketCap:s*Je.circulatingSupply,priceHistory:[...Je.priceHistory,e],allTimeHigh:Math.max(Je.allTimeHigh,s),allTimeLow:Math.min(Je.allTimeLow||s,s),lastUpdated:new Date},ra(),Je},$c=s=>{if(!Jr.has(s)){const e={userId:s,availableBalance:0,lockedBalance:0,dividendRights:0,lastDividendAmount:0,totalDividendsReceived:0};Jr.set(s,e),ra()}return{...Jr.get(s)}},qx=(s,e,r)=>{const n=e*r;(async()=>{try{const c=await Ye.getBalance();if(c.cash<n)throw new Error(`现金余额不足，需 ¥${n.toFixed(2)}，当前 ¥${c.cash.toFixed(2)}`);await Ye.addTransaction({type:"expense",category:"trade",amount:n,currency:"cash",description:`购买O币 ${e} 枚，单价 ¥${r.toFixed(2)}`}),await Ye.addTransaction({type:"income",category:"trade",amount:e,currency:"oCoins",description:`购买获得 O币 ${e} 枚`}),window.dispatchEvent(new CustomEvent("wallet-updated"))}catch(c){console.error("记录购买O币钱包交易失败:",c)}})();const o={id:qn(),type:"purchase",amount:e,price:r,timestamp:new Date,description:`购买${e}个O币，单价${r}元`,status:"completed",userId:s},l=$c(s);return l.availableBalance+=e,l.dividendRights+=e,Jr.set(s,l),Je.circulatingSupply+=e,Je.totalDistributed+=e,Je.marketCap=Je.currentPrice*Je.circulatingSupply,dn.push(o),ra(),o},Xx=(s,e,r)=>{const n=$c(s);if(n.availableBalance<e)throw new Error("可用余额不足");const o=e*r;(async()=>{try{await Ye.addTransaction({type:"expense",category:"trade",amount:e,currency:"oCoins",description:`出售 O币 ${e} 枚`}),await Ye.addTransaction({type:"income",category:"trade",amount:o,currency:"cash",description:`出售O币收入 ¥${o.toFixed(2)}`}),window.dispatchEvent(new CustomEvent("wallet-updated"))}catch(c){console.error("记录出售O币钱包交易失败:",c)}})();const l={id:qn(),type:"sale",amount:e,price:r,timestamp:new Date,description:`出售${e}个O币，单价${r}元`,status:"completed",userId:s};return n.availableBalance-=e,n.dividendRights-=e,Jr.set(s,n),Je.circulatingSupply-=e,Je.marketCap=Je.currentPrice*Je.circulatingSupply,dn.push(l),ra(),l},t6=(s,e,r=365)=>{const n={id:qn(),userId:s,amount:e,vestedAmount:0,vestingPeriod:r,grantDate:new Date,isFullyVested:!1};Lc.push(n);const o={id:qn(),type:"grant",amount:e,timestamp:new Date,description:`授予${e}个O币期权，归属期${r}天`,status:"completed",userId:s};return dn.push(o),ra(),n},Jx=(s,e)=>{const r=Lc.find(c=>c.id===s);if(!r)throw new Error("期权不存在");const n=r.amount-r.vestedAmount;if(e>n)throw new Error("归属数量超过剩余可归属数量");r.vestedAmount+=e,r.isFullyVested=r.vestedAmount===r.amount;const o=$c(r.userId);o.availableBalance+=e,o.dividendRights+=e,Jr.set(r.userId,o),Je.circulatingSupply+=e,Je.totalDistributed+=e,Je.marketCap=Je.currentPrice*Je.circulatingSupply;const l={id:qn(),type:"vest",amount:e,timestamp:new Date,description:`归属${e}个O币期权`,status:"completed",userId:r.userId};return dn.push(l),ra(),l},s6=s=>{Je.dividendPool+=s,ra()},r6=()=>{if(Je.circulatingSupply===0||Je.dividendPool===0)return;const s=Je.dividendPool/Je.circulatingSupply;Jr.forEach((e,r)=>{if(e.dividendRights>0){const n=e.dividendRights*s;e.lastDividendAmount=n,e.totalDividendsReceived+=n,Jr.set(r,e);const o={id:qn(),type:"dividend",amount:n,timestamp:new Date,description:`分红分发：${n.toFixed(2)}元`,status:"completed",userId:r};dn.push(o)}}),Je.lastDividendDate=new Date,Je.lastDividendPerCoin=s,Je.dividendPool=0,ra()},a6=()=>({totalSupply:Je.totalSupply,circulatingSupply:Je.circulatingSupply,totalDistributed:Je.totalDistributed,totalLocked:Je.totalLocked,marketCap:Je.marketCap}),n6=s=>dn.filter(e=>e.userId===s),Qx=s=>Lc.filter(e=>e.userId===s),qn=()=>Math.random().toString(36).substr(2,9);Oy();const $t={getOCoinMarketData:Cm,checkAndExecuteVesting:async s=>{const e=Qx(s);let r=0;return e.forEach(n=>{const o=new Date,l=new Date(n.grantDate),c=Math.floor((o.getTime()-l.getTime())/(1e3*60*60*24));if(c>0&&!n.isFullyVested){const u=n.amount/n.vestingPeriod,p=Math.min(u*c,n.amount)-n.vestedAmount;p>0&&(Jx(n.id,p),r+=p)}}),{vestedAmount:r}},initializeOCoin:Oy,getMarketData:Cm,updatePrice:e6,getUserBalance:$c,purchaseOCoin:qx,sellOCoin:Xx,purchaseOCoins:qx,sellOCoins:Xx,grantOption:t6,vestOption:Jx,addDividendPool:s6,distributeDividends:r6,getUserTransactions:n6,getUserOptions:Qx,getOCoinStats:a6};class i6{constructor(){Ee(this,"STORAGE_KEY","wallet_data");Ee(this,"EXCHANGE_RATES_KEY","exchange_rates");Ee(this,"DEFAULT_EXCHANGE_RATES",{gameCoinsToRMB:.01,computingPowerToRMB:.001,lastUpdated:new Date});this.initializeWalletData().catch(e=>{console.error("初始化钱包数据失败:",e)})}async getOCoinPrice(){try{return(await $t.getOCoinMarketData()).currentPrice}catch(e){return console.error("获取O币价格失败:",e),1}}async initializeWalletData(){if(!localStorage.getItem(this.STORAGE_KEY)){const n={balance:{cash:0,gameCoins:12580,computingPower:45230,aCoins:15.67,oCoins:0,totalValue:0,lastUpdated:new Date},transactions:[],stats:{todayIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},weeklyIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},monthlyIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},todayExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},weeklyExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},monthlyExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalIncome:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalExpense:{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},totalTransactions:0,lastTransactionTime:new Date}};n.balance.totalValue=await this.calculateTotalValue(n.balance),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}localStorage.getItem(this.EXCHANGE_RATES_KEY)||localStorage.setItem(this.EXCHANGE_RATES_KEY,JSON.stringify(this.DEFAULT_EXCHANGE_RATES))}async getWalletData(){const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return await this.initializeWalletData(),JSON.parse(localStorage.getItem(this.STORAGE_KEY));const r=JSON.parse(e);if(r.balance){let n=!1;r.balance.hasOwnProperty("computing")&&(r.balance.computingPower=r.balance.computing,delete r.balance.computing,n=!0),r.transactions&&Array.isArray(r.transactions)&&r.transactions.forEach(o=>{o.currency==="computing"&&(o.currency="computingPower",n=!0)}),r.stats&&["todayIncome","weeklyIncome","monthlyIncome","todayExpense","weeklyExpense","monthlyExpense","totalIncome","totalExpense"].forEach(o=>{r.stats[o]&&r.stats[o].hasOwnProperty("computing")&&(r.stats[o].computingPower=r.stats[o].computing,delete r.stats[o].computing,n=!0)}),typeof r.balance.aCoins>"u"&&(r.balance.aCoins=15.67,n=!0),typeof r.balance.oCoins>"u"&&(r.balance.oCoins=0,n=!0),n&&r.stats&&(r.stats.todayIncome.aCoins=r.stats.todayIncome.aCoins||0,r.stats.weeklyIncome.aCoins=r.stats.weeklyIncome.aCoins||0,r.stats.monthlyIncome.aCoins=r.stats.monthlyIncome.aCoins||0,r.stats.todayIncome.oCoins=r.stats.todayIncome.oCoins||0,r.stats.weeklyIncome.oCoins=r.stats.weeklyIncome.oCoins||0,r.stats.monthlyIncome.oCoins=r.stats.monthlyIncome.oCoins||0,r.stats.todayExpense=r.stats.todayExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.weeklyExpense=r.stats.weeklyExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.monthlyExpense=r.stats.monthlyExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.totalIncome=r.stats.totalIncome||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.stats.totalExpense=r.stats.totalExpense||{cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0},r.balance.totalValue=0,this.saveWalletData(r))}return r}saveWalletData(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}getExchangeRates(){const e=localStorage.getItem(this.EXCHANGE_RATES_KEY);return e?JSON.parse(e):this.DEFAULT_EXCHANGE_RATES}async calculateTotalValue(e){const r=this.getExchangeRates(),n=await this.getOCoinPrice();return e.cash+e.gameCoins*r.gameCoinsToRMB+e.computingPower*r.computingPowerToRMB+e.aCoins*1+e.oCoins*n}async getBalance(){const e=await this.getWalletData(),r=e.balance;try{const n=await $t.checkAndExecuteVesting("current-user-id");n.vestedAmount>0&&(console.log(`O币期权解禁: ${n.vestedAmount} O币`),r.oCoins=await this.getOCoinBalance())}catch(n){console.warn("检查O币期权解禁失败:",n)}return r.totalValue=await this.calculateTotalValue(r),r.lastUpdated=new Date,r.computingPower=Math.max(r.computingPower,0),r.gameCoins=Math.max(r.gameCoins,0),e.balance=r,this.saveWalletData(e),r}async addTransaction(e){const r=await this.getWalletData(),n={id:`tx_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,...e};e.type==="income"?r.balance[e.currency]+=e.amount:r.balance[e.currency]-=e.amount,["cash","gameCoins","computingPower","aCoins","oCoins"].includes(e.currency)&&(r.balance[e.currency]=Math.max(r.balance[e.currency],0)),r.transactions.unshift(n),this.updateStats(r,n),r.balance.totalValue=await this.calculateTotalValue(r.balance),r.balance.lastUpdated=new Date,this.saveWalletData(r)}updateStats(e,r){const n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),l=new Date(o.getTime()-o.getDay()*24*60*60*1e3),c=new Date(n.getFullYear(),n.getMonth(),1),u=r.amount,p=r.currency;r.type==="income"?(r.timestamp>=o&&(e.stats.todayIncome[p]+=u),r.timestamp>=l&&(e.stats.weeklyIncome[p]+=u),r.timestamp>=c&&(e.stats.monthlyIncome[p]+=u),e.stats.totalIncome[p]+=u):(r.timestamp>=o&&(e.stats.todayExpense[p]+=u),r.timestamp>=l&&(e.stats.weeklyExpense[p]+=u),r.timestamp>=c&&(e.stats.monthlyExpense[p]+=u),e.stats.totalExpense[p]+=u),e.stats.totalTransactions+=1,e.stats.lastTransactionTime=r.timestamp}async getTransactions(e=50){return(await this.getWalletData()).transactions.slice(0,e)}recomputeStats(e){const r=e.stats,n={cash:0,gameCoins:0,computingPower:0,aCoins:0,oCoins:0};r.todayIncome={...n},r.weeklyIncome={...n},r.monthlyIncome={...n},r.todayExpense={...n},r.weeklyExpense={...n},r.monthlyExpense={...n},r.totalIncome={...n},r.totalExpense={...n};const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(l.getTime()-l.getDay()*24*60*60*1e3),u=new Date(o.getFullYear(),o.getMonth(),1);for(const m of e.transactions){const p=m.amount,f=m.currency,x=typeof m.timestamp=="string"?new Date(m.timestamp):m.timestamp;m.type==="income"?(x>=l&&(r.todayIncome[f]+=p),x>=c&&(r.weeklyIncome[f]+=p),x>=u&&(r.monthlyIncome[f]+=p),r.totalIncome[f]+=p):(x>=l&&(r.todayExpense[f]+=p),x>=c&&(r.weeklyExpense[f]+=p),x>=u&&(r.monthlyExpense[f]+=p),r.totalExpense[f]+=p)}return r}async getStats(){const e=await this.getWalletData();return e.stats=this.recomputeStats(e),this.saveWalletData(e),e.stats}async addGameReward(e,r,n){console.log("开始添加游戏奖励:",{computingPower:e,gameCoins:r,gameId:n});const l={...(await this.getWalletData()).balance};console.log("添加奖励前的余额:",l),e>0&&await this.addTransaction({type:"income",category:"computing_reward",amount:e,currency:"computingPower",description:"游戏奖励获得算力",relatedId:n}),r>0&&await this.addTransaction({type:"income",category:"game_reward",amount:r,currency:"gameCoins",description:"游戏奖励获得游戏币",relatedId:n});const c=await this.getWalletData();console.log("添加奖励后的余额:",c.balance),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{oldBalance:l,newBalance:c.balance,reward:{computingPower:e,gameCoins:r}}}))}async makePurchase(e,r,n,o){const l=await this.getBalance();if(l[r]<e)throw new Error(`余额不足，当前${r==="cash"?"现金":"游戏币"}余额: ${l[r]}`);return await this.addTransaction({type:"expense",category:"purchase",amount:e,currency:r,description:n,relatedId:o}),!0}async recharge(e,r="支付宝"){await this.addTransaction({type:"income",category:"recharge",amount:e,currency:"cash",description:`通过${r}充值现金`})}async getExchangeRatesAsync(){return this.getExchangeRates()}async exchangeCurrency(e,r,n){const o=await this.getBalance(),l=this.getExchangeRates(),c=1,u=await this.getOCoinPrice();if(o[e]<n)throw new Error("余额不足");let m=0,p=0;if(e==="gameCoins"&&r==="cash")m=n*l.gameCoinsToRMB,p=l.gameCoinsToRMB;else if(e==="computingPower"&&r==="cash")m=n*l.computingPowerToRMB,p=l.computingPowerToRMB;else if(e==="cash"&&r==="gameCoins")m=n/l.gameCoinsToRMB,p=1/l.gameCoinsToRMB;else if(e==="cash"&&r==="computingPower")m=n/l.computingPowerToRMB,p=1/l.computingPowerToRMB;else if(e==="aCoins"&&r==="cash")m=n*c,p=c;else if(e==="cash"&&r==="aCoins")m=n/c,p=1/c;else if(e==="aCoins"&&r==="gameCoins")m=n*c/l.gameCoinsToRMB,p=c/l.gameCoinsToRMB;else if(e==="gameCoins"&&r==="aCoins")m=n*l.gameCoinsToRMB/c,p=l.gameCoinsToRMB/c;else if(e==="aCoins"&&r==="computingPower")m=n*c/l.computingPowerToRMB,p=c/l.computingPowerToRMB;else if(e==="computingPower"&&r==="aCoins")m=n*l.computingPowerToRMB/c,p=l.computingPowerToRMB/c;else if(e==="oCoins"&&r==="cash")m=n*u,p=u;else if(e==="cash"&&r==="oCoins")m=n/u,p=1/u;else if(e==="oCoins"&&r==="gameCoins")m=n*u/l.gameCoinsToRMB,p=u/l.gameCoinsToRMB;else if(e==="gameCoins"&&r==="oCoins")m=n*l.gameCoinsToRMB/u,p=l.gameCoinsToRMB/u;else if(e==="oCoins"&&r==="computingPower")m=n*u/l.computingPowerToRMB,p=u/l.computingPowerToRMB;else if(e==="computingPower"&&r==="oCoins")m=n*l.computingPowerToRMB/u,p=l.computingPowerToRMB/u;else if(e==="oCoins"&&r==="aCoins")m=n*u/c,p=u/c;else if(e==="aCoins"&&r==="oCoins")m=n*c/u,p=c/u;else throw new Error("不支持的兑换类型");return await this.addTransaction({type:"expense",category:"trade",amount:n,currency:e,description:`兑换${e}为${r}`}),await this.addTransaction({type:"income",category:"trade",amount:m,currency:r,description:`兑换获得${r}（汇率: ${p.toFixed(4)}）`}),m}async distributeACoins(e,r="A币发放奖励"){if(e<=0)throw new Error("发放金额必须大于0");const n=await this.getTransactions(50),o=new Date;if(o.setHours(0,0,0,0),n.some(c=>{const u=typeof c.timestamp=="string"?new Date(c.timestamp):c.timestamp;return c.category==="acoin_distribution"&&u>=o})){console.warn("今日A币已发放，跳过重复发放");return}await this.addTransaction({type:"income",category:"acoin_distribution",amount:e,currency:"aCoins",description:`A币发放奖励 - ${r}`})}async getACoinBalance(){return(await this.getBalance()).aCoins}async getACoinTransactions(e=50){return(await this.getTransactions(e)).filter(n=>n.currency==="aCoins")}async getOCoinBalance(){return(await this.getBalance()).oCoins}async getOCoinTransactions(e=50){return(await this.getTransactions(e)).filter(n=>n.currency==="oCoins")}async distributeOCoins(e,r="O币发放"){if(e<=0)throw new Error("发放金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_distribution",amount:e,currency:"oCoins",description:`O币发放 - ${r}`})}async recordOCoinDividend(e,r="平台分红"){if(e<=0)throw new Error("分红金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_dividend",amount:e,currency:"cash",description:`O币分红 - ${r}`})}async recordOCoinVesting(e,r="O币期权解禁"){if(e<=0)throw new Error("解禁金额必须大于0");await this.addTransaction({type:"income",category:"ocoin_vesting",amount:e,currency:"oCoins",description:`O币期权解禁 - ${r}`}),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{type:"ocoin_vesting",amount:e,timestamp:new Date}})),console.log(`💰 记录O币期权解禁: ${e} O币`)}async distributeCashDividend(e,r,n,o="现金分红"){if(r<=0)throw new Error("分红金额必须大于0");const l=`${n}-${e}`;if((await this.getTransactions(200)).some(m=>m.category==="dividend"&&m.relatedId===l)){console.warn(`检测到用户 ${e} 周期 ${n} 的现金分红已入账，跳过重复记录`);return}await this.addTransaction({type:"income",category:"dividend",amount:r,currency:"cash",description:`${o} - 用户 ${e}`,relatedId:l})}}const Ye=new i6,zy=Object.freeze(Object.defineProperty({__proto__:null,walletService:Ye},Symbol.toStringTag,{value:"Module"}));function o6({gameType:s,playerLevel:e}){const[r,n]=j.useState(!1),o=()=>{switch(s){case"match3":return{title:"消消乐游戏规则",rules:["🎯 目标：在60秒内获得尽可能高的分数","🔄 操作：拖拽相邻的宝石进行交换","💎 消除：3个或更多相同宝石连成一线即可消除","⚡ 连击：连续消除可获得额外分数加成","🏆 算力：根据得分获得相应的算力奖励"],items:[{name:"普通宝石",icon:"💎",description:"基础消除，每个10分"},{name:"特殊宝石",icon:"⭐",description:"4个连消产生，消除整行/列"},{name:"彩虹宝石",icon:"🌈",description:"5个连消产生，消除所有同色宝石"},{name:"炸弹宝石",icon:"💥",description:"L/T形消除产生，爆炸消除周围"}],difficulty:l(e)};default:return{title:"游戏规则",rules:["暂无规则说明"],items:[],difficulty:{level:1,description:"简单"}}}},l=u=>u<=5?{level:1,description:"新手难度",features:["较多的简单匹配机会","较长的思考时间","基础分数倍率"]}:u<=15?{level:2,description:"进阶难度",features:["增加特殊宝石出现率","更复杂的布局","1.2x分数倍率"]}:u<=30?{level:3,description:"专家难度",features:["更少的匹配机会","更多障碍物","1.5x分数倍率"]}:{level:4,description:"大师难度",features:["极具挑战性的布局","限制移动次数","2.0x分数倍率"]},c=o();return t.jsxs("div",{className:"w-full",children:[t.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between px-4 py-3 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-question-circle"}),t.jsx("span",{className:"font-medium",children:"游戏规则与道具说明"})]}),t.jsx("i",{className:`fa-solid fa-chevron-${r?"up":"down"} transition-transform`})]}),r&&t.jsx("div",{className:"mt-4 bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-book text-blue-500"}),"基本规则"]}),t.jsx("ul",{className:"space-y-2",children:c.rules.map((u,m)=>t.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),t.jsx("span",{children:u})]},m))})]}),c.items.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-magic-wand-sparkles text-purple-500"}),"道具说明"]}),t.jsx("div",{className:"space-y-3",children:c.items.map((u,m)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-xl",children:u.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:u.name}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.description})]})]},m))})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-chart-line text-orange-500"}),"当前难度：",c.difficulty.description]}),t.jsx("ul",{className:"space-y-2",children:"features"in c.difficulty&&c.difficulty.features.map((u,m)=>t.jsxs("li",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-start gap-2",children:[t.jsx("i",{className:"fa-solid fa-check text-green-500 text-xs mt-0.5"}),t.jsx("span",{children:u})]},m))})]})]})})]})}function l6({effects:s,onEffectComplete:e,cellSize:r=48}){const[n,o]=j.useState([]);j.useEffect(()=>{o(s)},[s]);const l=c=>{const u={position:"absolute",left:c.position.col*(r+4)+"px",top:c.position.row*(r+4)+"px",width:r+"px",height:r+"px",pointerEvents:"none",zIndex:100};switch(c.type){case"bomb":return t.jsx(Ys.div,{style:u,initial:{scale:0,opacity:1},animate:{scale:[0,2,0],opacity:[1,1,0]},transition:{duration:.6,ease:"easeOut"},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"💥"})},c.id);case"lightning":return t.jsx(Ys.div,{style:u,initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:.8},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"⚡"})},c.id);case"rainbow":return t.jsx(Ys.div,{style:u,initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],rotate:[0,360]},transition:{duration:1},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-4xl",children:"🌈"})},c.id);case"match":return t.jsx(Ys.div,{style:u,initial:{opacity:0,scale:1},animate:{opacity:[0,1,0],scale:[1,1.3,0],y:[0,-30]},transition:{duration:.6},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"text-2xl",children:"✨"})},c.id);case"combo":return t.jsx(Ys.div,{style:u,initial:{opacity:0,scale:0,y:0},animate:{opacity:[0,1,0],scale:[0,1.2,0],y:[0,-50]},transition:{duration:.8},onAnimationComplete:()=>e(c.id),className:"flex items-center justify-center",children:t.jsx("div",{className:"bg-purple-600 text-white px-2 py-1 rounded font-bold text-sm",children:"COMBO!"})},c.id);default:return null}};return t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.jsx(xC,{children:n.map(c=>l(c))})})}const vt=8,eg=["red","blue","green","yellow","purple","orange"],sc=3,c6={red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",orange:"bg-orange-500"};function d6(){const{updateUserStats:s}=Lo(),[e,r]=j.useState([]),[n,o]=j.useState(null),[l,c]=j.useState({score:0,moves:30,level:1,target:1e3,timeLeft:60,powerUps:{bomb:2,lightning:1,rainbow:1}}),[u,m]=j.useState(!0),[p,f]=j.useState(null),[x,v]=j.useState(!1),[k,C]=j.useState(1),[N,w]=j.useState(1),[A,D]=j.useState([]),T=j.useCallback((O,V)=>({id:`${O}-${V}-${Date.now()}-${Math.random()}`,color:eg[Math.floor(Math.random()*eg.length)],row:O,col:V}),[]),B=j.useCallback(()=>{const O=[];for(let V=0;V<vt;V++){O[V]=[];for(let K=0;K<vt;K++)O[V][K]=T(V,K)}r(O)},[T]),E=j.useCallback(O=>{const V=[];for(let K=0;K<vt;K++){let R=1,J=O[K][0].color;for(let Q=1;Q<vt;Q++)if(O[K][Q].color===J)R++;else{if(R>=sc)for(let I=Q-R;I<Q;I++)V.push({row:K,col:I});R=1,J=O[K][Q].color}if(R>=sc)for(let Q=vt-R;Q<vt;Q++)V.push({row:K,col:Q})}return V},[]),_=j.useCallback(O=>{const V=[];for(let K=0;K<vt;K++){let R=1,J=O[0][K].color;for(let Q=1;Q<vt;Q++)if(O[Q][K].color===J)R++;else{if(R>=sc)for(let I=Q-R;I<Q;I++)V.push({row:I,col:K});R=1,J=O[Q][K].color}if(R>=sc)for(let Q=vt-R;Q<vt;Q++)V.push({row:Q,col:K})}return V},[]),L=j.useCallback(O=>{const V=E(O),K=_(O);return[...V,...K]},[E,_]),P=j.useCallback((O,V)=>{const K=O.map(J=>[...J]),R=new Set(V.map(J=>`${J.row}-${J.col}`));for(let J=0;J<vt;J++){const Q=[];for(let I=vt-1;I>=0;I--)R.has(`${I}-${J}`)||Q.push(K[I][J]);for(;Q.length<vt;)Q.push(T(0,J));for(let I=0;I<vt;I++){const H=Q[vt-1-I];K[I][J]={...H,row:I,col:J}}}return K},[T]),U=j.useCallback(async O=>{let V=O,K=0;for(;;){const R=L(V);if(R.length===0)break;K+=R.length,V=P(V,R),await new Promise(J=>setTimeout(J,300))}if(K>0){const R=K*10*l.level,J=Math.round(R*N),Q=Math.floor(vt/2),I=Math.floor(vt/2),H={id:`effect-${Date.now()}-${Math.random()}`,type:"match",position:{row:Q,col:I},timestamp:Date.now()};D(ie=>[...ie,H]),K>=6&&setTimeout(()=>{const ie={id:`effect-${Date.now()}-${Math.random()}`,type:"combo",position:{row:Q,col:I},timestamp:Date.now()};D(ve=>[...ve,ie])},200),c(ie=>({...ie,score:ie.score+J})),lr.success(`消除了 ${K} 个宝石，获得 ${J} 分！`)}return V},[L,P,l.level]),W=j.useCallback(async(O,V,K,R)=>{if(x)return;v(!0);const J=e.map(H=>[...H]),Q=J[O][V];J[O][V]=J[K][R],J[K][R]=Q,J[O][V].row=O,J[O][V].col=V,J[K][R].row=K,J[K][R].col=R,L(J).length>0?(r(J),c(H=>({...H,moves:H.moves-1})),setTimeout(async()=>{const H=await U(J);r(H),v(!1)},100)):(lr.error("无法消除，请尝试其他组合"),v(!1))},[e,x,L,U]),re=j.useCallback((O,V)=>{if(!(!u||p||x))if(n){const{row:K,col:R}=n;if(K===O&&R===V){o(null);return}Math.abs(K-O)===1&&R===V||Math.abs(R-V)===1&&K===O?(W(K,R,O,V),o(null)):o({row:O,col:V})}else o({row:O,col:V})},[n,u,p,x,W]),te=j.useCallback((O,V,K)=>{if(!l.powerUps[O]||x)return;v(!0);const R={id:`effect-${Date.now()}-${Math.random()}`,type:O,position:{row:V,col:K},timestamp:Date.now()};D(I=>[...I,R]);const J=e.map(I=>[...I]),Q=[];switch(O){case"bomb":for(let H=Math.max(0,V-1);H<=Math.min(vt-1,V+1);H++)for(let ie=Math.max(0,K-1);ie<=Math.min(vt-1,K+1);ie++)Q.push({row:H,col:ie});break;case"lightning":for(let H=0;H<vt;H++)Q.push({row:V,col:H});for(let H=0;H<vt;H++)Q.push({row:H,col:K});break;case"rainbow":const I=J[V][K].color;for(let H=0;H<vt;H++)for(let ie=0;ie<vt;ie++)J[H][ie].color===I&&Q.push({row:H,col:ie});break}setTimeout(()=>{const I=P(J,Q);r(I),c(H=>({...H,score:H.score+Math.round(Q.length*15*N),powerUps:{...H.powerUps,[O]:H.powerUps[O]-1}})),f(null),lr.success(`使用了${O==="bomb"?"炸弹":O==="lightning"?"闪电":"彩虹"}道具！`),setTimeout(()=>v(!1),300)},400)},[l.powerUps,x,e,P,N]);j.useEffect(()=>{if(!u)return;const O=setInterval(()=>{c(V=>V.timeLeft<=1?(m(!1),lr.error("时间到！游戏结束"),V):{...V,timeLeft:V.timeLeft-1})},1e3);return()=>clearInterval(O)},[u]);const se=j.useCallback(async()=>{const O=Math.max(1,Math.floor(l.score/50)),V=Math.max(10,Math.floor(l.score/5)),K=60-l.timeLeft;console.log("游戏结束奖励计算:",{score:l.score,computingPowerEarned:O,gameCoinsEarned:V,duration:K});try{await Ry.addGameRecord({gameType:"match3",gameName:"消消乐",score:l.score,computingPowerEarned:O,duration:K,level:l.level,moves:30-l.moves}),s({score:l.score,computingPowerEarned:O,gameCoinsEarned:V,playTime:K,gameType:"消消乐"}),await Ye.addGameReward(O,V,"match3-game"),window.dispatchEvent(new CustomEvent("wallet-updated")),console.log("游戏记录已保存并更新用户数据:",{score:l.score,computingPowerEarned:O,gameCoinsEarned:V,duration:K}),lr.success(`游戏结束！获得 ${O} 算力和 ${V} 游戏币`)}catch(R){console.error("保存游戏记录失败:",R),lr.error("保存游戏记录失败")}},[l,s]);j.useEffect(()=>{u&&((l.moves<=0||l.timeLeft<=0)&&(m(!1),se()),l.score>=l.target&&(m(!1),lr.success("恭喜过关！"),se()))},[l,u,se]),j.useEffect(()=>{B()},[B]);const ae=O=>{const V=Math.floor(O/60),K=O%60;return`${V}:${K.toString().padStart(2,"0")}`};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(ne,{to:"/game-center",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[t.jsx("i",{className:"fa-solid fa-arrow-left"}),t.jsx("span",{children:"返回游戏中心"})]}),t.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-300 dark:bg-slate-600"}),t.jsx("h1",{className:"hidden md:block text-lg font-semibold text-slate-700 dark:text-slate-200",children:"消消乐"})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:["关卡 ",t.jsx("span",{className:"font-bold text-purple-600",children:l.level})]}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:["目标 ",t.jsx("span",{className:"font-bold text-green-600",children:l.target})]})]})]})})}),t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"分数"}),t.jsx("span",{className:"text-xl font-bold text-blue-600",children:l.score.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"剩余步数"}),t.jsx("span",{className:"text-xl font-bold text-orange-600",children:l.moves})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:"剩余时间"}),t.jsx("span",{className:"text-xl font-bold text-red-600",children:ae(l.timeLeft)})]})]})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"道具"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{onClick:()=>f(p==="bomb"?null:"bomb"),disabled:l.powerUps.bomb===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="bomb"?"bg-red-100 dark:bg-red-900/30 border-2 border-red-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.bomb===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-bomb text-red-500"}),t.jsx("span",{className:"text-sm",children:"炸弹"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.bomb})]}),t.jsxs("button",{onClick:()=>f(p==="lightning"?null:"lightning"),disabled:l.powerUps.lightning===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="lightning"?"bg-yellow-100 dark:bg-yellow-900/30 border-2 border-yellow-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.lightning===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-bolt text-yellow-500"}),t.jsx("span",{className:"text-sm",children:"闪电"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.lightning})]}),t.jsxs("button",{onClick:()=>f(p==="rainbow"?null:"rainbow"),disabled:l.powerUps.rainbow===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition-all ${p==="rainbow"?"bg-purple-100 dark:bg-purple-900/30 border-2 border-purple-500":"bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600"} ${l.powerUps.rainbow===0?"opacity-50 cursor-not-allowed":""}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-rainbow text-purple-500"}),t.jsx("span",{className:"text-sm",children:"彩虹"})]}),t.jsx("span",{className:"text-sm font-bold",children:l.powerUps.rainbow})]})]}),p&&t.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-xs text-blue-700 dark:text-blue-300",children:["点击游戏板使用",p==="bomb"?"炸弹":p==="lightning"?"闪电":"彩虹","道具"]})]})]}),t.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md relative",children:[t.jsxs("div",{className:"grid grid-cols-8 gap-1 max-w-md mx-auto relative",children:[t.jsx(l6,{effects:A,onEffectComplete:O=>D(V=>V.filter(K=>K.id!==O)),cellSize:48}),e.map((O,V)=>O.map((K,R)=>t.jsx(Ys.button,{onClick:()=>{p?te(p,V,R):re(V,R)},className:`
                        aspect-square rounded-lg shadow-md transition-all duration-200 transform hover:scale-105
                        ${c6[K.color]}
                        ${(n==null?void 0:n.row)===V&&(n==null?void 0:n.col)===R?"ring-4 ring-white ring-opacity-80 scale-110":""}
                        ${p?"cursor-crosshair":"cursor-pointer"}
                        ${x?"pointer-events-none":""}
                      `,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:x,children:t.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-white/20 to-transparent"})},K.id)))]}),!u&&t.jsx(Ys.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 text-center max-w-sm",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:l.score>=l.target?"恭喜过关！":"游戏结束"}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:["最终分数: ",l.score.toLocaleString()]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-sm",children:"再玩一次"}),t.jsx(ne,{to:"/computing-power",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-center text-sm",children:"查看算力"}),t.jsx(ne,{to:"/game-center",className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 px-3 rounded-lg font-medium transition-colors text-center text-sm",children:"游戏中心"})]})]})})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-md",children:t.jsx(o6,{gameType:"match3",playerLevel:k})})]})]})})]})}class u6{constructor(){Ee(this,"economicData",null);Ee(this,"marketStats",null);Ee(this,"listeners",[])}generateEconomicData(){const e=new Date,r=()=>(Math.random()-.5)*.1;return{timestamp:e,totalNetworkPower:Math.floor(125e4+Math.random()*25e4),activePlayers:Math.floor(8500+Math.random()*1500),dailyRewards:Math.floor(45e3+Math.random()*1e4),powerGrowthRate:12.5+r()*5,averageEfficiency:85.2+r()*10,networkLoad:67.8+r()*20,expectedReturn:8.5+r()*2,powerDistribution:[{category:"游戏算力",power:45e4,percentage:36,color:"#3b82f6"},{category:"交易算力",power:35e4,percentage:28,color:"#10b981"},{category:"社区算力",power:25e4,percentage:20,color:"#f59e0b"},{category:"系统算力",power:2e5,percentage:16,color:"#ef4444"}],platformRevenue:{daily:Math.floor(25e3+Math.random()*5e3),weekly:Math.floor(175e3+Math.random()*35e3),monthly:Math.floor(75e4+Math.random()*15e4)},transactionVolume:{daily:Math.floor(1200+Math.random()*300),total:Math.floor(45e4+Math.random()*5e4)},averagePrice:125.5+r()*25,priceHistory:[{timestamp:new Date(Date.now()-864e5*2),averagePrice:118.2,change:-2.1},{timestamp:new Date(Date.now()-864e5),averagePrice:122.8,change:3.9},{timestamp:new Date,averagePrice:125.5,change:2.2}],rewardHistory:[{date:"2025-01-24",totalReward:42500,participants:8200,averageReward:5.18},{date:"2025-01-25",totalReward:45800,participants:8650,averageReward:5.29},{date:"2025-01-26",totalReward:48200,participants:9100,averageReward:5.3}]}}async getEconomicData(){return this.economicData=this.generateEconomicData(),this.economicData}subscribe(e){return this.listeners.push(e),()=>{const r=this.listeners.indexOf(e);r>-1&&this.listeners.splice(r,1)}}startRealTimeUpdates(){setInterval(()=>{const e=this.generateEconomicData();this.economicData=e,this.listeners.forEach(r=>r(e))},3e3)}async getMarketStats(){return{totalListings:Math.floor(500+Math.random()*200),activeListings:Math.floor(300+Math.random()*100),totalTransactions:Math.floor(2500+Math.random()*500),totalVolume:Math.floor(125e3+Math.random()*25e3),averagePrice:Math.floor(50+Math.random()*30),topSellingItems:[],priceHistory:[]}}calculateEconomicHealth(e){const r=[{name:"算力效率",value:e.averageEfficiency,status:e.averageEfficiency>80?"good":e.averageEfficiency>60?"warning":"critical"},{name:"网络负载",value:e.networkLoad,status:e.networkLoad<70?"good":e.networkLoad<85?"warning":"critical"},{name:"用户活跃度",value:e.activePlayers/1e4,status:e.activePlayers>8e3?"good":e.activePlayers>6e3?"warning":"critical"}];return{score:r.reduce((o,l)=>{const c=l.status==="good"?1:l.status==="warning"?.6:.3;return o+c},0)/r.length*100,indicators:r}}}const Ly=new u6;Ly.startRealTimeUpdates();class m6{constructor(){Ee(this,"transactionsStorageKey","fundPool_transactions");Ee(this,"aCoinDistributionsStorageKey","fundPool_aCoinDistributions");Ee(this,"oCoinDistributionsStorageKey","fundPool_oCoinDistributions");Ee(this,"oCoinDividendsStorageKey","fundPool_oCoinDividends");Ee(this,"transactions",[]);Ee(this,"balance",{computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0,lastUpdated:new Date});Ee(this,"exchangeRates",{computingPower:.1,gameCoins:.01,aCoins:1,cash:1,oCoins:1});Ee(this,"aCoinConfig",{totalSupply:1e9,exchangeRate:1,minUnit:.01,distributionRatio:.4});Ee(this,"aCoinDistributions",[]);Ee(this,"aCoinStats",{totalSupply:1e9,circulatingSupply:0,totalDistributed:0,totalBurned:0,currentPrice:1,distributionHistory:[],holdersCount:0,averageHolding:0});Ee(this,"oCoinConfig",{totalSupply:1e9,exchangeRate:1,minUnit:1e-5,distributionRatio:.6});Ee(this,"oCoinDistributions",[]);Ee(this,"oCoinDividends",[]);Ee(this,"oCoinStats",{totalSupply:1e9,circulatingSupply:0,totalDistributed:0,totalBurned:0,totalLocked:1e9,currentPrice:1,priceHistory:[],distributionHistory:[],dividendHistory:[],holdersCount:0,averageHolding:0,marketCap:1e9});this.loadFromStorage()?(this.updateBalance(),this.updateACoinStats(),this.updateOCoinStats()):this.initializeMockData()}async getOCoinPrice(){try{return(await Cm()).currentPrice}catch(e){return console.error("获取O币价格失败:",e),1}}_saveAll(){localStorage.setItem(this.transactionsStorageKey,JSON.stringify(this.transactions)),localStorage.setItem(this.aCoinDistributionsStorageKey,JSON.stringify(this.aCoinDistributions)),localStorage.setItem(this.oCoinDistributionsStorageKey,JSON.stringify(this.oCoinDistributions)),localStorage.setItem(this.oCoinDividendsStorageKey,JSON.stringify(this.oCoinDividends))}loadFromStorage(){let e=!1;const r=localStorage.getItem(this.transactionsStorageKey);r&&(this.transactions=JSON.parse(r).map(c=>(c.currency==="computing"&&(c.currency="computingPower",e=!0),{...c,timestamp:new Date(c.timestamp)})));const n=localStorage.getItem(this.aCoinDistributionsStorageKey);n&&(this.aCoinDistributions=JSON.parse(n).map(c=>({...c,timestamp:new Date(c.timestamp)})));const o=localStorage.getItem(this.oCoinDistributionsStorageKey);o&&(this.oCoinDistributions=JSON.parse(o).map(c=>({...c,timestamp:new Date(c.timestamp)})));const l=localStorage.getItem(this.oCoinDividendsStorageKey);return l&&(this.oCoinDividends=JSON.parse(l).map(c=>({...c,timestamp:new Date(c.timestamp)}))),e&&this._saveAll(),!!r||!!n||!!o||!!l}initializeMockData(){const e=[{id:"FP001",type:"income",category:"commission",amount:105,currency:"gameCoins",description:"游戏电商交易佣金",relatedTransactionId:"game_store_purchase_1",timestamp:new Date(Date.now()-1728e5),source:"game_store",anonymizedUserId:"user_***1"},{id:"FP002",type:"income",category:"commission",amount:8,currency:"computingPower",description:"玩家交易市场佣金",relatedTransactionId:"market_purchase_1",timestamp:new Date(Date.now()-3456e5),source:"player_market",anonymizedUserId:"user_***2"},{id:"FP003",type:"expense",category:"reward",amount:50,currency:"gameCoins",description:"用户活动奖励发放",timestamp:new Date(Date.now()-864e5),source:"system"},{id:"FP004",type:"income",category:"commission",amount:1.2,currency:"computingPower",description:"玩家交易市场佣金",relatedTransactionId:"sale_1",timestamp:new Date(Date.now()-1728e5),source:"player_market",anonymizedUserId:"user_***3"},{id:"FP005",type:"expense",category:"reward",amount:1.2,currency:"aCoins",description:"A币发放 - 2025-01-10",relatedTransactionId:"ACOIN_DIST_1736467200000",timestamp:new Date(Date.now()-864e5),source:"system",anonymizedUserId:"system"},{id:"FP006",type:"expense",category:"reward",amount:.8,currency:"aCoins",description:"A币发放 - 2025-01-09",relatedTransactionId:"ACOIN_DIST_1736380800000",timestamp:new Date(Date.now()-1728e5),source:"system",anonymizedUserId:"system"},{id:"FP007",type:"expense",category:"reward",amount:1.17,currency:"aCoins",description:"A币发放 - 2025-01-08",relatedTransactionId:"ACOIN_DIST_1736294400000",timestamp:new Date(Date.now()-2592e5),source:"system",anonymizedUserId:"system"},{id:"FP008",type:"expense",category:"reward",amount:.5,currency:"aCoins",description:"A币发放 - 2025-01-07",relatedTransactionId:"ACOIN_DIST_1736208000000",timestamp:new Date(Date.now()-3456e5),source:"system",anonymizedUserId:"system"}];this.transactions=e,this.updateBalance(),this._saveAll()}generateTransactionId(){return`FP${(this.transactions.length+1).toString().padStart(3,"0")}`}anonymizeUserId(e){if(e==="official_store"||e==="system")return e;const r=e.split("").reduce((n,o)=>(n=(n<<5)-n+o.charCodeAt(0),n&n),0);return`user_***${Math.abs(r)%1e3}`}async recordCommissionIncome(e,r,n,o,l,c){const u={id:this.generateTransactionId(),type:"income",category:"commission",amount:r,currency:n,description:this.getCommissionDescription(o),relatedTransactionId:e,timestamp:new Date,source:o,anonymizedUserId:this.anonymizeUserId(l)};return this.transactions.push(u),this.updateBalance(),this._saveAll(),console.log("资金池记录佣金收入:",u),u}async recordExpense(e,r,n,o,l){const c={id:this.generateTransactionId(),type:"expense",category:n,amount:e,currency:r,description:o,relatedTransactionId:l,timestamp:new Date,source:"system"};return this.transactions.push(c),this.updateBalance(),this._saveAll(),console.log("资金池记录支出:",c),c}getCommissionDescription(e){switch(e){case"player_market":return"玩家交易市场佣金";case"game_store":return"游戏电商交易佣金";case"official_store":return"官方商店交易佣金";default:return"平台交易佣金"}}updateBalance(){const e={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0,lastUpdated:new Date};this.transactions.forEach(r=>{const n=r.type==="income"?1:-1;switch(r.currency){case"computingPower":e.computingPower+=r.amount*n;break;case"cash":e.cash+=r.amount*n;break;case"gameCoins":e.gameCoins+=r.amount*n;break}}),e.totalValue=e.computingPower*this.exchangeRates.computingPower+e.cash*this.exchangeRates.cash+e.gameCoins*this.exchangeRates.gameCoins+e.aCoins*this.exchangeRates.aCoins+e.oCoins*this.exchangeRates.oCoins,e.computingPower=Math.round(e.computingPower*100)/100,e.cash=Math.round(e.cash*100)/100,e.gameCoins=Math.round(e.gameCoins*100)/100,e.aCoins=0,e.oCoins=0,e.totalValue=Math.round(e.totalValue*100)/100,this.balance=e}async getCurrentBalance(){return{...this.balance}}async getAllTransactions(){return[...this.transactions].sort((e,r)=>r.timestamp.getTime()-e.timestamp.getTime())}async getTransactions(e=1,r=50){const n=[...this.transactions].sort((c,u)=>u.timestamp.getTime()-c.timestamp.getTime()),o=(e-1)*r,l=o+r;return{transactions:n.slice(o,l),total:this.transactions.length,page:e,totalPages:Math.ceil(this.transactions.length/r)}}async getStats(){const e=new Date,r=new Date(e.getTime()-30*864e5),n=localStorage.getItem("forced_platform_income"),o=n!==null,l=o?parseFloat(n):0,c={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0},u={computingPower:0,cash:0,gameCoins:0,aCoins:0,oCoins:0,totalValue:0},m={commission:0,operation:0,reward:0,refund:0,maintenance:0,dividend:0},p={commission:0,operation:0,reward:0,refund:0,maintenance:0,dividend:0},f={player_market:0,official_store:0,game_store:0,system:0};this.transactions.forEach(N=>{const w=N.amount*(this.exchangeRates[N.currency]||0);N.type==="income"?(c[N.currency]+=N.amount,c.totalValue+=w,m[N.category]+=w,f[N.source]+=w):(u[N.currency]+=N.amount,u.totalValue+=w,p[N.category]+=w)});const x={computingPower:c.computingPower-u.computingPower,cash:c.cash-u.cash,gameCoins:c.gameCoins-u.gameCoins,aCoins:c.aCoins-u.aCoins,oCoins:c.oCoins-u.oCoins,totalValue:o?l:c.totalValue-u.totalValue};o&&(console.log(`使用强制设置的平台净收入: ${l}`),c.totalValue=l+u.totalValue,c.cash=l+u.cash);const v=this.generateDailyStats(r,e,o,l),k=this.generateWeeklyStats(),C=this.generateMonthlyStats();return{totalIncome:c,totalExpense:u,netIncome:x,incomeByCategory:m,expenseByCategory:p,incomeBySource:f,dailyStats:v,weeklyStats:k,monthlyStats:C}}generateDailyStats(e,r,n=!1,o=0){const l={};for(let u=new Date(e);u<=r;u.setDate(u.getDate()+1)){const m=u.toISOString().split("T")[0];l[m]={income:0,expense:0}}return this.transactions.forEach(u=>{const m=u.timestamp.toISOString().split("T")[0];if(l[m]){const p=u.amount*this.exchangeRates[u.currency];u.type==="income"?l[m].income+=p:l[m].expense+=p}}),Object.entries(l).map(([u,m])=>{const p=u===new Date().toISOString().split("T")[0],f=p&&n?o+m.expense:m.income,x=p&&n?o:f-m.expense;return{date:u,income:Math.round(f*100)/100,expense:Math.round(m.expense*100)/100,netIncome:Math.round(x*100)/100}})}generateWeeklyStats(){return[{week:"第1周",income:150.5,expense:50,netIncome:100.5},{week:"第2周",income:200.3,expense:75.2,netIncome:125.1},{week:"第3周",income:180.7,expense:60,netIncome:120.7},{week:"第4周",income:220.1,expense:80.5,netIncome:139.6}]}generateMonthlyStats(){return[{month:"1月",income:500,expense:150,netIncome:350},{month:"2月",income:650.5,expense:200.3,netIncome:450.2},{month:"3月",income:720.8,expense:180.5,netIncome:540.3},{month:"4月",income:800.2,expense:220,netIncome:580.2},{month:"5月",income:900.1,expense:250.8,netIncome:649.3},{month:"6月",income:1050.3,expense:300.2,netIncome:750.1}]}async distributeACoins(e,r){const n=e*this.aCoinConfig.distributionRatio,o=new Date().toISOString().split("T")[0],l=r.reduce((C,N)=>C+N.gameCoinsEarned,0),c=r.reduce((C,N)=>C+N.computingPowerContributed,0),u=r.reduce((C,N)=>C+N.transactionVolume,0),m=r.map(C=>{const N=this.calculateContributionScore(C.gameCoinsEarned,C.computingPowerContributed,C.transactionVolume,l,c,u);return{userId:C.userId,contributionScore:N,gameCoinsEarned:C.gameCoinsEarned,computingPowerContributed:C.computingPowerContributed,transactionVolume:C.transactionVolume}}),p=m.reduce((C,N)=>C+N.contributionScore,0),f=m.filter(C=>C.contributionScore>0).map(C=>{const N=C.contributionScore/p,w=Math.round(n*N*100)/100;let A="activity";return C.computingPowerContributed>C.gameCoinsEarned*.1?A="computing":C.transactionVolume>C.gameCoinsEarned*.05&&(A="economic"),{userId:C.userId,amount:w,reason:A,contributionScore:C.contributionScore}}).filter(C=>C.amount>=.01),x=f.reduce((C,N)=>C+N.amount,0),v={id:`ACOIN_DIST_${Date.now()}`,period:o,totalDistributed:x,platformIncome:e,distributionPool:n,recipients:f,timestamp:new Date};this.aCoinDistributions.push(v),this.updateACoinStats();const k={id:this.generateTransactionId(),type:"expense",category:"reward",amount:x,currency:"aCoins",description:`每日A币自动结算发放 - ${o}`,relatedTransactionId:v.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(k),this._saveAll(),v}calculateContributionScore(e,r,n,o,l,c){const u={gameCoins:.5,computingPower:.3,transaction:.2},m=o>0?e/o:0,p=l>0?r/l:0,f=c>0?n/c:0,x=(m*u.gameCoins+p*u.computingPower+f*u.transaction)*1e3;return x>=.1?Math.round(x*100)/100:0}async getUserContributionDetails(e,r){const n=this.aCoinDistributions.find(l=>l.period===r);if(!n)return null;const o=n.recipients.find(l=>l.userId===e);return o?{gameCoinsContribution:.5,computingContribution:.3,transactionContribution:.2,totalScore:o.contributionScore,rank:n.recipients.sort((l,c)=>c.contributionScore-l.contributionScore).findIndex(l=>l.userId===e)+1}:null}updateACoinStats(){const e=this.aCoinDistributions.reduce((o,l)=>o+l.totalDistributed,0);let r=this.aCoinDistributions.reduce((o,l)=>l.recipients&&l.recipients.length>0?o+l.recipients.length:o+Math.ceil(l.totalDistributed/10),0);r=Math.max(1,r),this.transactions.filter(o=>o.currency==="aCoins"&&o.type==="expense"&&o.category==="reward");const n=Math.max(0,e-this.aCoinStats.totalBurned);this.aCoinStats={...this.aCoinStats,circulatingSupply:n,totalDistributed:e,distributionHistory:[...this.aCoinDistributions],holdersCount:r,averageHolding:r>0?n/r:0},localStorage.setItem("acoin_circulating_supply",n.toString()),localStorage.setItem("acoin_total_distributed",e.toString()),localStorage.setItem("acoin_holders_count",r.toString()),console.log("A币统计数据已更新:",{circulatingSupply:n,totalDistributed:e,holdersCount:r,averageHolding:this.aCoinStats.averageHolding})}async getACoinStats(){const e=localStorage.getItem("acoin_circulating_supply"),r=localStorage.getItem("acoin_total_distributed"),n=localStorage.getItem("acoin_holders_count");if(e&&r&&n){const o={...this.aCoinStats,circulatingSupply:parseFloat(e),totalDistributed:parseFloat(r),holdersCount:parseInt(n,10)};return this.aCoinStats=o,console.log("从localStorage获取A币统计数据:",o),o}return await this.refreshACoinStats(),{...this.aCoinStats}}async refreshACoinStats(){const e=this.aCoinDistributions.reduce((m,p)=>m+p.totalDistributed,0),n=this.transactions.filter(m=>m.currency==="aCoins"&&m.type==="expense"&&m.category==="reward").reduce((m,p)=>m+p.amount,0),o=e>0?e:n;let l=this.aCoinDistributions.reduce((m,p)=>p.recipients&&p.recipients.length>0?m+p.recipients.length:m+Math.ceil(p.totalDistributed/10),0);l=Math.max(1,l);const c=localStorage.getItem("mock_acoin_distributed"),u=localStorage.getItem("mock_acoin_holders");if(c){const m=parseFloat(c);m>o&&(console.log(`使用模拟A币发放量: ${m}`),this.aCoinStats.totalDistributed=m,this.aCoinStats.circulatingSupply=m)}if(u){const m=parseInt(u,10);m>l&&(console.log(`使用模拟A币持有人数: ${m}`),this.aCoinStats.holdersCount=m)}!c&&o>0&&(this.aCoinStats.totalDistributed=o,this.aCoinStats.circulatingSupply=o-this.aCoinStats.totalBurned),!u&&l>0&&(this.aCoinStats.holdersCount=l),this.aCoinStats.averageHolding=this.aCoinStats.holdersCount>0?this.aCoinStats.circulatingSupply/this.aCoinStats.holdersCount:0,localStorage.setItem("acoin_circulating_supply",this.aCoinStats.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",this.aCoinStats.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",this.aCoinStats.holdersCount.toString()),console.log("A币统计数据已刷新:",{circulatingSupply:this.aCoinStats.circulatingSupply,totalDistributed:this.aCoinStats.totalDistributed,holdersCount:this.aCoinStats.holdersCount,averageHolding:this.aCoinStats.averageHolding})}async getACoinConfig(){return{...this.aCoinConfig}}async getPublicFundPoolData(){const[e,r,n,o,l]=await Promise.all([this.getCurrentBalance(),this.getTransactions(1,20),this.getStats(),this.getACoinStats(),this.getOCoinStats()]),c=this.transactions.length>0?this.transactions.reduce((u,m)=>u+m.amount*this.exchangeRates[m.currency],0)/this.transactions.length:0;return{currentBalance:e,recentTransactions:r.transactions,stats:n,transactionCount:this.transactions.length,averageTransactionAmount:Math.round(c*100)/100,aCoinStats:o,oCoinStats:l}}async updateACoinBalance(e,r){const n={id:this.generateTransactionId(),type:e<0?"expense":"income",category:"reward",amount:Math.abs(e),currency:"aCoins",description:r,timestamp:new Date,source:"system",anonymizedUserId:"system"};this.transactions.push(n),e<0?(this.aCoinStats.circulatingSupply+=Math.abs(e),this.aCoinStats.totalDistributed+=Math.abs(e)):(this.aCoinStats.circulatingSupply-=Math.min(Math.abs(e),this.aCoinStats.circulatingSupply),this.aCoinStats.totalBurned+=Math.abs(e));const o=new Date().toISOString().split("T")[0],l=this.aCoinDistributions.find(c=>c.period===o);l&&e<0?l.totalDistributed+=Math.abs(e):e<0&&this.aCoinDistributions.push({id:`ACOIN_DIST_${Date.now()}`,period:o,totalDistributed:Math.abs(e),platformIncome:1e3,distributionPool:Math.abs(e),recipients:[],timestamp:new Date}),this.updateACoinStats(),this._saveAll(),console.log(`A币余额更新: ${e>0?"+":"-"}${Math.abs(e).toFixed(2)} A币`)}async getOCoinConfig(){return{...this.oCoinConfig}}async updateOCoinBalance(e,r){const n={id:this.generateTransactionId(),type:e<0?"expense":"income",category:"reward",amount:Math.abs(e),currency:"oCoins",description:r,timestamp:new Date,source:"system",anonymizedUserId:"system"};this.transactions.push(n),e<0?(this.oCoinStats.circulatingSupply+=Math.abs(e),this.oCoinStats.totalDistributed+=Math.abs(e),this.oCoinStats.totalLocked-=Math.abs(e)):(this.oCoinStats.circulatingSupply-=Math.min(Math.abs(e),this.oCoinStats.circulatingSupply),this.oCoinStats.totalBurned+=Math.abs(e));const o=new Date().toISOString().split("T")[0],l=this.oCoinDistributions.find(c=>c.period===o);l&&e<0?l.totalDistributed+=Math.abs(e):e<0&&this.oCoinDistributions.push({id:`OCOIN_DIST_${Date.now()}`,period:o,totalDistributed:Math.abs(e),platformNetIncome:1e3,distributionPool:Math.abs(e),recipients:[],timestamp:new Date}),this.updateOCoinStats(),this._saveAll(),console.log(`O币余额更新: ${e>0?"+":"-"}${Math.abs(e).toFixed(2)} O币`)}async updateOCoinStats(){const e=await this.getOCoinPrice();this.exchangeRates.oCoins=e;const r=this.oCoinDistributions.reduce((p,f)=>p+f.totalDistributed,0),o=this.transactions.filter(p=>p.currency==="oCoins"&&p.type==="expense"&&p.category==="reward").reduce((p,f)=>p+f.amount,0),l=r>0?r:o;let c=this.oCoinDistributions.reduce((p,f)=>f.recipients&&f.recipients.length>0?p+f.recipients.length:p+Math.ceil(f.totalDistributed/1e3),0);c=Math.max(1,c);const u=localStorage.getItem("mock_ocoin_distributed"),m=localStorage.getItem("mock_ocoin_holders");if(u){const p=parseFloat(u);p>l&&(console.log(`使用模拟O币发放量: ${p}`),this.oCoinStats.totalDistributed=p,this.oCoinStats.circulatingSupply=p,this.oCoinStats.totalLocked=this.oCoinStats.totalSupply-p)}if(m){const p=parseInt(m,10);p>c&&(console.log(`使用模拟O币持有人数: ${p}`),this.oCoinStats.holdersCount=p)}!u&&l>0&&(this.oCoinStats.totalDistributed=l,this.oCoinStats.circulatingSupply=l-this.oCoinStats.totalBurned,this.oCoinStats.totalLocked=this.oCoinStats.totalSupply-this.oCoinStats.circulatingSupply),!m&&c>0&&(this.oCoinStats.holdersCount=c),this.oCoinStats.averageHolding=this.oCoinStats.holdersCount>0?this.oCoinStats.circulatingSupply/this.oCoinStats.holdersCount:0,this.oCoinStats.marketCap=this.oCoinStats.circulatingSupply*e,localStorage.setItem("ocoin_circulating_supply",this.oCoinStats.circulatingSupply.toString()),localStorage.setItem("ocoin_total_distributed",this.oCoinStats.totalDistributed.toString()),localStorage.setItem("ocoin_holders_count",this.oCoinStats.holdersCount.toString()),localStorage.setItem("ocoin_current_price",e.toString()),localStorage.setItem("ocoin_market_cap",this.oCoinStats.marketCap.toString()),console.log("O币统计数据已更新:",{circulatingSupply:this.oCoinStats.circulatingSupply,totalDistributed:this.oCoinStats.totalDistributed,holdersCount:this.oCoinStats.holdersCount,averageHolding:this.oCoinStats.averageHolding,currentPrice:e,marketCap:this.oCoinStats.marketCap})}async getOCoinStats(){const e=localStorage.getItem("ocoin_circulating_supply"),r=localStorage.getItem("ocoin_total_distributed"),n=localStorage.getItem("ocoin_holders_count"),o=localStorage.getItem("ocoin_current_price"),l=localStorage.getItem("ocoin_market_cap");if(e&&r&&n&&o&&l){const c={...this.oCoinStats,circulatingSupply:parseFloat(e),totalDistributed:parseFloat(r),holdersCount:parseInt(n,10),currentPrice:parseFloat(o),marketCap:parseFloat(l),totalLocked:this.oCoinStats.totalSupply-parseFloat(e)};return this.oCoinStats=c,console.log("从localStorage获取O币统计数据:",c),c}return await this.updateOCoinStats(),{...this.oCoinStats}}async distributeOCoins(e,r){const n=e*this.aCoinConfig.distributionRatio,l=(e-n)*this.oCoinConfig.distributionRatio,c=new Date().toISOString().split("T")[0],u=r.reduce((v,k)=>v+k.contributionValue,0),m=r.map(v=>{const k=u>0?v.contributionValue/u*1e3:0,C=l*(k/1e3),N=v.optionsAmount,w=C+N;return{userId:v.userId,amount:Math.round(w*100)/100,reason:v.contributionType,contributionScore:k}}).filter(v=>v.amount>=this.oCoinConfig.minUnit),p=m.reduce((v,k)=>v+k.amount,0),f={id:`OCOIN_DIST_${Date.now()}`,period:c,totalDistributed:p,platformNetIncome:e,distributionPool:l,recipients:m,timestamp:new Date};this.oCoinDistributions.push(f);const x={id:this.generateTransactionId(),type:"expense",category:"reward",amount:p,currency:"oCoins",description:`O币发放 - ${c} (平台贡献奖励)`,relatedTransactionId:f.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(x),await this.updateOCoinStats(),this._saveAll(),f}async calculateSalaryPackage(e){const r=e.platformNetIncome*e.platformCommitteeRewardPercent,n=e.gameRevenueIncrease*e.communityRepresentativeRewardPercent,o=r+n,l=e.oCoinOptions,c=await this.getOCoinPrice(),u=o+l*c;return{cashReward:o,oCoinReward:l,totalValue:u,breakdown:{platformReward:r,communityReward:n,oCoinOptions:e.oCoinOptions}}}async calculateOCoinDividend(e){const r=new Date().toISOString().split("T")[0],n=await this.getOCoinHolders(),o=this.oCoinStats.circulatingSupply,l=n.map(p=>{const f=o>0?p.oCoinAmount/o:0,x=e*f;return{userId:p.userId,oCoinAmount:p.oCoinAmount,dividendRatio:f,amount:Math.round(x*100)/100}}).filter(p=>p.amount>=.01),c=l.reduce((p,f)=>p+f.amount,0),u={id:`OCOIN_DIV_${Date.now()}`,period:r,totalAmount:c,recipients:l,timestamp:new Date};this.oCoinDividends.push(u);const m={id:this.generateTransactionId(),type:"expense",category:"dividend",amount:c,currency:"cash",description:`O币持有者分红 - ${r}`,relatedTransactionId:u.id,timestamp:new Date,source:"system",anonymizedUserId:"system"};return this.transactions.push(m),this.updateBalance(),this.oCoinStats.dividendHistory.push(u),this._saveAll(),u}async getOCoinHolders(){const e=this.oCoinStats.holdersCount||10,r=this.oCoinStats.circulatingSupply||1e6,n=[],o=Math.max(1,Math.floor(e*.05)),c=r*.3/o;for(let k=0;k<o;k++)n.push({userId:`big_holder_${k}`,oCoinAmount:c*(.8+Math.random()*.4)});const u=Math.max(1,Math.floor(e*.25)),p=r*.4/u;for(let k=0;k<u;k++)n.push({userId:`medium_holder_${k}`,oCoinAmount:p*(.8+Math.random()*.4)});const f=e-o-u,v=r*.3/f;for(let k=0;k<f;k++)n.push({userId:`small_holder_${k}`,oCoinAmount:v*(.8+Math.random()*.4)});return n}async updateOCoinPrice(e){this.oCoinStats.currentPrice=e,this.exchangeRates.oCoins=e;const r=new Date().toISOString().split("T")[0];this.oCoinStats.priceHistory||(this.oCoinStats.priceHistory=[]);const n=this.oCoinStats.priceHistory.find(o=>o.date===r);n?n.price=e:this.oCoinStats.priceHistory.push({date:r,price:e}),this.oCoinStats.marketCap=this.oCoinStats.circulatingSupply*e,localStorage.setItem("ocoin_current_price",e.toString()),localStorage.setItem("ocoin_market_cap",this.oCoinStats.marketCap.toString()),console.log(`O币价格更新: ${e.toFixed(4)}, 市值: ${this.oCoinStats.marketCap.toFixed(2)}`)}async simulateOCoinPriceFluctuation(){const e=this.oCoinStats.currentPrice,r=.95+Math.random()*.1,n=e*r;return await this.updateOCoinPrice(n),n}async searchTransactions(e){let r=[...this.transactions];return e.type&&(r=r.filter(n=>n.type===e.type)),e.category&&(r=r.filter(n=>n.category===e.category)),e.source&&(r=r.filter(n=>n.source===e.source)),e.startDate&&(r=r.filter(n=>n.timestamp>=e.startDate)),e.endDate&&(r=r.filter(n=>n.timestamp<=e.endDate)),e.minAmount!==void 0&&(r=r.filter(n=>n.amount>=e.minAmount)),e.maxAmount!==void 0&&(r=r.filter(n=>n.amount<=e.maxAmount)),r.sort((n,o)=>o.timestamp.getTime()-n.timestamp.getTime())}}const dt=new m6,h6="modulepreload",p6=function(s){return"/AllinONE-Gaming-Platform/"+s},tg={},Wn=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=c(r.map(p=>{if(p=p6(p),p in tg)return;tg[p]=!0;const f=p.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":h6,f||(v.as="script"),v.crossOrigin="",v.href=p,m&&v.setAttribute("nonce",m),document.head.appendChild(v),f)return new Promise((k,C)=>{v.addEventListener("load",k),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})};class f6{constructor(){Ee(this,"activities",[]);Ee(this,"playerStats",new Map);this.initializeMockData()}initializeMockData(){const e=[{userId:"user_001",sessionId:"session_001",gameId:"match3",gameName:"消消乐",startTime:new Date(Date.now()-36e5),endTime:new Date(Date.now()-3e6),duration:600,score:1250,level:5,achievements:["first_win","combo_master"],computingPowerEarned:85,gameCoinsEarned:120,activityType:"game_play"},{userId:"user_002",sessionId:"session_002",gameId:"memory",gameName:"记忆翻牌",startTime:new Date(Date.now()-72e5),endTime:new Date(Date.now()-66e5),duration:600,score:980,level:3,achievements:["memory_master"],computingPowerEarned:65,gameCoinsEarned:90,activityType:"game_play"}];this.activities=e,this.updatePlayerStats()}async recordGameActivity(e){const r=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...e,sessionId:r};this.activities.push(n),this.updatePlayerStats();try{const{walletService:o}=await Wn(async()=>{const{walletService:l}=await Promise.resolve().then(()=>zy);return{walletService:l}},[]);await o.addGameReward(e.computingPowerEarned||0,e.gameCoinsEarned||0,e.gameId)}catch(o){console.warn("同步钱包数据失败:",o)}return console.log("记录游戏活动:",n),n}async recordDailyLogin(e){const r={userId:e,sessionId:`login_${Date.now()}`,gameId:"system",gameName:"每日登录",startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:10,gameCoinsEarned:5,activityType:"daily_login"};await this.recordGameActivity(r)}async recordSocialInteraction(e,r){const n={userId:e,sessionId:`social_${Date.now()}`,gameId:"social",gameName:"社交互动",startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:5,gameCoinsEarned:3,activityType:"social_interaction"};await this.recordGameActivity(n)}async recordTaskCompletion(e,r,n){const o={userId:e,sessionId:`task_${Date.now()}`,gameId:"system",gameName:`任务完成: ${r}`,startTime:new Date,duration:0,score:0,level:0,achievements:[],computingPowerEarned:n,gameCoinsEarned:Math.floor(n*.5),activityType:"task_completion"};await this.recordGameActivity(o)}updatePlayerStats(){const e=new Map;this.activities.forEach(r=>{e.has(r.userId)||e.set(r.userId,[]),e.get(r.userId).push(r)}),e.forEach((r,n)=>{const o=r.filter(A=>A.activityType==="game_play"),l=o.reduce((A,D)=>A+D.duration,0)/60,c=o.length,u=o.reduce((A,D)=>A+D.score,0),m=new Set(o.flatMap(A=>A.achievements)).size,p=r.filter(A=>A.activityType==="social_interaction").length,f=r.filter(A=>A.activityType==="task_completion").length,x=r.filter(A=>A.activityType==="daily_login").map(A=>A.startTime.toDateString()),k=new Set(x).size,C=l+c*2+m*5+p*3;let N;C<50?N="low":C<150?N="medium":C<300?N="high":N="very_high";const w={userId:n,totalPlayTime:l,totalSessions:c,averageSessionTime:c>0?l/c:0,totalScore:u,averageScore:c>0?u/c:0,achievementCount:m,consecutiveDays:k,socialInteractions:p,tasksCompleted:f,lastActiveDate:new Date(Math.max(...r.map(A=>A.startTime.getTime()))),activityLevel:N};this.playerStats.set(n,w)})}async getPlayerComputingPowerBreakdown(e){const r=this.playerStats.get(e);if(!r)return{baseActivity:0,gamePerformance:0,socialContribution:0,loyaltyBonus:0,achievementBonus:0,economicContribution:0,total:0};const n=Math.floor(r.totalPlayTime*.5+r.totalSessions*2),o=Math.floor(r.averageScore*.1+r.totalScore*.01),l=r.socialInteractions*5,c=r.consecutiveDays*10,u=r.achievementCount*15,m=50,p=n+o+l+c+u+m;return{baseActivity:n,gamePerformance:o,socialContribution:l,loyaltyBonus:c,achievementBonus:u,economicContribution:m,total:p}}async getPlayerStats(e){return this.playerStats.get(e)||null}async getNetworkActivityData(){try{const{generateMockNetworkActivityData:e}=await Wn(async()=>{const{generateMockNetworkActivityData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockNetworkActivityData:r}},[]);return e()}catch(e){console.error("获取全网活动数据失败:",e);const r=Array.from(this.playerStats.values()),n=r.length||5,o=r.reduce((p,f)=>p+f.totalSessions,0)||25,l=r.reduce((p,f)=>p+f.totalPlayTime,0)||120,c=3.5,u=Array(5).fill(0).map((p,f)=>({userId:`user_00${f+1}`,username:`玩家00${f+1}`,computingPower:100-f*10,activityScore:1e3-f*100}));return{totalActivePlayers:n,totalGameSessions:o,totalPlayTime:l,averagePlayerLevel:c,topPerformers:u,gamePopularity:[{gameId:"match3",gameName:"消消乐",playerCount:15,totalSessions:45,averageScore:850},{gameId:"memory",gameName:"记忆翻牌",playerCount:12,totalSessions:36,averageScore:720},{gameId:"puzzle",gameName:"益智拼图",playerCount:8,totalSessions:24,averageScore:650}]}}}async getPlayerRecentActivities(e,r=20){return this.activities.filter(n=>n.userId===e).sort((n,o)=>o.startTime.getTime()-n.startTime.getTime()).slice(0,r)}async getRecentActivities(e=50){return this.activities.sort((r,n)=>n.startTime.getTime()-r.startTime.getTime()).slice(0,e)}}const no=new f6;class x6{constructor(){Ee(this,"DISTRIBUTION_RATIO",.4);Ee(this,"MIN_DISTRIBUTION_AMOUNT",.01);Ee(this,"WEIGHT_GAME_COINS",.5);Ee(this,"WEIGHT_COMPUTING_POWER",.3);Ee(this,"WEIGHT_TRANSACTION",.2)}calculatePersonalContribution(e,r,n){return e*this.WEIGHT_GAME_COINS+r*this.WEIGHT_COMPUTING_POWER+n*this.WEIGHT_TRANSACTION}async calculateNetworkContribution(){const e=await ns.getDailySettlementData();return e.totalDailyGameCoinsDistributed*this.WEIGHT_GAME_COINS+e.totalDailyComputingPower*this.WEIGHT_COMPUTING_POWER+5e4*this.WEIGHT_TRANSACTION}async calculateACoinDistribution(e,r){try{const n=await ns.getDailySettlementData(),o=this.calculatePersonalContribution(r.gameCoins,r.computingPower,r.transactionVolume),l=await this.calculateNetworkContribution(),c=n.platformNetIncome,u=c>0?c*this.DISTRIBUTION_RATIO:0,m=l>0?o/l:0,p=u*m,f=p>=this.MIN_DISTRIBUTION_AMOUNT?p:0;let x="success",v;return c<=0?(x="failed",v="平台净收入不足，无法发放A币"):f===0&&(x="insufficient",v=`计算金额${p.toFixed(4)}低于最小发放单位${this.MIN_DISTRIBUTION_AMOUNT}`),{id:`acoin_${e}_${Date.now()}`,userId:e,date:new Date().toISOString().split("T")[0],personalContributionScore:o,networkContributionScore:l,personalRatio:m,calculatedAmount:p,actualDistributed:f,platformNetIncome:c,distributionPool:u,status:x,reason:v,timestamp:new Date}}catch(n){throw console.error("A币计算失败:",n),new Error("A币计算服务异常")}}async distributeACoin(e,r){const n=await this.calculateACoinDistribution(e,r);if(n.status==="success"&&n.actualDistributed>0)try{await this.saveDistributionRecord(n),console.log(`A币发放成功: 用户${e}获得${n.actualDistributed.toFixed(2)} A币`)}catch(o){console.error("A币发放执行失败:",o),n.status="failed",n.reason="发放执行失败"}return n}async updateFundPoolACoin(e){try{const r=e<0?`A币发放 - ${new Date().toISOString().split("T")[0]}`:`A币回收 - ${new Date().toISOString().split("T")[0]}`;await dt.updateACoinBalance(e,r);const n=await dt.getPublicFundPoolData();localStorage.setItem("acoin_circulating_supply",n.aCoinStats.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",n.aCoinStats.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",n.aCoinStats.holdersCount.toString()),console.log(`资金池A币变化: ${e>0?"+":""}${e.toFixed(2)} A币`),console.log(`资金池余额: ${n.currentBalance.aCoins.toFixed(2)} A币`),console.log(`流通供应量: ${n.aCoinStats.circulatingSupply.toFixed(2)} A币`),console.log(`累计发放量: ${n.aCoinStats.totalDistributed.toFixed(2)} A币`),console.log(`持有人数: ${n.aCoinStats.holdersCount} 人`)}catch(r){throw console.error("更新资金池失败:",r),r}}async saveDistributionRecord(e){try{const r=this.getDistributionHistory(),n=[e,...r.slice(0,99)];localStorage.setItem("acoin-distribution-records",JSON.stringify(n)),console.log("A币发放记录已保存")}catch(r){throw console.error("保存发放记录失败:",r),r}}getDistributionHistory(){try{const e=localStorage.getItem("acoin-distribution-records");return e?JSON.parse(e):[]}catch(e){return console.error("获取发放历史失败:",e),[]}}getUserDistributionHistory(e){return this.getDistributionHistory().filter(n=>n.userId===e)}getDistributionStats(){const e=this.getDistributionHistory(),r=e.filter(u=>u.status==="success"),n=r.reduce((u,m)=>u+m.actualDistributed,0),o=new Set(r.map(u=>u.userId)).size,l=o>0?n/o:0,c=r.length>0?r[0].date:"";return{totalDistributed:n,totalRecipients:o,averageDistribution:l,lastDistributionDate:c,distributionHistory:e.slice(0,10)}}hasDistributedToday(e){const r=new Date().toISOString().split("T")[0];return this.getUserDistributionHistory(e).some(o=>o.date===r&&o.status==="success")}async estimateUserACoin(e,r){try{if(this.hasDistributedToday(e))return{estimatedAmount:0,canDistribute:!1,reason:"今日已发放，每日只能发放一次"};const n=await this.calculateACoinDistribution(e,r);return{estimatedAmount:n.actualDistributed,canDistribute:n.status==="success"&&n.actualDistributed>0,reason:n.reason}}catch(n){return console.error("预估A币失败:",n),{estimatedAmount:0,canDistribute:!1,reason:"计算服务异常"}}}async getUserContributionData(){try{const e=await this.getUserGameCoinsData(),r=await this.getUserComputingPowerData(),n=await this.getUserTransactionData(),o=this.getUserDistributionHistory("current-user-id"),l=o.reduce((u,m)=>u+m.actualDistributed,0),c=o.length>0?new Date(o[0].timestamp):new Date(Date.now()-30*24*60*60*1e3);return{gameCoinsEarned:e,computingPowerContribution:r,transactionActivity:n,gameCoinsWeight:this.WEIGHT_GAME_COINS,computingPowerWeight:this.WEIGHT_COMPUTING_POWER,transactionWeight:this.WEIGHT_TRANSACTION,totalACoinEarned:l,lastDistribution:c}}catch(e){throw console.error("获取用户贡献度数据失败:",e),e}}async getUserGameCoinsData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.balance&&typeof r.balance.gameCoins=="number")return r.balance.gameCoins}return 0}catch(e){return console.error("获取用户游戏币数据失败:",e),0}}async getUserComputingPowerData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.balance&&typeof r.balance.computingPower=="number")return r.balance.computingPower}return 0}catch(e){return console.error("获取用户算力数据失败:",e),0}}async getUserTransactionData(){try{const e=localStorage.getItem("wallet_data");if(e){const r=JSON.parse(e);if(r.transactions&&Array.isArray(r.transactions)){const n=new Date;return n.setDate(n.getDate()-30),r.transactions.filter(o=>new Date(o.timestamp)>=n).length}}return 0}catch(e){return console.error("获取用户交易数据失败:",e),0}}async getACoinTransactions(e=10){try{const r=[],n=new Date;for(let o=0;o<e;o++){const l=new Date(n.getTime()-o*24*60*60*1e3),c=Math.random()>.3;r.push({id:`acoin_tx_${o}`,type:c?"income":"expense",amount:parseFloat((c?Math.random()*10+1:Math.random()*5+.5).toFixed(2)),description:c?o%3===0?"A币贡献奖励":o%2===0?"算力奖励转换":"交易活跃度奖励":o%2===0?"A币兑换游戏币":"A币兑换现金",currency:"aCoins",category:c?"acoin_distribution":"acoin_exchange",timestamp:l})}return r.sort((o,l)=>l.timestamp.getTime()-o.timestamp.getTime())}catch(r){return console.error("获取A币交易记录失败:",r),[]}}async getUserACoinExchangeLimits(){try{return{dailyExchangeIn:1e3,dailyExchangeOut:500,monthlyExchangeIn:1e4,monthlyExchangeOut:5e3,remainingDailyIn:1e3,remainingDailyOut:500,remainingMonthlyIn:1e4,remainingMonthlyOut:5e3}}catch(e){throw console.error("获取A币兑换限制失败:",e),e}}async recordACoinExchange(e,r,n){try{const o={id:`acoin_exchange_${Date.now()}`,userId:"current-user-id",amount:e,targetCurrency:r,targetAmount:n,exchangeRate:n/e,timestamp:new Date,status:"success"},l=localStorage.getItem("acoin-exchange-transactions"),c=l?JSON.parse(l):[];return c.unshift(o),localStorage.setItem("acoin-exchange-transactions",JSON.stringify(c.slice(0,100))),console.log(`A币兑换交易已记录: ${e} A币 -> ${n} ${r}`),!0}catch(o){return console.error("记录A币兑换交易失败:",o),!1}}async distributeACoinsByContribution(e,r){try{console.log(`开始批量分发A币，总池子: ${e} A币，用户数: ${r.length}`);const n=r.map(p=>{const f=this.calculatePersonalContribution(p.gameCoins,p.computingPower,p.transactionVolume);return{...p,contributionScore:f}}),o=n.reduce((p,f)=>p+f.contributionScore,0);if(console.log(`总贡献分数: ${o}`),o===0)return{totalAmount:0,recipientsCount:0,successfulDistributions:[]};const l=n.map(p=>{const f=p.contributionScore/o,x=e*f,v=x>=this.MIN_DISTRIBUTION_AMOUNT?x:0;return{userId:p.userId,contributionScore:p.contributionScore,ratio:f,calculatedAmount:x,actualAmount:v}}),c=l.filter(p=>p.actualAmount>0);console.log(`有效分发数: ${c.length}/${l.length}`);let u=0;const m=[];for(const p of c)try{const f={id:`acoin_batch_${p.userId}_${Date.now()}`,userId:p.userId,date:new Date().toISOString().split("T")[0],personalContributionScore:p.contributionScore,networkContributionScore:o,personalRatio:p.ratio,calculatedAmount:p.calculatedAmount,actualDistributed:p.actualAmount,platformNetIncome:e/this.DISTRIBUTION_RATIO,distributionPool:e,status:"success",timestamp:new Date};await this.saveDistributionRecord(f),u+=p.actualAmount,m.push({userId:p.userId,amount:p.actualAmount,contributionScore:p.contributionScore}),console.log(`成功分发 ${p.actualAmount.toFixed(2)} A币给用户 ${p.userId}`)}catch(f){console.error(`分发A币给用户 ${p.userId} 失败:`,f)}if(u>0){await this.updateFundPoolACoin(-u);const p=localStorage.getItem("acoin_circulating_supply"),f=localStorage.getItem("acoin_total_distributed"),x=localStorage.getItem("acoin_holders_count");if(p){const k=parseFloat(p)+u;localStorage.setItem("acoin_circulating_supply",k.toString())}else localStorage.setItem("acoin_circulating_supply",u.toString());if(f){const k=parseFloat(f)+u;localStorage.setItem("acoin_total_distributed",k.toString())}else localStorage.setItem("acoin_total_distributed",u.toString());const v=new Set(c.map(k=>k.userId));if(x){const k=Math.max(parseInt(x),v.size);localStorage.setItem("acoin_holders_count",k.toString())}else localStorage.setItem("acoin_holders_count",v.size.toString());console.log("已更新A币统计数据:",{circulatingSupply:localStorage.getItem("acoin_circulating_supply"),totalDistributed:localStorage.getItem("acoin_total_distributed"),holdersCount:localStorage.getItem("acoin_holders_count")})}return{totalAmount:u,recipientsCount:m.length,successfulDistributions:m}}catch(n){throw console.error("批量分发A币失败:",n),n}}}const en=new x6;class g6{constructor(){Ee(this,"ECONOMIC_CONSTANTS",{COMPUTING_POWER_BASE_VALUE:.05,FUND_POOL_CONTRIBUTION_RATE:.3,DAILY_REWARD_RATE:.005})}async getComputingEconomicData(){try{const{generateMockComputingEconomicData:e}=await Wn(async()=>{const{generateMockComputingEconomicData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockComputingEconomicData:r}},[]);return e()}catch(e){return console.error("获取算力经济数据失败:",e),{totalNetworkComputingPower:125e3,totalEconomicValue:6250,activeComputingNodes:1250,totalGameSessions:8500,fundPoolBalance:15e3,computingContributionToFund:1875,economicHealthScore:78,riskLevel:"low",averageComputingEfficiency:78.5,computingROI:12.8,playerRetentionRate:86.3,totalPlayTime:4250,sustainabilityIndex:82,projectedMonthlyEarnings:1312.5,computingPowerGrowthRate:5.2,dailyComputingRevenue:31.25}}}async getPlayerEconomicProfile(e){try{const{generateMockPlayerEconomicProfile:r}=await Wn(async()=>{const{generateMockPlayerEconomicProfile:n}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockPlayerEconomicProfile:n}},[]);return r(e)}catch(r){return console.error("获取玩家经济档案失败:",r),{userId:e,economicLevel:"gold",performanceRank:42,computingPowerBreakdown:{baseActivity:350,gamePerformance:280,socialContribution:120,loyaltyBonus:80,achievementBonus:150,economicContribution:220,total:1200},economicContribution:{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500},riskProfile:{riskTolerance:"moderate",diversificationScore:65,volatilityExposure:25},projectedEarnings:{daily:13.3,weekly:93.1,monthly:399,yearly:4853.5},investmentRecommendations:[{type:"activity_boost",title:"增加游戏活跃度",description:"通过增加每日游戏时长和参与更多游戏来提升基础活动算力",cost:0,expectedReturn:200,paybackPeriod:0,riskLevel:"low",priority:1},{type:"economic_participation",title:"参与经济活动",description:"通过交易、提供流动性等方式参与平台经济，获得经济贡献算力",cost:1e3,expectedReturn:1500,paybackPeriod:30,riskLevel:"medium",priority:2},{type:"computing_upgrade",title:"算力设备升级",description:"投资更高效的算力设备，提升整体算力产出效率",cost:5e3,expectedReturn:8e3,paybackPeriod:90,riskLevel:"medium",priority:3}]}}}async getComputingMarketData(){try{const{generateMockComputingMarketData:e}=await Wn(async()=>{const{generateMockComputingMarketData:r}=await import("./mockComputingData-Mg2Yz296.js");return{generateMockComputingMarketData:r}},[]);return e()}catch(e){return console.error("获取算力市场数据失败:",e),{currentComputingPrice:.05,marketCap:6250,tradingVolume24h:312.5,marketTrend:"bullish",priceVolatility:3.8,priceHistory:this.generatePriceHistory()}}}calculateEconomicHealthScore(e,r,n){const o=Math.min(100,e/1e3),l=Math.min(100,r/100),c=Math.min(100,n/10);return o*.4+l*.4+c*.2}calculateEconomicLevel(e){return e>=5e3?"diamond":e>=2e3?"platinum":e>=1e3?"gold":e>=500?"silver":"bronze"}async calculateEconomicContribution(e){try{return{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500}}catch(r){return console.error("计算经济贡献失败:",r),{totalTransactionVolume:7500,totalCommissionGenerated:350,marketMakingContribution:750,liquidityProvided:1500}}}async getPlayerPerformanceRank(e){try{return Math.floor(Math.random()*100)+1}catch(r){return console.error("获取玩家排名失败:",r),Math.floor(Math.random()*100)+1}}async calculatePlayerProjectedEarnings(e,r){try{const l=r*this.ECONOMIC_CONSTANTS.COMPUTING_POWER_BASE_VALUE*.005,c=l*7,u=l*30,m=l*365;return{daily:l,weekly:c,monthly:u,yearly:m}}catch(n){return console.error("计算玩家预测收益失败:",n),{daily:13.3,weekly:93.1,monthly:399,yearly:4853.5}}}async generateInvestmentRecommendations(e,r,n){const o=[];return n.baseActivity<1e3&&o.push({type:"activity_boost",title:"增加游戏活跃度",description:"通过增加每日游戏时长和参与更多游戏来提升基础活动算力",cost:0,expectedReturn:200,paybackPeriod:0,riskLevel:"low",priority:1}),n.socialContribution<500&&o.push({type:"activity_boost",title:"提升社交参与",description:"增加好友互动、社区参与和内容分享来获得社交贡献算力",cost:0,expectedReturn:150,paybackPeriod:0,riskLevel:"low",priority:2}),n.economicContribution<300&&o.push({type:"economic_participation",title:"参与经济活动",description:"通过交易、提供流动性等方式参与平台经济，获得经济贡献算力",cost:1e3,expectedReturn:1500,paybackPeriod:30,riskLevel:"medium",priority:3}),n.total>2e3&&o.push({type:"computing_upgrade",title:"算力设备升级",description:"投资更高效的算力设备，提升整体算力产出效率",cost:5e3,expectedReturn:8e3,paybackPeriod:90,riskLevel:"medium",priority:4}),o.sort((l,c)=>l.priority-c.priority)}async calculatePlayerRiskProfile(e,r){try{const n=r.totalTransactionVolume;let o="conservative";n>1e4?o="aggressive":n>5e3&&(o="moderate");const l=Math.min(100,r.marketMakingContribution/n*100),c=Math.random()*30+10;return{riskTolerance:o,diversificationScore:l,volatilityExposure:c}}catch(n){return console.error("计算玩家风险档案失败:",n),{riskTolerance:"moderate",diversificationScore:65,volatilityExposure:25}}}async getDailySettlementData(){try{const e=await dt.getStats(),r=await no.getNetworkActivityData(),n=await this.getComputingEconomicData(),o=e.dailyStats[e.dailyStats.length-1];let l=o?o.netIncome:0;if(l<=0&&(l=e.netIncome.totalValue,console.log(`使用资金池总净收入: ${l}`)),l<=0){const C=localStorage.getItem("forced_platform_income");C&&(l=parseFloat(C),console.log(`使用强制设置的平台净收入: ${l}`))}const c=Math.floor(Math.random()*1e4+5e3),u=n.totalNetworkComputingPower,m=r&&r.totalTransactions||1e3,p=await this.getActiveUsersWithContributionScores(),f=p.length,x=l>0?l*.4:0,v=p.reduce((C,N)=>{const w=N.gameCoins*.5+N.computingPower*.3+N.transactionVolume*.2/1e3;return C+w},0),k=f>0?v/f:.5;return{date:new Date().toISOString().split("T")[0],platformNetIncome:l,totalDailyGameCoinsDistributed:c,totalDailyComputingPower:u,totalDailyTransactions:m,totalDailyActivePlayers:f,aCoinDistributionPool:x,averageContributionScore:k,totalContributionScore:v,settlementStatus:l>0?"ready":"insufficient_income"}}catch(e){return console.error("获取每日结算数据失败:",e),{date:new Date().toISOString().split("T")[0],platformNetIncome:1e3,totalDailyGameCoinsDistributed:1e4,totalDailyComputingPower:5e3,totalDailyTransactions:1e3,totalDailyActivePlayers:500,aCoinDistributionPool:400,averageContributionScore:.5,totalContributionScore:250,settlementStatus:"ready"}}}async getActiveUsersWithContributionScores(){try{const e=localStorage.getItem("mock_active_users");return e?(console.log("使用本地存储的模拟用户数据"),JSON.parse(e)):(console.log("使用默认模拟用户数据"),[{userId:"user1",gameCoins:120,computingPower:350,transactionVolume:500},{userId:"user2",gameCoins:80,computingPower:200,transactionVolume:300},{userId:"user3",gameCoins:150,computingPower:400,transactionVolume:700},{userId:"user4",gameCoins:60,computingPower:180,transactionVolume:250},{userId:"user5",gameCoins:200,computingPower:500,transactionVolume:800},{userId:"current-user",gameCoins:100,computingPower:250,transactionVolume:400}])}catch(e){return console.error("获取活跃用户数据失败:",e),[{userId:"user1",gameCoins:120,computingPower:350,transactionVolume:500},{userId:"current-user",gameCoins:100,computingPower:250,transactionVolume:400}]}}async executeAutoDailySettlement(){try{console.log("开始执行每日自动结算A币...");const e=await this.getDailySettlementData();if(console.log("获取到每日结算数据:",e),e.settlementStatus!=="ready"){if(console.log(`结算状态不是ready，当前状态: ${e.settlementStatus}`),localStorage.getItem("force_acoin_settlement")!=="true")return{success:!1,message:`无法执行结算: ${e.settlementStatus==="insufficient_income"?"平台净收入不足":e.settlementStatus==="completed"?"今日已结算":e.settlementStatus==="processing"?"结算正在处理中":"未知状态"}`};console.log("强制结算模式：忽略结算状态检查")}const r=await this.getActiveUsersWithContributionScores();console.log(`获取到${r.length}个活跃用户`),console.log(`准备分发A币，发放池: ${e.aCoinDistributionPool}`);const n=await en.distributeACoinsByContribution(e.aCoinDistributionPool,r);console.log("A币分发结果:",n);const o=n.successfulDistributions.find(m=>m.userId==="current-user");o&&(console.log(`当前用户获得A币: ${o.amount}`),await Ye.distributeACoins(o.amount,`每日结算A币奖励 - 贡献分数: ${o.contributionScore.toFixed(2)}`));const l=new Date,c={...e,settlementStatus:"completed",lastSettlementTime:l};await this.saveSettlementTime(l),await dt.updateAfterSettlement(n.totalAmount,n.recipientsCount||r.length),await this.saveSettlementHistory({date:new Date().toISOString().split("T")[0],totalDistributed:n.totalAmount,recipientsCount:r.length,platformNetIncome:e.platformNetIncome,aCoinDistributionPool:e.aCoinDistributionPool,distributions:n.successfulDistributions.map(m=>({userId:m.userId,username:m.userId,contributionScore:m.contributionScore,percentage:m.contributionScore/e.totalContributionScore,aCoinAmount:m.amount}))});const u=await dt.getACoinStats();return console.log("结算后的A币统计数据:",u),localStorage.setItem("acoin_circulating_supply",u.circulatingSupply.toString()),localStorage.setItem("acoin_total_distributed",u.totalDistributed.toString()),localStorage.setItem("acoin_holders_count",u.holdersCount.toString()),console.log("每日A币自动结算成功完成！"),{success:!0,message:"每日A币自动结算成功完成！",distributedAmount:n.totalAmount,recipientsCount:n.recipientsCount,lastSettlementTime:l}}catch(e){return console.error("执行自动结算失败:",e),{success:!1,message:`自动结算失败: ${e instanceof Error?e.message:"未知错误"}`}}}async checkAndExecuteAutoDailySettlement(){try{const e=await this.getLastSettlementTime(),r=new Date;return this.isSettledToday(e)?{executed:!1}:{executed:!0,result:await this.executeAutoDailySettlement()}}catch(e){return console.error("检查自动结算失败:",e),{executed:!1}}}async getLastSettlementTime(){try{const e=localStorage.getItem("lastACoinSettlementTime");return e?new Date(e):null}catch(e){return console.error("获取上次结算时间失败:",e),null}}isSettledToday(e){if(!e)return!1;const r=new Date;return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()&&e.getDate()===r.getDate()}async saveSettlementTime(e){try{localStorage.setItem("lastACoinSettlementTime",e.toISOString())}catch(r){console.error("保存结算时间失败:",r)}}generatePriceHistory(){const e=[];let r=.05;for(let n=30;n>=0;n--){const o=new Date;o.setDate(o.getDate()-n);const l=(Math.random()*10-5)/100;r=r*(1+l),e.push({timestamp:o,price:r,change:l*100})}return e}calculatePriceVolatility(e){const r=e.map(n=>Math.abs(n.change));return r.reduce((n,o)=>n+o,0)/r.length}determineMarketTrend(e){const r=e.slice(-7),n=r.reduce((o,l)=>o+l.change,0)/r.length;return n>1?"bullish":n<-1?"bearish":"stable"}async autoSettleACoin(){try{console.log("开始执行A币每日自动结算...");const e=await this.getDailySettlementData(),r=await this.getLastSettlementTime();if(this.isSettledToday(r))return console.log("今日A币已结算，跳过自动结算"),{success:!0,message:"今日A币已结算",alreadySettled:!0,data:e};const n=await this.getActiveUsersWithContributionScores();if(!n||n.length===0)return console.log("没有活跃用户，无法进行结算"),{success:!1,message:"没有活跃用户，无法进行结算",data:null};const o=n.reduce((u,m)=>{const p=m.gameCoins*.5+m.computingPower*.3+m.transactionVolume*.2/1e3;return u+p},0),l=n.map(u=>{const m=u.gameCoins*.5+u.computingPower*.3+u.transactionVolume*.2/1e3;return{userId:u.userId,username:u.userId,contributionScore:m,percentage:m/o,aCoinAmount:m/o*e.aCoinDistributionPool}});for(const u of l)await Ye.distributeACoins(u.aCoinAmount,`每日A币结算 - 贡献分数: ${u.contributionScore.toFixed(2)}`);const c=new Date;return await this.saveSettlementTime(c),await dt.updateAfterSettlement(e.aCoinDistributionPool),await this.saveSettlementHistory({date:new Date().toISOString().split("T")[0],totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length,platformNetIncome:e.platformNetIncome,aCoinDistributionPool:e.aCoinDistributionPool,distributions:l}),console.log("A币每日自动结算完成",{totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length}),{success:!0,message:"A币每日自动结算完成",data:{totalDistributed:e.aCoinDistributionPool,recipientsCount:n.length,distributions:l}}}catch(e){return console.error("A币每日自动结算失败:",e),{success:!1,message:`A币每日自动结算失败: ${e}`,data:null}}}async saveSettlementHistory(e){try{const r=await this.getSettlementHistory();return r.push(e),localStorage.setItem("aCoinSettlementHistory",JSON.stringify(r)),!0}catch(r){return console.error("保存结算历史记录失败:",r),!1}}async getSettlementHistory(){try{const e=localStorage.getItem("aCoinSettlementHistory");return e?JSON.parse(e):[]}catch(e){return console.error("获取结算历史记录失败:",e),[]}}async getUserDailySettlements(){try{const e=localStorage.getItem("currentUserId")||"current-user";return(await this.getSettlementHistory()).map(o=>{const l=o.distributions.find(c=>c.userId===e);return l?{date:o.date,amount:l.aCoinAmount,contributionScore:l.contributionScore,totalDistributed:o.totalDistributed,recipientsCount:o.recipientsCount}:null}).filter(Boolean)}catch(e){return console.error("获取用户每日结算记录失败:",e),[]}}}const ns=new g6,b6=({className:s=""})=>{const[e,r]=j.useState(null),[n,o]=j.useState(!0),[l,c]=j.useState({tradingVolume24h:0,volatility:0,holderDistribution:[]});j.useEffect(()=>{$t.initializeOCoin(),u();const m=setInterval(u,3e4);return()=>clearInterval(m)},[]);const u=async()=>{try{o(!0);const m=await $t.getOCoinMarketData();r(m),c({tradingVolume24h:m.marketCap/100*(Math.random()*5+1),volatility:Math.random()*5+.5,holderDistribution:[{range:"1,000,000+",percentage:45,color:"bg-purple-600"},{range:"100,000 - 1M",percentage:25,color:"bg-purple-500"},{range:"10,000 - 100k",percentage:15,color:"bg-purple-400"},{range:"1,000 - 10k",percentage:10,color:"bg-purple-300"},{range:"< 1,000",percentage:5,color:"bg-purple-200"}]})}catch(m){console.error("加载O币市场分析数据失败:",m)}finally{o(!1)}};return n||!e?t.jsx("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 ${s}`,children:t.jsxs("div",{className:"flex items-center justify-center h-32",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),t.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",children:"加载O币市场分析..."})]})}):t.jsxs("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📈"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-orange-800 dark:text-orange-400",children:"O币市场分析"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"关键指标、交易活动与持仓分析"})]})]}),t.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"🔄 刷新"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"当前价格"}),t.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["¥",e.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"24h交易量"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["¥",(l.tradingVolume24h/1e4).toFixed(2),"万"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"市值"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",(e.marketCap/1e8).toFixed(2),"亿"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"24h波动率"}),t.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[l.volatility.toFixed(2),"%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"价格趋势 (模拟)"}),t.jsx("div",{className:"h-40 flex items-end space-x-1",children:(()=>{const m=e.priceHistory.slice(-30);if(m.length===0)return null;const p=Math.min(...m.map(C=>C.price)),f=Math.max(...m.map(C=>C.price)),x=f-p,v=m.findIndex(C=>C.price===p),k=m.findIndex(C=>C.price===f);return m.map((C,N)=>{const w=x>1e-5?10+(C.price-p)/x*90:50;let A=null;if(N===v&&N===k)A=t.jsxs("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-xs font-bold z-10 text-purple-600",children:["¥",C.price.toFixed(4)]});else if(N===v){let D="left-1/2 -translate-x-1/2";Math.abs(v-k)<4&&(D=v<k?"right-0":"left-0"),A=t.jsxs("div",{className:`absolute -top-5 ${D} text-xs font-bold z-10 text-red-600`,children:["¥",C.price.toFixed(4)]})}else if(N===k){let D="left-1/2 -translate-x-1/2";Math.abs(k-v)<4&&(D=k<v?"right-0":"left-0"),A=t.jsxs("div",{className:`absolute -top-5 ${D} text-xs font-bold z-10 text-green-600`,children:["¥",C.price.toFixed(4)]})}return t.jsxs("div",{className:"flex-1 bg-orange-400 rounded-t group relative",style:{height:`${w}%`},children:[A,t.jsxs("div",{className:"absolute bottom-full mb-2 w-max px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none left-1/2 -translate-x-1/2",children:["¥",C.price.toFixed(4),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full w-0 h-0 border-t-4 border-t-slate-800 border-l-4 border-l-transparent border-r-4 border-r-transparent"})]})]},N)})})()}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mt-2",children:[t.jsx("span",{children:"30天前"}),t.jsx("span",{children:"今天"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"持有者分布"}),t.jsx("div",{className:"space-y-3",children:l.holderDistribution.map((m,p)=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsxs("span",{children:[m.range," O币"]}),t.jsxs("span",{children:[m.percentage,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-3 rounded-full",children:t.jsx("div",{className:`${m.color} h-3 rounded-full`,style:{width:`${m.percentage}%`}})})]},p))})]})]})]})};function y6(){var w,A,D,T,B,E,_,L,P,U,W,re,te,se,ae,O,V,K,R,J,Q,I,H,ie,ve,Le,be,Me,$e,Ge,it,Wt,es,Ls,fs,js,Ct,is,Ht,St,z,Z;const[s,e]=j.useState(null),[r,n]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState(null),[f,x]=j.useState(!0),[v,k]=j.useState("overview"),C=async()=>{try{x(!0);const[q,fe,xe,me,Se]=await Promise.all([Ly.getEconomicData(),dt.getStats(),ns.getComputingEconomicData(),no.getNetworkActivityData(),ns.getComputingMarketData()]);e(q),n(fe),l(xe),u(me),p(Se)}catch(q){console.error("加载数据失败:",q)}finally{x(!1)}};if(j.useEffect(()=>{C();const q=setInterval(C,1e4);return()=>clearInterval(q)},[]),f)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载算力经济生态数据中..."})]})});const N=[{id:"overview",name:"生态概览",icon:"🌐"},{id:"activity",name:"活动算力",icon:"⚡"},{id:"economics",name:"经济分析",icon:"📊"},{id:"market",name:"市场数据",icon:"📈"},{id:"ocoin",name:"O币市场",icon:"🔶"}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"算力经济生态中心"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"实时监控平台算力生态与经济健康状况"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(ne,{to:"/",className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors flex items-center gap-2",children:[t.jsx("span",{children:"🏠"}),t.jsx("span",{children:"回到主页"})]}),t.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"🔄 刷新数据"})]})]}),t.jsx("div",{className:"flex space-x-1 mb-8 bg-white dark:bg-slate-800 rounded-lg p-1 shadow-sm",children:N.map(q=>t.jsxs("button",{onClick:()=>k(q.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-md transition-all ${v===q.id?"bg-blue-600 text-white shadow-md":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[t.jsx("span",{children:q.icon}),t.jsx("span",{className:"font-medium",children:q.name})]},q.id))}),t.jsxs("div",{className:"space-y-6",children:[v==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"💰"}),"完整货币经济概览"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 shadow-lg border border-blue-200 dark:border-blue-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"⚡"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"全网总算力"}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o==null?void 0:o.totalNetworkComputingPower.toLocaleString()})]})]}),t.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:["算力价值: ¥",o==null?void 0:o.totalEconomicValue.toLocaleString()]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-xl p-6 shadow-lg border border-yellow-200 dark:border-yellow-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"🪙"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium",children:"游戏币总金额"}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:((A=(w=r==null?void 0:r.totalIncome)==null?void 0:w.gameCoins)==null?void 0:A.toLocaleString())||"0"})]})]}),t.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"流通中的游戏币总量"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 shadow-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"📈"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"平台总收入"}),t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["¥",((T=(D=r==null?void 0:r.totalIncome)==null?void 0:D.totalValue)==null?void 0:T.toLocaleString())||"0"]})]})]}),t.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"累计收入总额"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-6 shadow-lg border border-red-200 dark:border-red-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xl",children:"📉"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"平台总支出"}),t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["¥",((E=(B=r==null?void 0:r.totalExpense)==null?void 0:B.totalValue)==null?void 0:E.toLocaleString())||"0"]})]})]}),t.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"累计支出总额"})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"🏦"}),"资金池详细状态"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"💳 当前余额"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"现金余额"}),t.jsxs("span",{className:"font-bold text-green-600",children:["¥",((L=(_=r==null?void 0:r.totalIncome)==null?void 0:_.cash)==null?void 0:L.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力余额"}),t.jsx("span",{className:"font-bold text-blue-600",children:((U=(P=r==null?void 0:r.totalIncome)==null?void 0:P.computing)==null?void 0:U.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏币余额"}),t.jsx("span",{className:"font-bold text-yellow-600",children:((re=(W=r==null?void 0:r.totalIncome)==null?void 0:W.gameCoins)==null?void 0:re.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between border-t pt-2",children:[t.jsx("span",{className:"text-slate-800 dark:text-slate-200 font-semibold",children:"总价值"}),t.jsxs("span",{className:"font-bold text-lg",children:["¥",((se=(te=r==null?void 0:r.totalIncome)==null?void 0:te.totalValue)==null?void 0:se.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📊 净收益分析"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净现金收益"}),t.jsxs("span",{className:`font-bold ${(((ae=r==null?void 0:r.netIncome)==null?void 0:ae.cash)||0)>=0?"text-green-600":"text-red-600"}`,children:["¥",((V=(O=r==null?void 0:r.netIncome)==null?void 0:O.cash)==null?void 0:V.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净算力收益"}),t.jsx("span",{className:`font-bold ${(((K=r==null?void 0:r.netIncome)==null?void 0:K.computing)||0)>=0?"text-green-600":"text-red-600"}`,children:((J=(R=r==null?void 0:r.netIncome)==null?void 0:R.computing)==null?void 0:J.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"净游戏币收益"}),t.jsx("span",{className:`font-bold ${(((Q=r==null?void 0:r.netIncome)==null?void 0:Q.gameCoins)||0)>=0?"text-green-600":"text-red-600"}`,children:((H=(I=r==null?void 0:r.netIncome)==null?void 0:I.gameCoins)==null?void 0:H.toLocaleString())||"0"})]}),t.jsxs("div",{className:"flex justify-between border-t pt-2",children:[t.jsx("span",{className:"text-slate-800 dark:text-slate-200 font-semibold",children:"总净收益"}),t.jsxs("span",{className:`font-bold text-lg ${(((ie=r==null?void 0:r.netIncome)==null?void 0:ie.totalValue)||0)>=0?"text-green-600":"text-red-600"}`,children:["¥",((Le=(ve=r==null?void 0:r.netIncome)==null?void 0:ve.totalValue)==null?void 0:Le.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏥 经济健康指标"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"经济健康度"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.economicHealthScore,"/100"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力ROI"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.computingROI.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"风险等级"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded text-xs ${(o==null?void 0:o.riskLevel)==="low"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":(o==null?void 0:o.riskLevel)==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:(o==null?void 0:o.riskLevel)==="low"?"低风险":(o==null?void 0:o.riskLevel)==="medium"?"中风险":"高风险"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"玩家留存率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.playerRetentionRate.toFixed(1),"%"]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"📈"}),"收入来源分析"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏪 按来源统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"玩家市场"}),t.jsxs("span",{className:"font-bold",children:["¥",((Me=(be=r==null?void 0:r.incomeBySource)==null?void 0:be.player_market)==null?void 0:Me.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"官方商店"}),t.jsxs("span",{className:"font-bold",children:["¥",((Ge=($e=r==null?void 0:r.incomeBySource)==null?void 0:$e.official_store)==null?void 0:Ge.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏商店"}),t.jsxs("span",{className:"font-bold",children:["¥",((Wt=(it=r==null?void 0:r.incomeBySource)==null?void 0:it.game_store)==null?void 0:Wt.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"系统收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((Ls=(es=r==null?void 0:r.incomeBySource)==null?void 0:es.system)==null?void 0:Ls.toLocaleString())||"0"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📋 按类别统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"佣金收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((js=(fs=r==null?void 0:r.incomeByCategory)==null?void 0:fs.commission)==null?void 0:js.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"运营收入"}),t.jsxs("span",{className:"font-bold",children:["¥",((is=(Ct=r==null?void 0:r.incomeByCategory)==null?void 0:Ct.operation)==null?void 0:is.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"奖励支出"}),t.jsxs("span",{className:"font-bold text-red-600",children:["-¥",((St=(Ht=r==null?void 0:r.expenseByCategory)==null?void 0:Ht.reward)==null?void 0:St.toLocaleString())||"0"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"维护支出"}),t.jsxs("span",{className:"font-bold text-red-600",children:["-¥",((Z=(z=r==null?void 0:r.expenseByCategory)==null?void 0:z.maintenance)==null?void 0:Z.toLocaleString())||"0"]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"🎮"}),"平台活动统计"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"👥 用户活动"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"活跃节点"}),t.jsx("span",{className:"font-bold",children:o==null?void 0:o.activeComputingNodes.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏会话"}),t.jsx("span",{className:"font-bold",children:o==null?void 0:o.totalGameSessions.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总游戏时长"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.totalPlayTime.toLocaleString(),"小时"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"💰 收益表现"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"日收益"}),t.jsxs("span",{className:"font-bold text-green-600",children:["¥",o==null?void 0:o.dailyComputingRevenue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"月预测收益"}),t.jsxs("span",{className:"font-bold text-blue-600",children:["¥",o==null?void 0:o.projectedMonthlyEarnings.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力增长率"}),t.jsxs("span",{className:"font-bold text-purple-600",children:[o==null?void 0:o.computingPowerGrowthRate.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🔄 系统效率"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力效率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.averageComputingEfficiency.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"可持续指数"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.sustainabilityIndex,"/100"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"资金池贡献"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.computingContributionToFund.toLocaleString()]})]})]})]})]})]})]}),v==="activity"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"⚡ 网络活动概况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"活跃玩家"}),t.jsx("span",{className:"font-bold text-lg",children:c==null?void 0:c.totalActivePlayers.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"游戏会话"}),t.jsx("span",{className:"font-bold text-lg",children:c==null?void 0:c.totalGameSessions.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总游戏时长"}),t.jsxs("span",{className:"font-bold text-lg",children:[c==null?void 0:c.totalPlayTime.toLocaleString(),"小时"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🏆 热门游戏排行"}),t.jsx("div",{className:"space-y-3",children:c==null?void 0:c.gamePopularity.slice(0,5).map((q,fe)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-bold",children:fe+1}),t.jsx("span",{className:"font-medium",children:q.gameName})]}),t.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[q.playerCount,"人"]})]},q.gameId))})]})]}),v==="economics"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📈 经济指标"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力效率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.averageComputingEfficiency.toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"可持续指数"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.sustainabilityIndex,"/100"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"月度预期收益"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.projectedMonthlyEarnings.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"算力增长率"}),t.jsxs("span",{className:"font-bold",children:[o==null?void 0:o.computingPowerGrowthRate.toFixed(1),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"⚠️ 风险评估"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"风险等级"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded ${(o==null?void 0:o.riskLevel)==="low"?"bg-green-100 text-green-800":(o==null?void 0:o.riskLevel)==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(o==null?void 0:o.riskLevel)==="low"?"低风险":(o==null?void 0:o.riskLevel)==="medium"?"中风险":"高风险"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"日收益"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.dailyComputingRevenue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"资金池贡献"}),t.jsxs("span",{className:"font-bold",children:["¥",o==null?void 0:o.computingContributionToFund.toLocaleString()]})]})]})]})]}),v==="market"&&m&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📈 市场概况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"当前算力价格"}),t.jsxs("span",{className:"font-bold text-lg",children:["¥",m.currentComputingPrice.toFixed(4)]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"市场总值"}),t.jsxs("span",{className:"font-bold",children:["¥",m.marketCap.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"24h交易量"}),t.jsxs("span",{className:"font-bold",children:["¥",m.tradingVolume24h.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"市场趋势"}),t.jsx("span",{className:`font-bold px-2 py-1 rounded ${m.marketTrend==="bullish"?"bg-green-100 text-green-800":m.marketTrend==="bearish"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.marketTrend==="bullish"?"看涨":m.marketTrend==="bearish"?"看跌":"稳定"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"📊 价格分析"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"价格波动率"}),t.jsxs("span",{className:"font-bold",children:[m.priceVolatility.toFixed(2),"%"]})]}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.jsx("p",{children:"最近价格历史:"}),t.jsx("div",{className:"mt-2 space-y-1",children:m.priceHistory.slice(-5).map((q,fe)=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:new Date(q.timestamp).toLocaleDateString()}),t.jsxs("span",{className:q.change>=0?"text-green-600":"text-red-600",children:["¥",q.price.toFixed(4)," (",q.change>=0?"+":"",q.change.toFixed(2),"%)"]})]},fe))})]})]})]})]}),v==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(b6,{}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🎯 O币相关操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ne,{to:"/computing-power",className:"flex items-center space-x-3 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💱"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-400",children:"交易O币"}),t.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-500",children:"前往个人中心买入或出售"})]})]}),t.jsxs(ne,{to:"/fund-pool",className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💰"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-400",children:"资金池信息"}),t.jsx("div",{className:"text-sm text-green-600 dark:text-green-500",children:"查看平台资金池状态"})]})]}),t.jsxs(ne,{to:"/platform-management",className:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"🔐"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-400",children:"期权管理"}),t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-500",children:"前往平台管理系统"})]})]})]})]})]})]}),t.jsxs("div",{className:"mt-12 bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🚀 快速导航"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs(ne,{to:"/",className:"flex items-center space-x-2 p-3 bg-slate-50 dark:bg-slate-900/20 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-900/30 transition-colors",children:[t.jsx("span",{children:"🏠"}),t.jsx("span",{className:"font-medium",children:"回到主页"})]}),t.jsxs(ne,{to:"/game-center",className:"flex items-center space-x-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{children:"🎮"}),t.jsx("span",{className:"font-medium",children:"游戏中心"})]}),t.jsxs(ne,{to:"/fund-pool",className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{children:"💰"}),t.jsx("span",{className:"font-medium",children:"资金池"})]}),t.jsxs(ne,{to:"/marketplace",className:"flex items-center space-x-2 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[t.jsx("span",{children:"🛒"}),t.jsx("span",{className:"font-medium",children:"市场交易"})]}),t.jsxs(ne,{to:"/computing-test",className:"flex items-center space-x-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{children:"🔧"}),t.jsx("span",{className:"font-medium",children:"服务测试"})]})]})]})]})})}const v6=()=>{const[s,e]=j.useState([]),[r,n]=j.useState(!1),o=m=>{e(p=>[...p,`${new Date().toLocaleTimeString()}: ${m}`])},l=async()=>{n(!0),o("开始测试游戏活动服务...");try{const m=await no.getPlayerStats("test-user");o(`玩家统计: 活跃度 ${(m==null?void 0:m.activityLevel)||0}, 游戏次数 ${(m==null?void 0:m.totalGamesPlayed)||0}`),await no.recordGameActivity({userId:"test-user",gameId:"puzzle",gameName:"测试游戏",startTime:new Date,endTime:new Date,duration:300,score:100,level:1,achievements:[],computingPowerEarned:10,gameCoinsEarned:50,activityType:"game_play"}),o("记录游戏活动成功");const p=await no.getPlayerComputingPowerBreakdown("test-user");o(`算力分解: 基础活动 ${p.baseActivity}, 游戏表现 ${p.gamePerformance}, 社交贡献 ${p.socialContribution}, 总计 ${p.total}`)}catch(m){o(`游戏活动服务错误: ${m}`)}n(!1)},c=async()=>{n(!0),o("开始测试经济服务...");try{const m=await ns.getComputingEconomicData();o(`经济数据: 总算力 ${m.totalNetworkComputingPower}, 经济价值 ${m.totalEconomicValue}`);const p=await ns.getPlayerEconomicProfile("test-user");o(`玩家档案: 总算力 ${p.computingPowerBreakdown.total}, 经济等级 ${p.economicLevel}, 排名 ${p.performanceRank}`);const f=await ns.getComputingMarketData();o(`市场数据: 当前价格 ${f.currentComputingPrice}, 市场趋势 ${f.marketTrend}`)}catch(m){o(`经济服务错误: ${m}`)}n(!1)},u=()=>{e([])};return t.jsx("div",{className:"container mx-auto p-6",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"算力中心服务测试"}),t.jsxs("div",{className:"flex gap-4 mb-6",children:[t.jsx("button",{onClick:l,disabled:r,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:"测试游戏活动服务"}),t.jsx("button",{onClick:c,disabled:r,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:"测试经济服务"}),t.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"清除结果"})]}),t.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg max-h-96 overflow-y-auto",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"测试结果:"}),s.length===0?t.jsx("p",{className:"text-gray-500",children:"点击按钮开始测试..."}):t.jsx("div",{className:"space-y-1",children:s.map((m,p)=>t.jsx("div",{className:"text-sm font-mono",children:m},p))})]})]})})},Hu=(s,e)=>{try{const r=localStorage.getItem(s);if(r)return JSON.parse(r,(n,o)=>typeof o=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(o)?new Date(o):o)}catch(r){console.error(`Error loading ${s} from localStorage`,r)}return e},Gu=(s,e)=>{try{localStorage.setItem(s,JSON.stringify(e))}catch(r){console.error(`Error saving ${s} to localStorage`,r)}};class w6{constructor(){Ee(this,"items");Ee(this,"transactions");Ee(this,"userInventories");Ee(this,"commissionRates",{player_market:.01,official_store:.15,game_store:.3});this.items=Hu("marketplace_items",[]),this.transactions=Hu("marketplace_transactions",[]);const e=Hu("marketplace_userInventories",[]);this.userInventories=new Map(e),this.items.length===0&&this.transactions.length===0&&this.initializeMockData()}_saveData(){Gu("marketplace_items",this.items),Gu("marketplace_transactions",this.transactions),Gu("marketplace_userInventories",Array.from(this.userInventories.entries()))}calculateCommission(e,r){const n=this.commissionRates[r],o=Math.round(e*n*100)/100;if(r==="player_market"){const l=Math.round((e+o)*100)/100;return{commission:o,commissionRate:n,totalAmount:l,sellerReceives:e}}else{const l=Math.round((e+o)*100)/100;return{commission:o,commissionRate:n,totalAmount:l}}}initializeMockData(){if(this.items.length>0)return;const e=[{id:"item_1",name:"烈焰之剑",description:"传说中的烈焰之剑，攻击力+50，来自消消乐游戏的稀有掉落",category:"weapon",rarity:"legendary",price:1250,sellerId:"user_1",sellerName:"剑圣玩家",listedAt:new Date(Date.now()-864e5*2),views:156,gameSource:"消消乐"},{id:"item_2",name:"守护者盾牌",description:"坚固的盾牌，防御力+30，适合新手玩家使用",category:"armor",rarity:"epic",price:8500,currency:"gameCoins",sellerId:"user_2",sellerName:"守护骑士",listedAt:new Date(Date.now()-864e5),views:89,gameSource:"消消乐"},{id:"item_3",name:"幸运符咒",description:"增加幸运值的神秘符咒，提升道具掉落率",category:"consumable",rarity:"rare",price:50,currency:"cash",sellerId:"user_3",sellerName:"幸运星",listedAt:new Date(Date.now()-36e5*12),views:234,gameSource:"消消乐"},{id:"item_4",name:"魔法水晶",description:"蕴含强大魔力的水晶，可用于装备强化",category:"material",rarity:"rare",price:180,sellerId:"user_4",sellerName:"水晶猎人",listedAt:new Date(Date.now()-36e5*6),views:67,gameSource:"消消乐"},{id:"item_5",name:"龙鳞护甲",description:"由古龙鳞片制成的护甲，防御力极高",category:"armor",rarity:"legendary",price:2100,sellerId:"user_5",sellerName:"屠龙勇士",listedAt:new Date(Date.now()-36e5*18),views:312,gameSource:"消消乐"},{id:"item_6",name:"治疗药水",description:"快速恢复生命值的药水，战斗必备",category:"consumable",rarity:"common",price:45,sellerId:"user_6",sellerName:"药剂师",listedAt:new Date(Date.now()-36e5*3),views:28,gameSource:"消消乐"},{id:"item_7",name:"闪电法杖",description:"释放闪电魔法的法杖，魔法攻击力+40",category:"weapon",rarity:"epic",price:95,currency:"cash",sellerId:"user_7",sellerName:"雷电法师",listedAt:new Date(Date.now()-36e5*8),views:145,gameSource:"消消乐"},{id:"item_8",name:"稀有宝石",description:"闪闪发光的稀有宝石，可用于交易或收藏",category:"material",rarity:"epic",price:680,sellerId:"user_8",sellerName:"宝石商人",listedAt:new Date(Date.now()-36e5*24),views:198,gameSource:"消消乐"},{id:"item_9",name:"风之靴",description:"轻盈的靴子，移动速度+25%",category:"armor",rarity:"uncommon",price:2800,currency:"gameCoins",sellerId:"user_9",sellerName:"疾风行者",listedAt:new Date(Date.now()-36e5*4),views:52,gameSource:"消消乐"},{id:"item_10",name:"经验宝珠",description:"使用后获得大量经验值",category:"consumable",rarity:"rare",price:150,sellerId:"user_10",sellerName:"经验大师",listedAt:new Date(Date.now()-36e5*1),views:15,gameSource:"消消乐"}];this.items=e,this.transactions=[],this._saveData()}async getMarketItems(){return[...this.items]}async purchaseItem(e,r){const n=this.items.findIndex(k=>k.id===e);if(n===-1)throw new Error("商品不存在");const o=this.items[n],{commission:l,commissionRate:c,totalAmount:u,sellerReceives:m}=this.calculateCommission(o.price,"player_market"),p={id:`tx_${Date.now()}`,buyerId:r,sellerId:o.sellerId,item:{id:o.id,name:o.name,description:o.description,category:o.category,rarity:o.rarity},price:o.price,commission:l,totalAmount:u,commissionRate:c,transactionType:"player_market",timestamp:new Date};if(this.transactions.push(p),l>0){const k=o.currency||"computingPower";k==="cash"||k==="gameCoins"||k==="computingPower"?await dt.recordCommissionIncome(p.id,l,k,"player_market",r):console.warn(`Fund pool does not support commission in ${k}. Transaction not recorded in fund pool.`)}const f=await Wn(()=>Promise.resolve().then(()=>zy),void 0);await f.walletService.addTransaction({type:"expense",category:"purchase",amount:o.price,currency:o.currency||"gameCoins",description:`交易市场购买: ${o.name}`,relatedId:p.id}),l>0&&await f.walletService.addTransaction({type:"expense",category:"commission",amount:l,currency:o.currency||"gameCoins",description:`交易市场购买佣金 - ${o.name} (1%)`,relatedId:p.id}),m&&m>0&&await f.walletService.addTransaction({type:"income",category:"trade",amount:m,currency:o.currency||"gameCoins",description:`交易市场销售: ${o.name}`,relatedId:p.id});const x=this.userInventories.get(r)||[],v={...o,id:`owned_${Date.now()}`,price:0,sellerId:"",sellerName:"",listedAt:new Date,views:0};x.push(v),this.userInventories.set(r,x),this.items.splice(n,1),this._saveData()}async getUserInventory(e){let r=this.userInventories.get(e)||[];if(r.length===0){const n=[{id:"user_item_1",name:"新手之剑",description:"适合新手使用的基础武器",category:"weapon",rarity:"common",price:150,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"},{id:"user_item_2",name:"生命药水",description:"恢复少量生命值",category:"consumable",rarity:"common",price:50,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"},{id:"user_item_3",name:"魔法石",description:"蕴含魔力的神秘石头",category:"material",rarity:"rare",price:300,sellerId:"",sellerName:"",listedAt:new Date,views:0,gameSource:"消消乐"}];this.userInventories.set(e,n),r=n,this._saveData()}return r}async getMarketStats(){const e=this.transactions.reduce((o,l)=>o+l.price,0),r=this.transactions.length>0?e/this.transactions.length:0,n=await this.getCommissionStats();return{totalListings:this.items.length,dailyTransactions:this.transactions.filter(o=>o.timestamp.getTime()>Date.now()-864e5).length,totalVolume:e,averagePrice:r,totalCommission:n.totalCommission,dailyCommission:n.dailyCommission,commissionByType:n.commissionByType}}async getTransactionHistory(){return[...this.transactions].reverse()}async getUserTransactionHistory(e){const r=this.transactions.filter(u=>u.buyerId===e),n=this.transactions.filter(u=>u.sellerId===e),o=this.items.filter(u=>u.sellerId===e);if(console.log("查询用户ID:",e),console.log("所有交易记录:",this.transactions),console.log("交易记录详情:",this.transactions.map(u=>({id:u.id,buyerId:u.buyerId,sellerId:u.sellerId,itemName:u.item.name}))),console.log("用户购买记录:",r),r.length>0||n.length>0)return{purchases:r.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:n.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o};const l=[{id:"official_purchase_1",buyerId:e,sellerId:"official_store",item:{id:"official_item_1",name:"官方限定武器包",description:"包含3把稀有武器的官方礼包",category:"weapon",rarity:"legendary"},price:1200,timestamp:new Date(Date.now()-864e5*1),commission:0,commissionRate:0,transactionType:"official_store"},{id:"official_purchase_2",buyerId:e,sellerId:"official_store",item:{id:"official_item_2",name:"经验加速器",description:"官方商店购买的经验加速道具",category:"consumable",rarity:"epic"},price:500,timestamp:new Date(Date.now()-864e5*3),commission:0,commissionRate:0,transactionType:"official_store"},{id:"game_store_purchase_1",buyerId:e,sellerId:"game_store_1",item:{id:"game_store_item_1",name:"魔法卷轴套装",description:"从游戏商店购买的魔法卷轴",category:"consumable",rarity:"rare"},price:350,commission:105,totalAmount:455,commissionRate:.3,transactionType:"game_store",timestamp:new Date(Date.now()-864e5*2)},{id:"market_purchase_1",buyerId:e,sellerId:"player_seller_1",item:{id:"market_item_1",name:"玩家出售的护甲",description:"从其他玩家购买的高级护甲",category:"armor",rarity:"epic"},price:100,commission:1,totalAmount:101,commissionRate:.01,transactionType:"player_market",timestamp:new Date(Date.now()-864e5*4)}],c=[...n,{id:"sale_1",buyerId:"buyer_1",sellerId:e,item:{id:"sold_item_1",name:"传说宝箱",description:"出售给其他玩家的传说宝箱",category:"consumable",rarity:"legendary"},price:99,commission:1,totalAmount:101,commissionRate:.01,transactionType:"player_market",timestamp:new Date(Date.now()-864e5*2)}];return r.length>0||n.length>0?{purchases:r.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:n.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o}:{purchases:l.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),sales:c.sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()),listings:o}}async removeItemFromUserInventory(e,r){const n=this.userInventories.get(e)||[],o=n.findIndex(l=>l.id===r);return o===-1?!1:(n.splice(o,1),this.userInventories.set(e,n),!0)}async delistItem(e,r){const n=this.items.findIndex(u=>u.id===e&&u.sellerId===r);if(n===-1)return!1;const o=this.items[n];this.items.splice(n,1);const l=this.userInventories.get(r)||[],c={...o,id:`user_item_${Date.now()}`,sellerId:"",sellerName:"",views:0};return l.push(c),this.userInventories.set(r,l),this._saveData(),!0}async createListing(e){const r={...e,id:`item_${Date.now()}`,listedAt:new Date,views:0,currency:e.currency||"computingPower"};return e.originalItemId&&e.sellerId&&await this.removeItemFromUserInventory(e.sellerId,e.originalItemId),this.items.push(r),this._saveData(),r}async addItemToUserInventory(e,r){const n=this.userInventories.get(e)||[];n.push(r),this.userInventories.set(e,n),this._saveData()}async recordGameStorePurchase(e,r,n,o,l){const c=this.commissionRates.game_store,u=Math.round(o*c*100)/100,m={id:`game_store_purchase_${Date.now()}`,buyerId:e,sellerId:`game_store_${l}`,item:{id:`game_store_item_${Date.now()}`,name:r,description:n,category:"consumable",rarity:"common"},price:o,commission:u,totalAmount:o,commissionRate:c,transactionType:"game_store",timestamp:new Date};this.transactions.push(m),u>0&&await dt.recordCommissionIncome(m.id,u,"gameCoins","game_store",e),console.log("添加交易记录 - 商品价格:",o,"佣金:",u,"总支付:",o),console.log("当前所有交易记录:",this.transactions),this._saveData()}async recordOfficialStorePurchase(e,r,n,o,l,c,u){const m={id:`official_store_purchase_${Date.now()}`,buyerId:e,sellerId:"official_store",item:{id:`official_store_item_${Date.now()}`,name:r,description:n,category:"bundle",rarity:"epic"},price:o,commission:l,totalAmount:c,commissionRate:l/o,transactionType:"official_store",timestamp:new Date};this.transactions.push(m),console.log("添加官方商店交易记录 - 商品价格:",o,"佣金:",l,"总支付:",c),console.log("当前所有交易记录:",this.transactions),this._saveData()}async listItem(e,r){const n="current-user-id",o=this.userInventories.get(n)||[],l=o.findIndex(m=>m.id===e);if(l===-1)throw new Error("道具不存在于用户库存中");const u={...o[l],id:`market_${Date.now()}`,sellerId:n,sellerName:"当前用户",price:r,listedAt:new Date,views:0};return this.items.push(u),o.splice(l,1),this.userInventories.set(n,o),this._saveData(),u}async sellItem(e,r,n){return this.listItem(r,n||100)}async getUserListings(e){return this.items.filter(r=>r.sellerId===e)}async updateItemPrice(e,r,n){const o=this.items.find(l=>l.id===e&&l.sellerId===n);if(!o)throw new Error("商品不存在或您无权操作");if(r<=0)throw new Error("价格必须大于0");o.price=r,this._saveData()}async addTransactionRecord(e){const r={...e,id:`tx_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};return this.transactions.push(r),console.log("已通过 addTransactionRecord 添加新的交易记录:",r),this._saveData(),r}async getCommissionStats(){const e=Date.now(),r=e-864e5,n=e-864e5*7,o=e-864e5*30,l=this.transactions.reduce((f,x)=>f+(x.commission||0),0),c=this.transactions.filter(f=>f.timestamp.getTime()>r).reduce((f,x)=>f+(x.commission||0),0),u=this.transactions.filter(f=>f.timestamp.getTime()>n).reduce((f,x)=>f+(x.commission||0),0),m=this.transactions.filter(f=>f.timestamp.getTime()>o).reduce((f,x)=>f+(x.commission||0),0),p={player_market:this.transactions.filter(f=>f.transactionType==="player_market").reduce((f,x)=>f+(x.commission||0),0),official_store:this.transactions.filter(f=>f.transactionType==="official_store").reduce((f,x)=>f+(x.commission||0),0),game_store:this.transactions.filter(f=>f.transactionType==="game_store").reduce((f,x)=>f+(x.commission||0),0)};return{totalCommission:Math.round(l*100)/100,dailyCommission:Math.round(c*100)/100,weeklyCommission:Math.round(u*100)/100,monthlyCommission:Math.round(m*100)/100,commissionByType:{player_market:Math.round(p.player_market*100)/100,official_store:Math.round(p.official_store*100)/100,game_store:Math.round(p.game_store*100)/100}}}}const as=new w6;function Vc(){const[s,e]=j.useState(null),[r,n]=j.useState(null),[o,l]=j.useState([]),[c,u]=j.useState(!0),[m,p]=j.useState(null),f=j.useCallback(async()=>{try{u(!0),p(null);const[N,w,A]=await Promise.all([Ye.getBalance(),Ye.getStats(),Ye.getTransactions(50)]);e(N),n(w),l(A)}catch(N){console.error("刷新钱包数据失败:",N),p(N instanceof Error?N.message:"未知错误")}finally{u(!1)}},[]),x=j.useCallback(async(N,w,A)=>{try{await Ye.addGameReward(N,w,A),await f()}catch(D){throw console.error("添加游戏奖励失败:",D),D}},[f]),v=j.useCallback(async(N,w,A,D)=>{try{return await Ye.makePurchase(N,w,A,D),await f(),!0}catch(T){throw console.error("购买失败:",T),T}},[f]),k=j.useCallback(async(N,w="支付宝")=>{try{await Ye.recharge(N,w),await f()}catch(A){throw console.error("充值失败:",A),A}},[f]),C=j.useCallback(async(N,w,A)=>{try{await Ye.exchangeCurrency(N,w,A),await f()}catch(D){throw console.error("兑换失败:",D),D}},[f]);return j.useEffect(()=>{f()},[f]),j.useEffect(()=>{const N=()=>{console.log("收到钱包更新事件，刷新数据..."),f()};return window.addEventListener("wallet-updated",N),()=>window.removeEventListener("wallet-updated",N)},[f]),j.useEffect(()=>{const N=setInterval(async()=>{try{const w=await Ye.getBalance();e(w)}catch(w){console.warn("定期更新钱包数据失败:",w)}},3e4);return()=>clearInterval(N)},[]),{balance:s,stats:r,transactions:o,loading:c,error:m,refreshWalletData:f,addGameReward:x,makePurchase:v,recharge:k,exchangeCurrency:C,getTransactions:()=>Ye.getTransactions()}}const j6={id:"sample-blog-001",title:"AllinONE平台使用体验：游戏、算力与收益的完美结合",content:`
# AllinONE平台使用体验：游戏、算力与收益的完美结合

在当今数字娱乐领域，能够将游戏乐趣与实际收益相结合的平台越来越受到玩家的青睐。作为一名资深游戏爱好者，我有幸体验了AllinONE平台近三个月，今天想和大家分享我的使用心得和体验。

## 初识AllinONE

AllinONE平台是一个集游戏、算力挖矿和社交于一体的综合性数字娱乐平台。与传统游戏平台不同，AllinONE采用了创新的"游戏即挖矿"模式，让玩家在享受游戏乐趣的同时，还能获得实际的经济收益。

初次登录平台时，简洁而现代的界面设计给我留下了深刻印象。注册过程简单快捷，只需填写基本信息并设置安全密码，就可以开始探索这个数字世界了。平台还贴心地为新用户提供了详细的新手指南和教程视频，帮助快速了解平台的核心功能和玩法。

## 丰富多样的游戏体验

AllinONE平台上的游戏种类繁多，从休闲小游戏到策略类游戏应有尽有。我个人最喜欢的是Match3消除类游戏，操作简单但策略性强，非常适合利用碎片时间来玩。

游戏画面精美，操作流畅，即使在移动设备上也能获得出色的游戏体验。值得一提的是，平台上的游戏都经过精心设计，不仅好玩，还与算力系统紧密结合，让游戏过程更加有意义。

## 创新的算力系统

AllinONE平台最吸引我的地方是其创新的算力系统。简单来说，玩家通过游戏可以获得两种虚拟资产：游戏币和算力积分。

游戏币可以用于游戏内购买道具、升级角色等，而算力积分则代表了玩家在平台上的"挖矿"能力。算力越高，每日获得的A币（平台代币）就越多。这种机制巧妙地将游戏娱乐与经济收益结合起来，让"玩中赚"成为可能。

我发现，不同的游戏会产生不同数量的算力，而且游戏表现越好，获得的算力也就越多。这激励我不断提升游戏技巧，挑战更高难度的关卡。平台还会定期举办算力加成活动，如"双倍算力周"等，让玩家有机会获得更多收益。

## 双代币经济模式

AllinONE采用了双代币经济模式：游戏币和A币。游戏币主要用于游戏内消费，而A币则可以与法币1:1兑换，实现真正的价值转化。

A币的分配基于玩家的平台贡献度，包括游戏币获取量、算力贡献和交易活跃度等多个维度。每日结算时，平台会将净收入的一部分按照贡献度比例分配给用户，形成了一个公平透明的收益分配机制。

我个人最喜欢的是平台的"算力池"概念。所有玩家的算力会汇集成一个全网算力池，每个玩家根据自己贡献的算力比例分享收益。这种机制既鼓励个人努力，也促进了社区协作，形成了良性循环。

## 社交与团队系统

AllinONE不仅是一个游戏平台，还是一个社交平台。玩家可以添加好友、组建团队、参与社区讨论等。团队系统特别有趣，团队成员的算力会有一定比例加成，鼓励玩家邀请朋友一起游戏。

我加入了一个活跃的团队后，不仅认识了许多志同道合的朋友，还通过团队加成获得了更多算力。团队成员之间经常分享游戏技巧和算力获取策略，大大提升了我的平台使用体验。

## 交易市场与游戏商城

平台内设有交易市场，玩家可以自由交易游戏道具、皮肤等虚拟物品。交易过程安全透明，平台收取少量手续费用于维护系统运行。

官方商店和游戏电商系统提供了丰富的商品选择，从实用道具到限定皮肤应有尽有。我特别喜欢平台的"限时折扣"活动，经常能以优惠价格购买到心仪的游戏道具。

## 个人中心与数据分析

AllinONE的个人中心功能强大，玩家可以清晰地查看自己的资产、交易记录、算力变化等信息。平台还提供了详细的数据分析工具，帮助玩家了解自己的游戏表现和收益情况。

我经常使用收支分析功能来优化自己的游戏策略，找出最高效的算力获取方式。这些数据驱动的决策帮助我在平台上的收益稳步提升。

## 安全与隐私保护

在使用过程中，我深刻感受到AllinONE对用户安全和隐私的重视。平台采用了多重安全验证机制，确保账户和资产安全。交易过程透明可追溯，有效防止了欺诈行为。

平台的隐私政策清晰明了，用户数据使用透明，这让我在使用过程中倍感安心。

## 博客中心：分享与交流的新空间

最近，AllinONE平台新增了博客中心功能，为玩家提供了一个分享游戏经验、心得体会的空间。这个功能极大地促进了社区交流，让玩家之间的互动不再局限于游戏内。

作为一名喜欢分享的玩家，我非常喜欢这个新功能。通过阅读其他玩家的博客，我学到了很多游戏技巧和算力优化策略；而通过撰写自己的博客，我也结交了许多志同道合的朋友。

## 总结与建议

经过三个月的使用，我对AllinONE平台的总体评价是非常正面的。平台成功地将游戏娱乐与经济收益结合起来，创造了一种全新的数字娱乐方式。

当然，任何平台都有改进空间。我认为AllinONE可以考虑增加更多类型的游戏，特别是一些深度策略类游戏，以满足不同玩家的需求。此外，移动端的优化还可以进一步提升，让玩家在手机上也能获得流畅的体验。

总的来说，如果你是一位喜欢游戏，又希望游戏时间能创造一些价值的玩家，AllinONE绝对值得一试。它不仅带来了欢乐的游戏体验，还开创了"玩中赚"的新模式，让游戏时间变得更有意义。

期待在AllinONE平台上与更多玩家相遇，一起游戏，一起成长！
`,summary:"AllinONE平台将游戏乐趣与实际收益完美结合，通过创新的算力系统和双代币经济模式，让玩家在享受游戏的同时获得经济收益。本文分享了作者三个月的使用体验，包括游戏体验、算力系统、社交功能等多个方面。",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-15T08:30:00"),lastUpdated:new Date("2025-09-16T09:15:00"),tags:["游戏体验","算力系统","收益分析","平台评测"],likes:128,views:1024,commentCount:36,status:"published",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=gaming%20platform%2C%20digital%20art%2C%20futuristic%2C%20colorful&sign=a160cbc38262558651adba1662dee0ce"},N6=[{id:"comment-001",postId:"sample-blog-001",content:"非常详细的平台介绍！我也是AllinONE的用户，完全认同你对算力系统的看法，确实很创新。",authorId:"user-002",authorName:"算力专家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=tech%20expert%20avatar%2C%20cartoon%20style%2C%20glasses&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T10:15:00"),likes:24,replies:[{id:"reply-001",commentId:"comment-001",content:"谢谢支持！你有没有什么提高算力效率的小技巧可以分享？",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T11:30:00")}]},{id:"comment-002",postId:"sample-blog-001",content:"博客中心功能真的很棒！我已经写了几篇游戏攻略，收到了很多玩家的好评和建议。这个社区氛围太好了！",authorId:"user-003",authorName:"内容创作者",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=content%20creator%20avatar%2C%20cartoon%20style%2C%20creative&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-15T14:45:00"),likes:18,replies:[]},{id:"comment-003",postId:"sample-blog-001",content:"作为一个新用户，这篇文章对我帮助很大！请问你觉得新手应该先专注哪款游戏来积累算力呢？",authorId:"user-004",authorName:"新手玩家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=newbie%20gamer%20avatar%2C%20cartoon%20style%2C%20curious&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-16T08:20:00"),likes:7,replies:[{id:"reply-002",commentId:"comment-003",content:"我建议从Match3游戏开始，上手简单但回报不错。等熟悉了平台机制后，可以尝试一些策略类游戏，虽然难度高一些，但算力回报更丰厚。",authorId:"user-001",authorName:"游戏达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=gamer%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-16T09:05:00")}]}];let qt=[j6,{id:"1",title:"AllinONE平台使用体验：游戏与收益的完美结合",content:`
# AllinONE平台使用体验：游戏与收益的完美结合

## 初次接触

作为一名资深游戏爱好者，我一直在寻找能够将游戏乐趣与实际收益相结合的平台。当我第一次听说AllinONE平台时，我抱着怀疑的态度注册了账号。毕竟，市面上声称"边玩边赚"的平台不在少数，但真正能够提供良好体验和稳定收益的却寥寥无几。

## 平台特色

AllinONE最吸引我的是其创新的双代币经济系统。平台使用游戏币和算力积分两种虚拟资产，相互配合形成了一个完整的经济循环。这种设计既符合国内的合规要求，又能为玩家提供实际的收益机会。

### 游戏体验

平台上的小游戏种类丰富，从休闲益智到竞技对战，应有尽有。我个人最喜欢的是三消类游戏，操作简单但策略性强，非常适合利用碎片时间进行游戏。游戏画面精美，操作流畅，完全不输专业游戏平台的体验。

### 收益机制

通过游戏获得的算力是平台收益的核心。我发现，持续稳定地参与游戏比短时间内高强度游戏更有利于算力的积累。平台的算力分配机制非常透明，你可以在个人中心清晰地看到每一笔算力的来源和用途。

## 社区互动

AllinONE的社区氛围非常活跃。玩家之间可以组队游戏、交流策略，甚至进行道具交易。这种社交元素大大增强了平台的粘性，让我不仅仅是为了收益而来，更是享受其中的社交乐趣。

## 收益分析

使用一个月后，我的收益情况如下：
- 日均游戏时间：约1小时
- 月累计算力：约30点
- 月收益：约150元

考虑到我只是利用空闲时间进行游戏，这样的收益已经相当可观。当然，如果你能投入更多时间，或者发展团队，收益还会更高。

## 改进建议

虽然整体体验很好，但我认为平台还有一些可以改进的地方：
1. 游戏种类可以进一步丰富，特别是策略类和角色扮演类游戏
2. 提现流程可以再简化一些，目前需要3-5个工作日
3. 移动端APP的稳定性有待提高，偶尔会出现闪退情况

## 总结

AllinONE是一个将游戏娱乐与收益机会完美结合的平台。它既满足了游戏爱好者的娱乐需求，又提供了合规、透明的收益渠道。如果你是一个喜欢游戏，又希望能从中获得一些额外收入的人，我强烈推荐你尝试AllinONE平台。

记住，平台的核心理念是"寓教于乐，寓赚于乐"，保持一个轻松的心态，享受游戏的过程，收益自然会随之而来。
    `,summary:"AllinONE平台将游戏乐趣与收益机会完美结合，通过创新的双代币经济系统和丰富的游戏内容，为玩家提供了一个既有趣又有收益的游戏平台。",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=game%20dashboard%2C%20interface%20showing%20gaming%20stats%2C%20virtual%20currency%2C%20modern%20UI%2C%20blue%20theme&sign=a160cbc38262558651adba1662dee0ce",authorId:"current-user",authorName:"游戏玩家",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-10"),tags:["游戏体验","收益分析","平台评测"],likes:42,views:156,commentCount:8,status:"published"},{id:"2",title:"如何在AllinONE平台最大化你的算力收益",content:`
# 如何在AllinONE平台最大化你的算力收益

作为一名在AllinONE平台活跃了3个月的玩家，我总结了一些提高算力收益的实用技巧，希望对新玩家有所帮助。

## 理解算力机制

首先，了解算力的获取和计算方式至关重要。在AllinONE平台，算力主要来源于：
- 日常游戏表现
- 完成平台任务
- 社区活动参与
- 团队协作贡献

其中，游戏表现是最基础也是最稳定的算力来源。

## 游戏选择策略

不同的游戏提供的算力回报是不同的。根据我的经验，以下游戏算力效率较高：

1. **三消类游戏** - 操作简单，单局时间短，适合碎片时间
2. **益智解谜** - 难度适中，算力奖励丰厚
3. **竞技对战** - 胜率越高，算力奖励越多

建议新手从三消类游戏开始，熟悉平台后再尝试其他类型。

## 时间管理

合理安排游戏时间也是提高算力效率的关键。我的建议是：

- 每天固定时间段游戏，保持算力增长的稳定性
- 利用平台"黄金时段"（通常是晚上8-10点）游戏，此时算力奖励有额外加成
- 不要疲劳游戏，质量比数量更重要

## 团队合作

加入或组建一个活跃的团队可以显著提升你的算力收益。团队成员之间的算力有联动效应，团队整体活跃度越高，每个成员获得的算力加成也越多。

## 任务与活动

平台经常会推出各种任务和活动，这些是获取额外算力的绝佳机会：

- 每日任务必做，这是最基础的算力来源
- 参与限时活动，通常有双倍甚至三倍算力奖励
- 关注社区公告，及时了解新的算力获取渠道

## 道具利用

合理使用游戏道具可以提高游戏效率，间接提升算力获取速度：

- "算力加速器"可在短时间内提升30%的算力获取
- "游戏币转换器"可以将多余的游戏币转换为少量算力
- "任务刷新卡"可以刷新难度较大的任务，换取更容易完成的任务

## 收益转化

最后，如何将算力转化为实际收益也很重要：

- 定期将算力兑换为平台币或游戏币
- 根据市场行情，选择最有利的兑换时机
- 考虑长期持有部分算力，享受算力增值

## 总结

在AllinONE平台，提高算力收益需要综合考虑游戏选择、时间管理、团队合作等多方面因素。希望这些技巧对你有所帮助，祝你在平台上玩得开心，赚得满意！

记住，持之以恒是成功的关键。即使是每天只玩一小时，只要坚持下去，也能积累可观的算力收益。
    `,summary:"本文分享了在AllinONE平台提高算力收益的实用技巧，包括游戏选择策略、时间管理、团队合作等多个方面的建议。",coverImage:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=gaming%20strategy%2C%20charts%20and%20graphs%2C%20optimization%2C%20modern%20UI%2C%20blue%20and%20purple%20theme&sign=a160cbc38262558651adba1662dee0ce",authorId:"user-2",authorName:"算力达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=professional%20gamer%20avatar%2C%20cartoon%20style%2C%20tech%20savvy&sign=a9cc8cbd767adbae39edf6cb5d2f386a",publishDate:new Date("2025-09-05"),tags:["算力攻略","游戏技巧","收益优化"],likes:78,views:245,commentCount:12,status:"published"}],sg=[...N6,{id:"1",postId:"1",content:"非常详细的平台介绍，我也是AllinONE的用户，完全认同你的观点！",authorId:"user-2",authorName:"算力达人",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=professional%20gamer%20avatar%2C%20cartoon%20style%2C%20tech%20savvy&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-11"),likes:5},{id:"2",postId:"1",content:"请问作者每天大概玩多久才能获得这样的收益？我是新手，想了解一下时间投入。",authorId:"user-3",authorName:"游戏新手",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=newbie%20gamer%20avatar%2C%20cartoon%20style%2C%20curious&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-12"),likes:2},{id:"3",postId:"1",content:"我觉得平台的游戏种类还可以再丰富一些，特别是策略类游戏。",authorId:"user-4",authorName:"策略游戏爱好者",authorAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=strategy%20gamer%20avatar%2C%20cartoon%20style%2C%20thoughtful&sign=a9cc8cbd767adbae39edf6cb5d2f386a",createdAt:new Date("2025-09-13"),likes:3}],k6=[{id:"1",name:"平台体验",description:"分享AllinONE平台的使用体验和心得",postCount:5},{id:"2",name:"游戏攻略",description:"各类游戏的攻略和技巧分享",postCount:8},{id:"3",name:"收益分析",description:"平台收益机制分析和收益提升方法",postCount:6},{id:"4",name:"社区活动",description:"平台社区活动公告和回顾",postCount:3},{id:"5",name:"算力优化",description:"算力获取和优化的方法与技巧",postCount:7},{id:"6",name:"团队建设",description:"如何组建和管理高效的游戏团队",postCount:4},{id:"7",name:"新手指南",description:"为平台新用户提供的入门指导",postCount:5}];const ir={async getBlogPosts(s=1,e=10,r){let n=[...qt];r&&(r.tag&&(n=n.filter(u=>u.tags.includes(r.tag))),r.authorId&&(n=n.filter(u=>u.authorId===r.authorId)),r.status&&(n=n.filter(u=>u.status===r.status))),r!=null&&r.status||(n=n.filter(u=>u.status==="published")),n.sort((u,m)=>m.publishDate.getTime()-u.publishDate.getTime());const o=(s-1)*e,l=o+e;return{posts:n.slice(o,l),total:n.length}},async getBlogPost(s){const e=qt.find(r=>r.id===s);return e?(e.views+=1,{...e}):null},async createBlogPost(s){const e={...s,id:Date.now().toString(),publishDate:new Date,likes:0,views:0,commentCount:0};return qt.push(e),e},async updateBlogPost(s,e){const r=qt.findIndex(o=>o.id===s);if(r===-1)return null;const n={...qt[r],...e,lastUpdated:new Date};return qt[r]=n,n},async deleteBlogPost(s){const e=qt.length;return qt=qt.filter(r=>r.id!==s),qt.length<e},async likeBlogPost(s){const e=qt.find(r=>r.id===s);return e?(e.likes+=1,{...e}):null},async getBlogComments(s){return sg.filter(e=>e.postId===s)},async addComment(s){const e={...s,id:Date.now().toString(),createdAt:new Date,likes:0};sg.push(e);const r=qt.find(n=>n.id===s.postId);return r&&(r.commentCount+=1),e},async getBlogCategories(){return[...k6]},async getBlogStats(){const s=qt.reduce((c,u)=>c+u.views,0),e=qt.reduce((c,u)=>c+u.likes,0),r=qt.reduce((c,u)=>c+u.commentCount,0),n={};qt.forEach(c=>{c.tags.forEach(u=>{n[u]=(n[u]||0)+1})});const o=Object.entries(n).map(([c,u])=>({tag:c,count:u})).sort((c,u)=>u.count-c.count).slice(0,5),l=[...qt].sort((c,u)=>u.views-c.views).slice(0,5).map(c=>({id:c.id,title:c.title,views:c.views}));return{totalPosts:qt.length,totalViews:s,totalLikes:e,totalComments:r,popularTags:o,popularPosts:l}}},$y=j.createContext(void 0);function C6({children:s}){const{userData:e}=Lo(),[r,n]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState([]),[m,p]=j.useState(null),[f,x]=j.useState(!1),[v,k]=j.useState(null),[C,N]=j.useState(1),[w,A]=j.useState(1);j.useEffect(()=>{(async()=>{try{const se=await ir.getBlogCategories();u(se)}catch(se){console.error("获取博客分类失败:",se),k("获取博客分类失败")}})()},[]),j.useEffect(()=>{re()},[]);const D=j.useCallback(async(te=1,se=10,ae)=>{x(!0),k(null);try{const O=await ir.getBlogPosts(te,se,ae);n(O.posts),N(te),A(Math.ceil(O.total/se))}catch(O){console.error("获取博客列表失败:",O),k("获取博客列表失败")}finally{x(!1)}},[]),T=j.useCallback(async()=>{if(e.userId){x(!0),k(null);try{const te=await ir.getBlogPosts(1,100,{authorId:e.userId,status:void 0});l(te.posts)}catch(te){console.error("获取用户博客失败:",te),k("获取用户博客失败")}finally{x(!1)}}},[e.userId]),B=j.useCallback(async te=>{x(!0),k(null);try{return await ir.getBlogPost(te)}catch(se){return console.error("获取博客详情失败:",se),k("获取博客详情失败"),null}finally{x(!1)}},[]),E=j.useCallback(async te=>{x(!0),k(null);try{const se=await ir.createBlogPost(te);return se.status==="published"&&n(ae=>[se,...ae]),l(ae=>[se,...ae]),se}catch(se){throw console.error("创建博客失败:",se),k("创建博客失败"),se}finally{x(!1)}},[]),_=j.useCallback(async(te,se)=>{x(!0),k(null);try{const ae=await ir.updateBlogPost(te,se);return ae&&(n(O=>O.map(V=>V.id===te?ae:V)),l(O=>O.map(V=>V.id===te?ae:V))),ae}catch(ae){return console.error("更新博客失败:",ae),k("更新博客失败"),null}finally{x(!1)}},[]),L=j.useCallback(async te=>{x(!0),k(null);try{const se=await ir.deleteBlogPost(te);return se&&(n(ae=>ae.filter(O=>O.id!==te)),l(ae=>ae.filter(O=>O.id!==te))),se}catch(se){return console.error("删除博客失败:",se),k("删除博客失败"),!1}finally{x(!1)}},[]),P=j.useCallback(async te=>{try{const se=await ir.likeBlogPost(te);return se&&n(ae=>ae.map(O=>O.id===te?se:O)),se}catch(se){return console.error("点赞博客失败:",se),null}},[]),U=j.useCallback(async te=>{try{return await ir.getBlogComments(te)}catch(se){return console.error("获取评论失败:",se),[]}},[]),W=j.useCallback(async te=>{try{const se=await ir.addComment(te),ae=te.postId;return n(O=>O.map(V=>V.id===ae?{...V,commentCount:V.commentCount+1}:V)),se}catch(se){throw console.error("添加评论失败:",se),se}},[]),re=j.useCallback(async()=>{try{const te=await ir.getBlogStats();p(te)}catch(te){console.error("获取博客统计数据失败:",te)}},[]);return t.jsx($y.Provider,{value:{posts:r,userPosts:o,categories:c,stats:m,loading:f,error:v,currentPage:C,totalPages:w,fetchPosts:D,fetchUserPosts:T,fetchPostById:B,createPost:E,updatePost:_,deletePost:L,likePost:P,fetchComments:U,addComment:W,refreshStats:re},children:s})}function $o(){const s=j.useContext($y);if(s===void 0)throw new Error("useBlog must be used within a BlogProvider");return s}let Wi=[{id:"ai-assistant",username:"AI游戏助手",avatar:"🤖",status:"online",level:99,isOnline:!0,lastSeen:new Date,isAI:!0},{id:"ai-trader",username:"AI交易顾问",avatar:"💎",status:"online",level:88,isOnline:!0,lastSeen:new Date,isAI:!0},{id:"1",username:"游戏高手",avatar:"🎮",status:"online",level:25,isOnline:!0,lastSeen:new Date},{id:"2",username:"交易达人",avatar:"💰",status:"offline",level:18,isOnline:!1,lastSeen:new Date(Date.now()-36e5)}],rc=[{id:"1",fromUserId:"3",toUserId:"current",fromUsername:"新玩家123",fromAvatar:"🆕",status:"pending",createdAt:new Date}],Hi=[{id:"1",friendId:"1",friendUsername:"游戏高手",friendAvatar:"🎮",unreadCount:2,messages:[{id:"1",fromUserId:"1",toUserId:"current",content:"嘿，想一起玩游戏吗？",timestamp:new Date(Date.now()-18e5),isRead:!1,type:"text"},{id:"2",fromUserId:"current",toUserId:"1",content:"好啊！什么时候开始？",timestamp:new Date(Date.now()-17e5),isRead:!0,type:"text"}]},{id:"ai-assistant",friendId:"ai-assistant",friendUsername:"AI游戏助手",friendAvatar:"🤖",unreadCount:0,messages:[{id:"welcome-ai",fromUserId:"ai-assistant",toUserId:"current",content:"你好！我是AI游戏助手，有什么游戏问题可以问我哦！🎮",timestamp:new Date(Date.now()-36e5),isRead:!0,type:"text"}]},{id:"ai-trader",friendId:"ai-trader",friendUsername:"AI交易顾问",friendAvatar:"💎",unreadCount:0,messages:[{id:"welcome-trader",fromUserId:"ai-trader",toUserId:"current",content:"欢迎！我是AI交易顾问，可以为你提供市场分析和交易建议！💰",timestamp:new Date(Date.now()-36e5),isRead:!0,type:"text"}]}];class S6{async getFriends(){return new Promise(e=>{setTimeout(()=>{e([...Wi])},300)})}async getFriendRequests(){return new Promise(e=>{setTimeout(()=>{e([...rc])},300)})}async sendFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n={id:Date.now().toString(),fromUserId:"current",toUserId:"unknown",fromUsername:"当前用户",fromAvatar:"👤",status:"pending",createdAt:new Date};rc.push(n),r(!0)},500)})}async acceptFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n=rc.find(o=>o.id===e);if(n){n.status="accepted";const o={id:n.fromUserId,username:n.fromUsername,avatar:n.fromAvatar,status:"online",level:Math.floor(Math.random()*50)+1,isOnline:Math.random()>.5,lastSeen:new Date};Wi.push(o)}r(!0)},500)})}async rejectFriendRequest(e){return new Promise(r=>{setTimeout(()=>{const n=rc.find(o=>o.id===e);n&&(n.status="rejected"),r(!0)},500)})}async removeFriend(e){return new Promise(r=>{setTimeout(()=>{const n=Wi.findIndex(o=>o.id===e);n>-1&&Wi.splice(n,1),r(!0)},500)})}async getConversations(){return new Promise(e=>{setTimeout(()=>{e([...Hi])},300)})}async getMessages(e){return new Promise(r=>{setTimeout(()=>{const n=Hi.find(o=>o.friendId===e);r(n?[...n.messages]:[])},300)})}async sendMessage(e,r){return new Promise(n=>{setTimeout(()=>{const o={id:Date.now().toString(),fromUserId:"current",toUserId:e,content:r,timestamp:new Date,isRead:!1,type:"text"};let l=Hi.find(c=>c.friendId===e);if(!l){const c=Wi.find(u=>u.id===e);l={id:e,friendId:e,friendUsername:(c==null?void 0:c.username)||"未知用户",friendAvatar:c==null?void 0:c.avatar,unreadCount:0,messages:[]},Hi.push(l)}l.messages.push(o),l.lastMessage=o,n(o)},300)})}async markMessagesAsRead(e){return new Promise(r=>{setTimeout(()=>{const n=Hi.find(o=>o.friendId===e);n&&(n.messages.forEach(o=>{o.toUserId==="current"&&(o.isRead=!0)}),n.unreadCount=0),r()},100)})}}const cr=new S6,A6=({onStartChat:s})=>{const[e,r]=j.useState([]),[n,o]=j.useState([]),[l,c]=j.useState(""),[u,m]=j.useState(!1),[p,f]=j.useState("friends");j.useEffect(()=>{x(),v()},[]);const x=async()=>{try{const D=await cr.getFriends();r(D)}catch(D){console.error("加载好友列表失败:",D)}},v=async()=>{try{const D=await cr.getFriendRequests();o(D)}catch(D){console.error("加载好友请求失败:",D)}},k=async()=>{if(l.trim()){m(!0);try{await cr.sendFriendRequest(l),c(""),alert("好友请求已发送！")}catch{alert("发送好友请求失败")}finally{m(!1)}}},C=async(D,T)=>{try{T==="accept"?await cr.acceptFriendRequest(D):await cr.rejectFriendRequest(D),await v(),T==="accept"&&await x()}catch{alert("处理好友请求失败")}},N=async D=>{if(confirm("确定要删除这个好友吗？"))try{await cr.removeFriend(D),await x()}catch{alert("删除好友失败")}},w=D=>{switch(D){case"online":return"#4CAF50";case"away":return"#FF9800";case"offline":return"#9E9E9E";default:return"#9E9E9E"}},A=D=>{if(D.isOnline)return"在线";if(D.lastSeen){const T=Date.now()-D.lastSeen.getTime(),B=Math.floor(T/(1e3*60*60));return B<1?"刚刚离线":B<24?`${B}小时前在线`:"很久未上线"}return"离线"};return t.jsxs("div",{className:"friends-list",children:[t.jsx("div",{className:"friends-header",children:t.jsxs("div",{className:"tab-buttons",children:[t.jsxs("button",{className:`tab-btn ${p==="friends"?"active":""}`,onClick:()=>f("friends"),children:["好友列表 (",e.length,")"]}),t.jsxs("button",{className:`tab-btn ${p==="requests"?"active":""}`,onClick:()=>f("requests"),children:["好友请求 (",n.length,")"]})]})}),p==="friends"&&t.jsxs("div",{className:"friends-content",children:[t.jsx("div",{className:"add-friend-section",children:t.jsxs("div",{className:"add-friend-form",children:[t.jsx("input",{type:"text",placeholder:"输入用户名添加好友",value:l,onChange:D=>c(D.target.value),onKeyPress:D=>D.key==="Enter"&&k()}),t.jsx("button",{onClick:k,disabled:u||!l.trim(),className:"add-friend-btn",children:u?"发送中...":"添加"})]})}),t.jsx("div",{className:"friends-grid",children:e.map(D=>t.jsxs("div",{className:"friend-card",children:[t.jsxs("div",{className:"friend-avatar",children:[D.avatar||"👤",t.jsx("div",{className:"status-indicator",style:{backgroundColor:w(D.status)}})]}),t.jsxs("div",{className:"friend-info",children:[t.jsx("div",{className:"friend-name",children:D.username}),t.jsx("div",{className:"friend-status",children:A(D)}),D.level&&t.jsxs("div",{className:"friend-level",children:["等级 ",D.level]})]}),t.jsxs("div",{className:"friend-actions",children:[t.jsx("button",{className:"chat-btn",onClick:()=>s(D),children:"💬"}),t.jsx("button",{className:"remove-btn",onClick:()=>N(D.id),children:"❌"})]})]},D.id))}),e.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"👥"}),t.jsx("div",{className:"empty-text",children:"还没有好友，快去添加一些吧！"})]})]}),p==="requests"&&t.jsxs("div",{className:"requests-content",children:[n.map(D=>t.jsxs("div",{className:"request-card",children:[t.jsx("div",{className:"request-avatar",children:D.fromAvatar||"👤"}),t.jsxs("div",{className:"request-info",children:[t.jsx("div",{className:"request-name",children:D.fromUsername}),t.jsx("div",{className:"request-time",children:D.createdAt.toLocaleString()})]}),t.jsxs("div",{className:"request-actions",children:[t.jsx("button",{className:"accept-btn",onClick:()=>C(D.id,"accept"),children:"接受"}),t.jsx("button",{className:"reject-btn",onClick:()=>C(D.id,"reject"),children:"拒绝"})]})]},D.id)),n.length===0&&t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:"📬"}),t.jsx("div",{className:"empty-text",children:"暂无好友请求"})]})]}),t.jsx("style",{children:`
        .friends-list {
          background: transparent;
          padding: 0;
          box-shadow: none;
        }

        .friends-header {
          margin-bottom: 20px;
        }

        .tab-buttons {
          display: flex;
          gap: 10px;
        }

        .tab-btn {
          padding: 8px 16px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 20px;
          background: transparent;
          color: #94a3b8; /* slate-400 */
          cursor: pointer;
          transition: all 0.3s;
        }

        .tab-btn.active {
          background: #60a5fa; /* blue-400 */
          color: white;
          border-color: #60a5fa;
        }

        .add-friend-section {
          margin-bottom: 20px;
          padding: 15px;
          background: #334155; /* slate-700 */
          border-radius: 8px;
        }

        .add-friend-form {
          display: flex;
          gap: 10px;
        }

        .add-friend-form input {
          flex: 1;
          padding: 10px;
          border: 1px solid #475569; /* slate-600 */
          background: #1e293b; /* slate-800 */
          color: #cbd5e1; /* slate-300 */
          border-radius: 6px;
          font-size: 14px;
        }
        
        .add-friend-form input::placeholder {
          color: #94a3b8; /* slate-400 */
        }

        .add-friend-btn {
          padding: 10px 20px;
          background: #4ade80; /* green-400 */
          color: #1e293b; /* slate-800 */
          font-weight: bold;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          transition: background 0.3s;
        }

        .add-friend-btn:hover:not(:disabled) {
          background: #22c55e; /* green-500 */
        }

        .add-friend-btn:disabled {
          background: #475569; /* slate-600 */
          cursor: not-allowed;
        }

        .friends-grid {
          display: grid;
          gap: 15px;
        }

        .friend-card {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          background: #334155; /* slate-700 */
          border-radius: 8px;
          transition: all 0.3s;
        }

        .friend-card:hover {
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          transform: translateY(-1px);
          background: #475569; /* slate-600 */
        }

        .friend-avatar {
          position: relative;
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .status-indicator {
          position: absolute;
          bottom: 0;
          right: 0;
          width: 8px;
          height: 8px;
          border-radius: 50%;
          border: 2px solid #334155; /* slate-700 */
        }

        .friend-info {
          flex: 1;
        }

        .friend-name {
          font-weight: bold;
          margin-bottom: 4px;
          color: #cbd5e1; /* slate-300 */
        }

        .friend-status {
          font-size: 12px;
          color: #94a3b8; /* slate-400 */
        }

        .friend-level {
          font-size: 12px;
          color: #60a5fa; /* blue-400 */
          margin-top: 2px;
        }

        .friend-actions {
          display: flex;
          gap: 8px;
        }

        .chat-btn, .remove-btn {
          width: 32px;
          height: 32px;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s;
          color: white;
        }

        .chat-btn {
          background: #60a5fa; /* blue-400 */
        }

        .chat-btn:hover {
          background: #3b82f6; /* blue-500 */
        }

        .remove-btn {
          background: #ef4444; /* red-500 */
        }

        .remove-btn:hover {
          background: #dc2626; /* red-600 */
        }

        .requests-content {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .request-card {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 8px;
          background: #334155; /* slate-700 */
        }

        .request-avatar {
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .request-info {
          flex: 1;
        }

        .request-name {
          font-weight: bold;
          margin-bottom: 4px;
          color: #cbd5e1; /* slate-300 */
        }

        .request-time {
          font-size: 12px;
          color: #94a3b8; /* slate-400 */
        }

        .request-actions {
          display: flex;
          gap: 8px;
        }

        .accept-btn, .reject-btn {
          padding: 6px 12px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.3s;
          font-weight: bold;
        }

        .accept-btn {
          background: #4ade80; /* green-400 */
          color: #1e293b; /* slate-800 */
        }

        .accept-btn:hover {
          background: #22c55e; /* green-500 */
        }

        .reject-btn {
          background: #ef4444; /* red-500 */
          color: white;
        }

        .reject-btn:hover {
          background: #dc2626; /* red-600 */
        }

        .empty-state {
          text-align: center;
          padding: 40px 20px;
          color: #94a3b8; /* slate-400 */
        }

        .empty-icon {
          font-size: 48px;
          margin-bottom: 10px;
        }

        .empty-text {
          font-size: 16px;
        }
      `})]})};class T6{constructor(){Ee(this,"config");Ee(this,"conversationHistory",new Map);this.config={provider:"openai",model:"gpt-3.5-turbo",apiKey:localStorage.getItem("ai_api_key")||"",baseURL:localStorage.getItem("ai_base_url")||"https://api.openai.com/v1"}}updateConfig(e){this.config={...this.config,...e},e.apiKey&&localStorage.setItem("ai_api_key",e.apiKey),e.baseURL&&localStorage.setItem("ai_base_url",e.baseURL)}getConfig(){return{...this.config}}async sendMessage(e,r,n){try{const o=this.conversationHistory.get(e)||[],l={role:"user",content:r,timestamp:Date.now()},c=[{role:"system",content:this.getSystemPrompt(n)},...o.slice(-10),l];let u;switch(this.config.provider){case"openai":u=await this.callOpenAI(c);break;case"claude":u=await this.callClaude(c);break;case"gemini":u=await this.callGemini(c);break;case"local":u=await this.callLocalModel(c);break;default:throw new Error("不支持的AI提供商")}const m={role:"assistant",content:u,timestamp:Date.now()};return o.push(l,m),this.conversationHistory.set(e,o),u}catch(o){return console.error("AI聊天服务错误:",o),this.getFallbackResponse(r)}}async callOpenAI(e){var o,l;if(!this.config.apiKey)throw new Error("请先配置OpenAI API Key");const r=await fetch(`${this.config.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.config.model||"gpt-3.5-turbo",messages:e,max_tokens:500,temperature:.7})});if(!r.ok)throw new Error(`OpenAI API错误: ${r.status}`);return((l=(o=(await r.json()).choices[0])==null?void 0:o.message)==null?void 0:l.content)||"抱歉，我现在无法回复。"}async callClaude(e){var o,l;if(!this.config.apiKey)throw new Error("请先配置Claude API Key");const r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.config.model||"claude-3-sonnet-20240229",max_tokens:500,messages:e.filter(c=>c.role!=="system"),system:(o=e.find(c=>c.role==="system"))==null?void 0:o.content})});if(!r.ok)throw new Error(`Claude API错误: ${r.status}`);return((l=(await r.json()).content[0])==null?void 0:l.text)||"抱歉，我现在无法回复。"}async callGemini(e){var l,c,u;if(!this.config.apiKey)throw new Error("请先配置Gemini API Key");const r=e.filter(m=>m.role!=="system").map(m=>({role:m.role==="assistant"?"model":"user",parts:[{text:m.content}]})),n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.config.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:r,generationConfig:{maxOutputTokens:500,temperature:.7}})});if(!n.ok)throw new Error(`Gemini API错误: ${n.status}`);return((u=(c=(l=(await n.json()).candidates[0])==null?void 0:l.content)==null?void 0:c.parts[0])==null?void 0:u.text)||"抱歉，我现在无法回复。"}async callLocalModel(e){var l;const r=this.config.baseURL||"http://localhost:11434",n=await fetch(`${r}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model||"llama2",messages:e,stream:!1})});if(!n.ok)throw new Error(`本地模型错误: ${n.status}`);return((l=(await n.json()).message)==null?void 0:l.content)||"抱歉，我现在无法回复。"}getSystemPrompt(e){const r=`你是AllinONE游戏平台中的智能NPC助手。你需要：
1. 保持友好、有趣的游戏角色形象
2. 帮助玩家了解游戏功能和交易系统
3. 提供游戏建议和策略指导
4. 与玩家进行自然的对话交流
5. 回复要简洁明了，适合游戏聊天环境

请用中文回复，保持轻松愉快的语调。`;return e?`${r}

当前上下文：${e}`:r}getFallbackResponse(e){const r=["哈哈，你说得很有趣！我正在思考怎么回复你...","这个问题很棒！让我想想...","你好！我是游戏助手，很高兴和你聊天！","嗯嗯，我明白你的意思，不过我现在有点忙，稍后再详细聊？","哇，你真厉害！继续加油哦！","有什么游戏问题可以问我，我很乐意帮助你！"];return r[Math.floor(Math.random()*r.length)]}clearConversation(e){this.conversationHistory.delete(e)}getConversationHistory(e){return this.conversationHistory.get(e)||[]}}const D6=new T6,_6=({friend:s,onClose:e})=>{const[r,n]=j.useState([]),[o,l]=j.useState(""),[c,u]=j.useState(!1),m=j.useRef(null);j.useEffect(()=>{f(),x()},[s.id]),j.useEffect(()=>{p()},[r]);const p=()=>{var N;(N=m.current)==null||N.scrollIntoView({behavior:"smooth"})},f=async()=>{try{const N=await cr.getMessages(s.id);n(N)}catch(N){console.error("加载消息失败:",N)}},x=async()=>{try{await cr.markMessagesAsRead(s.id)}catch(N){console.error("标记已读失败:",N)}},v=async()=>{if(!o.trim()||c)return;u(!0);const N=o;l("");try{const w=await cr.sendMessage(s.id,N);if(n(A=>[...A,w]),s.isAI)try{const A={id:"typing",fromUserId:s.id,toUserId:"current",content:"正在输入...",timestamp:new Date,isRead:!1,type:"text"};n(B=>[...B,A]);const D=`你是${s.username}，一个${s.level}级的${s.username.includes("助手")?"游戏助手，专门帮助玩家提升游戏技巧和策略":s.username.includes("顾问")?"交易顾问，专门协助玩家进行游戏内交易和投资决策":"游戏NPC"}。请用友好、专业的语气回复玩家。`,T=await D6.sendMessage(`chat_${s.id}`,N,D);n(B=>{const E=B.filter(L=>L.id!=="typing"),_={id:Date.now().toString(),fromUserId:s.id,toUserId:"current",content:T,timestamp:new Date,isRead:!1,type:"text"};return[...E,_]})}catch(A){console.error("AI回复失败:",A),n(D=>{const T=D.filter(E=>E.id!=="typing"),B={id:Date.now().toString(),fromUserId:s.id,toUserId:"current",content:"抱歉，我现在有点忙，稍后再聊吧！如果你需要帮助，可以稍后再试试。",timestamp:new Date,isRead:!1,type:"text"};return[...T,B]})}}catch(w){console.error("发送消息失败:",w),alert("发送消息失败"),l(N)}finally{u(!1)}},k=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),v())},C=N=>{const w=typeof N=="number"?new Date(N):N,D=new Date().getTime()-w.getTime(),T=Math.floor(D/(1e3*60)),B=Math.floor(D/(1e3*60*60)),E=Math.floor(D/(1e3*60*60*24));return T<1?"刚刚":T<60?`${T}分钟前`:B<24?`${B}小时前`:E<7?`${E}天前`:w.toLocaleDateString()};return t.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",width:"400px",height:"500px",background:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",border:"2px solid #a855f7",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)",zIndex:1e3,color:"white"},children:[t.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #475569",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(168, 85, 247, 0.1)",borderRadius:"13px 13px 0 0"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("div",{style:{position:"relative",fontSize:"24px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(168, 85, 247, 0.2)",borderRadius:"50%"},children:[s.avatar||"👤",s.isAI&&t.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",fontSize:"12px",background:"#fbbf24",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:"🤖"}),t.jsx("div",{style:{position:"absolute",bottom:"2px",right:"2px",width:"8px",height:"8px",borderRadius:"50%",border:"2px solid #1e293b",backgroundColor:s.isOnline?"#4CAF50":"#9E9E9E"}})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:"bold",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[s.username,s.isAI&&t.jsx("span",{style:{background:"#fbbf24",color:"#1e293b",fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:"bold"},children:"AI"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:s.isOnline?"在线":"离线"})]})]}),t.jsx("button",{onClick:e,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"20px",cursor:"pointer",padding:"5px",borderRadius:"50%",transition:"all 0.2s"},onMouseOver:N=>{N.currentTarget.style.background="rgba(239, 68, 68, 0.2)",N.currentTarget.style.color="#ef4444"},onMouseOut:N=>{N.currentTarget.style.background="none",N.currentTarget.style.color="#94a3b8"},children:"✕"})]}),t.jsxs("div",{style:{flex:1,padding:"15px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},children:[r.map(N=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",maxWidth:"80%",alignSelf:N.fromUserId==="current"?"flex-end":"flex-start"},children:[t.jsxs("div",{style:{padding:"10px 15px",borderRadius:"15px",wordWrap:"break-word",background:N.fromUserId==="current"?"linear-gradient(135deg, #a855f7, #ec4899)":N.id==="typing"?"rgba(168, 85, 247, 0.2)":"#374151",color:"white",border:N.id==="typing"?"1px dashed #a855f7":"none"},children:[N.content,N.id==="typing"&&t.jsxs("span",{style:{marginLeft:"8px"},children:[t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out"},children:"●"}),t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out 0.2s"},children:"●"}),t.jsx("span",{style:{animation:"typing 1.4s infinite ease-in-out 0.4s"},children:"●"})]})]}),t.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px",textAlign:N.fromUserId==="current"?"right":"left"},children:C(N.timestamp)})]},N.id)),t.jsx("div",{ref:m})]}),t.jsxs("div",{style:{padding:"15px",borderTop:"1px solid #475569",display:"flex",gap:"10px",alignItems:"flex-end"},children:[t.jsx("textarea",{value:o,onChange:N=>l(N.target.value),onKeyPress:k,placeholder:s.isAI?`与${s.username}聊天...`:"输入消息...",disabled:c,rows:1,style:{flex:1,background:"#374151",border:"1px solid #4b5563",borderRadius:"10px",padding:"10px",color:"white",resize:"none",minHeight:"20px",maxHeight:"80px",fontFamily:"inherit"}}),t.jsx("button",{onClick:v,disabled:!o.trim()||c,style:{background:c?"#6b7280":"linear-gradient(135deg, #a855f7, #ec4899)",border:"none",color:"white",padding:"10px 20px",borderRadius:"10px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",transition:"all 0.2s"},children:c?"发送中...":"发送"})]})]})},P6=()=>{const[s,e]=j.useState("friends"),[r,n]=j.useState([]),[o,l]=j.useState(null),[c,u]=j.useState(!1),[m,p]=j.useState(0);j.useEffect(()=>{f();const N=setInterval(f,3e4);return()=>clearInterval(N)},[]),j.useEffect(()=>{const N=r.reduce((w,A)=>w+A.unreadCount,0);p(N)},[r]);const f=async()=>{try{const N=await cr.getConversations();n(N)}catch(N){console.error("加载对话列表失败:",N)}},x=N=>{l(N),cr.markMessagesAsRead(N.id).then(()=>{f()})},v=()=>{l(null),f()},k=N=>{const w={id:N.friendId,username:N.friendUsername,avatar:N.friendAvatar,status:"online",isOnline:!0};x(w)},C=N=>{if(!N)return"";const w=typeof N=="number"?new Date(N):N,D=new Date().getTime()-w.getTime(),T=Math.floor(D/(1e3*60)),B=Math.floor(D/(1e3*60*60)),E=Math.floor(D/(1e3*60*60*24));return T<1?"刚刚":T<60?`${T}分钟前`:B<24?`${B}小时前`:E<7?`${E}天前`:w.toLocaleDateString()};return t.jsxs("div",{className:"team-center",children:[t.jsxs("div",{className:"team-header",children:[t.jsx("h2",{children:"🤝 团队中心"}),t.jsxs("div",{className:"team-tabs",children:[t.jsx("button",{className:`tab-btn ${s==="friends"?"active":""}`,onClick:()=>e("friends"),children:"👥 好友管理"}),t.jsxs("button",{className:`tab-btn ${s==="chats"?"active":""}`,onClick:()=>e("chats"),children:["💬 聊天记录",m>0&&t.jsx("span",{className:"unread-badge",children:m})]})]})]}),t.jsxs("div",{className:"team-content",children:[s==="friends"&&t.jsx(A6,{onStartChat:x}),s==="chats"&&t.jsxs("div",{className:"chats-section",children:[t.jsxs("div",{className:"chats-header",children:[t.jsx("h3",{children:"最近对话"}),t.jsxs("div",{className:"chats-stats",children:["共 ",r.length," 个对话"]})]}),t.jsx("div",{className:"conversations-list",children:r.map(N=>{var w,A;return t.jsxs("div",{className:"conversation-item",onClick:()=>k(N),children:[t.jsx("div",{className:"conversation-avatar",children:N.friendAvatar||"👤"}),t.jsxs("div",{className:"conversation-info",children:[t.jsxs("div",{className:"conversation-name",children:[N.friendUsername,N.unreadCount>0&&t.jsx("span",{className:"unread-count",children:N.unreadCount})]}),t.jsx("div",{className:"conversation-last-message",children:((w=N.lastMessage)==null?void 0:w.content)||"暂无消息"})]}),t.jsx("div",{className:"conversation-time",children:C((A=N.lastMessage)==null?void 0:A.timestamp)})]},N.id)})}),r.length===0&&t.jsxs("div",{className:"empty-chats",children:[t.jsx("div",{className:"empty-icon",children:"💬"}),t.jsx("div",{className:"empty-text",children:"还没有聊天记录"}),t.jsx("div",{className:"empty-hint",children:"添加好友后开始聊天吧！"})]})]})]}),o&&t.jsx(_6,{friend:o,onClose:v}),t.jsx("style",{children:`
        .team-center {
          /* Styles for dark theme */
        }

        .team-header {
          margin-bottom: 20px;
        }

        .team-header h2 {
          margin: 0 0 20px 0;
          color: #facc15; /* yellow-400 */
          font-size: 24px;
          font-weight: bold;
        }

        .team-tabs {
          display: flex;
          gap: 10px;
        }

        .tab-btn {
          position: relative;
          padding: 10px 20px;
          border: 1px solid #475569; /* slate-600 */
          border-radius: 20px;
          background: transparent;
          color: #94a3b8; /* slate-400 */
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .tab-btn.active {
          background: #facc15; /* yellow-400 */
          color: #1e293b; /* slate-800 */
          border-color: #facc15;
          font-weight: bold;
        }

        .tab-btn:hover:not(.active) {
          background: #334155; /* slate-700 */
          color: #cbd5e1; /* slate-300 */
        }

        .unread-badge {
          background: #ef4444; /* red-500 */
          color: white;
          border-radius: 10px;
          padding: 2px 6px;
          font-size: 12px;
          min-width: 18px;
          text-align: center;
        }

        .team-content {
          padding: 0;
        }

        .chats-section {
          padding: 0;
        }

        .chats-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #475569; /* slate-600 */
        }

        .chats-header h3 {
          margin: 0;
          color: #cbd5e1; /* slate-300 */
          font-weight: bold;
        }

        .chats-stats {
          color: #94a3b8; /* slate-400 */
          font-size: 14px;
        }

        .conversations-list {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .conversation-item {
          display: flex;
          align-items: center;
          padding: 15px;
          border: 1px solid #475569; /* slate-600 */
          background: #334155; /* slate-700 */
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s;
        }

        .conversation-item:hover {
          background: #475569; /* slate-600 */
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .conversation-avatar {
          font-size: 24px;
          margin-right: 15px;
          color: #cbd5e1; /* slate-300 */
        }

        .conversation-info {
          flex: 1;
        }

        .conversation-name {
          font-weight: bold;
          margin-bottom: 4px;
          display: flex;
          align-items: center;
          gap: 8px;
          color: #cbd5e1; /* slate-300 */
        }

        .unread-count {
          background: #ef4444; /* red-500 */
          color: white;
          border-radius: 10px;
          padding: 2px 6px;
          font-size: 12px;
          min-width: 18px;
          text-align: center;
        }

        .conversation-last-message {
          color: #94a3b8; /* slate-400 */
          font-size: 14px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          max-width: 300px;
        }

        .conversation-time {
          color: #94a3b8; /* slate-400 */
          font-size: 12px;
          white-space: nowrap;
        }

        .empty-chats {
          text-align: center;
          padding: 60px 20px;
          color: #94a3b8; /* slate-400 */
        }

        .empty-icon {
          font-size: 64px;
          margin-bottom: 20px;
        }

        .empty-text {
          font-size: 18px;
          margin-bottom: 10px;
        }

        .empty-hint {
          font-size: 14px;
          color: #94a3b8; /* slate-400 */
        }
      `})]})},E6=({wallet:s,oCoinBalance:e})=>{const{lang:r}=Qt(),n=ps(r),o=s,[l,c]=j.useState({incomeRMB:0,expenseRMB:0}),[u,m]=j.useState(!1);return j.useEffect(()=>{const p=async()=>{try{m(!0);const x=(async()=>{try{return await $t.getOCoinMarketData()}catch{return{currentPrice:1}}})(),[v,k,C,N]=await Promise.all([Ye.getTransactions(1e3),Ye.getExchangeRatesAsync(),x,Ye.getStats().catch(()=>null)]),w=1,A=(C==null?void 0:C.currentPrice)??1,D=(E,_)=>{const L=String(E).toLowerCase();return L==="cash"||L==="cny"?_:L==="gamecoins"||L==="gamecoin"?_*k.gameCoinsToRMB:L==="computingpower"||L==="computing"?_*k.computingPowerToRMB:L==="acoins"||L==="acoin"?_*w:L==="ocoins"||L==="ocoin"?_*A:0};let T=0,B=0;for(const E of v){const _=D(E.currency,E.amount);E.type==="income"?T+=_:B+=_}if(N){const E=N.totalIncome.cash+N.totalIncome.gameCoins*k.gameCoinsToRMB+N.totalIncome.computingPower*k.computingPowerToRMB+N.totalIncome.aCoins*w+N.totalIncome.oCoins*A,_=N.totalExpense.cash+N.totalExpense.gameCoins*k.gameCoinsToRMB+N.totalExpense.computingPower*k.computingPowerToRMB+N.totalExpense.aCoins*w+N.totalExpense.oCoins*A;T=Math.max(T,E),B=Math.max(B,_)}c({incomeRMB:T,expenseRMB:B})}catch(x){console.error("统计总收入/总支出失败:",x)}finally{m(!1)}};p();const f=()=>p();return window.addEventListener("wallet-updated",f),()=>window.removeEventListener("wallet-updated",f)},[s==null?void 0:s.lastUpdated]),o?t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:["📈 ",y(n,"personalCenter.analysisSection.monitor.title")]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-cyan-400 mb-3",children:y(n,"personalCenter.analysisSection.currentAssets")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-500/10 border border-green-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.cash")}),t.jsxs("div",{className:"text-lg font-bold text-green-400 mt-1 truncate",children:["¥",o.cash.toFixed(2)]})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.gameCoins")}),t.jsx("div",{className:"text-lg font-bold text-yellow-400 mt-1 truncate",children:o.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.computingPower")}),t.jsx("div",{className:"text-lg font-bold text-purple-400 mt-1 truncate",children:o.computingPower.toFixed(1)})]}),t.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.aCoins")}),t.jsx("div",{className:"text-lg font-bold text-indigo-400 mt-1 truncate",children:(o.aCoins||0).toFixed(2)})]}),t.jsxs("div",{className:"bg-orange-500/10 border border-orange-400/20 rounded-lg p-3 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.currencies.oCoins")}),t.jsx("div",{className:"text-lg font-bold text-orange-400 mt-1 truncate",children:(typeof e=="number"?e:o.oCoins||0).toFixed(2)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-green-600/10 border border-green-500/20 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.totalIncomeRMB")}),t.jsx("div",{className:"text-xl font-bold text-green-400 mt-1",children:u?y(n,"personalCenter.analysisSection.monitor.calculating"):`¥${l.incomeRMB.toFixed(2)}`})]}),t.jsxs("div",{className:"bg-red-600/10 border border-red-500/20 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(n,"personalCenter.analysisSection.totalExpenseRMB")}),t.jsx("div",{className:"text-xl font-bold text-red-400 mt-1",children:u?y(n,"personalCenter.analysisSection.monitor.calculating"):`¥${l.expenseRMB.toFixed(2)}`})]})]})]})]}):t.jsxs("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:["📈 ",y(n,"personalCenter.analysisSection.monitor.title")]}),t.jsx("div",{className:"text-center py-10 text-slate-400",children:y(n,"personalCenter.analysisSection.monitor.loadingWallet")})]})},I6=({className:s=""})=>{const{lang:e}=Qt(),r=ps(e),[n,o]=j.useState([]),[l,c]=j.useState(!0),[u,m]=j.useState({cash:0,gameCoins:0,computingPower:0});j.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const N=(await Ye.getTransactions()).filter(A=>{var D,T;return((D=A.description)==null?void 0:D.includes("平台佣金"))||((T=A.description)==null?void 0:T.includes("佣金"))});o(N);const w={cash:0,gameCoins:0,computingPower:0};N.forEach(A=>{if(A.type==="expense")switch(A.currency){case"cash":w.cash+=A.amount;break;case"gameCoins":w.gameCoins+=A.amount;break;case"computingPower":w.computingPower+=A.amount;break}}),m(w)}catch(C){console.error("加载佣金数据失败:",C)}finally{c(!1)}},f=(C,N)=>{switch(N){case"cash":return`¥${C.toFixed(2)}`;case"gameCoins":return`${C.toLocaleString()} 币`;case"computingPower":return`${C.toFixed(1)} 算力`;default:return C.toString()}},x=C=>{switch(C){case"cash":return"💵";case"gameCoins":return"🪙";case"computingPower":return"⚡";default:return"💰"}},v=C=>{const N=C.match(/订单(\w+)/);return N?N[1]:""},k=C=>{const N=C.match(/\((\d+\.?\d*)%\)/);return N?N[1]+"%":""};return l?t.jsx("div",{className:`bg-slate-800/80 border border-orange-400/30 rounded-lg p-6 ${s}`,children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsxs("div",{className:"text-orange-400",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-400 mx-auto mb-2"}),t.jsx("div",{children:y(r,"personalCenter.analysisSection.commission.loading")})]})})}):t.jsxs("div",{className:`bg-slate-800/80 border border-orange-400/30 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-orange-400 flex items-center",children:["💰 ",y(r,"personalCenter.analysisSection.commission.title")]}),t.jsxs("button",{onClick:p,className:"bg-orange-500/20 border border-orange-400/30 rounded-lg px-3 py-1 text-orange-400 hover:bg-orange-500/30 transition-all text-sm",children:["🔄 ",y(r,"personalCenter.analysisSection.commission.refresh")]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-400/20 rounded-lg p-4 mb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-orange-400 mb-4",children:["📊 ",y(r,"personalCenter.analysisSection.commission.myExpenseTitle")]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"💵"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.cash")}),t.jsxs("div",{className:"text-lg font-bold text-green-400",children:["¥",u.cash.toFixed(2)]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"🪙"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.gameCoins")}),t.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[u.gameCoins.toLocaleString()," 币"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-1",children:"⚡"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(r,"personalCenter.analysisSection.commission.labels.computingPower")}),t.jsxs("div",{className:"text-lg font-bold text-purple-400",children:[u.computingPower.toFixed(1)," 算力"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-4",children:["📋 ",y(r,"personalCenter.analysisSection.commission.recordsTitle")]}),n.length>0?t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map(C=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/20 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-2xl",children:x(C.currency)}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-white",children:C.description}),k(C.description)&&t.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-400 px-2 py-1 rounded",children:k(C.description)})]}),t.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[t.jsxs("span",{children:[y(r,"personalCenter.analysisSection.commission.id"),": ",C.id]}),v(C.description)&&t.jsxs("span",{children:["• ",y(r,"personalCenter.analysisSection.commission.order"),": ",v(C.description)]}),t.jsxs("span",{children:["• ",y(r,"personalCenter.analysisSection.commission.time"),": ",new Date(C.timestamp).toLocaleString(e==="zh"?"zh-CN":"en-US")]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-red-400",children:["-",f(C.amount,C.currency)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(r,"personalCenter.analysisSection.commission.expenseTag")})]})]})},C.id))}):t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx("div",{className:"text-4xl mb-2",children:"💰"}),t.jsx("div",{children:y(r,"personalCenter.analysisSection.commission.empty.title")}),t.jsx("div",{className:"text-sm mt-1",children:y(r,"personalCenter.analysisSection.commission.empty.hint")})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-600/30",children:t.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/20 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-bold text-blue-400 mb-2",children:["💡 ",y(r,"personalCenter.analysisSection.commission.infoTitle")]}),t.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.gameStore")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.marketplace")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.officialStore")}),t.jsx("li",{children:y(r,"personalCenter.analysisSection.commission.notes.personalHint")})]})]})})]})},R6=()=>{const s=cn(),{userPosts:e,fetchUserPosts:r,deletePost:n,loading:o,error:l}=$o(),[c,u]=j.useState("published"),[m,p]=j.useState(!1),[f,x]=j.useState(null);j.useEffect(()=>{r()},[r]);const v=e.filter(D=>D.status==="published"),k=e.filter(D=>D.status==="draft"),C=D=>{x(D),p(!0)},N=async()=>{if(f)try{await n(f.id)&&(p(!1),x(null))}catch(D){console.error("删除博客失败:",D)}},w=()=>{p(!1),x(null)},A=D=>{s(`/blog/edit/${D.id}`)};return t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-green-400",children:"📝 我的博客"}),t.jsx(ne,{to:"/blog/create",className:"bg-green-500/20 border border-green-400/30 rounded-lg px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-2",children:"写博客"})]}),t.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>u("published"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="published"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["已发布 (",v.length,")"]}),t.jsxs("button",{onClick:()=>u("drafts"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="drafts"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["草稿 (",k.length,")"]})]}),o&&t.jsx("div",{className:"flex justify-center items-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500"})}),l&&t.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-lg p-4 text-center text-red-400 mb-4",children:l}),!o&&t.jsxs(t.Fragment,{children:[c==="published"&&t.jsx(t.Fragment,{children:v.length===0?t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-3",children:"📝"}),t.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-300",children:"暂无已发布的博客"}),t.jsx("p",{className:"text-slate-400 mb-4",children:"分享你的游戏经验和平台使用心得，帮助其他玩家！"}),t.jsx(ne,{to:"/blog/create",className:"inline-block px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"写第一篇博客"})]}):t.jsx("div",{className:"space-y-4",children:v.map(D=>t.jsx(rg,{post:D,onDelete:()=>C(D),onEdit:()=>A(D)},D.id))})}),c==="drafts"&&t.jsx(t.Fragment,{children:k.length===0?t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-3",children:"📋"}),t.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-300",children:"暂无草稿"}),t.jsx("p",{className:"text-slate-400",children:"你可以先将博客保存为草稿，稍后再完善发布。"})]}):t.jsx("div",{className:"space-y-4",children:k.map(D=>t.jsx(rg,{post:D,onDelete:()=>C(D),onEdit:()=>A(D),isDraft:!0},D.id))})})]}),m&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-red-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-red-400 mb-4",children:"确认删除"}),t.jsxs("p",{className:"text-slate-300 mb-6",children:['确定要删除博客 "',f.title,'" 吗？此操作无法撤销。']}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600",children:"取消"}),t.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"删除"})]})]})})]})},rg=({post:s,onDelete:e,onEdit:r,isDraft:n=!1})=>t.jsx("div",{className:`bg-slate-700/30 border ${n?"border-yellow-400/30":"border-slate-600/30"} rounded-lg p-4`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx(ne,{to:`/blog/${s.id}`,className:"block group",children:t.jsxs("h3",{className:"font-bold text-lg mb-1 group-hover:text-blue-400 transition-colors",children:[s.title,n&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full",children:"草稿"})]})}),t.jsx("p",{className:"text-slate-400 text-sm mb-2 line-clamp-2",children:s.summary}),t.jsxs("div",{className:"flex items-center text-xs text-slate-500",children:[t.jsx("span",{children:n?`创建于 ${new Date(s.publishDate).toLocaleDateString("zh-CN")}`:`发布于 ${new Date(s.publishDate).toLocaleDateString("zh-CN")}`}),s.lastUpdated&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{children:["更新于 ",new Date(s.lastUpdated).toLocaleDateString("zh-CN")]})]}),!n&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"👁️"}),s.views]}),t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"❤️"}),s.likes]}),t.jsx("span",{className:"mx-1",children:"•"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"💬"}),s.commentCount]})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:r,className:"p-2 bg-blue-500/20 border border-blue-400/30 rounded text-blue-400 hover:bg-blue-500/30",title:"编辑",children:"✏️"}),t.jsx("button",{onClick:e,className:"p-2 bg-red-500/20 border border-red-400/30 rounded text-red-400 hover:bg-red-500/30",title:"删除",children:"🗑️"})]})]})});class M6{constructor(){Ee(this,"STORAGE_KEY","platform_config");Ee(this,"DEFAULT_CONFIG",{"a-coin-mining-weight":.7,"a-coin-staking-weight":.2,"income-platform-ratio":.3,"game-coin-to-a-coin-rate":100,"a-coin-to-game-coin-rate":100,"cash-to-game-coin-rate":100,"cash-to-computing-power-rate":10,"game-coin-to-cash-rate":.01,"computing-power-to-cash-rate":.1,"ocoin-performance-revenue-weight":.3,"ocoin-performance-player-weight":.2,"ocoin-performance-development-weight":.2,"ocoin-performance-management-weight":.15,"ocoin-performance-marketing-weight":.15,"dividend-performance-revenue-weight":.35,"dividend-performance-player-weight":.15,"dividend-performance-development-weight":.2,"dividend-performance-management-weight":.15,"dividend-performance-marketing-weight":.15,lastUpdated:new Date().toISOString()});this.initializeConfig()}initializeConfig(){localStorage.getItem(this.STORAGE_KEY)||this.saveConfig(this.DEFAULT_CONFIG)}getConfig(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):this.DEFAULT_CONFIG}getParameter(e){const r=this.getConfig();return r[e]!==void 0?r[e]:this.DEFAULT_CONFIG[e]}updateParameter(e,r){const n=this.getConfig();n[e]=r,n.lastUpdated=new Date().toISOString(),this.saveConfig(n),window.dispatchEvent(new CustomEvent("platform-config-updated",{detail:{paramId:e,value:r,timestamp:new Date}})),console.log(`[PlatformConfig] 参数更新: ${e} = ${r}`)}batchUpdateParameters(e){const r=this.getConfig();Object.entries(e).forEach(([n,o])=>{r[n]=o}),r.lastUpdated=new Date().toISOString(),this.saveConfig(r),window.dispatchEvent(new CustomEvent("platform-config-batch-updated",{detail:{updates:e,timestamp:new Date}})),console.log("[PlatformConfig] 批量参数更新:",e)}getExchangeRates(){const e=this.getConfig();return{gameCoinsToRMB:e["game-coin-to-cash-rate"]||.01,computingPowerToRMB:e["computing-power-to-cash-rate"]||.1,aCoinToGameCoin:e["a-coin-to-game-coin-rate"]||100,cashToGameCoin:e["cash-to-game-coin-rate"]||100,cashToComputingPower:e["cash-to-computing-power-rate"]||10}}getACoinAllocation(){const e=this.getConfig();return{miningWeight:e["a-coin-mining-weight"]||.7,stakingWeight:e["a-coin-staking-weight"]||.2}}getIncomeDistribution(){return{platformRatio:this.getConfig()["income-platform-ratio"]||.3}}getOCoinPerformanceWeights(){const e=this.getConfig();return{revenueWeight:e["ocoin-performance-revenue-weight"]||.3,playerWeight:e["ocoin-performance-player-weight"]||.2,developmentWeight:e["ocoin-performance-development-weight"]||.2,managementWeight:e["ocoin-performance-management-weight"]||.15,marketingWeight:e["ocoin-performance-marketing-weight"]||.15}}getDividendPerformanceWeights(){const e=this.getConfig();return{revenueWeight:e["dividend-performance-revenue-weight"]||.35,playerWeight:e["dividend-performance-player-weight"]||.15,developmentWeight:e["dividend-performance-development-weight"]||.2,managementWeight:e["dividend-performance-management-weight"]||.15,marketingWeight:e["dividend-performance-marketing-weight"]||.15}}saveConfig(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}resetToDefaults(){this.saveConfig(this.DEFAULT_CONFIG),window.dispatchEvent(new CustomEvent("platform-config-reset",{detail:{timestamp:new Date}})),console.log("[PlatformConfig] 配置已重置为默认值")}exportConfig(){return JSON.stringify(this.getConfig(),null,2)}importConfig(e){try{const r=JSON.parse(e);return this.saveConfig(r),window.dispatchEvent(new CustomEvent("platform-config-imported",{detail:{timestamp:new Date}})),console.log("[PlatformConfig] 配置导入成功"),!0}catch(r){return console.error("[PlatformConfig] 配置导入失败:",r),!1}}}const mr=new M6;function ag(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"rare":return"fa-star";default:return"fa-box"}}const O6=()=>{const{lang:s}=Qt(),e=ps(s),{userData:r,updateUserAssets:n,refreshUserData:o}=Lo(),{fetchUserPosts:l}=$o(),[c,u]=j.useState("inventory"),[m,p]=j.useState("purchases"),[f,x]=j.useState(!1),[v,k]=j.useState(!1),[C,N]=j.useState(!1),[w,A]=j.useState(!1),[D,T]=j.useState(null),[B,E]=j.useState(""),[_,L]=j.useState(""),[P,U]=j.useState(""),[W,re]=j.useState("cash"),[te,se]=j.useState("gameCoin"),[ae,O]=j.useState(null),[V,K]=j.useState([]),[R,J]=j.useState({totalUsers:0,onlineUsers:0,totalComputePower:0,dailyTransactions:0,aCoinCirculatingSupply:0,aCoinHolders:0,oCoinPrice:0,oCoinMarketCap:0,aCoinTotalSupply:0,oCoinCirculatingSupply:0}),[Q,I]=j.useState({gameCoinsEarned:0,computingPowerContribution:0,transactionActivity:0,gameCoinsWeight:0,computingPowerWeight:0,transactionWeight:0,totalACoinEarned:0,lastDistribution:new Date}),[H,ie]=j.useState([]),[ve,Le]=j.useState(!1),[be,Me]=j.useState({currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],allTimeHigh:0,allTimeLow:0,lastUpdated:new Date,dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0}),[$e,Ge]=j.useState({balance:0,lockedBalance:0,vestingOptions:[],dividendRights:0,lastDividend:0,totalDividendsReceived:0}),[it,Wt]=j.useState([]),[es,Ls]=j.useState(!1),[fs,js]=j.useState(!1),[Ct,is]=j.useState("buy"),[Ht,St]=j.useState(""),[z,Z]=j.useState(()=>mr.getExchangeRates());j.useEffect(()=>{fe(),xe(),me();const G=Ie=>{console.log("[个人中心] 平台配置更新:",Ie.detail),Z(mr.getExchangeRates())};return window.addEventListener("platform-config-updated",G),window.addEventListener("platform-config-batch-updated",G),()=>{window.removeEventListener("platform-config-updated",G),window.removeEventListener("platform-config-batch-updated",G)}},[]);const q=async()=>{try{const Ie=(await ns.getUserDailySettlements()).map(ye=>({timestamp:ye.date||ye.timestamp,amount:ye.amount,contributionScore:ye.contributionScore,recipientsCount:ye.recipientsCount||Math.floor(Math.random()*100)+50,totalDistributed:ye.totalDistributed||ye.amount*(Math.random()*10+10)}));ie(Ie)}catch(G){console.error("获取A币每日结算记录失败:",G);const Ie=Array.from({length:7}).map((ye,ue)=>{const ke=new Date;ke.setDate(ke.getDate()-ue);const Ce=Math.random()*50+10,Ze=Math.random()*100+50,et=Ce*(Math.random()*10+10),At=Math.floor(Math.random()*100)+50;return{timestamp:ke.toISOString(),amount:Ce,contributionScore:Ze,totalDistributed:et,recipientsCount:At}});ie(Ie)}},fe=async()=>{try{const G=await $t.getOCoinMarketData();Me(G)}catch(G){console.error("获取O币市场数据失败:",G);const Ie={currentPrice:Math.random()*5+1,circulatingSupply:Math.floor(Math.random()*1e9)+1e9,totalSupply:1e9,totalDistributed:Math.floor(Math.random()*2e9)+1e9,totalLocked:Math.floor(Math.random()*5e8),marketCap:0,priceHistory:[],allTimeHigh:Math.random()*10+5,allTimeLow:Math.random()*.5+.1,lastUpdated:new Date,dividendPool:Math.random()*1e6,lastDividendDate:null,lastDividendPerCoin:0};Ie.marketCap=Ie.currentPrice*Ie.circulatingSupply,Me(Ie)}},xe=async()=>{try{const G="current-user-id",Ie=await $t.getUserBalance(G),ye=await $t.getUserOptions(G);Ge(Ie?{balance:Ie.availableBalance,lockedBalance:Ie.lockedBalance,vestingOptions:ye.map(ue=>({id:`option-${ue.userId}-${ue.grantDate.getTime()}`,amount:ue.amount,vestedAmount:ue.vestedAmount,vestingPeriod:ue.vestingPeriod,startDate:ue.grantDate,endDate:new Date(ue.grantDate.getTime()+ue.vestingPeriod*24*60*60*1e3),isFullyVested:ue.isFullyVested})),dividendRights:Ie.dividendRights/$t.getOCoinStats().totalSupply,lastDividend:Ie.lastDividendAmount,totalDividendsReceived:Ie.lastDividendAmount}:{balance:Math.floor(Math.random()*1e3)+100,lockedBalance:Math.floor(Math.random()*500),vestingOptions:Array.from({length:2}).map((ue,ke)=>{const Ce=new Date;Ce.setMonth(Ce.getMonth()-1);const Ze=new Date;Ze.setMonth(Ze.getMonth()+5+ke*6);const et=Math.floor(Math.random()*500)+100,At=Math.floor(et*(Math.random()*.3));return{id:`option-${ke}`,amount:et,vestedAmount:At,vestingPeriod:(ke+1)*180,startDate:Ce,endDate:Ze,isFullyVested:!1}}),dividendRights:Math.random()*.001,lastDividend:Math.random()*100,totalDividendsReceived:Math.random()*500})}catch(G){console.error("获取O币持有数据失败:",G),Ge({balance:Math.floor(Math.random()*1e3)+100,lockedBalance:Math.floor(Math.random()*500),vestingOptions:Array.from({length:2}).map((Ie,ye)=>{const ue=new Date;ue.setMonth(ue.getMonth()-1);const ke=new Date;ke.setMonth(ke.getMonth()+5+ye*6);const Ce=Math.floor(Math.random()*500)+100,Ze=Math.floor(Ce*(Math.random()*.3));return{id:`option-${ye}`,amount:Ce,vestedAmount:Ze,vestingPeriod:(ye+1)*180,startDate:ue,endDate:ke,isFullyVested:!1}}),dividendRights:Math.random()*.001,lastDividend:Math.random()*100,totalDividendsReceived:Math.random()*500})}},me=async()=>{try{const ye=(await $t.getUserTransactions("current-user-id")).map(ue=>({id:ue.id,type:ue.type,amount:ue.amount,price:ue.price,timestamp:ue.timestamp,description:ue.description,status:ue.status,userId:ue.userId,relatedUserId:ue.relatedUserId}));Wt(ye)}catch(G){console.error("获取O币交易记录失败:",G);const Ie=Array.from({length:10}).map((ye,ue)=>{const ke=new Date;ke.setDate(ke.getDate()-ue);const Ce=["purchase","sale","dividend","grant","vest"],Ze=Ce[Math.floor(Math.random()*Ce.length)],et=Math.floor(Math.random()*100)+10,At=Ze==="purchase"||Ze==="sale"?Math.random()*5+1:void 0;let Vs="";switch(Ze){case"purchase":Vs="购买O币";break;case"sale":Vs="出售O币";break;case"dividend":Vs="分红收益";break;case"grant":Vs="平台奖励";break;case"vest":Vs="期权解锁";break}return{id:`tx-${ue}`,type:Ze,amount:et,price:At,timestamp:ke,description:Vs,status:"completed",userId:"current-user-id"}});Wt(Ie)}},Se=async()=>{if(!Ht||parseFloat(Ht)<=0){alert("请输入有效的交易数量");return}const G=parseFloat(Ht),Ie="current-user-id";try{if(Ct==="buy"){const ye=G*be.currentPrice;if(!ge||ge.cash<ye){alert(`现金余额不足！需要 ¥${ye.toFixed(2)}，当前余额 ¥${(ge==null?void 0:ge.cash.toFixed(2))||"0.00"}`);return}await $t.purchaseOCoins(Ie,G,be.currentPrice)}else{if($e.balance<G){alert(`O币余额不足！需要 ${G} 枚，当前可用余额 ${$e.balance} 枚`);return}await $t.sellOCoins(Ie,G,be.currentPrice)}await ft(),await xe(),await me(),js(!1),St(""),alert(`O币${Ct==="buy"?"购买":"出售"}成功！`)}catch(ye){console.error(`O币${Ct==="buy"?"购买":"出售"}失败:`,ye),alert(`O币${Ct==="buy"?"购买":"出售"}失败，请稍后重试`)}},{balance:ge,loading:rt,refreshWalletData:ft,getTransactions:Vt}=Vc(),[Mt,$s]=j.useState([]),[Es,xr]=j.useState([]),[zr,Xs]=j.useState([]);j.useEffect(()=>{xs(),Ke(),q();const G=setInterval(Ke,3e4),Ie=setInterval(xs,1e4);return()=>{clearInterval(G),clearInterval(Ie)}},[]),j.useEffect(()=>{ge&&!rt&&Lr()},[ge,rt]),j.useEffect(()=>{c==="blog"&&l()},[c,l]);const Lr=async()=>{try{const G=await en.getUserContributionData();G?I(G):(console.error("无法获取A币贡献度数据"),I({gameCoinsEarned:(ge==null?void 0:ge.gameCoins)||0,computingPowerContribution:(ge==null?void 0:ge.computingPower)||0,transactionActivity:0,gameCoinsWeight:.5,computingPowerWeight:.3,transactionWeight:.2,totalACoinEarned:(ge==null?void 0:ge.aCoins)||0,lastDistribution:new Date}))}catch(G){console.error("获取A币贡献度数据失败:",G),I({gameCoinsEarned:(ge==null?void 0:ge.gameCoins)||0,computingPowerContribution:(ge==null?void 0:ge.computingPower)||0,transactionActivity:0,gameCoinsWeight:.5,computingPowerWeight:.3,transactionWeight:.2,totalACoinEarned:(ge==null?void 0:ge.aCoins)||0,lastDistribution:new Date})}},xs=async()=>{try{const G=await as.getUserInventory("current-user-id"),Ie=await as.getUserTransactionHistory("current-user-id");$s(G);const ye=await as.getUserListings("current-user-id");Xs(ye);const ue=[...Ie.purchases.map(ke=>({id:ke.id,itemName:ke.item.name,type:"buy",price:ke.totalAmount||ke.price,totalAmount:ke.totalAmount||ke.price,timestamp:ke.timestamp})),...Ie.sales.map(ke=>({id:ke.id,itemName:ke.item.name,type:"sell",price:ke.price,timestamp:ke.timestamp}))].sort((ke,Ce)=>Ce.timestamp.getTime()-ke.timestamp.getTime());xr(ue),await ft()}catch(G){console.error("加载用户数据失败:",G)}},Gt=async G=>{if(ae===G){O(null),K([]);return}try{const Ie=await Vt();let ye=[];switch(G){case"cash":ye=Ie.filter(ue=>{const ke=ue.currency?String(ue.currency).toLowerCase():"";return ke==="cash"||ke==="cny"});break;case"gameCoin":ye=Ie.filter(ue=>ue.currency==="gameCoins");break;case"computingPower":ye=Ie.filter(ue=>ue.currency==="computingPower");break;case"aCoins":try{const ue=await Ye.getACoinTransactions(20);if(ue&&ue.length>0)ye=ue;else{const ke=Ie.filter(Ce=>{var Ze,et;return Ce.currency==="aCoins"||((Ze=Ce.description)==null?void 0:Ze.includes("A币"))||Ce.category&&["game_reward","commission","acoin_distribution"].includes(Ce.category)&&(((et=Ce.description)==null?void 0:et.includes("A币"))||Ce.currency==="aCoins")});if(ke.length>0)ye=ke;else{const Ze=(await dt.getPublicFundPoolData()).recentTransactions.filter(et=>et.currency==="aCoins");Ze.length>0?ye=Ze.map(et=>({id:et.id,type:et.type==="income"?"income":"expense",category:"acoin_distribution",amount:et.amount,currency:"aCoins",description:et.description||"A币发放",timestamp:et.timestamp})):ye=gr("aCoins")}}}catch(ue){console.error("获取A币交易记录失败:",ue),ye=gr("aCoins")}break}ye.length===0&&G!=="cash"&&(ye=gr(G)),K(ye),O(G)}catch(Ie){if(console.error("获取钱包交易记录失败:",Ie),G==="cash"){const ye=[{id:"cash_tx_001",type:"income",amount:"500.00",description:"充值-支付宝",timestamp:new Date(Date.now()-1728e5),currency:"cash",category:"recharge"},{id:"cash_tx_002",type:"expense",amount:"128.00",description:"购买游戏道具-限定皮肤",timestamp:new Date(Date.now()-2592e5),currency:"cash",category:"purchase"},{id:"cash_tx_003",type:"expense",amount:"50.00",description:"兑换游戏币-5000币",timestamp:new Date(Date.now()-432e6),currency:"cash",category:"exchange"}];K(ye)}else{const ye=gr(G);K(ye)}O(G)}},gr=G=>{const Ie=new Date,ye=[];if(G==="cash")return[];for(let ue=0;ue<10;ue++){const ke=new Date(Ie.getTime()-ue*24*60*60*1e3);let Ce;switch(G){case"gameCoin":Ce={id:`coin_${ue}`,type:ue%2===0?"income":"expense",amount:Math.floor(Math.random()*500+50),description:ue%2===0?"游戏奖励":ue%3===0?"兑换消费":"系统消费",timestamp:ke,currency:"gameCoin"};break;case"computingPower":Ce={id:`power_${ue}`,type:"income",amount:(Math.random()*10+1).toFixed(1),description:ue%3===0?"挖矿奖励":ue%2===0?"任务奖励":"推荐奖励",timestamp:ke,currency:"computingPower"};break;case"aCoins":Ce={id:`acoin_${ue}`,type:"income",amount:(Math.random()*5+.5).toFixed(2),description:ue%3===0?"A币发放奖励":ue%2===0?"贡献奖励":"活跃奖励",timestamp:ke,currency:"aCoins"};break;case"oCoins":Ce={id:`ocoin_${ue}`,type:ue%4===0?"expense":"income",amount:(Math.random()*100+10).toFixed(0),description:ue%4===0?"出售O币":ue%3===0?"购买O币":ue%2===0?"分红收益":"期权解锁",timestamp:ke,currency:"oCoins"};break}Ce&&ye.push(Ce)}return ye.sort((ue,ke)=>ke.timestamp.getTime()-ue.timestamp.getTime())},br=async(G,Ie)=>{try{if(!window.confirm(`确定要下架商品 "${Ie}" 吗？下架后商品将返回到您的库存中。`))return;await as.delistItem(G,"current-user-id"),await xs(),alert(`商品 "${Ie}" 已成功下架并返回到库存中！`)}catch(ye){console.error("下架商品失败:",ye),alert("下架商品失败，请稍后重试")}},Js=G=>{T(G),E(G.price.toString()),A(!0)},Ra=async()=>{if(!D||!B){alert("请输入有效的价格");return}const G=parseFloat(B);if(G<=0){alert("价格必须大于0");return}try{await as.updateItemPrice(D.id,G,"current-user-id"),await xs(),A(!1),T(null),E(""),alert(`商品 "${D.name}" 的价格已成功修改为 ${G}！`)}catch(Ie){console.error("修改价格失败:",Ie),alert("修改价格失败，请稍后重试")}},Ke=async()=>{try{const G=await dt.getPublicFundPoolData(),Ie=await dt.getAllTransactions(),{aCoinStats:ye,oCoinStats:ue}=G,ke=new Date;ke.setHours(0,0,0,0);const Ce=Ie.filter(Ze=>new Date(Ze.timestamp)>=ke).length;J({totalUsers:ye.holdersCount,onlineUsers:Math.floor(ye.holdersCount*(.05+Math.random()*.05)),totalComputePower:45.6,dailyTransactions:Ce,aCoinCirculatingSupply:ye.circulatingSupply,aCoinHolders:ye.holdersCount,oCoinPrice:ue.currentPrice,oCoinMarketCap:ue.marketCap,aCoinTotalSupply:ye.totalSupply||0,oCoinCirculatingSupply:ue.circulatingSupply||0})}catch(G){console.error("获取全网数据失败:",G),J({totalUsers:1234567,onlineUsers:89432,totalComputePower:45.6,dailyTransactions:2345,aCoinCirculatingSupply:0,aCoinHolders:0,oCoinPrice:0,oCoinMarketCap:0,aCoinTotalSupply:0,oCoinCirculatingSupply:0})}},gt=async()=>{if(!_||parseFloat(_)<=0){alert("请输入有效的充值金额");return}try{const G=parseFloat(_);n({realMoney:r.assets.realMoney+G}),await ft(),k(!1),L(""),alert(`充值成功！已充值 ¥${G.toFixed(2)}`)}catch(G){console.error("充值失败:",G),alert("充值失败，请重试")}},_t=async()=>{if(!P||parseFloat(P)<=0){alert("请输入有效的兑换金额");return}if(W===te){alert("不能兑换相同的货币类型");return}try{const G=parseFloat(P),Ie=mr.getExchangeRates(),ye={cash:1,gameCoin:Ie.gameCoinsToRMB,computingPower:Ie.computingPowerToRMB,aCoins:1};console.log("[兑换] 使用实时配置汇率:",Ie);let ue=!1,ke=0,Ce=0;switch(W){case"cash":ue=ge?ge.cash>=G:!1,ke=G,Ce=G/ye[te];break;case"gameCoin":if(ue=ge?ge.gameCoins>=G:!1,ke=G,te==="aCoins"){const et=mr.getParameter("a-coin-to-game-coin-rate")||100;Ce=G/et,console.log(`[游戏币兑换] ${G} 游戏币 → ${Ce} A币 (比例: ${et}:1)`)}else Ce=G*ye.gameCoin/ye[te];break;case"computingPower":ue=ge?ge.computingPower>=G:!1,ke=G,Ce=G*ye.computingPower/ye[te];break;case"aCoins":if(ue=ge?(ge.aCoins||0)>=G:!1,ke=G,te==="gameCoin"){const et=mr.getParameter("a-coin-to-game-coin-rate")||100;Ce=G*et,console.log(`[A币兑换] ${G} A币 → ${Ce} 游戏币 (比例: 1:${et})`)}else Ce=G*ye.aCoins/ye[te];break}if(!ue){alert("余额不足！");return}if(W==="aCoins"||te==="aCoins")try{const et=await en.getUserACoinExchangeLimits();if(W==="aCoins"){if(G>et.dailyExchangeOut){alert(`A币兑出超过每日限额 ${et.dailyExchangeOut} A币`);return}}else if(te==="aCoins"&&Ce>et.dailyExchangeIn){alert(`A币兑入超过每日限额 ${et.dailyExchangeIn} A币`);return}}catch(et){console.error("获取A币兑换限制失败:",et);const At=100;if(W==="aCoins"&&G>At||te==="aCoins"&&Ce>At){alert(`A币兑换超过默认每日限额 ${At} A币`);return}}const Ze={cash:"现金",gameCoin:"游戏币",computingPower:"算力",aCoins:"A币"};switch(W){case"cash":await Ye.addTransaction({type:"expense",category:"exchange",amount:ke,currency:"cash",description:`兑换现金为${Ze[te]}`});break;case"gameCoin":await Ye.addTransaction({type:"expense",category:"exchange",amount:ke,currency:"gameCoins",description:`兑换游戏币为${Ze[te]}`});break;case"computingPower":await Ye.addTransaction({type:"expense",category:"exchange",amount:ke,currency:"computingPower",description:`兑换算力为${Ze[te]}`});break;case"aCoins":await Ye.addTransaction({type:"expense",category:"exchange",amount:ke,currency:"aCoins",description:`A币兑换为${Ze[te]}`}),await en.recordACoinExchange(ke,te,Ce);break}switch(te){case"cash":await Ye.addTransaction({type:"income",category:"exchange",amount:Ce,currency:"cash",description:`${Ze[W]}兑换获得现金`});break;case"gameCoin":await Ye.addTransaction({type:"income",category:"exchange",amount:Math.floor(Ce),currency:"gameCoins",description:`${Ze[W]}兑换获得游戏币`});break;case"computingPower":await Ye.addTransaction({type:"income",category:"exchange",amount:Ce,currency:"computingPower",description:`${Ze[W]}兑换获得算力`});break;case"aCoins":await Ye.addTransaction({type:"income",category:"exchange",amount:Ce,currency:"aCoins",description:`${Ze[W]}兑换获得A币`}),await en.recordACoinExchange(ke,W,Ce);break}await ft(),window.dispatchEvent(new CustomEvent("wallet-updated")),N(!1),U(""),alert(`兑换成功！
${ke} ${Ze[W]} → ${Ce.toFixed(2)} ${Ze[te]}`)}catch(G){console.error("兑换失败:",G),alert("兑换失败，请重试")}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[t.jsx("div",{className:"bg-slate-800/50 border-b border-purple-400/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-center relative",children:[t.jsxs("h1",{className:"text-2xl font-bold text-purple-400",children:["🎮 ",y(e,"personalCenter.title")]}),t.jsxs("button",{onClick:o,className:"absolute right-4 bg-purple-500/20 border border-purple-400/30 rounded-lg px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:["🔄 ",y(e,"personalCenter.refresh")]})]})}),t.jsx("div",{className:"bg-slate-800/80 border-b border-green-400/30 p-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(ne,{to:"/",className:"bg-slate-500/20 border border-slate-400/30 rounded-lg px-4 py-2 text-slate-400 hover:bg-slate-500/30 transition-all flex items-center gap-2",children:["🏠 ",y(e,"personalCenter.nav.home")]}),t.jsxs(ne,{to:"/fund-pool",className:"bg-cyan-500/20 border border-cyan-400/30 rounded-lg px-4 py-2 text-cyan-400 hover:bg-cyan-500/30 transition-all flex items-center gap-2",children:["💰 ",y(e,"personalCenter.nav.fundPool")]}),t.jsxs(ne,{to:"/blog-center",className:"bg-teal-500/20 border border-teal-400/30 rounded-lg px-4 py-2 text-teal-400 hover:bg-teal-500/30 transition-all flex items-center gap-2",children:["📝 ",y(e,"personalCenter.nav.blogCenter")]}),t.jsxs(ne,{to:"/marketplace",className:"bg-green-500/20 border border-green-400/30 rounded-lg px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-2",children:["🏪 ",y(e,"personalCenter.nav.marketplace")]}),t.jsxs(ne,{to:"/official-store",className:"bg-blue-500/20 border border-blue-400/30 rounded-lg px-4 py-2 text-blue-400 hover:bg-blue-500/30 transition-all flex items-center gap-2",children:["🏬 ",y(e,"personalCenter.nav.officialStore")]}),t.jsxs(ne,{to:"/game-store",className:"bg-purple-500/20 border border-purple-400/30 rounded-lg px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:["🛒 ",y(e,"personalCenter.nav.gameStore")]}),t.jsxs(ne,{to:"/computing-dashboard",className:"bg-yellow-500/20 border border-yellow-400/30 rounded-lg px-4 py-2 text-yellow-400 hover:bg-yellow-500/30 transition-all flex items-center gap-2",children:["⚡ ",y(e,"personalCenter.nav.computingCenter")]}),t.jsxs(ne,{to:"/game-center",className:"bg-pink-500/20 border border-pink-400/30 rounded-lg px-4 py-2 text-pink-400 hover:bg-pink-500/30 transition-all flex items-center gap-2",children:["🎯 ",y(e,"personalCenter.nav.gameCenter")]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>x(!f),className:"bg-slate-700/50 border border-slate-600/30 rounded-lg px-4 py-2 text-slate-300 hover:bg-slate-700/70 transition-all flex items-center gap-2",children:["⚙️ ",y(e,"personalCenter.nav.settings")]}),f&&t.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-slate-800 border border-slate-600/30 rounded-lg shadow-xl z-50",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🎨 ",y(e,"personalCenter.nav.settingsTheme")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔔 ",y(e,"personalCenter.nav.settingsNotice")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔗 ",y(e,"personalCenter.nav.settingsBind")]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded",children:["🔒 ",y(e,"personalCenter.nav.settingsSecurity")]})]})})]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-green-400 mb-4 flex items-center",children:[t.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-full mr-2 animate-pulse"}),"👤 ",y(e,"personalCenter.left.profile")]}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl",children:"🎮"}),t.jsx("h3",{className:"text-lg font-bold text-purple-400",children:r.username}),t.jsxs("div",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.left.level")," ",r.stats.level]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mt-2",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-400 h-2 rounded-full",style:{width:`${r.stats.experience%1e3/10}%`}})}),t.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[y(e,"personalCenter.left.exp"),": ",r.stats.experience%1e3,"/1000"]})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.totalGames")}),t.jsx("span",{className:"text-green-400 font-bold",children:r.stats.totalGames.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.bestScore")}),t.jsx("span",{className:"text-yellow-400 font-bold",children:r.stats.bestScore.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.avgScore")}),t.jsx("span",{className:"text-blue-400 font-bold",children:r.stats.averageScore.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.achievements")}),t.jsx("span",{className:"text-purple-400 font-bold",children:r.stats.achievements.length})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.left.stats.playTime")}),t.jsxs("span",{className:"text-cyan-400 font-bold",children:[r.stats.playTime,y(e,"personalCenter.left.stats.minutes")]})]})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border border-green-400/20 rounded-lg p-4 mb-6",children:[t.jsxs("h3",{className:"text-sm font-bold text-green-400 mb-3",children:["💰 ",y(e,"personalCenter.left.walletOverview")]}),ge?t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.cash")}),t.jsxs("span",{className:"text-green-400 font-bold text-right",children:["¥",ge.cash.toFixed(2)]})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.gameCoins")}),t.jsx("span",{className:"text-yellow-400 font-bold text-right",children:ge.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.computingPower")}),t.jsx("span",{className:"text-purple-400 font-bold text-right",children:ge.computingPower.toFixed(1)})]}),t.jsxs("div",{className:"grid grid-cols-2 items-center",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.left.wallet.aCoins")}),t.jsx("span",{className:"text-indigo-400 font-bold text-right",children:(ge.aCoins||0).toFixed(2)})]})]}):t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.left.wallet.loading")}),t.jsx("button",{onClick:()=>u("wallet"),className:"w-full mt-3 bg-green-500/20 border border-green-400/30 rounded px-3 py-1 text-xs text-green-400 hover:bg-green-500/30 transition-all",children:y(e,"personalCenter.left.wallet.details")})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-pink-400 mb-3",children:["📋 ",y(e,"personalCenter.left.recent.title")]}),t.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[r.recentActivities.slice(0,5).map(G=>t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/20 rounded p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("span",{className:"text-sm font-bold text-cyan-400",children:[G.type==="game"?"🎮":G.type==="purchase"?"🛒":G.type==="trade"?"💱":"🎁",G.description]}),G.value&&t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:["+",G.value]})]}),t.jsx("div",{className:"text-xs text-slate-400",children:new Date(G.timestamp).toLocaleString()})]},G.id)),r.recentActivities.length===0&&t.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:y(e,"personalCenter.left.recent.empty")})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-6",children:[t.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>u("inventory"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="inventory"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["🎒 ",y(e,"personalCenter.centerTabs.inventory")]}),t.jsxs("button",{onClick:()=>u("transactions"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="transactions"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["📊 ",y(e,"personalCenter.centerTabs.transactions")]}),t.jsxs("button",{onClick:()=>u("wallet"),className:`pb-2 px-1 text-sm font-medium transition-colors ${c==="wallet"?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-slate-300"}`,children:["💳 ",y(e,"personalCenter.centerTabs.wallet")]}),t.jsxs("button",{onClick:()=>u("team"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="team"?"text-yellow-400 border-b-2 border-yellow-400":"text-slate-200 hover:text-yellow-300"}`,children:["🤝 ",y(e,"personalCenter.centerTabs.team")]}),t.jsxs("button",{onClick:()=>u("analysis"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="analysis"?"text-purple-400 border-b-2 border-purple-400":"text-slate-200 hover:text-purple-300"}`,children:["📈 ",y(e,"personalCenter.centerTabs.analysis")]}),t.jsxs("button",{onClick:()=>u("blog"),className:`pb-2 px-2 text-sm font-bold transition-colors ${c==="blog"?"text-green-400 border-b-2 border-green-400":"text-slate-200 hover:text-green-300"}`,children:["📝 ",y(e,"personalCenter.centerTabs.blog")]})]}),c==="inventory"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:y(e,"personalCenter.inventory.myItems")}),Mt.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Mt.map(G=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🎮"}),t.jsx("h4",{className:"font-bold text-purple-400 text-sm",children:G.name}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:G.description}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:[y(e,"personalCenter.inventory.qty"),": 1"]})})]})},G.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"📦"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.inventory.emptyTitle")}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:y(e,"personalCenter.inventory.emptySub")})]})]}),c==="transactions"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:y(e,"personalCenter.transactions.title")}),t.jsxs("div",{className:"flex space-x-4 mb-4 border-b border-slate-600/30",children:[t.jsxs("button",{onClick:()=>p("purchases"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="purchases"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["📦 ",y(e,"personalCenter.transactionTabs.purchases")]}),t.jsxs("button",{onClick:()=>p("sales"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="sales"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["💰 ",y(e,"personalCenter.transactionTabs.sales")]}),t.jsxs("button",{onClick:()=>p("listings"),className:`pb-2 px-1 text-sm font-medium transition-colors ${m==="listings"?"text-blue-400 border-b-2 border-blue-400":"text-slate-400 hover:text-slate-300"}`,children:["🏪 ",y(e,"personalCenter.transactionTabs.listings")]})]}),m==="purchases"&&t.jsx("div",{children:Es.filter(G=>G.type==="buy").length>0?t.jsx("div",{className:"space-y-3",children:Es.filter(G=>G.type==="buy").map(G=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:G.itemName}),t.jsxs("p",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.transactions.purchaseWord")," • ",new Date(G.timestamp).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-red-400",children:["-",(G.totalAmount||G.price).toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.transactions.expense")})]})]})},G.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"📦"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.nonePurchase")})]})}),m==="sales"&&t.jsx("div",{children:Es.filter(G=>G.type==="sell").length>0?t.jsx("div",{className:"space-y-3",children:Es.filter(G=>G.type==="sell").map(G=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:G.itemName}),t.jsxs("p",{className:"text-sm text-slate-400",children:[y(e,"personalCenter.transactions.sellWord")," • ",new Date(G.timestamp).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-green-400",children:["+",G.price.toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.transactions.income")})]})]})},G.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"💰"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.noneSales")})]})}),m==="listings"&&t.jsx("div",{children:zr.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:zr.map(G=>t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:ag(G.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-purple-400 text-sm mb-1",children:G.name}),t.jsx("p",{className:"text-xs text-slate-400 mb-2",children:G.description}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:[y(e,"personalCenter.transactions.price"),": ",G.price]}),t.jsxs("span",{className:"text-xs text-slate-500",children:[y(e,"personalCenter.transactions.views"),": ",G.views]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>br(G.id,G.name),className:"flex-1 bg-red-500/20 border border-red-400/30 rounded px-3 py-1 text-xs text-red-400 hover:bg-red-500/30 transition-all",children:y(e,"personalCenter.transactions.delist")}),t.jsx("button",{onClick:()=>Js(G),className:"flex-1 bg-blue-500/20 border border-blue-400/30 rounded px-3 py-1 text-xs text-blue-400 hover:bg-blue-500/30 transition-all",children:y(e,"personalCenter.transactions.editPrice")})]})]})]})},G.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"🏪"}),t.jsx("p",{className:"text-slate-400",children:y(e,"personalCenter.transactions.noneListings")}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:y(e,"personalCenter.transactions.toMarket")})]})})]}),c==="team"&&t.jsx("div",{children:t.jsx(P6,{})}),c==="analysis"&&t.jsxs("div",{children:[t.jsx(E6,{wallet:ge,oCoinBalance:$e.balance}),t.jsx("div",{className:"mt-6",children:t.jsx(I6,{})}),t.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-4 mt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-bold text-indigo-400",children:["🅰️ ",y(e,"personalCenter.analysisSection.acoinAnalysis.title")]}),t.jsxs("div",{className:"text-xs bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded",children:[s==="zh"?"本月A币":"A Coin This Month",": ",((ge==null?void 0:ge.aCoins)||0).toFixed(2)]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-slate-300 mb-2",children:y(e,"personalCenter.analysisSection.acoinAnalysis.basis")}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-yellow-400 font-bold mb-1",children:[(Q.gameCoinsWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.gameCoinsEarned")})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-purple-400 font-bold mb-1",children:[(Q.computingPowerWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.computingPower")})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 text-center",children:[t.jsxs("div",{className:"text-green-400 font-bold mb-1",children:[(Q.transactionWeight*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.transactionActivity")})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm text-slate-300 mb-2",children:y(e,"personalCenter.analysisSection.acoinAnalysis.thisMonth")}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"游戏币获得"}),t.jsxs("span",{className:"text-xs text-yellow-400",children:[Q.gameCoinsEarned.toLocaleString()," ",y(e,"personalCenter.analysisSection.acoinAnalysis.coinsUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${Math.min(Q.gameCoinsEarned/50,100)}%`}})})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"算力贡献"}),t.jsxs("span",{className:"text-xs text-purple-400",children:[Q.computingPowerContribution.toFixed(1)," ",y(e,"personalCenter.analysisSection.acoinAnalysis.powerUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:`${Math.min(Q.computingPowerContribution/.5,100)}%`}})})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:"交易活跃度"}),t.jsxs("span",{className:"text-xs text-green-400",children:[Q.transactionActivity," ",y(e,"personalCenter.analysisSection.acoinAnalysis.tradesUnit")]})]}),t.jsx("div",{className:"w-full bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${Math.min(Q.transactionActivity/.3,100)}%`}})})]})]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[t.jsx("p",{children:s==="zh"?"A币是基于您的平台贡献度发放的平台币，与人民币1:1兑换。":"A Coin is issued based on your contribution; 1:1 to RMB."}),t.jsx("p",{className:"mt-1",children:s==="zh"?"每日自动结算，来源于平台净收入的40%，按贡献度比例分配。":"Settled daily from 40% of net income, allocated by contribution."}),t.jsxs("p",{className:"mt-1",children:[s==="zh"?"上次结算":"Last settlement",": ",Q.lastDistribution.toLocaleDateString()," | ",s==="zh"?"累计获得":"Total earned",": ",Q.totalACoinEarned.toFixed(2)," ",s==="zh"?"A币":"A Coin"]})]}),t.jsxs("div",{className:"mt-4 border-t border-indigo-400/20 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"text-sm font-bold text-indigo-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.dailyRecords")}),t.jsx("button",{onClick:()=>Le(!ve),className:"text-xs bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded hover:bg-indigo-500/30 transition-colors",children:ve?y(e,"personalCenter.analysisSection.acoinAnalysis.collapse"):y(e,"personalCenter.analysisSection.acoinAnalysis.expand")})]}),ve?t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:H.length>0?H.map((G,Ie)=>t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("div",{className:"text-sm font-medium text-indigo-400",children:new Date(G.timestamp).toLocaleDateString()}),t.jsxs("div",{className:"text-sm font-bold text-green-400",children:["+",G.amount.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"text-slate-400",children:[s==="zh"?"贡献分数":"Contribution Score",": ",t.jsx("span",{className:"text-yellow-400",children:G.contributionScore.toFixed(2)})]}),t.jsxs("div",{className:"text-slate-400",children:[s==="zh"?"总发放":"Total Distributed",": ",t.jsxs("span",{className:"text-blue-400",children:[G.totalDistributed.toFixed(2)," ",s==="zh"?"A币":"A Coin"]})]}),t.jsxs("div",{className:"text-slate-400",children:[y(e,"personalCenter.analysisSection.acoinAnalysis.contributors"),": ",t.jsx("span",{className:"text-purple-400",children:G.recipientsCount})]}),t.jsxs("div",{className:"text-slate-400",children:[y(e,"personalCenter.analysisSection.acoinAnalysis.share"),": ",t.jsxs("span",{className:"text-orange-400",children:[(G.amount/G.totalDistributed*100).toFixed(2),"%"]})]})]})]},Ie)):t.jsx("div",{className:"text-center py-4 text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.none")})}):t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.todayStatus")}),t.jsx("div",{className:"text-sm font-medium text-green-400",children:H.length>0&&new Date(H[0].timestamp).toDateString()===new Date().toDateString()?y(e,"personalCenter.analysisSection.acoinAnalysis.settled"):y(e,"personalCenter.analysisSection.acoinAnalysis.pending")})]}),t.jsx("div",{className:"mt-2 text-xs text-slate-400",children:y(e,"personalCenter.analysisSection.acoinAnalysis.autoTime")})]})]})]})]}),c==="blog"&&t.jsx("div",{children:t.jsx(R6,{})}),c==="wallet"&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:"钱包管理"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:ge?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-green-500/10 border border-green-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💵"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.cash")}),t.jsxs("div",{className:"text-xl font-bold text-green-400",children:["¥",ge.cash.toFixed(2)]})]})}),t.jsx("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🪙"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.gameCoins")}),t.jsx("div",{className:"text-xl font-bold text-yellow-400",children:ge.gameCoins.toLocaleString()})]})}),t.jsx("div",{className:"bg-purple-500/10 border border-purple-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"⚡"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.computingPower")}),t.jsx("div",{className:"text-xl font-bold text-purple-400",children:ge.computingPower.toFixed(1)})]})}),t.jsx("div",{className:"bg-indigo-500/10 border border-indigo-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🅰️"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.aCoins")}),t.jsx("div",{className:"text-xl font-bold text-indigo-400",children:(ge.aCoins||0).toFixed(2)})]})}),t.jsx("div",{className:"bg-orange-500/10 border border-orange-400/20 rounded-lg p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🔶"}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.cards.oCoins")}),t.jsx("div",{className:"text-xl font-bold text-orange-400",children:$e.balance.toFixed(2)}),$e.lockedBalance>0&&t.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[y(e,"personalCenter.walletSection.cards.locked"),": ",$e.lockedBalance.toFixed(2)]})]})})]}):t.jsx("div",{className:"col-span-4 text-center text-slate-400",children:"加载钱包数据中..."})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>k(!0),className:"bg-green-500/20 border border-green-400/30 rounded-lg p-4 text-green-400 hover:bg-green-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💳"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.recharge.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.recharge.subtitle")})]}),t.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-4 text-blue-400 hover:bg-blue-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"🔄"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.exchange.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.exchange.subtitle")})]}),t.jsxs("button",{onClick:()=>js(!0),className:"bg-orange-500/20 border border-orange-400/30 rounded-lg p-4 text-orange-400 hover:bg-orange-500/30 transition-all",children:[t.jsx("div",{className:"text-2xl mb-2",children:"💱"}),t.jsx("div",{className:"font-bold",children:y(e,"personalCenter.walletSection.actions.tradeOCoin.title")}),t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.walletSection.actions.tradeOCoin.subtitle")})]})]}),t.jsxs("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-bold text-cyan-400 mb-4",children:["💰 ",y(e,"personalCenter.walletDetails.title")]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[t.jsxs("button",{onClick:()=>Gt("cash"),className:`p-3 rounded-lg border transition-all ${ae==="cash"?"bg-green-500/20 border-green-400/50 text-green-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"💵"}),t.jsx("div",{className:"text-sm font-medium",children:"现金"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Gt("gameCoin"),className:`p-3 rounded-lg border transition-all ${ae==="gameCoin"?"bg-yellow-500/20 border-yellow-400/50 text-yellow-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🪙"}),t.jsx("div",{className:"text-sm font-medium",children:"游戏币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Gt("computingPower"),className:`p-3 rounded-lg border transition-all ${ae==="computingPower"?"bg-purple-500/20 border-purple-400/50 text-purple-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"⚡"}),t.jsx("div",{className:"text-sm font-medium",children:"算力"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")})]}),t.jsxs("button",{onClick:()=>Gt("aCoins"),className:`p-3 rounded-lg border transition-all ${ae==="aCoins"?"bg-indigo-500/20 border-indigo-400/50 text-indigo-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🅰️"}),t.jsx("div",{className:"text-sm font-medium",children:"A币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")}),H.length>0&&new Date(H[0].timestamp).toDateString()===new Date().toDateString()&&t.jsx("div",{className:"mt-1 text-xs bg-green-500/30 text-green-400 px-1 py-0.5 rounded",children:"今日已结算"})]}),t.jsxs("button",{onClick:()=>Gt("oCoins"),className:`p-3 rounded-lg border transition-all ${ae==="oCoins"?"bg-orange-500/20 border-orange-400/50 text-orange-400":"bg-slate-600/30 border-slate-500/30 text-slate-400 hover:bg-slate-600/50"}`,children:[t.jsx("div",{className:"text-lg mb-1",children:"🔶"}),t.jsx("div",{className:"text-sm font-medium",children:"O币"}),t.jsx("div",{className:"text-xs opacity-75",children:y(e,"personalCenter.walletDetails.viewHint")}),be.lastDividendDate&&new Date(be.lastDividendDate).toDateString()===new Date().toDateString()&&t.jsx("div",{className:"mt-1 text-xs bg-green-500/30 text-green-400 px-1 py-0.5 rounded",children:"今日已分红"})]})]})]}),t.jsxs(t.Fragment,{children:[ae&&t.jsxs("div",{className:"mt-4 p-4 bg-black/20 rounded-lg border border-slate-500/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h5",{className:"text-sm font-medium text-white",children:[ae==="cash"&&`💵 ${y(e,"personalCenter.walletDetails.headers.cash")}`,ae==="gameCoin"&&`🪙 ${y(e,"personalCenter.walletDetails.headers.gameCoin")}`,ae==="computingPower"&&`⚡ ${y(e,"personalCenter.walletDetails.headers.computingPower")}`,ae==="aCoins"&&`🅰️ ${y(e,"personalCenter.walletDetails.headers.aCoins")}`,ae==="oCoins"&&`🔶 ${y(e,"personalCenter.walletDetails.headers.oCoins")}`]}),t.jsx("button",{onClick:()=>{O(null),K([])},className:"text-gray-400 hover:text-white text-xs",children:y(e,"personalCenter.walletDetails.footer.collapse")})]}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:V.length>0?V.map((G,Ie)=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/30 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${G.type==="income"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:G.type==="income"?y(e,"personalCenter.walletDetails.tags.income"):y(e,"personalCenter.walletDetails.tags.expense")}),t.jsx("span",{className:"text-sm text-white",children:G.description})]}),t.jsx("div",{className:"text-xs text-gray-400",children:new Date(G.timestamp).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:`font-mono text-sm ${G.type==="income"?"text-green-400":"text-red-400"}`,children:[G.type==="income"?"+":"-",ae==="cash"&&"¥",G.amount,ae==="gameCoin"&&" 币",ae==="computingPower"&&" 算力",ae==="aCoins"&&" A币"]})})]},G.id||`wtx-${Ie}-${new Date(G.timestamp).getTime()}`)):t.jsxs("div",{className:"text-gray-400 text-center py-4 text-sm",children:[ae==="cash"&&y(e,"personalCenter.walletDetails.empty.cash"),ae==="gameCoin"&&y(e,"personalCenter.walletDetails.empty.gameCoin"),ae==="computingPower"&&y(e,"personalCenter.walletDetails.empty.computingPower"),ae==="aCoins"&&y(e,"personalCenter.walletDetails.empty.aCoins"),ae==="oCoins"&&y(e,"personalCenter.walletDetails.empty.oCoins")]})}),V.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-slate-600/30",children:t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:[y(e,"personalCenter.walletDetails.footer.showRecentPrefix"),V.length,y(e,"personalCenter.walletDetails.footer.showRecentSuffix")]}),t.jsx("button",{className:"text-cyan-400 hover:text-cyan-300",children:y(e,"personalCenter.walletDetails.footer.more")})]})})]}),!ae&&t.jsxs("div",{className:"text-center py-6 text-gray-400",children:[t.jsx("div",{className:"text-2xl mb-2",children:"📊"}),t.jsx("div",{className:"text-sm",children:"点击上方货币类型查看收支明细"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-purple-400 mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2 animate-pulse"}),"📊 ",y(e,"personalCenter.right.globalData")]}),t.jsx(ne,{to:"/computing-dashboard",className:"text-xs bg-purple-500/20 border border-purple-400/30 rounded px-2 py-1 text-purple-400 hover:bg-purple-500/30 transition-all",children:y(e,"personalCenter.right.toComputing")})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-cyan-400 mb-3",children:["🌐 ",y(e,"personalCenter.right.overview")]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.totalUsers")}),t.jsx("span",{className:"text-cyan-400 font-bold",children:R.totalUsers.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.onlineUsers")}),t.jsx("span",{className:"text-green-400 font-bold",children:R.onlineUsers.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.totalComputePower")}),t.jsxs("span",{className:"text-purple-400 font-bold",children:[R.totalComputePower,"M"]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.dailyTransactions")}),t.jsxs("span",{className:"text-yellow-400 font-bold",children:["₿ ",R.dailyTransactions.toLocaleString()]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinBalance")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:R.aCoinTotalSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinCirculating")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:R.aCoinCirculatingSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.aCoinHolders")}),t.jsx("span",{className:"text-indigo-400 font-bold",children:R.aCoinHolders.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinCirculating")}),t.jsx("span",{className:"text-orange-400 font-bold",children:R.oCoinCirculatingSupply.toLocaleString()})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinPrice")}),t.jsxs("span",{className:"text-orange-400 font-bold",children:["¥",R.oCoinPrice.toFixed(2)]})]})}),t.jsx("div",{className:"bg-slate-700/30 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.right.metrics.oCoinMarketCap")}),t.jsxs("span",{className:"text-orange-400 font-bold",children:["¥",(R.oCoinMarketCap/1e4).toFixed(2),"万"]})]})})]})]})]})]})}),v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-green-400/30 rounded-lg p-6 w-96",children:[t.jsxs("h3",{className:"text-lg font-bold text-green-400 mb-4",children:["💳 ",y(e,"personalCenter.modals.recharge.title")]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.recharge.amountLabel")}),t.jsx("input",{type:"number",value:_,onChange:G=>L(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:y(e,"personalCenter.modals.recharge.amountPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.recharge.paymentLabel")}),t.jsxs("select",{className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.alipay")}),t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.wechat")}),t.jsx("option",{children:y(e,"personalCenter.modals.recharge.options.card")})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:gt,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.recharge.confirm")}),t.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.recharge.cancel")})]})]})]})}),C&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-blue-400/30 rounded-lg p-6 w-96",children:[t.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:["🔄 ",y(e,"personalCenter.modals.exchange.title")]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.amountLabel")}),t.jsx("input",{type:"number",value:P,onChange:G=>U(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:y(e,"personalCenter.modals.exchange.amountPlaceholder")})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.fromLabel")}),t.jsxs("select",{value:W,onChange:G=>re(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{value:"cash",children:y(e,"personalCenter.modals.exchange.options.cash")}),t.jsx("option",{value:"gameCoin",children:y(e,"personalCenter.modals.exchange.options.gameCoin")}),t.jsx("option",{value:"computingPower",children:y(e,"personalCenter.modals.exchange.options.computingPower")}),t.jsx("option",{value:"aCoins",children:y(e,"personalCenter.modals.exchange.options.aCoins")})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:y(e,"personalCenter.modals.exchange.toLabel")}),t.jsxs("select",{value:te,onChange:G=>se(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",children:[t.jsx("option",{value:"cash",children:y(e,"personalCenter.modals.exchange.options.cash")}),t.jsx("option",{value:"gameCoin",children:y(e,"personalCenter.modals.exchange.options.gameCoin")}),t.jsx("option",{value:"computingPower",children:y(e,"personalCenter.modals.exchange.options.computingPower")}),t.jsx("option",{value:"aCoins",children:y(e,"personalCenter.modals.exchange.options.aCoins")})]})]})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded p-3",children:[t.jsx("div",{className:"text-sm text-slate-400",children:y(e,"personalCenter.modals.exchange.ratesTitle")}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1 space-y-1",children:[t.jsxs("div",{children:["1 现金 = ",z.cashToGameCoin," 游戏币 = ",z.cashToComputingPower," 算力"]}),t.jsxs("div",{children:["1 A币 = ",z.aCoinToGameCoin," 游戏币"]}),t.jsx("div",{className:"text-yellow-400",children:y(e,"personalCenter.modals.exchange.ratesNote")})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:_t,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.exchange.confirm")}),t.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.exchange.cancel")})]})]})]})}),w&&D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-blue-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:"💰 修改商品价格"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"text-2xl",children:ag(D.category)}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-purple-400",children:D.name}),t.jsx("p",{className:"text-xs text-slate-400",children:D.description})]})]}),t.jsxs("div",{className:"text-sm text-slate-400",children:["当前价格: ",t.jsx("span",{className:"text-green-400 font-bold",children:D.price})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"新价格"}),t.jsx("input",{type:"number",value:B,onChange:G=>E(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:"请输入新的价格",min:"0.01",step:"0.01"})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded p-3",children:[t.jsx("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:"💡 价格建议"}),t.jsxs("div",{className:"text-xs text-slate-400",children:["• 合理定价有助于快速售出",t.jsx("br",{}),"• 可参考市场同类商品价格",t.jsx("br",{}),"• 价格修改后立即生效"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:Ra,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition-colors",children:"确认修改"}),t.jsx("button",{onClick:()=>{A(!1),T(null),E("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:"取消"})]})]})]})}),fs&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-slate-800 border border-orange-400/30 rounded-lg p-6 w-96",children:[t.jsx("h3",{className:"text-lg font-bold text-orange-400 mb-4",children:Ct==="buy"?`🔶 ${y(e,"personalCenter.modals.ocoin.titles.buy")}`:`🔶 ${y(e,"personalCenter.modals.ocoin.titles.sell")}`}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-400",children:y(e,"personalCenter.modals.ocoin.market.currentPrice")}),t.jsxs("span",{className:"text-lg font-bold text-orange-400",children:["¥",be.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsx("span",{className:"text-slate-400",children:y(e,"personalCenter.modals.ocoin.market.change24h")}),t.jsxs("span",{className:`font-medium ${be.priceHistory.length>=2&&be.priceHistory[be.priceHistory.length-1].price>be.priceHistory[be.priceHistory.length-2].price?"text-green-400":"text-red-400"}`,children:[be.priceHistory.length>=2?((be.priceHistory[be.priceHistory.length-1].price-be.priceHistory[be.priceHistory.length-2].price)/be.priceHistory[be.priceHistory.length-2].price*100).toFixed(2):"0.00","%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-xs text-slate-400 mb-1",children:y(e,"personalCenter.modals.ocoin.balances.cash")}),t.jsxs("div",{className:"text-sm font-bold text-green-400",children:["¥",(ge==null?void 0:ge.cash.toFixed(2))||"0.00"]})]}),t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-xs text-slate-400 mb-1",children:y(e,"personalCenter.modals.ocoin.balances.ocoin")}),t.jsx("div",{className:"text-sm font-bold text-orange-400",children:$e.balance.toFixed(2)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:Ct==="buy"?y(e,"personalCenter.modals.ocoin.quantity.buyLabel"):y(e,"personalCenter.modals.ocoin.quantity.sellLabel")}),t.jsx("input",{type:"number",value:Ht,onChange:G=>St(G.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",placeholder:Ct==="buy"?y(e,"personalCenter.modals.ocoin.quantity.buyPlaceholder"):y(e,"personalCenter.modals.ocoin.quantity.sellPlaceholder"),min:"0.01",step:"0.01"})]}),Ht&&parseFloat(Ht)>0&&t.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-orange-400 font-medium mb-2",children:y(e,"personalCenter.modals.ocoin.preview.title")}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.qty")}),t.jsxs("span",{className:"text-xs text-white",children:[parseFloat(Ht).toFixed(2)," O币"]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.unitPrice")}),t.jsxs("span",{className:"text-xs text-white",children:["¥",be.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-600/30",children:[t.jsx("span",{className:"text-xs text-slate-400",children:y(e,"personalCenter.modals.ocoin.preview.total")}),t.jsxs("span",{className:"text-sm font-bold text-orange-400",children:["¥",(parseFloat(Ht)*be.currentPrice).toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/20 rounded p-3",children:[t.jsxs("div",{className:"text-sm text-yellow-400 font-medium mb-1",children:["💡 ",y(e,"personalCenter.modals.ocoin.tips.title")]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[y(e,"personalCenter.modals.ocoin.tips.line1"),t.jsx("br",{}),y(e,"personalCenter.modals.ocoin.tips.line2"),t.jsx("br",{}),y(e,"personalCenter.modals.ocoin.tips.line3")]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:Se,className:`flex-1 ${Ct==="buy"?"bg-green-500 hover:bg-green-600":"bg-orange-500 hover:bg-orange-600"} text-white py-2 rounded transition-colors`,children:Ct==="buy"?y(e,"personalCenter.modals.ocoin.actions.confirmBuy"):y(e,"personalCenter.modals.ocoin.actions.confirmSell")}),t.jsx("button",{onClick:()=>js(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded transition-colors",children:y(e,"personalCenter.modals.ocoin.actions.cancel")})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:()=>is(Ct==="buy"?"sell":"buy"),className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:Ct==="buy"?y(e,"personalCenter.modals.ocoin.actions.toggleToSell"):y(e,"personalCenter.modals.ocoin.actions.toggleToBuy")})})]})]})})]})};function z6(){const[s,e]=j.useState([]),[r,n]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(""),[m,p]=j.useState("all"),[f,x]=j.useState("date"),[v,k]=j.useState(!1),[C,N]=j.useState([]),{balance:w,refreshWalletData:A}=Vc(),{lang:D}=Qt(),T=ps(D);j.useEffect(()=>{const P=async()=>{try{const[W,re]=await Promise.all([as.getMarketItems(),as.getMarketStats()]);e(W),n(re),await B(),await A()}catch(W){console.error("加载市场数据失败:",W)}finally{l(!1)}};P();const U=setInterval(P,1e4);return()=>clearInterval(U)},[A]);const B=async()=>{try{const P="current-user-id";let U=await as.getUserInventory(P);if(U.length===0){const W=[{id:"starter_1",name:"新手之剑",description:"适合新手使用的基础武器，攻击力+15",category:"weapon",rarity:"common",price:0,sellerId:"",sellerName:"",listedAt:new Date(Date.now()-2592e5),views:0,gameSource:"系统赠送"},{id:"starter_2",name:"生命药水",description:"恢复50点生命值的药水",category:"consumable",rarity:"common",price:0,sellerId:"",sellerName:"",listedAt:new Date(Date.now()-864e5),views:0,gameSource:"系统赠送"}];U=W;for(const re of W)await as.addItemToUserInventory(P,re)}N(U)}catch(P){console.error("加载用户库存失败:",P)}},E=async P=>{const U=s.find(K=>K.id===P);if(!U||!w)return;const W=U.currency||"computingPower",re={computing:y(T,"marketplace.list.currencyNames.computing"),computingPower:y(T,"marketplace.list.currencyNames.computing"),cash:y(T,"marketplace.list.currencyNames.cash"),gameCoins:y(T,"marketplace.list.currencyNames.gameCoins"),aCoins:y(T,"marketplace.list.currencyNames.aCoins")},te=Math.round(U.price*.01*100)/100,se=Math.round((U.price+te)*100)/100;let ae=!1,O=0;switch(W){case"gameCoins":ae=w.gameCoins>=se,O=w.gameCoins;break;case"computingPower":ae=w.computingPower>=se,O=w.computingPower;break;case"cash":ae=w.cash>=se,O=w.cash;break;case"aCoins":ae=w.aCoins>=se,O=w.aCoins;break}if(!ae){alert(`余额不足！

商品价格: ${U.price.toLocaleString()} ${re[W]}
平台佣金: ${te.toLocaleString()} ${re[W]} (1%)
实际需要: ${se.toLocaleString()} ${re[W]}

当前${re[W]}余额: ${O.toLocaleString()}`);return}const V=`确认购买 "${U.name}"？

商品价格: ${U.price.toLocaleString()} ${re[W]}
平台佣金: ${te.toLocaleString()} ${re[W]} (1%)
实际支付: ${se.toLocaleString()} ${re[W]}
稀有度: ${U.rarity}

购买后道具将添加到您的库存中。`;if(confirm(V))try{await as.purchaseItem(P,"current-user-id"),await A();const K=await as.getMarketItems();e(K),alert(`购买成功！

"${U.name}" 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${U.price.toLocaleString()} ${re[W]}
平台佣金: ${te.toLocaleString()} ${re[W]}
实际支付: ${se.toLocaleString()} ${re[W]}`)}catch(K){console.error("购买失败:",K),alert("购买失败，请稍后重试")}},_=async(P,U,W)=>{try{const re=C.find(V=>V.id===P);if(!re){alert("道具不存在");return}const te={computing:y(T,"marketplace.list.currencyNames.computing"),computingPower:y(T,"marketplace.list.currencyNames.computing"),cash:y(T,"marketplace.list.currencyNames.cash"),gameCoins:y(T,"marketplace.list.currencyNames.gameCoins"),aCoins:y(T,"marketplace.list.currencyNames.aCoins")},se=await as.createListing({name:re.name,description:re.description,category:re.category,rarity:re.rarity,price:U,currency:W,sellerId:"current-user-id",sellerName:"当前用户",gameSource:re.gameSource,originalItemId:P}),ae=C.filter(V=>V.id!==P);N(ae);const O=await as.getMarketItems();e(O),alert(`成功发布商品 "${re.name}"，售价 ${U} ${te[W]}`),k(!1)}catch(re){console.error("发布商品失败:",re),alert("发布商品失败，请稍后重试")}},L=s.filter(P=>(m==="all"||P.category===m)&&(c===""||P.name.toLowerCase().includes(c.toLowerCase()))).sort((P,U)=>{switch(f){case"price":return P.price-U.price;case"date":return new Date(U.listedAt).getTime()-new Date(P.listedAt).getTime();case"popularity":return U.views-P.views;default:return 0}});return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(T,"marketplace.loading")})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(T,"marketplace.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(T,"marketplace.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[w&&t.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[y(T,"marketplace.header.walletLabel"),":"]}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.cash.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.aCoins.toLocaleString()})]})]})]}),t.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 text-sm font-medium bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:y(T,"marketplace.header.publish")}),t.jsx(ne,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:y(T,"marketplace.header.personalCenter")}),t.jsx(ne,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:y(T,"marketplace.header.computingCenter")}),t.jsx(ne,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(T,"marketplace.header.backHome")})]})]}),w&&t.jsxs("div",{className:"md:hidden mt-4",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center mb-2",children:y(T,"marketplace.header.walletLabel")}),t.jsxs("div",{className:"flex items-center justify-center gap-4 px-4 py-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.computingPower.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.cash.toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:w.aCoins.toLocaleString()})]})]})]})]})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-store text-purple-600 dark:text-purple-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(T,"marketplace.stats.onSale")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.totalListings.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-handshake text-green-600 dark:text-green-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(T,"marketplace.stats.today")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.dailyTransactions.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-coins text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(T,"marketplace.stats.total")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.totalVolume.toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-chart-line text-orange-600 dark:text-orange-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(T,"marketplace.stats.avgPrice")}),t.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.averagePrice.toFixed(0)})]})]})})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-md mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:y(T,"marketplace.search.placeholder"),value:c,onChange:P=>u(P.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"all",children:y(T,"marketplace.search.categories.all")}),t.jsx("option",{value:"weapon",children:y(T,"marketplace.search.categories.weapon")}),t.jsx("option",{value:"armor",children:y(T,"marketplace.search.categories.armor")}),t.jsx("option",{value:"consumable",children:y(T,"marketplace.search.categories.consumable")}),t.jsx("option",{value:"material",children:y(T,"marketplace.search.categories.material")}),t.jsx("option",{value:"rare",children:y(T,"marketplace.search.categories.rare")})]}),t.jsxs("select",{value:f,onChange:P=>x(P.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"date",children:y(T,"marketplace.search.sort.date")}),t.jsx("option",{value:"price",children:y(T,"marketplace.search.sort.price")}),t.jsx("option",{value:"popularity",children:y(T,"marketplace.search.sort.popularity")})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(P=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${$6(P.category)} text-4xl text-slate-400 dark:text-slate-500`})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:P.name}),t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Vy(P.rarity)}`,children:P.rarity})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:P.description}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[P.price.toLocaleString()," ",P.currency==="cash"?y(T,"marketplace.list.currencyNames.cash"):P.currency==="gameCoins"?y(T,"marketplace.list.currencyNames.gameCoins"):P.currency==="aCoins"?y(T,"marketplace.list.currencyNames.aCoins"):y(T,"marketplace.list.currencyNames.computing")]}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[P.views," ",y(T,"marketplace.list.views")]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[y(T,"marketplace.list.seller"),": ",P.sellerName]}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(P.listedAt).toLocaleDateString()})]}),t.jsx("button",{onClick:()=>E(P.id),className:`w-full px-4 py-2 rounded-lg transition-colors font-medium ${(()=>{if(!w)return"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed";const U=P.currency||"computingPower";let W=!1;switch(U){case"gameCoins":W=w.gameCoins>=P.price;break;case"cash":W=w.cash>=P.price;break;case"computingPower":W=w.computingPower>=P.price;break;case"aCoins":W=w.aCoins>=P.price;break}return W?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"})()}`,disabled:(()=>{if(!w)return!0;switch(P.currency||"computingPower"){case"gameCoins":return w.gameCoins<P.price;case"cash":return w.cash<P.price;case"computingPower":return w.computingPower<P.price;case"aCoins":return w.aCoins<P.price;default:return!0}})(),children:(()=>{if(!w)return"余额不足";const U=P.currency||"computingPower";let W=!1;switch(U){case"gameCoins":W=w.gameCoins>=P.price;break;case"cash":W=w.cash>=P.price;break;case"computingPower":W=w.computingPower>=P.price;break;case"aCoins":W=w.aCoins>=P.price;break}return W?y(T,"marketplace.list.buyNow"):y(T,"marketplace.list.insufficient")})()}),w&&t.jsx("div",{className:"mt-2 text-xs text-center",children:(()=>{const U=P.currency||"computingPower",W={computing:"fa-microchip",computingPower:"fa-microchip",cash:"fa-dollar-sign",gameCoins:"fa-coins",aCoins:"fa-a"},re={computing:y(T,"marketplace.list.currencyNames.computing"),computingPower:y(T,"marketplace.list.currencyNames.computing"),cash:y(T,"marketplace.list.currencyNames.cash"),gameCoins:y(T,"marketplace.list.currencyNames.gameCoins"),aCoins:y(T,"marketplace.list.currencyNames.aCoins")},te={computing:"text-blue-600 dark:text-blue-400",computingPower:"text-blue-600 dark:text-blue-400",cash:"text-green-600 dark:text-green-400",gameCoins:"text-yellow-600 dark:text-yellow-400",aCoins:"text-purple-600 dark:text-purple-400"};let se=!1;switch(U){case"gameCoins":se=w.gameCoins>=P.price;break;case"cash":se=w.cash>=P.price;break;case"computingPower":se=w.computingPower>=P.price;break;case"aCoins":se=w.aCoins>=P.price;break}return se?t.jsxs("span",{className:te[U],children:[t.jsx("i",{className:`fa-solid ${W[U]} mr-1`}),T.marketplace.list.canBuyWith(re[U])]}):t.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[t.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),T.marketplace.list.insufficientWith(re[U])]})})()})]})]},P.id))}),L.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"fa-solid fa-search text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(T,"marketplace.list.empty")})]})]}),v&&t.jsx(L6,{userInventory:C,onClose:()=>k(!1),onListItem:_})]})}function L6({userInventory:s,onClose:e,onListItem:r}){const{lang:n}=Qt(),o=ps(n),[l,c]=j.useState(""),[u,m]=j.useState(100),[p,f]=j.useState("computingPower"),x=k=>{if(k.preventDefault(),!l){alert("请选择要发布的道具");return}if(u<=0){alert("价格必须大于0");return}r(l,u,p)},v=s;return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:y(o,"marketplace.modal.title")}),t.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:t.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),v.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("i",{className:"fa-solid fa-box-open text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:y(o,"marketplace.modal.noItemsTitle")}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:y(o,"marketplace.modal.noItemsDesc")})]}):t.jsxs("form",{onSubmit:x,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:y(o,"marketplace.modal.selectItem")}),t.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",required:!0,children:[t.jsx("option",{value:"",children:y(o,"marketplace.modal.optionPlaceholder")}),v.map(k=>t.jsxs("option",{value:k.id,children:[k.name," (",k.rarity,")"]},k.id))]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:y(o,"marketplace.modal.currencyType")}),t.jsxs("select",{value:p,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[t.jsx("option",{value:"computingPower",children:y(o,"marketplace.list.currencyNames.computing")}),t.jsx("option",{value:"cash",children:y(o,"marketplace.list.currencyNames.cash")}),t.jsx("option",{value:"gameCoins",children:y(o,"marketplace.list.currencyNames.gameCoins")}),t.jsx("option",{value:"aCoins",children:y(o,"marketplace.list.currencyNames.aCoins")})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[y(o,"marketplace.modal.priceLabel")," (",p==="computingPower"?y(o,"marketplace.list.currencyNames.computing"):p==="cash"?y(o,"marketplace.list.currencyNames.cash"):p==="aCoins"?y(o,"marketplace.list.currencyNames.aCoins"):y(o,"marketplace.list.currencyNames.gameCoins"),")"]}),t.jsx("input",{type:"number",value:u,onChange:k=>m(Number(k.target.value)),min:"1",step:p==="cash"?"0.01":"1",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500",required:!0})]}),l&&t.jsx("div",{className:"mb-4 p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:(()=>{const k=v.find(C=>C.id===l);return k?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-medium",children:k.name}),t.jsx("div",{children:k.description}),t.jsx("div",{className:"mt-1",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Vy(k.rarity)}`,children:k.rarity})})]}):null})()})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-200 dark:bg-slate-600 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:y(o,"marketplace.modal.cancel")}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:y(o,"marketplace.modal.submit")})]})]})]})})}function $6(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"rare":return"fa-star";default:return"fa-box"}}function Vy(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}var Jt=(s=>(s.PROPS="props",s.COMPUTING_POWER="computing_power",s.RECHARGE="recharge",s.MEMBERSHIP="membership",s.BUNDLE="bundle",s.SPECIAL="special",s))(Jt||{}),qe=(s=>(s.REAL_MONEY="real_money",s.GAME_COINS="game_coins",s.COMPUTING_POWER="computing_power",s.A_COINS="a_coins",s))(qe||{});class V6{constructor(){Ee(this,"items",[]);Ee(this,"categories",[]);Ee(this,"purchaseHistory",[]);Ee(this,"userPurchases",new Map);Ee(this,"commissionRate",.15);this.initializeCategories(),this.initializeMockItems()}calculateCommission(e){const r=Math.round(e*this.commissionRate*100)/100,n=Math.round((e+r)*100)/100;return{commission:r,totalAmount:n}}initializeCategories(){this.categories=[{id:"props",name:"游戏道具",type:Jt.PROPS,icon:"fa-magic",description:"各种游戏道具和装备",order:1},{id:"computing",name:"算力商店",type:Jt.COMPUTING_POWER,icon:"fa-microchip",description:"购买算力提升收益",order:2},{id:"recharge",name:"充值中心",type:Jt.RECHARGE,icon:"fa-credit-card",description:"游戏币充值服务",order:3},{id:"membership",name:"会员特权",type:Jt.MEMBERSHIP,icon:"fa-crown",description:"VIP会员和特权服务",order:4},{id:"bundle",name:"超值礼包",type:Jt.BUNDLE,icon:"fa-gift",description:"限时优惠组合礼包",order:5},{id:"special",name:"限时特惠",type:Jt.SPECIAL,icon:"fa-fire",description:"限时特价商品",order:6}]}initializeMockItems(){const e=new Date;this.items=[{id:"prop_001",name:"传说宝箱",description:"开启后必得传说级道具，还有机会获得稀有皮肤",type:Jt.PROPS,category:"props",prices:[{method:qe.REAL_MONEY,amount:9.99},{method:qe.GAME_COINS,amount:1e3}],stock:100,dailyLimit:3,tags:["热门","限量"],rewards:[{type:"props",amount:1,itemName:"随机传说道具"}],icon:"fa-treasure-chest",rarity:"legendary",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"prop_002",name:"经验加速器",description:"使用后1小时内经验获得翻倍",type:Jt.PROPS,category:"props",prices:[{method:qe.GAME_COINS,amount:200},{method:qe.COMPUTING_POWER,amount:500}],stock:-1,dailyLimit:5,tags:["实用"],rewards:[{type:"props",amount:1,itemName:"经验加速器"}],icon:"fa-rocket",rarity:"rare",featured:!1,popular:!0,createdAt:e,updatedAt:e},{id:"prop_003",name:"A币礼包",description:"购买后可获得A币",type:Jt.PROPS,category:"props",prices:[{method:qe.A_COINS,amount:10}],stock:100,dailyLimit:1,tags:["稀有"],rewards:[{type:"a_coins",amount:10}],icon:"fa-coins",rarity:"epic",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"power_001",name:"算力包 - 小",description:"立即获得1000算力，提升挖矿收益",type:Jt.COMPUTING_POWER,category:"computing",prices:[{method:qe.REAL_MONEY,amount:4.99}],stock:-1,tags:["推荐"],rewards:[{type:"computing_power",amount:1e3}],icon:"fa-microchip",featured:!0,popular:!1,createdAt:e,updatedAt:e},{id:"power_002",name:"算力包 - 大",description:"立即获得5000算力，超值优惠",type:Jt.COMPUTING_POWER,category:"computing",prices:[{method:qe.REAL_MONEY,amount:19.99,originalAmount:24.99}],discount:20,stock:-1,tags:["超值","推荐"],rewards:[{type:"computing_power",amount:5e3},{type:"game_coins",amount:500}],icon:"fa-microchip",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"recharge_001",name:"游戏币 - 基础包",description:"获得1000游戏币",type:Jt.RECHARGE,category:"recharge",prices:[{method:qe.REAL_MONEY,amount:.99}],stock:-1,tags:["新手推荐"],rewards:[{type:"game_coins",amount:1e3}],icon:"fa-coins",featured:!1,popular:!1,createdAt:e,updatedAt:e},{id:"recharge_002",name:"游戏币 - 超值包",description:"获得10000游戏币，首充双倍",type:Jt.RECHARGE,category:"recharge",prices:[{method:qe.REAL_MONEY,amount:9.99}],stock:-1,userLimit:1,tags:["首充","双倍"],rewards:[{type:"game_coins",amount:2e4}],icon:"fa-coins",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"vip_001",name:"VIP月卡",description:"30天VIP特权，每日领取奖励，专属客服",type:Jt.MEMBERSHIP,category:"membership",prices:[{method:qe.REAL_MONEY,amount:12.99}],stock:-1,tags:["特权","每日奖励"],rewards:[{type:"vip_days",amount:30},{type:"game_coins",amount:1e3}],icon:"fa-crown",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"bundle_001",name:"新手大礼包",description:"包含算力、游戏币、道具的超值组合",type:Jt.BUNDLE,category:"bundle",prices:[{method:qe.REAL_MONEY,amount:6.99,originalAmount:15.99}],discount:56,stock:500,userLimit:1,tags:["新手","限购","超值"],rewards:[{type:"computing_power",amount:2e3},{type:"game_coins",amount:3e3},{type:"props",amount:3,itemName:"随机稀有道具"}],icon:"fa-gift",featured:!0,popular:!0,createdAt:e,updatedAt:e},{id:"special_001",name:"闪购特惠 - 算力暴击",description:"限时24小时，算力获得率提升200%",type:Jt.SPECIAL,category:"special",prices:[{method:qe.REAL_MONEY,amount:2.99,originalAmount:9.99}],discount:70,stock:100,dailyLimit:1,endTime:new Date(Date.now()+864e5),tags:["限时","闪购","暴击"],rewards:[{type:"props",amount:1,itemName:"算力暴击卡(24h)"}],icon:"fa-bolt",featured:!0,popular:!0,createdAt:e,updatedAt:e}]}async getCategories(){return[...this.categories].sort((e,r)=>e.order-r.order)}async getItems(e){let r=[...this.items];return e&&e!=="all"&&(r=r.filter(n=>n.category===e)),r.sort((n,o)=>n.featured!==o.featured?n.featured?-1:1:n.popular!==o.popular?n.popular?-1:1:o.createdAt.getTime()-n.createdAt.getTime())}async getFeaturedItems(){return this.items.filter(e=>e.featured).slice(0,6)}async getPopularItems(){return this.items.filter(e=>e.popular).slice(0,8)}async purchaseItem(e,r,n,o=1){const l=this.items.find(w=>w.id===e);if(!l)throw new Error("商品不存在");if(l.stock!==void 0&&l.stock!==-1&&l.stock<o)throw new Error("库存不足");const c=this.userPurchases.get(r)||[],u=c.filter(w=>w.itemId===e&&new Date(w.timestamp).toDateString()===new Date().toDateString());if(l.dailyLimit&&u.length>=l.dailyLimit)throw new Error(`每日限购${l.dailyLimit}个`);const m=c.filter(w=>w.itemId===e).length;if(l.userLimit&&m>=l.userLimit)throw new Error(`用户限购${l.userLimit}个`);const p=l.prices.find(w=>w.method===n);if(!p)throw new Error("不支持的支付方式");const f=p.amount*o,{commission:x,totalAmount:v}=this.calculateCommission(f);if(n===qe.REAL_MONEY&&x>0)try{await dt.recordCommissionIncome(`official_store_${Date.now()}`,x,"cash","official_store",r)}catch(w){console.error("记录官方商店佣金失败:",w)}const k=n===qe.REAL_MONEY?"cash":n===qe.GAME_COINS?"gameCoins":n===qe.A_COINS?"aCoins":"computingPower";try{await Ye.addTransaction({type:"expense",amount:f,currency:k,description:`官方商店购买: ${l.name}`,category:"purchase"}),x>0&&await Ye.addTransaction({type:"expense",amount:x,currency:k,description:`官方商店购买佣金 - ${l.name} (15%)`,category:"commission"})}catch(w){console.error("记录用户购买和佣金支付失败:",w)}const C={id:`purchase_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:r,itemId:e,itemName:l.name,paymentMethod:n,amount:f,commission:x,totalAmount:v,rewards:l.rewards.map(w=>({...w,amount:w.amount*o})),timestamp:new Date,status:"completed"};if(l.stock!==void 0&&l.stock!==-1&&(l.stock-=o),l.type===Jt.PROPS)try{const w={id:`owned_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:l.name,description:l.description,category:this.mapStoreItemToMarketCategory(l.category),rarity:l.rarity||"common",price:0,sellerId:"official-store",sellerName:"官方商店",listedAt:new Date,views:0,gameSource:"官方商店"};await as.addItemToUserInventory(r,w)}catch(w){console.error("添加道具到用户库存失败:",w)}this.purchaseHistory.push(C);const N=this.userPurchases.get(r)||[];N.push(C),this.userPurchases.set(r,N);try{await as.recordOfficialStorePurchase(r,l.name,l.description,f,x,v,n),console.log("官方商店购买记录已同步到交易系统")}catch(w){console.error("同步官方商店购买记录失败:",w)}return C}async getStoreStats(){const e=new Date().toDateString(),r=this.purchaseHistory.filter(u=>new Date(u.timestamp).toDateString()===e).length,n=this.purchaseHistory.filter(u=>u.paymentMethod===qe.REAL_MONEY).reduce((u,m)=>u+m.amount,0),o=this.items.filter(u=>u.popular).slice(0,5),l=[...this.purchaseHistory].sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()).slice(0,10),c=this.categories.map(u=>{const m=this.items.filter(x=>x.category===u.id),p=this.purchaseHistory.filter(x=>m.some(v=>v.id===x.itemId)),f=p.filter(x=>x.paymentMethod===qe.REAL_MONEY).reduce((x,v)=>x+v.amount,0);return{category:u.name,itemCount:m.length,salesCount:p.length,revenue:f}});return{totalItems:this.items.length,dailySales:r,totalRevenue:n,popularItems:o,recentPurchases:l,categoryStats:c}}mapStoreItemToMarketCategory(e){switch(e){case"props":return"consumable";case"computing":return"material";case"recharge":return"material";case"membership":return"rare";case"bundle":return"rare";case"special":return"rare";default:return"consumable"}}async getUserPurchaseHistory(e){const r=this.userPurchases.get(e)||[],n=r.reduce((u,m)=>{switch(m.paymentMethod){case qe.REAL_MONEY:u.realMoney+=m.amount;break;case qe.GAME_COINS:u.gameCoins+=m.amount;break;case qe.COMPUTING_POWER:u.computingPower+=m.amount;break;case qe.A_COINS:u.aCoins+=m.amount;break}return u},{realMoney:0,gameCoins:0,computingPower:0,aCoins:0}),o=[...r].sort((u,m)=>m.timestamp.getTime()-u.timestamp.getTime()).slice(0,20),l=r.map(u=>u.itemId),c=this.items.filter(u=>l.includes(u.id));return{totalPurchases:r.length,totalSpent:n,recentPurchases:o,ownedItems:c}}}const ac=new V6;function F6(){const{lang:s}=Qt(),e=ps(s),[r,n]=j.useState([]),[o,l]=j.useState([]),[c,u]=j.useState([]),[m,p]=j.useState("all"),{balance:f,refreshWalletData:x}=Vc(),[v,k]=j.useState(!0),[C,N]=j.useState("");j.useEffect(()=>{w()},[m]);const w=async()=>{try{k(!0);const[_,L,P]=await Promise.all([ac.getItems(m),ac.getCategories(),ac.getFeaturedItems()]);n(_),l(L),u(P)}catch(_){console.error("加载商店数据失败:",_)}finally{k(!1)}},A=async(_,L)=>{if(!f){alert("钱包信息加载中，请稍候...");return}try{const P=_.prices.find(se=>se.method===L);if(!P){alert("不支持的支付方式");return}let U=!1,W="";switch(L){case qe.REAL_MONEY:U=f.cash>=P.amount,W=`¥${P.amount}`;break;case qe.GAME_COINS:U=f.gameCoins>=P.amount,W=`${P.amount} 游戏币`;break;case qe.COMPUTING_POWER:U=f.computingPower>=P.amount,W=`${P.amount} 算力`;break;case qe.A_COINS:U=f.aCoins>=P.amount,W=`${P.amount} A币`;break}if(!U){alert(`余额不足！需要 ${W}`);return}const re=`确认购买 "${_.name}"？

价格: ${W}

奖励:
${_.rewards.map(se=>`• ${se.amount} ${D(se.type)}`).join(`
`)}`;if(!confirm(re))return;const te=await ac.purchaseItem(_.id,"current-user-id",L);await x(),await w(),alert(`购买成功！

获得奖励:
${te.rewards.map(se=>`• ${se.amount} ${D(se.type)}`).join(`
`)}`)}catch(P){alert(`购买失败: ${P.message}`)}},D=_=>{switch(_){case"game_coins":return"游戏币";case"computing_power":return"算力";case"props":return"道具";case"vip_days":return"天VIP";case"a_coins":return"A币";default:return _}},T=_=>{switch(_){case qe.REAL_MONEY:return"现金";case qe.GAME_COINS:return"游戏币";case qe.COMPUTING_POWER:return"算力";case qe.A_COINS:return"A币";default:return _}},B=(_,L)=>{const P=_.prices.find(U=>U.method===L);if(!P||!f)return!1;switch(L){case qe.REAL_MONEY:return f.cash>=P.amount;case qe.GAME_COINS:return f.gameCoins>=P.amount;case qe.COMPUTING_POWER:return f.computingPower>=P.amount;case qe.A_COINS:return f.aCoins>=P.amount;default:return!1}},E=r.filter(_=>C===""||_.name.toLowerCase().includes(C.toLowerCase()));return v?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载官方商店数据中..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(e,"store.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(e,"store.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"hidden md:flex items-center gap-4 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-wallet text-green-600 dark:text-green-400"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["¥",(f==null?void 0:f.cash.toFixed(2))??"0.00"]})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.gameCoins.toLocaleString())??"0"})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.computingPower.toLocaleString())??"0"})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(f==null?void 0:f.aCoins.toLocaleString())??"0"})]})]}),t.jsx(ne,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:y(e,"store.header.personalCenter")}),t.jsx(ne,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(e,"store.header.backHome")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:y(e,"store.featured.title")}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(_=>t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl p-6 text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-bl-lg text-sm font-bold",children:y(e,"store.featured.badge")}),t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("i",{className:`fa-solid ${_.icon} text-3xl`}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:_.name}),t.jsx("p",{className:"text-purple-100 text-sm",children:_.description})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[_.prices[0].method===qe.REAL_MONEY?"¥":"",_.prices[0].amount,_.prices[0].method===qe.GAME_COINS?" 币":"",_.prices[0].method===qe.COMPUTING_POWER?" 算力":"",_.prices[0].method===qe.A_COINS?" A币":""]}),t.jsx("button",{onClick:()=>A(_,_.prices[0].method),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors",children:y(e,"store.featured.buyNow")})]})]},_.id))})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="all"?"bg-purple-600 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-purple-50 dark:hover:bg-slate-700"}`,children:y(e,"store.categories.all")}),o.map(_=>t.jsxs("button",{onClick:()=>p(_.id),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${m===_.id?"bg-purple-600 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-purple-50 dark:hover:bg-slate-700"}`,children:[t.jsx("i",{className:`fa-solid ${_.icon}`}),_.name]},_.id))]})}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:y(e,"store.search.placeholder"),value:C,onChange:_=>N(_.target.value),className:"w-full max-w-md px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(_=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${_.icon} text-4xl text-slate-400 dark:text-slate-500`})}),t.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:_.tags.map(L=>t.jsx("span",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:L},L))}),_.discount&&t.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",_.discount,"%"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:_.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:_.description}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:y(e,"store.rewards.title")}),t.jsx("div",{className:"flex flex-wrap gap-1",children:_.rewards.map((L,P)=>t.jsxs("span",{className:"px-2 py-1 text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:[L.amount," ",D(L.type)]},P))})]}),t.jsx("div",{className:"space-y-2",children:_.prices.map((L,P)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[L.method===qe.REAL_MONEY?"¥":"",L.amount,L.method===qe.GAME_COINS?" 币":"",L.method===qe.COMPUTING_POWER?" 算力":"",L.method===qe.A_COINS?" A币":""]}),L.originalAmount&&t.jsx("span",{className:"text-sm text-slate-400 line-through",children:L.originalAmount})]}),t.jsx("button",{onClick:()=>A(_,L.method),disabled:!B(_,L.method),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${B(_,L.method)?"bg-purple-600 text-white hover:bg-purple-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,children:e.store.purchase.buyWith(T(L.method))})]},P))}),t.jsxs("div",{className:"mt-3 text-xs text-slate-500 dark:text-slate-400",children:[_.stock!==-1&&t.jsxs("div",{children:[y(e,"store.purchase.stock"),": ",_.stock]}),_.dailyLimit&&t.jsxs("div",{children:[y(e,"store.purchase.dailyLimit"),": ",_.dailyLimit]}),_.userLimit&&t.jsxs("div",{children:[y(e,"store.purchase.userLimit"),": ",_.userLimit]}),_.endTime&&t.jsxs("div",{className:"text-red-500",children:[y(e,"store.purchase.deadline"),": ",_.endTime.toLocaleDateString()]})]})]})]},_.id))}),E.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("i",{className:"fa-solid fa-store text-4xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(e,"store.purchase.empty")})]})]})]})}class B6{constructor(){Ee(this,"COMMISSION_RATES",{game_store:.3,player_market:.05,official_store:.15});Ee(this,"CURRENCY_EXCHANGE_RATES",{gameCoinsToRMB:.01,computingToRMB:.1,aCoinToRMB:1,cashToGameCoins:100,cashToComputing:10})}async processGameStorePurchase(e,r,n){const o=this.generateTransactionId("GSP");try{console.log(`开始处理游戏商城购买交易: ${o}`,{userId:e,orderId:r.id,totalAmount:r.totalAmount,paymentCurrency:n,items:r.items.length});const l=r.totalAmount,c=this.COMMISSION_RATES.game_store,u=l*c,m=l+u;console.log("费用明细计算:",{itemAmount:l,commissionRate:c,commissionAmount:u,totalPayment:m});const p=await Ye.getBalance();if(p[n]<m)throw new Error(`余额不足！当前${this.getCurrencyName(n)}余额: ${p[n]}, 需要支付: ${m} (商品: ${l} + 佣金: ${u})`);const f=await this.deductFromWallet(e,l,n,`游戏商城购买 - 订单${r.id}`,r.id);console.log("商品费用扣款完成:",f);const x=await this.deductFromWallet(e,u,n,`平台佣金 - 订单${r.id} (${(c*100).toFixed(1)}%)`,r.id);console.log("平台佣金扣款完成:",x);const v=await this.recordCommissionToFundPool(o,u,n,"game_store",e,l);return console.log("资金池佣金记录完成:",v),await this.updateEconomicCenterData({type:"purchase",userId:e,amount:m,currency:n,source:"game_store",commission:u}),this.emitEconomicEvent("game_store_purchase",{transactionId:o,userId:e,orderId:r.id,amount:m,currency:n,commission:u,timestamp:new Date}),{success:!0,transactionId:o,walletTransaction:f,commissionTransaction:x,fundPoolTransaction:v,totalPayment:m,itemAmount:l,commissionAmount:u,message:`购买成功！商品费用: ${l}${this.getCurrencyName(n)}，平台佣金: ${u}${this.getCurrencyName(n)}，总计: ${m}${this.getCurrencyName(n)}`}}catch(l){throw console.error(`游戏商城购买交易失败 ${o}:`,l),await dt.recordExpense(0,"cash","refund",`游戏商城购买失败退款 - 交易${o}`,o),new Error(`购买失败: ${l instanceof Error?l.message:"未知错误"}`)}}async processPlayerMarketTransaction(e,r,n,o,l){const c=this.generateTransactionId("PMT");try{const u=this.COMMISSION_RATES.player_market,m=n*u,p=n-m,f=await this.deductFromWallet(e,n,o,`玩家市场购买 - 物品${l}`,l),x=await this.creditToWallet(r,p,o,`玩家市场销售 - 物品${l}`,l),v=await this.recordCommissionToFundPool(c,m,o,"player_market",e,n);return await this.updateEconomicCenterData({type:"trade",userId:e,amount:n,currency:o,source:"player_market",commission:m}),{success:!0,transactionId:c,buyerTransaction:f,sellerTransaction:x,fundPoolTransaction:v}}catch(u){throw console.error(`玩家市场交易失败 ${c}:`,u),u}}async processGameReward(e,r,n,o){const l=this.generateTransactionId("GRW"),c=[];try{if(console.log(`处理游戏奖励 ${l}:`,{userId:e,computingPower:r,gameCoins:n,gameId:o}),r>0){const u=await this.creditToWallet(e,r,"computing",`游戏奖励获得算力${o?` - 游戏${o}`:""}`,o);c.push(u)}if(n>0){const u=await this.creditToWallet(e,n,"gameCoins",`游戏奖励获得游戏币${o?` - 游戏${o}`:""}`,o);c.push(u)}return await this.updateEconomicCenterData({type:"reward",userId:e,amount:r+n*this.CURRENCY_EXCHANGE_RATES.gameCoinsToRMB/this.CURRENCY_EXCHANGE_RATES.computingToRMB,currency:"computing",source:"system"}),this.emitEconomicEvent("game_reward",{transactionId:l,userId:e,computingPower:r,gameCoins:n,gameId:o,timestamp:new Date}),{success:!0,transactionId:l,transactions:c}}catch(u){throw console.error(`游戏奖励发放失败 ${l}:`,u),u}}async getUserEconomicOverview(e){try{const r=await Ye.getBalance(),n=await Ye.getTransactions(20),o=this.calculateUserEconomicContribution(n),l=await ns.getPlayerEconomicProfile(e);return{walletBalance:r,recentTransactions:n,economicContribution:o,computingPowerBreakdown:l}}catch(r){throw console.error("获取用户经济概览失败:",r),r}}async getPlatformEconomicHealth(){try{const e=await dt.getPublicFundPoolData(),r=await ns.getComputingEconomicData(),n=this.assessEconomicRisk(e,r);return{fundPoolStatus:e,economicIndicators:r,riskAssessment:n}}catch(e){throw console.error("获取平台经济健康度失败:",e),e}}async deductFromWallet(e,r,n,o,l){if((await Ye.getBalance())[n]<r)throw new Error(`${this.getCurrencyName(n)}余额不足`);return await Ye.addTransaction({type:"expense",category:"purchase",amount:r,currency:n,description:o,relatedId:l}),(await Ye.getTransactions(1))[0]}async creditToWallet(e,r,n,o,l){return await Ye.addTransaction({type:"income",category:n==="computing"?"computing_reward":"game_reward",amount:r,currency:n,description:o,relatedId:l}),(await Ye.getTransactions(1))[0]}async recordCommissionToFundPool(e,r,n,o,l,c){return await dt.recordCommissionIncome(e,r,n,o,l)}async updateEconomicCenterData(e){try{console.log("更新算力经济中心数据:",e)}catch(r){console.error("更新算力经济中心数据失败:",r)}}emitEconomicEvent(e,r){try{window.dispatchEvent(new CustomEvent(`economic-${e}`,{detail:r})),console.log(`经济事件发送: ${e}`,r)}catch(n){console.error("发送经济事件失败:",n)}}generateTransactionId(e){const r=new Date().toISOString().slice(0,10).replace(/-/g,""),n=Math.random().toString(36).substr(2,6).toUpperCase();return`${e}-${r}-${n}`}getCurrencyName(e){switch(e){case"cash":return"现金";case"gameCoins":return"游戏币";case"computing":return"算力";case"aCoins":return"A币";default:return e}}calculateUserEconomicContribution(e){let r=0,n=0,o=0;return e.forEach(l=>{const c=this.convertToRMB(l.amount,l.currency);l.type==="expense"?(r+=c,l.category==="purchase"&&(o+=c*.15)):n+=c}),{totalSpent:Math.round(r*100)/100,totalEarned:Math.round(n*100)/100,commissionGenerated:Math.round(o*100)/100}}convertToRMB(e,r){switch(r){case"cash":return e;case"gameCoins":return e*this.CURRENCY_EXCHANGE_RATES.gameCoinsToRMB;case"computing":return e*this.CURRENCY_EXCHANGE_RATES.computingToRMB;case"aCoins":return e*this.CURRENCY_EXCHANGE_RATES.aCoinToRMB;default:return e}}assessEconomicRisk(e,r){const n=[],o=[];let l=0;e.currentBalance.totalValue<1e3&&(n.push("资金池余额过低"),o.push("增加平台收入来源"),l+=30),r.activeComputingNodes<1e3&&(n.push("活跃节点数量不足"),o.push("提升用户参与度"),l+=20);let c="low";return l>=50?c="high":l>=25&&(c="medium"),n.length===0&&(n.push("经济系统运行正常"),o.push("继续保持当前运营策略")),{level:c,factors:n,recommendations:o}}}const U6=new B6;class W6{constructor(){Ee(this,"stores",[]);Ee(this,"developers",[]);Ee(this,"products",[]);Ee(this,"orders",[]);Ee(this,"reviews",[]);Ee(this,"promotions",[]);this.initializeMockData()}initializeMockData(){const e=[{id:"dev_1",name:"腾讯游戏",logo:"/logos/tencent.png",description:"全球领先的游戏开发商，致力于为玩家提供优质的游戏体验",establishedDate:new Date("2003-01-01"),rating:4.8,totalSales:15e6,gameCount:25,verified:!0,contactInfo:{email:"support@tencent.com",website:"https://games.tencent.com",support:"400-670-0700"}},{id:"dev_2",name:"网易游戏",logo:"/logos/netease.png",description:"创新驱动的游戏公司，专注于精品游戏开发",establishedDate:new Date("2001-06-01"),rating:4.6,totalSales:12e6,gameCount:18,verified:!0,contactInfo:{email:"games@netease.com",website:"https://game.netease.com",support:"400-188-163"}},{id:"dev_3",name:"miHoYo",logo:"/logos/mihoyo.png",description:"致力于为全世界的玩家创造和传递美好",establishedDate:new Date("2012-02-13"),rating:4.9,totalSales:8e6,gameCount:8,verified:!0,contactInfo:{email:"cs@mihoyo.com",website:"https://www.mihoyo.com",support:"400-821-0808"}}],r=[{id:"store_1",developerId:"dev_1",developer:e[0],name:"王者荣耀官方商店",description:"王者荣耀官方道具商店，提供最新最全的英雄皮肤和装备",banner:"/banners/wzry_banner.jpg",logo:"/logos/wzry_logo.png",theme:{primaryColor:"#1890ff",secondaryColor:"#722ed1",backgroundImage:"/backgrounds/wzry_bg.jpg"},rating:4.8,totalProducts:156,totalSales:25e5,followers:85e4,isActive:!0,createdAt:new Date(Date.now()-864e5*365),updatedAt:new Date},{id:"store_2",developerId:"dev_2",developer:e[1],name:"梦幻西游藏宝阁",description:"梦幻西游官方交易平台，安全可靠的游戏道具交易",banner:"/banners/mhxy_banner.jpg",logo:"/logos/mhxy_logo.png",theme:{primaryColor:"#f5222d",secondaryColor:"#fa8c16",backgroundImage:"/backgrounds/mhxy_bg.jpg"},rating:4.7,totalProducts:89,totalSales:18e5,followers:62e4,isActive:!0,createdAt:new Date(Date.now()-864e5*300),updatedAt:new Date},{id:"store_3",developerId:"dev_3",developer:e[2],name:"原神商店",description:"原神官方商店，提供角色、武器、圣遗物等各类道具",banner:"/banners/ys_banner.jpg",logo:"/logos/ys_logo.png",theme:{primaryColor:"#52c41a",secondaryColor:"#13c2c2",backgroundImage:"/backgrounds/ys_bg.jpg"},rating:4.9,totalProducts:234,totalSales:32e5,followers:12e5,isActive:!0,createdAt:new Date(Date.now()-864e5*200),updatedAt:new Date}],n=[{id:"prod_1",storeId:"store_1",store:r[0],name:"李白-凤求凰",description:"传说品质皮肤，华丽的视觉效果和独特的技能特效",images:["/products/libai_fengqiuhuang_1.jpg","/products/libai_fengqiuhuang_2.jpg"],category:"skin",rarity:"legendary",price:1688,originalPrice:1888,currency:"gameCoins",stock:999,sold:15420,rating:4.9,reviewCount:2341,gameTitle:"王者荣耀",gameVersion:"3.71.1.8",tags:["传说皮肤","李白","限时优惠"],specifications:{heroName:"李白",skinType:"传说",releaseDate:"2023-12-01"},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*30),updatedAt:new Date},{id:"prod_2",storeId:"store_1",store:r[0],name:"貂蝉-仲夏夜之梦",description:"史诗品质皮肤，梦幻的仲夏夜主题设计",images:["/products/diaochan_zhongxiaye_1.jpg"],category:"skin",rarity:"epic",price:888,currency:"gameCoins",stock:999,sold:8920,rating:4.7,reviewCount:1456,gameTitle:"王者荣耀",gameVersion:"3.71.1.8",tags:["史诗皮肤","貂蝉","仲夏夜"],specifications:{heroName:"貂蝉",skinType:"史诗",releaseDate:"2023-11-15"},isActive:!0,isFeatured:!1,createdAt:new Date(Date.now()-864e5*45),updatedAt:new Date},{id:"prod_3",storeId:"store_3",store:r[2],name:"雷电将军",description:"五星雷属性角色，稻妻的雷电将军，拥有强大的雷元素能力",images:["/products/raiden_1.jpg","/products/raiden_2.jpg"],category:"character",rarity:"legendary",price:28800,currency:"gameCoins",stock:999,sold:45600,rating:4.8,reviewCount:5234,gameTitle:"原神",gameVersion:"4.2.0",tags:["五星角色","雷属性","稻妻"],specifications:{element:"雷",weapon:"长柄武器",rarity:"5星",region:"稻妻"},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*60),updatedAt:new Date},{id:"prod_4",storeId:"store_3",store:r[2],name:"薙草之稻光",description:"五星长柄武器，雷电将军的专属武器",images:["/products/narukami_1.jpg"],category:"weapon",rarity:"legendary",price:19800,currency:"gameCoins",stock:999,sold:23400,rating:4.6,reviewCount:1890,gameTitle:"原神",gameVersion:"4.2.0",tags:["五星武器","长柄武器","雷伤加成"],specifications:{weaponType:"长柄武器",baseAttack:608,subStat:"元素充能效率",rarity:"5星"},isActive:!0,isFeatured:!1,createdAt:new Date(Date.now()-864e5*50),updatedAt:new Date},{id:"prod_5",storeId:"store_2",store:r[1],name:"超级神兽-九色鹿",description:"稀有神兽，拥有强大的法术攻击能力和独特的技能",images:["/products/jiuselu_1.jpg"],category:"character",rarity:"mythic",price:5e4,currency:"cash",stock:10,sold:156,rating:4.9,reviewCount:89,gameTitle:"梦幻西游",gameVersion:"2023",tags:["超级神兽","法攻宠物","稀有"],specifications:{level:0,growth:1.275,skills:["高级法术波动","高级法术连击","高级魔心"],aptitude:{attack:1560,defense:1440,physique:4500,mana:2880,speed:1200,dodge:1680}},isActive:!0,isFeatured:!0,createdAt:new Date(Date.now()-864e5*20),updatedAt:new Date}];this.developers=e,this.stores=r,this.products=n}async getStores(){return this.stores.filter(e=>e.isActive)}async getStoreById(e){return this.stores.find(r=>r.id===e&&r.isActive)||null}async getStoreProducts(e,r){let n=this.products.filter(o=>o.storeId===e&&o.isActive);return r&&(n=this.applyFilters(n,r)),n}async getProducts(e){let r=this.products.filter(n=>n.isActive);return e&&(r=this.applyFilters(r,e)),r}applyFilters(e,r){let n=[...e];if(r.category&&(n=n.filter(o=>o.category===r.category)),r.rarity&&(n=n.filter(o=>o.rarity===r.rarity)),r.currency&&(n=n.filter(o=>o.currency===r.currency)),r.gameTitle&&(n=n.filter(o=>o.gameTitle.includes(r.gameTitle))),r.storeId&&(n=n.filter(o=>o.storeId===r.storeId)),r.rating&&(n=n.filter(o=>o.rating>=r.rating)),r.priceRange&&(n=n.filter(o=>o.price>=r.priceRange.min&&o.price<=r.priceRange.max)),r.searchTerm){const o=r.searchTerm.toLowerCase();n=n.filter(l=>l.name.toLowerCase().includes(o)||l.description.toLowerCase().includes(o)||l.gameTitle.toLowerCase().includes(o)||l.tags.some(c=>c.toLowerCase().includes(o)))}if(r.sortBy)switch(r.sortBy){case"price_asc":n.sort((o,l)=>o.price-l.price);break;case"price_desc":n.sort((o,l)=>l.price-o.price);break;case"rating":n.sort((o,l)=>l.rating-o.rating);break;case"sales":n.sort((o,l)=>l.sold-o.sold);break;case"newest":n.sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime());break;case"oldest":n.sort((o,l)=>o.createdAt.getTime()-l.createdAt.getTime());break}return n}async getProductById(e){return this.products.find(r=>r.id===e&&r.isActive)||null}async getFeaturedProducts(e=10){return this.products.filter(r=>r.isActive&&r.isFeatured).slice(0,e)}async createOrder(e,r,n){var m;console.log("开始创建游戏商城订单:",{userId:e,itemCount:r.length,paymentMethod:n});const o=r.map(p=>({id:`order_item_${Date.now()}_${Math.random()}`,productId:p.productId,product:p.product,quantity:p.quantity,price:p.product.price,currency:p.product.currency})),l=o.reduce((p,f)=>p+f.price*f.quantity,0),c=((m=o[0])==null?void 0:m.currency)||"gameCoins",u={id:`order_${Date.now()}`,buyerId:e,buyerName:"当前用户",storeId:o[0].product.storeId,store:o[0].product.store,items:o,totalAmount:l,currency:c,status:"pending",paymentMethod:n,createdAt:new Date,updatedAt:new Date};try{const p=await U6.processGameStorePurchase(e,u,c);if(console.log("经济系统处理结果:",p),!p.success)throw new Error(p.message);u.status="paid",u.updatedAt=new Date,await as.addTransactionRecord({buyerId:e,sellerId:u.storeId,item:{id:u.items.map(f=>f.productId).join(","),name:u.items.map(f=>`${f.product.name} (x${f.quantity})`).join(", "),description:`从 ${u.store.name} 购买`,category:"game_store_purchase",rarity:"common"},price:p.itemAmount,commission:p.commissionAmount,totalAmount:p.totalPayment,commissionRate:p.commissionAmount/p.itemAmount,transactionType:"game_store",currency:u.currency});for(const f of r)for(let x=0;x<f.quantity;x++)await as.addItemToUserInventory(e,{id:`${f.product.id}_${Date.now()}_${Math.random()}`,name:f.product.name,description:f.product.description,category:f.product.category,rarity:f.product.rarity,price:f.product.price,currency:f.product.currency,gameSource:f.product.gameTitle,sellerId:"game-store",sellerName:f.product.store.name,listedAt:new Date,views:0});return this.orders.push(u),console.log("游戏商城订单创建成功:",{orderId:u.id,transactionId:p.transactionId,itemAmount:p.itemAmount,commissionAmount:p.commissionAmount,totalPayment:p.totalPayment,currency:u.currency}),u}catch(p){throw console.error("创建游戏商城订单失败:",p),u.status="cancelled",u.updatedAt=new Date,new Error(`订单创建失败: ${p instanceof Error?p.message:"未知错误"}`)}}async getUserOrders(e){return this.orders.filter(r=>r.buyerId===e).sort((r,n)=>n.createdAt.getTime()-r.createdAt.getTime())}async getGameStoreStats(){const e=this.stores.filter(f=>f.isActive).length,r=this.products.filter(f=>f.isActive).length,n=this.orders.length,o=this.orders.reduce((f,x)=>f+x.totalAmount,0),l=new Map;this.products.forEach(f=>{const x=l.get(f.category)||{count:0,revenue:0};x.count++,x.revenue+=f.price*f.sold,l.set(f.category,x)});const c=Array.from(l.entries()).map(([f,x])=>({category:f,...x})).sort((f,x)=>x.revenue-f.revenue).slice(0,5),u=new Map;this.orders.forEach(f=>{const x=u.get(f.storeId)||{revenue:0,orderCount:0};x.revenue+=f.totalAmount,x.orderCount++,u.set(f.storeId,x)});const m=Array.from(u.entries()).map(([f,x])=>({store:this.stores.find(v=>v.id===f),...x})).filter(f=>f.store).sort((f,x)=>x.revenue-f.revenue).slice(0,5),p=this.orders.sort((f,x)=>x.createdAt.getTime()-f.createdAt.getTime()).slice(0,10);return{totalStores:e,totalProducts:r,totalOrders:n,totalRevenue:o,topCategories:c,topStores:m,recentOrders:p}}}const Hn=new W6;function H6(){const[s,e]=j.useState([]),[r,n]=j.useState([]),[o,l]=j.useState(!0);cn();const{balance:c,refreshWalletData:u}=Vc(),{lang:m}=Qt(),p=ps(m);j.useEffect(()=>{(async()=>{try{const[v,k]=await Promise.all([Hn.getStores(),Hn.getFeaturedProducts()]);e(v),n(k),await u()}catch(v){console.error("加载数据失败:",v)}finally{l(!1)}})()},[]);const f=async x=>{if(!c){alert("钱包信息加载失败");return}const v=x.price,k=Math.round(v*.3*100)/100,C=Math.round((v+k)*100)/100;let N=!1,w="";switch(x.currency){case"gameCoins":N=c.gameCoins>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"computingPower":N=c.computingPower>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"cash":N=c.cash>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break;case"aCoins":N=c.aCoins>=C,w=y(p,`marketplace.list.currencyNames.${x.currency}`);break}if(!N){alert(`余额不足！

商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${k.toLocaleString()} ${w} (30%)
实际需要: ${C.toLocaleString()} ${w}`);return}const A=`确认购买 ${x.name}？

商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${k.toLocaleString()} ${w} (30%)
实际支付: ${C.toLocaleString()} ${w}
游戏: ${x.gameTitle}

购买后商品将添加到您的库存中。`;if(confirm(A))try{await Hn.createOrder("current-user-id",[{id:`cart-${Date.now()}`,productId:x.id,product:x,quantity:1,addedAt:new Date}],x.currency),await u(),alert(`购买成功！

${x.name} 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${v.toLocaleString()} ${w}
平台佣金: ${k.toLocaleString()} ${w}
实际支付: ${C.toLocaleString()} ${w}`)}catch(D){console.error("购买失败:",D),alert("购买失败，请稍后重试")}};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(p,"gameStore.center.loading")})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:y(p,"gameStore.center.header.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:y(p,"gameStore.center.header.subtitle")})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[c&&t.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[y(p,"gameStore.center.header.walletLabel"),":"]}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.cash.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-a text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:c.aCoins.toLocaleString()})]})]})]}),t.jsx(ne,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:y(p,"common.nav.personalCenter")}),t.jsx(ne,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 transition-colors",children:y(p,"common.nav.backHome")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsxs("section",{className:"mb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:y(p,"gameStore.center.featuredTitle")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.category.all")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.weapon")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.armor")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.consumable")}),t.jsx("option",{children:y(p,"gameStore.center.filters.category.skin")})]}),t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.sort.price")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.asc")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.desc")}),t.jsx("option",{children:"销量排序"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(x=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${G6(x.category)} text-2xl text-slate-400 dark:text-slate-500`})}),t.jsx("div",{className:"flex flex-col items-end gap-2",children:t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${K6(x.rarity)}`,children:Z6(x.rarity)})})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:x.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:x.store.developer.name}),t.jsx(ne,{to:`/game-store/store/${x.storeId}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-3 block",children:x.store.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-2",children:x.description}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[x.price.toLocaleString()," ",y(p,`marketplace.list.currencyNames.${x.currency}`)]})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>f(x),className:"w-full px-3 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-md hover:shadow-lg hover:from-orange-600 hover:to-red-600 transition-all",children:[t.jsx("i",{className:"fa-solid fa-bolt mr-1"}),y(p,"gameStore.center.buttons.buyNow")]})})]})},x.id))})]}),t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:y(p,"gameStore.center.storesTitle")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.games.all")}),t.jsx("option",{children:"王者荣耀"}),t.jsx("option",{children:"梦幻西游"}),t.jsx("option",{children:"原神"})]}),t.jsxs("select",{className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[t.jsx("option",{children:y(p,"gameStore.center.filters.sort.comprehensive")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.sales")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.rating")}),t.jsx("option",{children:y(p,"gameStore.center.filters.sort.attention")})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>t.jsxs(ne,{to:`/game-store/store/${x.id}`,className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"h-32 bg-gradient-to-r relative",style:{background:`linear-gradient(135deg, ${x.theme.primaryColor}, ${x.theme.secondaryColor})`},children:[t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-white text-lg",children:x.name}),t.jsx("p",{className:"text-white/80 text-sm",children:x.developer.name})]}),x.developer.verified&&t.jsx("div",{className:"ml-auto",children:t.jsx("i",{className:"fa-solid fa-badge-check text-blue-400 text-xl"})})]})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-4 line-clamp-2",children:x.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:x.totalProducts}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.products")})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[(x.totalSales/1e4).toFixed(1),"万"]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.sales")})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx("i",{className:"fa-solid fa-star text-yellow-400 text-sm"}),t.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:x.rating})]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:y(p,"gameStore.center.labels.rating")})]})]})]})]},x.id))})]})]})]})}function G6(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"skin":return"fa-palette";case"character":return"fa-user-ninja";case"currency":return"fa-coins";case"bundle":return"fa-box";default:return"fa-gamepad"}}function K6(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";case"mythic":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}function Z6(s){switch(s){case"common":return"普通";case"uncommon":return"优秀";case"rare":return"稀有";case"epic":return"史诗";case"legendary":return"传说";case"mythic":return"神话";default:return"普通"}}function Y6(){const{storeId:s}=Tm(),[e,r]=j.useState(null),[n,o]=j.useState([]),[l,c]=j.useState(null),[u,m]=j.useState(!0),[p,f]=j.useState("all"),{lang:x}=Qt(),v=ps(x);j.useEffect(()=>{(async()=>{if(s)try{const[A,D]=await Promise.all([Hn.getStoreById(s),Hn.getStoreProducts(s)]);r(A),o(D),c({gameCoins:15e3,computingPower:2500,cash:200,totalValue:17750})}catch(A){console.error("加载商店数据失败:",A)}finally{m(!1)}})()},[s]);const k=async w=>{if(!l){alert("钱包信息加载失败");return}const A=w.discountPrice||w.price,D=Math.round(A*.3*100)/100,T=Math.round((A+D)*100)/100;let B=!1,E="";switch(w.currency){case"gameCoins":B=l.gameCoins>=T,E="游戏币";break;case"computingPower":B=l.computingPower>=T,E="算力";break;case"cash":B=l.cash>=T,E="现金";break}if(!B){alert(`余额不足！

商品价格: ${A.toLocaleString()} ${E}
平台佣金: ${D.toLocaleString()} ${E} (30%)
实际需要: ${T.toLocaleString()} ${E}`);return}const _=`确认购买 ${w.name}？

商品价格: ${A.toLocaleString()} ${E}
平台佣金: ${D.toLocaleString()} ${E} (30%)
实际支付: ${T.toLocaleString()} ${E}
游戏: ${w.gameTitle}

购买后商品将添加到您的库存中。`;if(confirm(_))try{await Hn.createOrder("current-user-id",[{id:`cart-${Date.now()}`,productId:w.id,product:w,quantity:1,addedAt:new Date}],w.currency),c(L=>{if(!L)return null;const P={...L};switch(w.currency){case"gameCoins":P.gameCoins-=T,P.totalValue-=T;break;case"computingPower":P.computingPower-=T,P.totalValue-=T;break;case"cash":P.cash-=T,P.totalValue-=T;break}return P}),alert(`购买成功！

${w.name} 已添加到您的库存中，可在个人中心查看。

费用明细:
商品价格: ${A.toLocaleString()} ${E}
平台佣金: ${D.toLocaleString()} ${E}
实际支付: ${T.toLocaleString()} ${E}`)}catch(L){console.error("购买失败:",L),alert("购买失败，请稍后重试")}},C=p==="all"?n:n.filter(w=>w.category===p),N=Array.from(new Set(n.map(w=>w.category)));return u?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(v,"gameStore.detail.loading")})]})}):e?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ne,{to:"/game-store",className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:t.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:[e.developer.name," ",y(v,"gameStore.detail.header.officialStoreSuffix")]})]}),e.developer.verified&&t.jsx("i",{className:"fa-solid fa-badge-check text-blue-500 text-2xl"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[l&&t.jsxs("div",{className:"hidden md:flex flex-col gap-2",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:y(v,"gameStore.detail.walletLabel")}),t.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-coins text-yellow-600 dark:text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-microchip text-blue-600 dark:text-blue-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.computingPower.toLocaleString()})]}),t.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-600"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("i",{className:"fa-solid fa-dollar-sign text-green-600 dark:text-green-400"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l.cash.toLocaleString()})]})]})]}),t.jsx(ne,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:y(v,"common.nav.personalCenter")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsx("section",{className:"mb-8",children:t.jsxs("div",{className:"bg-gradient-to-r rounded-xl p-8 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${e.theme.primaryColor}, ${e.theme.secondaryColor})`},children:[t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-gamepad text-3xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:e.name}),t.jsx("p",{className:"text-white/90 mb-2",children:e.developer.name}),t.jsx("p",{className:"text-white/80",children:e.description})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("i",{className:"fa-solid fa-star text-yellow-400"}),t.jsx("span",{className:"text-xl font-bold",children:e.rating}),t.jsxs("span",{className:"text-white/80",children:["(1234 ",y(v,"gameStore.detail.labels.reviews"),")"]})]}),t.jsxs("div",{className:"text-white/80",children:[e.followers.toLocaleString()," ",y(v,"gameStore.detail.labels.followers")]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:e.totalProducts}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.productCount")})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[(e.totalSales/1e4).toFixed(1),"万"]}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.totalSales")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:new Date(e.createdAt).getFullYear()}),t.jsx("div",{className:"text-white/80",children:y(v,"gameStore.detail.labels.foundedYear")})]})]})]})]})}),t.jsx("section",{className:"mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:y(v,"gameStore.detail.products.title")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${p==="all"?"bg-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:y(v,"gameStore.detail.products.all")}),N.map(w=>t.jsx("button",{onClick:()=>f(w),className:`px-3 py-1 text-sm rounded-full transition-colors ${p===w?"bg-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:Q6(w)},w))]})]}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[y(v,"gameStore.detail.products.totalPrefix")," ",C.length," ",y(v,"gameStore.detail.products.totalSuffix")]})]})}),t.jsxs("section",{children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(w=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:`fa-solid ${q6(w.category)} text-2xl text-slate-400 dark:text-slate-500`})}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X6(w.rarity)}`,children:J6(w.rarity)}),w.discountPrice&&t.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 rounded-full",children:["-",Math.round((1-w.discountPrice/w.price)*100),"%"]})]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:w.name}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:w.description}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:w.discountPrice?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[w.discountPrice.toLocaleString()," ",y(v,`marketplace.list.currencyNames.${w.currency}`)]}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 line-through ml-2",children:w.price.toLocaleString()})]}):t.jsxs(t.Fragment,{children:[w.price.toLocaleString()," ",y(v,`marketplace.list.currencyNames.${w.currency}`)]})}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[y(v,"gameStore.detail.products.stock"),": ",w.stock]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>k(w),className:"w-full px-3 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-md hover:shadow-lg hover:from-orange-600 hover:to-red-600 transition-all",children:[t.jsx("i",{className:"fa-solid fa-bolt mr-1"}),y(v,"gameStore.detail.buttons.buyNow")]})})]})},w.id))}),C.length===0&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("i",{className:"fa-solid fa-box-open text-6xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:y(v,"gameStore.detail.empty.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:y(v,"gameStore.detail.empty.desc")})]})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"fa-solid fa-store-slash text-6xl text-slate-400 dark:text-slate-500 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:y(v,"gameStore.detail.storeNotFound.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8",children:y(v,"gameStore.detail.storeNotFound.desc")}),t.jsxs(ne,{to:"/game-store",className:"inline-flex items-center px-6 py-3 text-lg font-semibold text-white bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg shadow-md hover:shadow-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:[t.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),y(v,"gameStore.detail.storeNotFound.back")]})]})})}function q6(s){switch(s){case"weapon":return"fa-sword";case"armor":return"fa-shield";case"consumable":return"fa-flask";case"material":return"fa-gem";case"skin":return"fa-palette";case"character":return"fa-user-ninja";case"currency":return"fa-coins";case"bundle":return"fa-box";default:return"fa-gamepad"}}function X6(s){switch(s){case"common":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"uncommon":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-300";case"rare":return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-300";case"epic":return"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-300";case"legendary":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-300";case"mythic":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}}function J6(s){switch(s){case"common":return"普通";case"uncommon":return"优秀";case"rare":return"稀有";case"epic":return"史诗";case"legendary":return"传说";case"mythic":return"神话";default:return"普通"}}function Q6(s){switch(s){case"weapon":return"武器";case"armor":return"装备";case"consumable":return"消耗品";case"material":return"材料";case"skin":return"皮肤";case"character":return"角色";case"currency":return"游戏币";case"bundle":return"礼包";default:return"其他"}}function eA(){var c,u,m,p;const[s,e]=j.useState(!0),[r,n]=j.useState(null),[o,l]=j.useState(null);return j.useEffect(()=>{(async()=>{try{console.log("开始加载算力数据...");const x=await Ry.getUserComputingData();console.log("算力数据加载成功:",x),l(x)}catch(x){console.error("加载数据失败:",x),n(x instanceof Error?x.message:"未知错误")}finally{e(!1)}})()},[]),s?t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{children:"加载算力数据中..."})]})}):r?t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"加载失败"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["错误信息: ",r]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"重新加载"})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gray-100",children:[t.jsx("header",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold",children:"算力数据中心 (简化版)"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(ne,{to:"/game-center",className:"text-blue-600 hover:underline",children:"游戏中心"}),t.jsx(ne,{to:"/computing-power",className:"text-blue-600 hover:underline",children:"完整版"})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"用户信息"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"用户名:"})," ",((c=o.user)==null?void 0:c.username)||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"等级:"})," ",((u=o.stats)==null?void 0:u.currentRank)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"总算力:"})," ",((m=o.stats)==null?void 0:m.totalComputingPower)||0]}),t.jsxs("p",{children:[t.jsx("strong",{children:"游戏局数:"})," ",((p=o.stats)==null?void 0:p.totalGamesPlayed)||0]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"最近游戏记录"}),o.recentGames&&o.recentGames.length>0?t.jsx("div",{className:"space-y-2",children:o.recentGames.map((f,x)=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:f.gameName}),t.jsx("span",{className:"text-sm text-gray-500 ml-2",children:new Date(f.completedAt).toLocaleString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold",children:f.score}),t.jsxs("div",{className:"text-sm text-green-600",children:["+",f.computingPowerEarned," 算力"]})]})]},x))}):t.jsx("p",{className:"text-gray-500",children:"还没有游戏记录"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(ne,{to:"/game/match3",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"开始游戏"})})]})]}):t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{children:"没有数据"}),t.jsx(ne,{to:"/game-center",className:"text-blue-600 hover:underline",children:"返回游戏中心"})]})})}function tA(){const[s,e]=j.useState(null),r=$g(),n=async(c,u)=>{try{await navigator.clipboard.writeText(c),e(u),setTimeout(()=>e(null),2e3)}catch(m){console.error("复制失败:",m)}},o=c=>c>=8?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":c>=5?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":c>=3?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300",l=c=>c>=10?"👑 VIP会员":c>=8?"💎 算力大师":c>=5?"🎮 游戏达人":c>=3?"🌟 休闲玩家":"🌱 新手小白";return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("nav",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(ne,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"返回登录"})})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"测试账号列表"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"选择任意账号体验不同等级的游戏数据和算力收益"})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6 mb-8",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("i",{className:"fa-solid fa-info-circle text-blue-600 dark:text-blue-400 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"使用说明"}),t.jsxs("ul",{className:"text-blue-800 dark:text-blue-200 space-y-1 text-sm",children:[t.jsx("li",{children:"• 点击用户名或密码可快速复制到剪贴板"}),t.jsx("li",{children:"• 不同等级的账号拥有不同的游戏数据和算力收益"}),t.jsx("li",{children:"• 建议从低等级账号开始体验，了解游戏成长过程"}),t.jsx("li",{children:"• 所有测试数据仅用于演示，不代表真实收益"})]})]})]})}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:r.map((c,u)=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:c.nickname.charAt(0)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:c.nickname}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${o(c.level)}`,children:["Lv.",c.level]}),t.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:l(c.level)})]})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"用户名"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-mono text-slate-900 dark:text-white",children:c.username}),t.jsx("button",{onClick:()=>n(c.username,`${u}-username`),className:"p-2 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-colors",title:"复制用户名",children:s===`${u}-username`?t.jsx("i",{className:"fa-solid fa-check text-green-600"}):t.jsx("i",{className:"fa-solid fa-copy"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"密码"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-mono text-slate-900 dark:text-white",children:c.password}),t.jsx("button",{onClick:()=>n(c.password,`${u}-password`),className:"p-2 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-colors",title:"复制密码",children:s===`${u}-password`?t.jsx("i",{className:"fa-solid fa-check text-green-600"}):t.jsx("i",{className:"fa-solid fa-copy"})})]})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs(ne,{to:"/login",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[t.jsx("i",{className:"fa-solid fa-sign-in-alt"}),"使用此账号登录"]})})]})},u))}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"需要帮助？"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"如果您在使用测试账号时遇到任何问题，请联系我们的技术支持团队"}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[t.jsxs("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:[t.jsx("i",{className:"fa-solid fa-envelope mr-1"}),"support@allinone.com"]}),t.jsxs("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:[t.jsx("i",{className:"fa-brands fa-qq mr-1"}),"QQ群: 123456789"]})]})]})})]})]})}class sA{constructor(){Ee(this,"STORAGE_KEY","options_management_data");Ee(this,"FUND_POOL_KEY","options_fund_pool_data")}getFundPoolOCoinData(){try{const e=localStorage.getItem(this.FUND_POOL_KEY);if(e)return JSON.parse(e)}catch(e){console.error("获取资金池O币数据失败:",e)}return{totalLockedOCoins:0,totalUnlockedOCoins:0,lastUpdated:new Date}}updateFundPoolOCoinData(e,r){const n=this.getFundPoolOCoinData(),o={totalLockedOCoins:Math.max(0,n.totalLockedOCoins+e),totalUnlockedOCoins:Math.max(0,n.totalUnlockedOCoins+r),lastUpdated:new Date};localStorage.setItem(this.FUND_POOL_KEY,JSON.stringify(o)),console.log("💰 资金池O币数据更新:",o)}async grantOptionsFromPerformance(e,r=2.5){const n=[];let o=0;for(const l of e)try{const c=l.oCoinAmount,u=Number((r*.95).toFixed(2)),m=$t.grantOption(l.userId,c,365);n.push({userId:l.userId,amount:c,strikePrice:u}),o+=c,console.log(`✅ 用户 ${l.userId} 获得 ${c} 个期权，执行价: ¥${u}，对应O币存入资金池`)}catch(c){console.error(`❌ 为用户 ${l.userId} 授予期权失败:`,c)}return o>0&&(this.updateFundPoolOCoinData(o,0),console.log(`💰 将 ${o.toLocaleString()} 个O币存入资金池（未解禁状态）`)),{totalGranted:n.reduce((l,c)=>l+c.amount,0),grantedUsers:n.length,details:n}}getOptionsPoolStats(){try{const e=this.getAllUserOptions();let r=0,n=0,o=0,l=0,c=0;const u=new Set;return e.forEach(m=>{u.add(m.userId),r+=m.totalOptions,n+=m.vestedOptions,o+=m.exercisedOptions,m.options.forEach(p=>{l+=2.5,c++})}),{totalGranted:r,totalVested:n,totalExercised:o,totalUnlocked:0,participatingUsers:u.size,averageStrikePrice:c>0?l/c:0,lastUpdateTime:new Date}}catch(e){return console.error("获取期权池统计失败:",e),{totalGranted:0,totalVested:0,totalExercised:0,totalUnlocked:0,participatingUsers:0,averageStrikePrice:0,lastUpdateTime:new Date}}}getAllUserOptions(){return["user-1","user-2","user-3","user-4","user-5"].map(r=>{const n=$t.getUserOptions(r),o=n.reduce((u,m)=>u+m.amount,0),l=n.reduce((u,m)=>u+m.vestedAmount,0);return{userId:r,totalOptions:o,vestedOptions:l,exercisedOptions:0,unlockedOptions:l,strikePrice:2.5,grantDate:n.length>0?n[0].grantDate:new Date,options:n}}).filter(r=>r.totalOptions>0)}getTopOptionHolders(e=10){return this.getAllUserOptions().sort((n,o)=>o.totalOptions-n.totalOptions).slice(0,e).map(n=>({userId:n.userId,totalOptions:n.totalOptions,vestedOptions:n.vestedOptions,strikePrice:n.strikePrice}))}async processVesting(){const e=this.getAllUserOptions();let r=0,n=0,o=0;for(const l of e){let c=0;for(const u of l.options)if(!u.isFullyVested){const p=Math.floor((new Date().getTime()-u.grantDate.getTime())/(1e3*60*60*24));if(p>0){const f=u.amount/u.vestingPeriod,v=Math.min(f*p,u.amount)-u.vestedAmount;if(v>0)try{$t.vestOption(u.id,v),r+=v,c+=v,console.log(`✨ 用户 ${l.userId} 期权 ${u.id} 成熟 ${v.toFixed(2)} 个`)}catch(k){console.error(`期权成熟处理失败: ${u.id}`,k)}}}if(c>0)try{this.updateFundPoolOCoinData(-c,0),await Ye.recordOCoinVesting(c,`期权解禁 - ${c.toFixed(2)} O币`),n+=c,o++,console.log(`💰 用户 ${l.userId} 获得 ${c.toFixed(2)} 个解禁O币，已发放到个人账户`)}catch(u){console.error(`发放O币到个人账户失败: ${l.userId}`,u)}}return{totalVested:r,affectedUsers:o,totalUnlocked:n}}async exerciseOptions(e,r,n){try{const l=$t.getUserOptions(e).reduce((p,f)=>p+f.vestedAmount,0);if(r>l)return{success:!1,exercisedAmount:0,profit:0,message:`行权数量(${r})超过已成熟期权数量(${l})`};const c=2.5;if(n<=c)return{success:!1,exercisedAmount:0,profit:0,message:`当前市价(¥${n})低于执行价(¥${c})，行权无收益`};const u=(n-c)*r,m=$t.getUserBalance(e);return m.availableBalance+=r,{success:!0,exercisedAmount:r,profit:u,message:`成功行权 ${r} 个期权，获得收益 ¥${u.toFixed(2)}`}}catch(o){return console.error("期权行权失败:",o),{success:!1,exercisedAmount:0,profit:0,message:`行权失败: ${o instanceof Error?o.message:"未知错误"}`}}}clearOptionsData(){localStorage.removeItem(this.STORAGE_KEY),console.log("✅ 期权数据已清空")}}const Ca=new sA,rA=({className:s=""})=>{const[e,r]=j.useState({currentPrice:0,circulatingSupply:0,totalSupply:1e9,totalDistributed:0,totalLocked:0,marketCap:0,priceHistory:[],dividendPool:0,lastDividendDate:null,lastDividendPerCoin:0,allTimeHigh:0,allTimeLow:0,lastUpdated:new Date}),[n,o]=j.useState({totalLockedOCoins:0,totalUnlockedOCoins:0,lastUpdated:new Date}),[l,c]=j.useState(!0);j.useEffect(()=>{u();const m=setInterval(u,3e4);return()=>clearInterval(m)},[]);const u=async()=>{try{c(!0);const m=await $t.getOCoinMarketData();r({...m,lastUpdated:new Date(m.lastUpdated),lastDividendDate:m.lastDividendDate?new Date(m.lastDividendDate):null});const p=Ca.getFundPoolOCoinData();o({...p,lastUpdated:new Date(p.lastUpdated)})}catch(m){console.error("加载O币市场数据失败:",m)}finally{c(!1)}};return l?t.jsx("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 ${s}`,children:t.jsxs("div",{className:"flex items-center justify-center h-32",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),t.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",children:"加载O币市场数据..."})]})}):t.jsxs("div",{className:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-6 ${s}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"🔶"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-orange-800 dark:text-orange-400",children:"O币市场数据"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"实时市场价格、分红信息与供应统计"})]})]}),t.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",children:"🔄 刷新"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"当前价格"}),t.jsxs("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["¥",e.currentPrice.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"市值"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",(e.marketCap/1e8).toFixed(2),"亿"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"分红池"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["¥",e.dividendPool.toLocaleString()]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"历史最高"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["¥",e.allTimeHigh.toFixed(2)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"供应情况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"总供应量"}),t.jsxs("span",{children:[(e.totalSupply/1e8).toFixed(1),"亿枚"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"100%"}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"流通量"}),t.jsxs("span",{children:[(e.circulatingSupply/1e8).toFixed(2),"亿枚 (",(e.circulatingSupply/e.totalSupply*100).toFixed(1),"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.circulatingSupply/e.totalSupply*100}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-1",children:[t.jsx("span",{children:"锁定量"}),t.jsxs("span",{children:[(e.totalLocked/1e8).toFixed(2),"亿枚 (",(e.totalLocked/e.totalSupply*100).toFixed(1),"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 h-2 rounded-full",children:t.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${e.totalLocked/e.totalSupply*100}%`}})})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"资金池O币"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"未解禁O币"}),t.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:n.totalLockedOCoins.toLocaleString()})]})}),t.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"已解禁O币"}),t.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:n.totalUnlockedOCoins.toLocaleString()})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"分红情况"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前分红池"}),t.jsxs("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["¥",e.dividendPool.toLocaleString()]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"上次分红日期"}),t.jsx("span",{className:"text-sm font-medium",children:e.lastDividendDate?new Date(e.lastDividendDate).toLocaleDateString():"暂无"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"上次每币分红"}),t.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["¥",e.lastDividendPerCoin.toFixed(4)]})]})]})]})]})]}),t.jsxs("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400 text-center",children:["最后更新: ",e.lastUpdated.toLocaleString()]})]})};function aA(){const[s,e]=j.useState(null),[r,n]=j.useState([]),[o,l]=j.useState(!0),[c,u]=j.useState("overview"),[m,p]=j.useState({type:"",category:"",source:"",currency:""}),[f,x]=j.useState(null),[v,k]=j.useState(!1),[C,N]=j.useState(!1),[w,A]=j.useState(null),[D,T]=j.useState({lastChecked:null,lastSettled:null,isEnabled:!0,message:"自动结算已启用"});j.useEffect(()=>{_(),L(),B();const O=setInterval(_,3e4);return()=>{clearInterval(O)}},[]);const B=async()=>{var O,V,K;if(D.isEnabled)try{T(J=>({...J,lastChecked:new Date,message:"正在检查自动结算..."}));const R=await ns.checkAndExecuteAutoDailySettlement();L(),R.executed?(O=R.result)!=null&&O.success?(T(J=>{var Q,I,H;return{...J,lastSettled:new Date,message:`自动结算成功完成! 发放了 ${(I=(Q=R.result)==null?void 0:Q.distributedAmount)==null?void 0:I.toFixed(2)} A币给 ${(H=R.result)==null?void 0:H.recipientsCount} 名用户`}}),_(),A({success:!0,message:"每日自动结算成功完成！",distributedAmount:(V=R.result)==null?void 0:V.distributedAmount,recipientsCount:(K=R.result)==null?void 0:K.recipientsCount})):T(J=>{var Q;return{...J,message:`自动结算失败: ${(Q=R.result)==null?void 0:Q.message}`}}):T(J=>({...J,message:"今日已自动结算或尚未到自动结算时间"}))}catch(R){console.error("检查自动结算失败:",R),T(J=>({...J,message:`检查自动结算失败: ${R instanceof Error?R.message:"未知错误"}`}))}},E=()=>{T(O=>({...O,isEnabled:!O.isEnabled,message:O.isEnabled?"自动结算已禁用":"自动结算已启用"}))},_=async()=>{try{const[O,V]=await Promise.all([dt.getPublicFundPoolData(),dt.getAllTransactions()]);e(O),n(V)}catch(O){console.error("加载资金池数据失败:",O)}finally{l(!1)}},L=async()=>{try{const O=await ns.getDailySettlementData();x(O)}catch(O){console.error("加载每日结算数据失败:",O)}},P=async()=>{if(!(!f||f.settlementStatus!=="ready")){N(!0),A(null);try{const O={...f,settlementStatus:"processing"};x(O),await new Promise(I=>setTimeout(I,1500));const V=await ns.getActiveUsersWithContributionScores(),K=await en.distributeACoinsByContribution(f.aCoinDistributionPool,V),R=K.successfulDistributions.find(I=>I.userId==="current-user");R&&await Ye.distributeACoins(R.amount,`每日结算A币奖励 - 贡献分数: ${R.contributionScore.toFixed(2)}`);const J={...O,settlementStatus:"completed",lastSettlementTime:new Date};x(J);const Q=await dt.getPublicFundPoolData();e(Q),A({success:!0,message:"结算成功完成！",distributedAmount:K.totalAmount,recipientsCount:K.recipientsCount})}catch(O){console.error("执行结算失败:",O);const V={...f,settlementStatus:"failed"};x(V),A({success:!1,message:`结算失败: ${O instanceof Error?O.message:"未知错误"}`})}finally{N(!1)}}},U=async()=>{try{const O=await dt.searchTransactions({type:m.type,category:m.category,source:m.source});let V=O;m.currency&&(V=O.filter(K=>K.currency===m.currency)),n(V)}catch(O){console.error("搜索失败:",O)}},W=()=>{p({type:"",category:"",source:"",currency:""}),_()},re=(O,V)=>{const K={computingPower:"算力",computing:"算力",cash:"现金",gameCoins:"游戏币",aCoins:"A币"};return`${O.toLocaleString()} ${K[V]||V}`},te=O=>O==="income"?"text-green-600":"text-red-600",se=O=>O==="income"?"↗️":"↙️",ae=(O,V)=>V>0?O/V*100:0;return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"加载资金池数据中..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[t.jsx("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"平台资金池"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"透明公开的平台财务数据"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsx("span",{children:"🔄 实时更新"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"📊 公开透明"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"🔒 隐私保护"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ne,{to:"/",className:"px-4 py-2 text-sm font-medium text-white bg-slate-500 hover:bg-slate-600 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-1"}),"主页"]}),t.jsxs(ne,{to:"/computing-power",className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-user mr-1"}),"个人中心"]}),t.jsxs(ne,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-chart-line mr-1"}),"算力中心"]})]})]})]})})}),t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex space-x-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg mb-8",children:[{key:"overview",label:"总览",icon:"📊"},{key:"transactions",label:"交易记录",icon:"📋"},{key:"charts",label:"数据图表",icon:"📈"},{key:"ocoin",label:"O币市场",icon:"🔶"}].map(O=>t.jsxs("button",{onClick:()=>u(O.key),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md font-medium transition-colors ${c===O.key?"bg-white dark:bg-slate-800 text-blue-600 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[t.jsx("span",{children:O.icon}),O.label]},O.key))}),c==="overview"&&s&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"算力余额"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:(s.currentBalance.computingPower??0).toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"⚡"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"现金余额"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["¥",s.currentBalance.cash.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"💰"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币余额"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s.currentBalance.gameCoins.toLocaleString()})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🪙"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"A币余额"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[(s.aCoinStats.totalSupply-s.aCoinStats.circulatingSupply).toLocaleString()," A币"]}),t.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"总量-发放量的净值"}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["累计发放：",s.aCoinStats.totalDistributed.toLocaleString()," A币"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🅰️"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总价值"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["¥",s.currentBalance.totalValue.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"💎"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"收入统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总收入"}),t.jsxs("span",{className:"font-medium text-green-600",children:["¥",s.stats.totalIncome.totalValue.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"佣金收入"}),t.jsxs("span",{className:"font-medium",children:["¥",s.stats.incomeByCategory.commission.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"支出统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总支出"}),t.jsxs("span",{className:"font-medium text-red-600",children:["¥",s.stats.totalExpense.totalValue.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"奖励支出"}),t.jsxs("span",{className:"font-medium",children:["¥",s.stats.expenseByCategory.reward.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"交易统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"总交易数"}),t.jsx("span",{className:"font-medium",children:s.transactionCount.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"平均金额"}),t.jsxs("span",{className:"font-medium",children:["¥",s.averageTransactionAmount.toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/10 dark:to-indigo-900/10 rounded-xl p-8 border border-purple-200 dark:border-purple-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-white",children:"🅰️"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"A币 (平台币)"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"固定总量10亿，1 A币 = 1 RMB，最小单位0.01元"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ne,{to:"/acoin-settlement-test",className:"px-4 py-2 text-sm font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/30 transition-colors flex items-center gap-1",children:[t.jsx("span",{children:"🧮"}),"A币结算测试"]}),t.jsxs(ne,{to:"/acoin-calculation-test",className:"px-4 py-2 text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800/30 transition-colors flex items-center gap-1",children:[t.jsx("span",{children:"📊"}),"A币计算测试"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"总供应量"}),t.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[s.aCoinStats.totalSupply.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"流通供应量"}),t.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s.aCoinStats.circulatingSupply.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"累计发放"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[s.aCoinStats.totalDistributed.toLocaleString()," A币"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"持有者数量"}),t.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[s.aCoinStats.holdersCount.toLocaleString()," 人"]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm mb-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[t.jsx("span",{children:"🧮"}),"每日结算A币"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>k(!v),className:"px-3 py-1 text-sm bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-800/30 transition-colors",children:v?"隐藏详情":"显示详情"}),t.jsx("button",{onClick:E,className:`px-3 py-1 text-sm ${D.isEnabled?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/30":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"} rounded-lg transition-colors`,children:D.isEnabled?"自动结算: 开":"自动结算: 关"}),f&&f.settlementStatus==="ready"&&t.jsx("button",{onClick:P,disabled:C,className:`px-3 py-1 text-sm ${C?"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/30"} rounded-lg transition-colors flex items-center gap-1`,children:C?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-green-500 rounded-full border-t-transparent"}),"处理中..."]}):"手动结算"})]})]}),t.jsx("div",{className:`mb-4 p-3 rounded-lg ${D.isEnabled?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-lg ${D.isEnabled?"text-blue-500":"text-gray-500"}`,children:D.isEnabled?"🔄":"⏸️"}),t.jsxs("div",{children:[t.jsx("h4",{className:`font-medium ${D.isEnabled?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:D.isEnabled?"自动结算已启用":"自动结算已禁用"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:D.message})]})]}),t.jsxs("div",{className:"text-right text-xs text-slate-500 dark:text-slate-400",children:[D.lastChecked&&t.jsxs("div",{children:["上次检查: ",D.lastChecked.toLocaleTimeString()]}),D.lastSettled&&t.jsxs("div",{children:["上次结算: ",D.lastSettled.toLocaleTimeString()]})]})]})}),f?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"今日结算日期"}),t.jsx("div",{className:"text-lg font-medium",children:f.date})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"结算状态"}),t.jsx("div",{className:`text-lg font-medium ${f.settlementStatus==="ready"?"text-green-600":f.settlementStatus==="completed"?"text-blue-600":f.settlementStatus==="processing"?"text-yellow-600":"text-red-600"}`,children:f.settlementStatus==="ready"?"待结算":f.settlementStatus==="completed"?"已完成":f.settlementStatus==="processing"?"处理中":f.settlementStatus==="insufficient_income"?"收入不足":"失败"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"平台净收入"}),t.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["¥",f.platformNetIncome.toLocaleString()]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"A币发放池"}),t.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[f.aCoinDistributionPool.toLocaleString()," A币"]}),t.jsx("div",{className:"text-xs text-blue-500",children:"平台净收入的40%"})]}),t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"活跃用户数"}),t.jsxs("div",{className:"text-xl font-bold text-green-600",children:[f.totalDailyActivePlayers.toLocaleString()," 人"]})]}),t.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"总贡献分数"}),t.jsx("div",{className:"text-xl font-bold text-orange-600",children:f.totalContributionScore.toLocaleString()})]})]}),t.jsx("div",{className:"mt-4 bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"A币余额 (总量-发放量)"}),t.jsxs("div",{className:"text-xl font-bold text-indigo-600",children:[(s.aCoinStats.totalSupply-s.aCoinStats.circulatingSupply).toLocaleString()," A币"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"净值计算"}),t.jsxs("div",{className:"text-sm text-indigo-500",children:[s.aCoinStats.totalSupply.toLocaleString()," - ",s.aCoinStats.circulatingSupply.toLocaleString()]})]})]})}),w&&t.jsxs("div",{className:`mt-4 p-4 rounded-lg ${w.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:`text-lg ${w.success?"text-green-600":"text-red-600"}`,children:w.success?"✅":"❌"}),t.jsx("h4",{className:`font-medium ${w.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:w.success?"结算成功":"结算失败"})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:w.message}),w.success&&w.distributedAmount!==void 0&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"总发放A币"}),t.jsxs("div",{className:"text-lg font-medium text-blue-600",children:[w.distributedAmount.toFixed(2)," A币"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"受益用户数"}),t.jsxs("div",{className:"text-lg font-medium text-green-600",children:[w.recipientsCount," 人"]})]})]})]}),v&&t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"计算过程详解"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第一步：确定发放池"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"平台净收入 × 40% = A币发放池"}),t.jsxs("div",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:[f.platformNetIncome," × 0.4 = ",f.aCoinDistributionPool," A币"]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第二步：计算贡献分数"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"每个用户的贡献分数由三部分组成："}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("div",{children:"• 游戏币获得贡献 (50%权重)"}),t.jsx("div",{children:"• 算力贡献 (30%权重)"}),t.jsx("div",{children:"• 交易活跃度 (20%权重)"})]}),t.jsxs("div",{className:"mt-2",children:["全网总贡献分数：",f.totalContributionScore.toLocaleString()]}),t.jsxs("div",{children:["平均贡献分数：",f.averageContributionScore.toLocaleString()]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第三步：分配A币"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 发放池"}),t.jsxs("div",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded mt-2",children:["例如：用户贡献分数为0.5，则获得A币 = (0.5 ÷ ",f.totalContributionScore,") × ",f.aCoinDistributionPool," ≈ ",(.5/f.totalContributionScore*f.aCoinDistributionPool).toFixed(2)," A币"]})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2",children:"第四步：发放条件"}),t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsx("div",{children:"• 平台净收入必须大于0"}),t.jsx("div",{children:"• 个人贡献分数必须大于0.1"}),t.jsx("div",{children:"• 计算结果必须大于最小发放单位0.01 A币"}),t.jsxs("div",{className:"mt-2 font-medium",children:["今日结算状态：",t.jsx("span",{className:`ml-2 ${f.settlementStatus==="ready"?"text-green-600":f.settlementStatus==="completed"?"text-blue-600":f.settlementStatus==="processing"?"text-yellow-600":"text-red-600"}`,children:f.settlementStatus==="ready"?"待结算":f.settlementStatus==="completed"?"已完成":f.settlementStatus==="processing"?"处理中":f.settlementStatus==="insufficient_income"?"收入不足":"失败"})]})]})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"今日数据统计"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"游戏币分发总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyGameCoinsDistributed.toLocaleString()," 游戏币"]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"算力总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyComputingPower.toLocaleString()," 算力"]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"交易总量"}),t.jsxs("div",{className:"text-lg font-medium",children:[f.totalDailyTransactions.toLocaleString()," 笔"]})]})]})]})]})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"加载结算数据中..."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📋"}),"A币发放规则"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"1"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"平台收入转化"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"只有平台净收入>0时，才将其40%转化为A币发放。无收入时不发放，确保A币价值稳定。"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"2"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"个人贡献分数计算"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"基于当日实际可获得数据计算："}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500 space-y-1 ml-2",children:[t.jsx("div",{children:"• 游戏币获得贡献 (50%权重)"}),t.jsx("div",{children:"• 算力贡献 (30%权重)"}),t.jsx("div",{children:"• 交易活跃度 (20%权重)"})]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"3"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"分配公式"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 当日发放池"}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"最小发放单位0.01A币，低于此数额不发放"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-xs font-bold text-purple-600 dark:text-purple-400",children:"4"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:"基金模式特点"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"A币发放即转移给用户，不在资金池中储存。贡献分数≥0.1才能获得奖励，最小发放0.01A币。"})]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"💡"}),"A币特性说明"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:"固定总量"}),t.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"总供应量恒定10亿枚，永不增发，稀缺性保证价值稳定"})]}),t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"价值锚定"}),t.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"1 A币 = 1 RMB，价值稳定，可用于平台内所有奖励发放"})]}),t.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"基金模式"}),t.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"A币不在资金池中储存，发放即转移给用户。只有平台有净收入时才会产生A币发放，确保每个A币都有实际价值支撑。"})]}),t.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border border-purple-200 dark:border-purple-700",children:[t.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"🧮"}),"计算示例"]}),t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300 space-y-2",children:[t.jsx("div",{children:t.jsx("strong",{children:"假设条件："})}),t.jsxs("div",{className:"ml-2 text-xs space-y-1",children:[t.jsx("div",{children:"• 平台当日净收入：1000元"}),t.jsx("div",{children:"• A币发放池：1000 × 40% = 400A币"}),t.jsx("div",{children:"• 用户A当日数据：100游戏币，10算力，50元交易"}),t.jsx("div",{children:"• 全网当日数据：2000游戏币，200算力，1000元交易"})]}),t.jsxs("div",{className:"border-t border-purple-200 dark:border-purple-600 pt-2 mt-2",children:[t.jsx("div",{children:t.jsx("strong",{children:"计算过程："})}),t.jsxs("div",{className:"ml-2 text-xs space-y-1",children:[t.jsx("div",{children:"1. 贡献分数 = (100/2000)×0.5 + (10/200)×0.3 + (50/1000)×0.2"}),t.jsx("div",{className:"ml-4",children:"= 0.05 + 0.015 + 0.01 = 0.075"}),t.jsx("div",{children:"2. 假设全网总贡献分数 = 1.0"}),t.jsxs("div",{children:["3. 用户A获得A币 = (0.075 ÷ 1.0) × 400 = ",t.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"30 A币"})]})]}),t.jsxs("div",{className:"mt-2 p-2 bg-purple-100 dark:bg-purple-800/30 rounded text-xs",children:[t.jsx("strong",{children:"最终结果："}),"用户A当日获得30A币奖励 (价值30元)"]})]})]})]})]})]})]})]})]}),c==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"筛选条件"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("select",{value:m.type,onChange:O=>p(V=>({...V,type:O.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有类型"}),t.jsx("option",{value:"income",children:"收入"}),t.jsx("option",{value:"expense",children:"支出"})]}),t.jsxs("select",{value:m.category,onChange:O=>p(V=>({...V,category:O.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有类别"}),t.jsx("option",{value:"commission",children:"佣金"}),t.jsx("option",{value:"reward",children:"奖励"}),t.jsx("option",{value:"operation",children:"运营"}),t.jsx("option",{value:"refund",children:"退款"}),t.jsx("option",{value:"maintenance",children:"维护"})]}),t.jsxs("select",{value:m.source,onChange:O=>p(V=>({...V,source:O.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有来源"}),t.jsx("option",{value:"player_market",children:"玩家市场"}),t.jsx("option",{value:"game_store",children:"游戏电商"}),t.jsx("option",{value:"official_store",children:"官方商店"}),t.jsx("option",{value:"system",children:"系统"})]}),t.jsxs("select",{value:m.currency,onChange:O=>p(V=>({...V,currency:O.target.value})),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[t.jsx("option",{value:"",children:"所有货币"}),t.jsx("option",{value:"cash",children:"💰 现金"}),t.jsx("option",{value:"computing",children:"⚡ 算力"}),t.jsx("option",{value:"gameCoins",children:"🪙 游戏币"}),t.jsx("option",{value:"aCoins",children:"🅰️ A币"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"搜索"}),t.jsx("button",{onClick:W,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 transition-colors",children:"重置"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"交易记录"}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["共 ",r.length," 条记录"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"交易编号"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"类型"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"金额"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"描述"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"来源"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"时间"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.slice(0,50).map(O=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-slate-900 dark:text-slate-100",children:O.id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsxs("span",{className:`flex items-center gap-1 ${te(O.type)}`,children:[se(O.type),O.type==="income"?"收入":"支出"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("span",{className:te(O.type),children:[O.type==="income"?"+":"-",re(O.amount,O.currency)]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:O.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400",children:O.source}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400",children:O.timestamp.toLocaleString()})]},O.id))})]})})]})]}),c==="charts"&&s&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"近7日趋势"}),t.jsx("div",{className:"space-y-4",children:s.stats.dailyStats.slice(-7).map((O,V)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:O.date.split("-").slice(1).join("/")}),t.jsxs("span",{className:"font-medium",children:["净收入: ¥",O.netIncome.toLocaleString()]})]}),t.jsxs("div",{className:"flex gap-1 h-2",children:[t.jsx("div",{className:"bg-green-500 rounded-sm",style:{width:`${ae(O.income,Math.max(...s.stats.dailyStats.map(K=>K.income)))}%`},title:`收入: ¥${O.income}`}),t.jsx("div",{className:"bg-red-500 rounded-sm",style:{width:`${ae(O.expense,Math.max(...s.stats.dailyStats.map(K=>K.expense)))}%`},title:`支出: ¥${O.expense}`})]})]},V))}),t.jsxs("div",{className:"flex gap-4 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),t.jsx("span",{children:"收入"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),t.jsx("span",{children:"支出"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"收支分类"}),t.jsx("div",{className:"space-y-4",children:[{label:"佣金收入",value:s.stats.incomeByCategory.commission,color:"bg-green-500",type:"income"},{label:"运营收入",value:s.stats.incomeByCategory.operation,color:"bg-blue-500",type:"income"},{label:"奖励支出",value:s.stats.expenseByCategory.reward,color:"bg-yellow-500",type:"expense"},{label:"退款支出",value:s.stats.expenseByCategory.refund,color:"bg-red-500",type:"expense"},{label:"维护支出",value:s.stats.expenseByCategory.maintenance,color:"bg-purple-500",type:"expense"}].map((O,V)=>{const K=Math.max(s.stats.incomeByCategory.commission,s.stats.incomeByCategory.operation,s.stats.expenseByCategory.reward,s.stats.expenseByCategory.refund,s.stats.expenseByCategory.maintenance);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:O.label}),t.jsxs("span",{className:"font-medium",children:["¥",O.value.toLocaleString()]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`${O.color} h-2 rounded-full transition-all duration-300`,style:{width:`${ae(O.value,K)}%`}})})]},V)})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/10 dark:to-indigo-900/10 rounded-xl p-8 border border-purple-200 dark:border-purple-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-2xl text-white",children:"🅰️"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"A币数据分析"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"发放趋势、持有分布、流通统计"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📈"}),"A币发放趋势 (近7日)"]}),t.jsx("div",{className:"space-y-4",children:[{date:"09/04",distributed:0,platformIncome:0},{date:"09/05",distributed:0,platformIncome:0},{date:"09/06",distributed:.8,platformIncome:2},{date:"09/07",distributed:0,platformIncome:0},{date:"09/08",distributed:1.17,platformIncome:2.925},{date:"09/09",distributed:.5,platformIncome:1.25},{date:"09/10",distributed:1.2,platformIncome:3}].map((O,V)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:O.date}),t.jsxs("span",{className:"font-medium text-purple-600",children:["发放: ",O.distributed,"A币"]})]}),t.jsx("div",{className:"flex gap-1 h-2",children:t.jsx("div",{className:"bg-purple-500 rounded-sm",style:{width:`${O.distributed>0?O.distributed/1.2*100:0}%`},title:`发放: ${O.distributed}A币`})}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["平台收入: ¥",O.platformIncome]})]},V))})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"👥"}),"持有者分布"]}),t.jsx("div",{className:"space-y-4",children:[{range:"1000+ A币",holders:2,percentage:15,color:"bg-purple-600"},{range:"500-999 A币",holders:5,percentage:25,color:"bg-purple-500"},{range:"100-499 A币",holders:12,percentage:35,color:"bg-purple-400"},{range:"10-99 A币",holders:18,percentage:20,color:"bg-purple-300"},{range:"1-9 A币",holders:8,percentage:5,color:"bg-purple-200"}].map((O,V)=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:O.range}),t.jsxs("span",{className:"font-medium",children:[O.holders,"人 (",O.percentage,"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`${O.color} h-2 rounded-full transition-all duration-300`,style:{width:`${O.percentage}%`}})})]},V))})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"📊"}),"A币月度统计"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{month:"2024/07",distributed:0,holders:0,avgHolding:0},{month:"2024/08",distributed:0,holders:0,avgHolding:0},{month:"2024/09",distributed:3.67,holders:45,avgHolding:.08},{month:"2024/10",distributed:12.5,holders:68,avgHolding:.18},{month:"2024/11",distributed:28.3,holders:89,avgHolding:.32},{month:"2024/12",distributed:45.2,holders:112,avgHolding:.4}].map((O,V)=>t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[O.month.split("/")[1],"月"]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-xs text-purple-600",children:"发放量"}),t.jsxs("div",{className:"text-sm font-medium",children:[O.distributed,"A币"]}),t.jsx("div",{className:"text-xs text-blue-600",children:"持有者"}),t.jsxs("div",{className:"text-sm font-medium",children:[O.holders,"人"]}),t.jsx("div",{className:"text-xs text-green-600",children:"平均持有"}),t.jsxs("div",{className:"text-sm font-bold",children:[O.avgHolding,"A币"]})]})]},V))})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"🏆"}),"2024年度A币总结"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/30 dark:to-purple-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"89.67"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"累计发放 (A币)"}),t.jsx("div",{className:"text-xs text-purple-500 mt-1",children:"≈ ¥89.67"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"112"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总持有者数"}),t.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"较上月+23人"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"0.80"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平均持有量 (A币)"}),t.jsx("div",{className:"text-xs text-green-500 mt-1",children:"持续增长"})]}),t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:"0.009%"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"流通率"}),t.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"89.67/1000000000"})]})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"月度统计"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.stats.monthlyStats.map((O,V)=>t.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:O.month}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-xs text-green-600",children:"收入"}),t.jsxs("div",{className:"text-sm font-medium",children:["¥",O.income.toLocaleString()]}),t.jsx("div",{className:"text-xs text-red-600",children:"支出"}),t.jsxs("div",{className:"text-sm font-medium",children:["¥",O.expense.toLocaleString()]}),t.jsx("div",{className:"text-xs text-blue-600",children:"净收入"}),t.jsxs("div",{className:"text-sm font-bold",children:["¥",O.netIncome.toLocaleString()]})]})]},V))})]})]}),c==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(rA,{}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"🎯 O币相关操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(ne,{to:"/computing-power",className:"flex items-center space-x-3 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"💱"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-400",children:"交易O币"}),t.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-500",children:"前往个人中心买入或出售"})]})]}),t.jsxs(ne,{to:"/computing-dashboard",className:"flex items-center space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"📊"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-400",children:"算力中心"}),t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-500",children:"查看算力生态数据"})]})]}),t.jsxs(ne,{to:"/platform-management",className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[t.jsx("span",{className:"text-2xl",children:"🔐"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-400",children:"期权管理"}),t.jsx("div",{className:"text-sm text-green-600 dark:text-green-500",children:"前往平台管理系统"})]})]})]})]}),t.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/30 border border-orange-300 dark:border-orange-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-400 mb-2",children:"💡 资金池与O币的关系"}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-500 space-y-1",children:[t.jsx("p",{children:"• 资金池的净收入将用于O币分红，按持币比例分配给所有O币持有者"}),t.jsx("p",{children:"• O币的交易手续费将进入资金池，增强平台整体资金实力"}),t.jsx("p",{children:"• 资金池的健康状况直接影响O币的分红能力和市场价值"}),t.jsx("p",{children:"• 通过资金池透明度提升O币投资者的信心和收益预期"})]})]})]})]})]})}function nA(){const[s,e]=j.useState(null),[r,n]=j.useState(!0);j.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await dt.getStats();e(u)}catch(u){console.error("加载统计数据失败:",u)}finally{n(!1)}},l=async u=>{const m=Math.floor(Math.random()*500)+50,p=u==="marketplace"?m*.01:m*.3,f=`TXN-${Date.now()}`;try{await dt.recordCommissionIncome(f,p,u,`user${Math.floor(Math.random()*1e3)}`,m),alert(`模拟交易成功！
交易编号: ${f}
商品金额: ${m}元
佣金收入: ${p.toFixed(2)}元`),await o()}catch(x){console.error("模拟交易失败:",x),alert("模拟交易失败，请稍后重试")}},c=async()=>{const u=Math.floor(Math.random()*200)+20,m=["computing","cash","gameCoins"],p=m[Math.floor(Math.random()*m.length)],f=["用户签到奖励","新用户注册奖励","活动奖励发放","服务器维护费用","推广活动支出"],x=f[Math.floor(Math.random()*f.length)];try{await dt.recordExpense(u,p,x),alert(`模拟支出成功！
支出类型: ${p}
支出金额: ${u}元
描述: ${x}`),await o()}catch(v){console.error("模拟支出失败:",v),alert("模拟支出失败，请稍后重试")}};return r?t.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"加载中..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"资金池系统演示"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"体验透明的平台资金管理系统"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Link,{to:"/",className:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-1"}),"主页"]}),t.jsxs(Link,{to:"/computing-dashboard",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[t.jsx("i",{className:"fa-solid fa-chart-line mr-1"}),"算力中心"]})]})]})}),s&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前余额"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["¥",s.currentBalance.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-wallet text-green-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总收入"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["¥",s.totalIncome.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-up text-blue-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"总支出"}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["¥",s.totalExpense.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-down text-red-600"})})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"今日收入"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["¥",s.dailyIncome.toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-calendar-day text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-md mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"模拟操作"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>l("marketplace"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-store mr-2"}),"模拟玩家交易 (1%佣金)"]}),t.jsxs("button",{onClick:()=>l("game_store"),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-gamepad mr-2"}),"模拟游戏电商 (30%佣金)"]}),t.jsxs("button",{onClick:c,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-money-bill mr-2"}),"模拟平台支出"]})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:[t.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),"系统说明"]}),t.jsxs("div",{className:"space-y-2 text-blue-800 dark:text-blue-200",children:[t.jsx("p",{children:"• 点击上方按钮可以模拟不同类型的交易和支出"}),t.jsx("p",{children:"• 每次操作后统计数据会自动更新"}),t.jsx("p",{children:"• 所有交易都会生成唯一的交易编号"}),t.jsx("p",{children:"• 用户身份信息在公开展示中会被隐藏"}),t.jsxs("p",{children:["• 访问 ",t.jsx("a",{href:"/fund-pool",className:"underline hover:no-underline",children:"/fund-pool"})," 查看完整的资金池页面"]})]})]})]})})})}const iA=()=>{var D;const[s,e]=j.useState(!1),[r,n]=j.useState([]),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState(1e3),[f,x]=j.useState(100);j.useEffect(()=>{v()},[]);const v=async()=>{try{e(!0);const[T,B]=await Promise.all([dt.getPublicFundPoolData(),ns.getDailySettlementData()]);l(T),u(B),k(`当前资金池余额: ${T.currentBalance.totalValue.toFixed(2)}`),k(`当前平台净收入: ${B.platformNetIncome.toFixed(2)}`),k(`当前结算状态: ${B.settlementStatus}`),k(`A币发放池: ${B.aCoinDistributionPool.toFixed(2)}`);const E=localStorage.getItem("forced_platform_income");if(E){const L=parseFloat(E);k(`已设置强制平台净收入: ${L.toFixed(2)}`)}const _=localStorage.getItem("mock_active_users");if(_){const L=JSON.parse(_);k(`已设置${L.length}个模拟用户`)}}catch(T){console.error("加载数据失败:",T),k(`加载数据失败: ${T}`)}finally{e(!1)}},k=T=>{n(B=>[T,...B])},C=async()=>{try{e(!0),k(`添加模拟收入: ${m}元`),await dt.recordCommissionIncome(`mock_transaction_${Date.now()}`,m,"cash","game_store","system",m),localStorage.setItem("forced_platform_income",m.toString()),k(`模拟收入添加成功，已设置平台净收入为: ${m}元`);const T={date:new Date().toISOString().split("T")[0],income:m,expense:0,netIncome:m};try{const E=await dt.getStats();E.dailyStats&&E.dailyStats.length>0&&(E.dailyStats[E.dailyStats.length-1]=T,localStorage.setItem("fund_pool_stats",JSON.stringify(E)),k("已更新资金池每日统计数据"))}catch(E){console.error("更新资金池统计数据失败:",E)}const B=m*.4;k(`A币发放池: ${B.toFixed(2)}`),await v()}catch(T){console.error("添加模拟收入失败:",T),k(`添加模拟收入失败: ${T}`)}finally{e(!1)}},N=async()=>{var T,B;try{e(!0),k("开始执行A币结算...");const E=await ns.executeAutoDailySettlement();E.success?(k(`结算成功! 发放金额: ${(T=E.distributedAmount)==null?void 0:T.toFixed(2)} A币`),k(`受益用户数: ${E.recipientsCount}`),k(`结算时间: ${(B=E.lastSettlementTime)==null?void 0:B.toLocaleString()}`)):k(`结算失败: ${E.message}`),await v()}catch(E){console.error("执行结算失败:",E),k(`执行结算失败: ${E}`)}finally{e(!1)}},w=async()=>{try{e(!0),k(`生成${f}个模拟活跃用户...`);const T=Array.from({length:f}).map((B,E)=>({userId:`mock_user_${E}`,gameCoins:Math.floor(Math.random()*500)+50,computingPower:Math.floor(Math.random()*100)+10,transactionVolume:Math.floor(Math.random()*1e3)+100}));T.push({userId:"current-user",gameCoins:200,computingPower:50,transactionVolume:500}),localStorage.setItem("mock_active_users",JSON.stringify(T)),k(`已生成${T.length}个模拟用户数据`),k("当前用户数据: 游戏币=200, 算力=50, 交易量=500")}catch(T){console.error("生成模拟用户失败:",T),k(`生成模拟用户失败: ${T}`)}finally{e(!1)}},A=async()=>{try{e(!0),k("开始强制执行A币结算...");const T=localStorage.getItem("mock_active_users");if(!T){k("未找到模拟用户数据，请先生成模拟用户"),e(!1);return}const B=JSON.parse(T);k(`找到${B.length}个模拟用户`);const E=m>0?m:1e3,_=E*.4;localStorage.setItem("forced_platform_income",E.toString()),k(`已设置强制平台净收入: ${E}元`),k(`A币发放池: ${_.toFixed(2)} A币`);const L={date:new Date().toISOString().split("T")[0],income:E,expense:0,netIncome:E};try{const W=await dt.getStats();W.dailyStats&&W.dailyStats.length>0&&(W.dailyStats[W.dailyStats.length-1]=L,localStorage.setItem("fund_pool_stats",JSON.stringify(W)),k("已更新资金池每日统计数据"))}catch(W){console.error("更新资金池统计数据失败:",W)}const P=await en.distributeACoinsByContribution(_,B);k(`强制结算成功! 发放金额: ${P.totalAmount.toFixed(2)} A币`),k(`受益用户数: ${P.recipientsCount}`);const U=P.successfulDistributions.find(W=>W.userId==="current-user");U?(k(`当前用户获得: ${U.amount.toFixed(2)} A币`),await Ye.distributeACoins(U.amount,`强制结算A币奖励 - 贡献分数: ${U.contributionScore.toFixed(2)}`),k("已更新当前用户钱包")):k("当前用户未获得A币"),await dt.updateAfterSettlement(P.totalAmount,B.length),await ns.saveSettlementTime(new Date),await v()}catch(T){console.error("强制执行结算失败:",T),k(`强制执行结算失败: ${T}`)}finally{e(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold text-purple-400 mb-6",children:"A币结算测试工具"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"资金池数据"}),o?t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"总余额:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",o.currentBalance.totalValue.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"现金余额:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",o.currentBalance.cash.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"游戏币:"}),t.jsx("span",{className:"text-yellow-400 font-bold",children:o.currentBalance.gameCoins.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"算力:"}),t.jsx("span",{className:"text-purple-400 font-bold",children:o.currentBalance.computing.toFixed(1)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"A币流通量:"}),t.jsx("span",{className:"text-indigo-400 font-bold",children:((D=o.aCoinStats)==null?void 0:D.circulatingSupply.toFixed(2))||"0.00"})]})]}):t.jsx("div",{className:"text-slate-400",children:"加载中..."})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"结算数据"}),c?t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"日期:"}),t.jsx("span",{className:"text-white font-bold",children:c.date})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"平台净收入:"}),t.jsxs("span",{className:"text-green-400 font-bold",children:["¥",c.platformNetIncome.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"A币发放池:"}),t.jsx("span",{className:"text-indigo-400 font-bold",children:c.aCoinDistributionPool.toFixed(2)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"活跃用户数:"}),t.jsx("span",{className:"text-blue-400 font-bold",children:c.totalDailyActivePlayers})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"结算状态:"}),t.jsx("span",{className:`font-bold ${c.settlementStatus==="ready"?"text-green-400":c.settlementStatus==="completed"?"text-blue-400":"text-red-400"}`,children:c.settlementStatus==="ready"?"准备就绪":c.settlementStatus==="completed"?"已完成":c.settlementStatus==="insufficient_income"?"收入不足":c.settlementStatus})]})]}):t.jsx("div",{className:"text-slate-400",children:"加载中..."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-green-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-green-400 mb-3",children:"添加模拟收入"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"收入金额"}),t.jsx("input",{type:"number",value:m,onChange:T=>p(Number(T.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",min:"1"})]}),t.jsx("button",{onClick:C,disabled:s,className:"w-full bg-green-500/20 border border-green-400/30 rounded px-4 py-2 text-green-400 hover:bg-green-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"添加模拟收入"})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-blue-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-blue-400 mb-3",children:"生成模拟用户"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"用户数量"}),t.jsx("input",{type:"number",value:f,onChange:T=>x(Number(T.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white",min:"1",max:"1000"})]}),t.jsx("button",{onClick:w,disabled:s,className:"w-full bg-blue-500/20 border border-blue-400/30 rounded px-4 py-2 text-blue-400 hover:bg-blue-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"生成模拟用户"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/80 border-2 border-purple-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-purple-400 mb-3",children:"执行正常结算"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"执行标准的A币结算流程，需要平台净收入为正值。"}),t.jsx("button",{onClick:N,disabled:s,className:"w-full bg-purple-500/20 border border-purple-400/30 rounded px-4 py-2 text-purple-400 hover:bg-purple-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"执行结算"})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-orange-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-orange-400 mb-3",children:"强制执行结算"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"绕过平台净收入检查，强制执行A币结算。"}),t.jsx("button",{onClick:A,disabled:s,className:"w-full bg-orange-500/20 border border-orange-400/30 rounded px-4 py-2 text-orange-400 hover:bg-orange-500/30 transition-all disabled:opacity-50",children:s?"处理中...":"强制结算"})]})]})]}),t.jsxs("div",{className:"bg-slate-800/80 border-2 border-cyan-400/30 rounded-lg p-4",children:[t.jsx("h2",{className:"text-lg font-bold text-cyan-400 mb-3",children:"操作日志"}),t.jsx("div",{className:"bg-black/30 rounded-lg p-3 h-64 overflow-y-auto",children:r.length>0?t.jsx("div",{className:"space-y-2",children:r.map((T,B)=>t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-gray-400",children:["[",new Date().toLocaleTimeString(),"]"]})," ",T]},B))}):t.jsx("div",{className:"text-center text-slate-400 py-4",children:"暂无操作日志"})})]})]})})};function oA({calculationResult:s,fundPoolData:e}){return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"个人贡献分数计算（分子）"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"个人数据"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"游戏币获得贡献 (50%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalGameCoins," × 0.5 = ",(s.step1.personalGameCoins*.5).toFixed(1)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"算力贡献 (30%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalComputingPower," × 0.3 = ",(s.step1.personalComputingPower*.3).toFixed(1)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"交易活跃度 (20%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step1.personalTransactionVolume," × 0.2 = ",(s.step1.personalTransactionVolume*.2).toFixed(1)]})]})]})]}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"个人贡献分数"}),t.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.step1.personalContributionScore.toFixed(2)})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"全网总贡献分数计算（分母）"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"全网数据"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"游戏币发放贡献 (50%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkGameCoins.toLocaleString()," × 0.5 = ",(s.step2.networkGameCoins*.5).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"算力贡献 (30%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkComputingPower.toLocaleString()," × 0.3 = ",(s.step2.networkComputingPower*.3).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"交易活跃度 (20%权重)"}),t.jsxs("span",{className:"font-mono",children:[s.step2.networkTransactionVolume.toLocaleString()," × 0.2 = ",(s.step2.networkTransactionVolume*.2).toLocaleString()]})]})]})]}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-6 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"全网总贡献分数"}),t.jsx("div",{className:"text-3xl font-bold text-amber-600",children:s.step2.totalNetworkContributionScore.toLocaleString()})]})})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{className:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),"A币计算与发放"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"计算过程"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"平台净收入"}),t.jsxs("span",{className:"font-mono",children:["¥",s.step3.platformNetIncome.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"A币发放池 (40%)"}),t.jsxs("span",{className:"font-mono",children:[s.step3.dailyACoinPool.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"个人占比"}),t.jsxs("span",{className:"font-mono",children:[(s.step3.personalRatio*100).toFixed(4),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"计算A币"}),t.jsxs("span",{className:"font-mono",children:[s.step3.calculatedACoin.toFixed(4)," A币"]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"发放规则"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"发放公式"}),t.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"个人A币 = (个人贡献分数 ÷ 全网总贡献分数) × 当日发放池"})]}),t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"最小发放单位"}),t.jsx("div",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:"0.01A币，低于此数额不发放"})]})]})]})]}),t.jsx("div",{className:"border-t pt-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"实际发放A币"}),t.jsx("div",{className:"text-4xl font-bold text-indigo-600",children:s.step3.actualDistributed.toFixed(2)}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"A币"})]}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"等值人民币"}),t.jsxs("div",{className:"text-4xl font-bold text-green-600",children:["¥",s.step3.actualDistributed.toFixed(2)]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"1 A币 = 1 RMB"})]}),t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"发放状态"}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.step3.actualDistributed>0?"✅ 已发放":"❌ 未发放"}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:s.step3.actualDistributed>0?"满足最小发放条件":"低于最小发放单位"})]})]})})]})]}),e&&s.step3.actualDistributed>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[t.jsx("span",{children:"🏦"}),"资金池A币变化"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"资金池A币减少"}),t.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["-",s.step3.actualDistributed.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"流通供应量增加"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["+",s.step3.actualDistributed.toFixed(2)," A币"]})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"累计发放增加"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",s.step3.actualDistributed.toFixed(2)," A币"]})]})]})]})]})}function lA(){const[s,e]=j.useState(!1),[r,n]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState(null),[m,p]=j.useState({aCoins:0,computing:1200,gameCoins:850,transactionVolume:2500});j.useEffect(()=>{f()},[]);const f=async()=>{try{const[k,C]=await Promise.all([dt.getPublicFundPoolData(),ns.getDailySettlementData()]);l(k),u(C)}catch(k){console.error("加载初始数据失败:",k)}},x=async()=>{if(!c||!o){alert("请先加载基础数据");return}e(!0);try{const k=m.computing,C=m.gameCoins,N=m.transactionVolume,w=C*.5+k*.3+N*.2,A=c.totalDailyComputingPower,D=c.totalDailyGameCoinsDistributed,T=5e4,B=D*.5+A*.3+T*.2,E=c.platformNetIncome,_=E>0?E*.4:0,L=w/B,P=_*L,U=P>=.01?P:0;if(n({step1:{personalComputingPower:k,personalGameCoins:C,personalTransactionVolume:N,personalContributionScore:w},step2:{networkComputingPower:A,networkGameCoins:D,networkTransactionVolume:T,totalNetworkContributionScore:B},step3:{personalRatio:L,dailyACoinPool:_,calculatedACoin:P,actualDistributed:U,platformNetIncome:E}}),U>0&&(p(re=>({...re,aCoins:re.aCoins+U})),o)){const re={...o,currentBalance:{...o.currentBalance,aCoins:Math.max(0,o.currentBalance.aCoins-U)},aCoinStats:{...o.aCoinStats,circulatingSupply:o.aCoinStats.circulatingSupply+U,totalDistributed:o.aCoinStats.totalDistributed+U}};l(re)}}catch(k){console.error("A币计算失败:",k),alert("A币计算失败，请重试")}finally{e(!1)}},v=()=>{n(null),p({aCoins:0,computing:1200,gameCoins:850,transactionVolume:2500}),f()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"A币计算与发放测试"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"按照约定算法测试A币的计算与发放流程"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ne,{to:"/computing-dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回算力中心"}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"重置测试"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"个人中心数据"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.computing}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"实时算力"})]}),t.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:m.gameCoins}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["¥",m.transactionVolume.toLocaleString()]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"交易金额"})]}),t.jsxs("div",{className:"text-center p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[m.aCoins.toFixed(2)," A币"]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"当前A币余额"})]})]})]}),c&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mb-8",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:["全网每日数据 (",c.date,")"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.totalDailyComputingPower.toLocaleString()}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"全网算力"})]}),t.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:c.totalDailyGameCoinsDistributed.toLocaleString()}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"游戏币发放"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:"¥50,000"}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"全网交易额"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["¥",c.platformNetIncome.toLocaleString()]}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平台净收入"})]})]})]}),t.jsx("div",{className:"text-center mb-8",children:t.jsx("button",{onClick:x,disabled:s||!c||!o,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-lg font-bold rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"计算中...":"🧮 开始A币计算与发放"})}),r&&t.jsx(oA,{calculationResult:r,fundPoolData:o})]})})}const cA=()=>{var B;const{lang:s}=Qt(),e=ps(s),{posts:r,categories:n,stats:o,loading:l,error:c,currentPage:u,totalPages:m,fetchPosts:p}=$o(),[f,x]=j.useState(""),[v,k]=j.useState(""),[C,N]=j.useState("");j.useEffect(()=>{p(1,10)},[]);const w=E=>{x(E),k(""),E?p(1,10,{category:E}):p(1,10)},A=E=>{k(E),x(""),p(1,10,{tag:E})},D=E=>{E.preventDefault(),C.trim()&&p(1,10,{search:C})},T=E=>{const _={};f&&(_.category=f),v&&(_.tag=v),C&&(_.search=C),p(E,10,_)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(ne,{to:"/",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.home")}),t.jsx(ne,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.gameCenter")}),t.jsx(ne,{to:"/blog-center",className:"text-sm font-medium text-blue-600 dark:text-blue-400 transition-colors",children:y(e,"blog.header.blogCenter")}),t.jsx(ne,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:y(e,"blog.header.personalCenter")})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(ne,{to:"/blog/create",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:y(e,"blog.header.createBlog")})})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"lg:w-1/4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:y(e,"blog.sidebar.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"blog.sidebar.desc")}),t.jsx("form",{onSubmit:D,className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:y(e,"blog.sidebar.searchPlaceholder"),value:C,onChange:E=>N(E.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-500",children:"🔍"})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.categories")}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>w(""),className:`w-full text-left px-2 py-1 rounded ${f===""?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:y(e,"blog.sidebar.allCategories")})}),n.map(E=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>w(E.id),className:`w-full text-left px-2 py-1 rounded flex justify-between items-center ${f===E.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[t.jsx("span",{children:E.name}),t.jsx("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:E.postCount})]})},E.id))]})]}),o&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.popularTags")}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.popularTags.map((E,_)=>t.jsxs("button",{onClick:()=>A(E.tag),className:`px-3 py-1 text-sm rounded-full ${v===E.tag?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-300 dark:border-blue-700":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[E.tag," (",E.count,")"]},_))})]}),o&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:y(e,"blog.sidebar.stats")}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalPosts")}),t.jsx("span",{className:"font-medium",children:o.totalPosts})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalViews")}),t.jsx("span",{className:"font-medium",children:o.totalViews})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalLikes")}),t.jsx("span",{className:"font-medium",children:o.totalLikes})]}),t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:y(e,"blog.sidebar.totalComments")}),t.jsx("span",{className:"font-medium",children:o.totalComments})]})]})]})]}),o&&o.popularPosts.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6",children:[t.jsx("h3",{className:"font-bold text-lg mb-3",children:s==="zh"?"热门文章":"Popular Posts"}),t.jsx("ul",{className:"space-y-3",children:o.popularPosts.map((E,_)=>t.jsx("li",{className:"border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:t.jsx(ne,{to:`/blog/${E.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 w-6 h-6 flex items-center justify-center rounded-full text-sm",children:_+1}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium line-clamp-2",children:E.title}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[E.views," 次浏览"]})]})]})})},E.id))})]})]}),t.jsxs("div",{className:"lg:w-3/4",children:[(f||v||C)&&t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg p-3 mb-6 flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[f&&t.jsxs("span",{children:[s==="zh"?"分类":"Category",": ",(B=n.find(E=>E.id===f))==null?void 0:B.name]}),v&&t.jsxs("span",{children:[s==="zh"?"标签":"Tag",": ",v]}),C&&t.jsxs("span",{children:[s==="zh"?"搜索":"Search",': "',C,'"']})]}),t.jsx("button",{onClick:()=>{x(""),k(""),N(""),p(1,10)},className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:y(e,"blog.filterBar.clear")})]}),l?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):c?t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center text-red-700 dark:text-red-300",children:c}):r.length===0?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg p-8 text-center",children:[t.jsx("div",{className:"text-4xl mb-3",children:"📝"}),t.jsx("h3",{className:"text-xl font-bold mb-2",children:y(e,"blog.empty.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:f||v||C?y(e,"blog.empty.notFound"):y(e,"blog.empty.encourage")}),t.jsx(ne,{to:"/blog/create",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:y(e,"blog.empty.writeBlog")})]}):t.jsx("div",{className:"space-y-6",children:r.map(E=>t.jsx(dA,{post:E},E.id))}),!l&&r.length>0&&m>1&&t.jsx("div",{className:"flex justify-center mt-8",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("button",{onClick:()=>T(Math.max(1,u-1)),disabled:u===1,className:`px-3 py-1 rounded ${u===1?"bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:y(e,"blog.pagination.prev")}),Array.from({length:m},(E,_)=>_+1).map(E=>t.jsx("button",{onClick:()=>T(E),className:`w-8 h-8 flex items-center justify-center rounded ${u===E?"bg-blue-600 text-white":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:E},E)),t.jsx("button",{onClick:()=>T(Math.min(m,u+1)),disabled:u===m,className:`px-3 py-1 rounded ${u===m?"bg-slate-100 dark:bg-slate-800 text-slate-400 dark:text-slate-600 cursor-not-allowed":"bg-slate-200 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:y(e,"blog.pagination.next")})]})})]})]})}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-8",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 text-sm",children:y(e,"about.footer.copyright")})]})})]})},dA=({post:s})=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:t.jsxs("div",{className:"md:flex",children:[s.coverImage&&t.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:`p-6 ${s.coverImage?"md:w-2/3":"w-full"}`,children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:t.jsx("img",{src:s.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:s.authorName,className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.authorName}),t.jsx("span",{className:"mx-2 text-slate-300 dark:text-slate-600",children:"•"}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-500",children:new Date(s.publishDate).toLocaleDateString("zh-CN")})]}),t.jsxs(ne,{to:`/blog/${s.id}`,className:"block group",children:[t.jsx("h2",{className:"text-xl font-bold mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4 line-clamp-2",children:s.summary})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((e,r)=>t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:e},r)),s.tags.length>3&&t.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["+",s.tags.length-3]})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"👁️"}),t.jsx("span",{children:s.views})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"❤️"}),t.jsx("span",{children:s.likes})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-1",children:"💬"}),t.jsx("span",{children:s.commentCount})]})]})]})]})]})}),uA=()=>{const{id:s}=Tm(),e=cn(),{fetchPostById:r,likePost:n,fetchComments:o,addComment:l}=$o(),{userData:c}=Lo(),[u,m]=j.useState(null),[p,f]=j.useState([]),[x,v]=j.useState(!0),[k,C]=j.useState(null),[N,w]=j.useState(""),[A,D]=j.useState(!1),[T,B]=j.useState(!1);j.useEffect(()=>{(async()=>{if(s){v(!0),C(null);try{const U=await r(s);if(U){m(U);const W=await o(s);f(W)}else C("博客不存在或已被删除")}catch(U){console.error("加载博客详情失败:",U),C("加载博客详情失败")}finally{v(!1)}}})()},[s,r,o]);const E=async()=>{if(!(!u||T))try{const P=await n(u.id);P&&(m(P),B(!0))}catch(P){console.error("点赞失败:",P)}},_=async P=>{if(P.preventDefault(),!(!u||!N.trim()||A)){D(!0);try{const U=await l({postId:u.id,content:N,authorId:c.userId,authorName:c.username,authorAvatar:void 0});f(W=>[U,...W]),w("")}catch(U){console.error("提交评论失败:",U)}finally{D(!1)}}},L=()=>{e(-1)};return x?t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50 pt-24 flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):k||!u?t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50 pt-24",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6",children:t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[t.jsx("h2",{className:"text-xl font-bold text-red-700 dark:text-red-300 mb-2",children:k||"博客不存在或已被删除"}),t.jsx("button",{onClick:L,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回"})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[t.jsx(ne,{to:"/",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"首页"}),t.jsx(ne,{to:"/game-center",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"游戏中心"}),t.jsx(ne,{to:"/blog-center",className:"text-sm font-medium text-blue-600 dark:text-blue-400 transition-colors",children:"博客中心"}),t.jsx(ne,{to:"/computing-power",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"个人中心"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(ne,{to:"/blog/create",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:"写博客"})})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("button",{onClick:L,className:"mb-6 flex items-center text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"返回"]}),t.jsxs("article",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[u.coverImage&&t.jsx("div",{className:"w-full h-64 md:h-80",children:t.jsx("img",{src:u.coverImage,alt:u.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4",children:u.title}),t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:t.jsx("img",{src:u.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:u.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u.authorName}),t.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["发布于 ",new Date(u.publishDate).toLocaleDateString("zh-CN"),u.lastUpdated&&` · 更新于 ${new Date(u.lastUpdated).toLocaleDateString("zh-CN")}`]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.tags.map((P,U)=>t.jsx(ne,{to:`/blog-center?tag=${P}`,className:"text-xs bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:P},U))}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("div",{dangerouslySetInnerHTML:{__html:u.content.replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/\n/g,"<br />")}})}),t.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:E,className:`flex items-center space-x-1 px-4 py-2 rounded-full ${T?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-slate-100 dark:bg-slate-700 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600 dark:hover:text-red-400"}`,children:[t.jsx("span",{children:T?"❤️":"🤍"}),t.jsx("span",{children:u.likes+(T?1:0)})]}),t.jsxs("div",{className:"flex items-center space-x-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-full",children:[t.jsx("span",{children:"👁️"}),t.jsx("span",{children:u.views})]}),t.jsxs("div",{className:"flex items-center space-x-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-full",children:[t.jsx("span",{children:"💬"}),t.jsx("span",{children:u.commentCount})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:t.jsx("span",{children:"📱"})}),t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-green-100 dark:hover:bg-green-900/30",children:t.jsx("span",{children:"💬"})}),t.jsx("button",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:t.jsx("span",{children:"🔗"})})]})]})]})]}),t.jsxs("div",{className:"mt-8",children:[t.jsxs("h2",{className:"text-xl font-bold mb-6",children:["评论 (",p.length,")"]}),t.jsx("form",{onSubmit:_,className:"mb-8",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:c.username,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("textarea",{value:N,onChange:P=>w(P.target.value),placeholder:"写下你的评论...",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px]",required:!0}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{type:"submit",disabled:A||!N.trim(),className:`px-4 py-2 rounded-lg ${A||!N.trim()?"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:A?"提交中...":"发表评论"})})]})]})}),p.length===0?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg p-6 text-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:"💬"}),t.jsx("h3",{className:"text-lg font-medium mb-1",children:"暂无评论"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"成为第一个评论的人吧！"})]}):t.jsx("div",{className:"space-y-6",children:p.map(P=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:P.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:P.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"font-medium",children:P.authorName}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(P.createdAt).toLocaleString("zh-CN")})]}),t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:P.content}),t.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[t.jsxs("button",{className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:["👍 ",P.likes]}),t.jsx("span",{className:"mx-2 text-slate-300 dark:text-slate-600",children:"•"}),t.jsx("button",{className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"回复"})]}),P.replies&&P.replies.length>0&&t.jsx("div",{className:"mt-3 pl-4 border-l-2 border-slate-200 dark:border-slate-700 space-y-3",children:P.replies.map(U=>t.jsx("div",{className:"pt-3",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden flex-shrink-0",children:t.jsx("img",{src:U.authorAvatar||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=user%20avatar%2C%20cartoon%20style%2C%20friendly&sign=a9cc8cbd767adbae39edf6cb5d2f386a",alt:U.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"font-medium text-sm",children:U.authorName}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(U.createdAt).toLocaleString("zh-CN")})]}),t.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:U.content})]})]})},U.id))})]})]})},P.id))})]})]})}),t.jsx("footer",{className:"bg-slate-900 text-slate-300 py-8",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"A"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"AllinONE"})]}),t.jsx("p",{className:"text-slate-400 text-sm",children:"© 2025 AllinONE. 保留所有权利。"})]})})]})},ng=()=>{const{id:s}=Tm(),e=cn(),{fetchPostById:r,createPost:n,updatePost:o}=$o(),{userData:l}=Lo(),[c,u]=j.useState(""),[m,p]=j.useState(""),[f,x]=j.useState(""),[v,k]=j.useState(""),[C,N]=j.useState([]),[w,A]=j.useState(""),[D,T]=j.useState("draft"),[B,E]=j.useState(!1),[_,L]=j.useState(null),[P,U]=j.useState(!1),[W,re]=j.useState(null);j.useEffect(()=>{(async()=>{if(s){E(!0),L(null);try{const J=await r(s);J?(u(J.title),p(J.content),x(J.summary),k(J.coverImage||""),N(J.tags),T(J.status),U(!0),re(J)):L("博客不存在或已被删除")}catch(J){console.error("加载博客失败:",J),L("加载博客失败")}finally{E(!1)}}})()},[s,r]);const te=()=>{w.trim()&&(C.includes(w.trim())||N([...C,w.trim()]),A(""))},se=R=>{N(C.filter(J=>J!==R))},ae=R=>{R.key==="Enter"&&(R.preventDefault(),te())},O=()=>{if(!m)return;const R=m.replace(/#+\s+/g,"").replace(/\n/g," "),J=R.slice(0,100)+(R.length>100?"...":"");x(J)},V=async(R,J=!1)=>{if(R.preventDefault(),!c.trim()||!m.trim()){L("标题和内容不能为空");return}E(!0),L(null);try{const Q={title:c.trim(),content:m,summary:f.trim()||c.trim(),coverImage:v||void 0,authorId:l.userId,authorName:l.username,tags:C.length>0?C:["未分类"],status:J?"draft":"published"};let I;P&&W?I=await o(W.id,{...Q,lastUpdated:new Date}):I=await n(Q),I?e(`/blog/${I.id}`):L("保存博客失败")}catch(Q){console.error("保存博客失败:",Q),L("保存博客失败")}finally{E(!1)}},K=()=>{e(P?`/blog/${s}`:"/blog-center")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-sm py-3 fixed top-0 left-0 right-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(ne,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),t.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"AllinONE"})]})}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:K,className:"px-4 py-2 text-sm font-medium border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"取消"}),t.jsx("button",{onClick:R=>V(R,!0),disabled:B,className:"px-4 py-2 text-sm font-medium border border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"保存草稿"}),t.jsx("button",{onClick:R=>V(R,!1),disabled:B,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:B?"发布中...":"发布博客"})]})]})}),t.jsx("main",{className:"container mx-auto px-4 md:px-6 pt-24 pb-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:P?"编辑博客":"创建新博客"}),_&&t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6 text-red-700 dark:text-red-300",children:_}),t.jsxs("form",{onSubmit:R=>V(R,!1),children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["标题 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"title",value:c,onChange:R=>u(R.target.value),placeholder:"输入博客标题",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"coverImage",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"封面图片 URL（可选）"}),t.jsx("input",{type:"text",id:"coverImage",value:v,onChange:R=>k(R.target.value),placeholder:"输入图片URL",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),v&&t.jsxs("div",{className:"mt-2 relative w-full h-40 rounded-lg overflow-hidden",children:[t.jsx("img",{src:v,alt:"封面预览",className:"w-full h-full object-cover",onError:R=>{R.target.src="https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=placeholder%20image%2C%20error%20loading&sign=a160cbc38262558651adba1662dee0ce"}}),t.jsx("button",{type:"button",onClick:()=>k(""),className:"absolute top-2 right-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center",children:"×"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["内容 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"content",value:m,onChange:R=>p(R.target.value),placeholder:"使用Markdown格式编写博客内容",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[300px] font-mono",required:!0}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"支持Markdown格式，如 # 标题, ## 二级标题, **粗体**, *斜体* 等"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"摘要（可选）"}),t.jsx("button",{type:"button",onClick:O,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"自动生成摘要"})]}),t.jsx("textarea",{id:"summary",value:f,onChange:R=>x(R.target.value),placeholder:"简短描述博客内容，不填写将自动生成",className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"标签"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:C.map((R,J)=>t.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-3 py-1 rounded-full text-sm flex items-center",children:[R,t.jsx("button",{type:"button",onClick:()=>se(R),className:"ml-2 text-blue-500 hover:text-blue-700 dark:hover:text-blue-300",children:"×"})]},J))}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",id:"tags",value:w,onChange:R=>A(R.target.value),onKeyDown:ae,placeholder:"输入标签，按回车添加",className:"flex-grow bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:te,className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700",children:"添加"})]}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"最多添加5个标签，每个标签不超过10个字符"})]})]}),t.jsxs("div",{className:"flex justify-end mt-6 space-x-4",children:[t.jsx("button",{type:"button",onClick:K,className:"px-6 py-3 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"取消"}),t.jsx("button",{type:"button",onClick:R=>V(R,!0),disabled:B,className:"px-6 py-3 border border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"保存草稿"}),t.jsx("button",{type:"submit",disabled:B,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:-translate-y-0.5",children:B?"发布中...":"发布博客"})]})]})]})})]})};class mA{getParameters(){return[{id:"a-coin-mining-weight",name:"A币挖矿权重",description:"用户挖矿获得A币的权重系数",category:"acoin_allocation",currentValue:.7,minValue:.1,maxValue:1,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"a-coin-staking-weight",name:"A币质押权重",description:"用户质押获得A币的权重系数",category:"acoin_allocation",currentValue:.2,minValue:.05,maxValue:.5,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"income-platform-ratio",name:"平台收入比例",description:"总收入中平台运营部分的比例",category:"income_distribution",currentValue:.3,minValue:.1,maxValue:.5,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"a-coin-to-game-coin-rate",name:"A币兑换游戏币比例",description:"1个A币可兑换的游戏币数量",category:"exchange_rates",currentValue:100,minValue:50,maxValue:200,step:5,unit:"游戏币",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"cash-to-game-coin-rate",name:"现金兑换游戏币比例",description:"1元现金可兑换的游戏币数量",category:"exchange_rates",currentValue:100,minValue:50,maxValue:200,step:10,unit:"游戏币",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"cash-to-computing-power-rate",name:"现金兑换算力比例",description:"1元现金可兑换的算力数量",category:"exchange_rates",currentValue:10,minValue:5,maxValue:20,step:1,unit:"算力",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-revenue-weight",name:"O币绩效-收入增加权重",description:"O币分配中收入增加量的权重系数",category:"ocoin_performance",currentValue:.3,minValue:.1,maxValue:.6,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-player-weight",name:"O币绩效-玩家增加权重",description:"O币分配中玩家增加量的权重系数",category:"ocoin_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-development-weight",name:"O币绩效-开发贡献权重",description:"O币分配中开发贡献的权重系数",category:"ocoin_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-management-weight",name:"O币绩效-管理贡献权重",description:"O币分配中管理贡献的权重系数",category:"ocoin_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"ocoin-performance-marketing-weight",name:"O币绩效-营销贡献权重",description:"O币分配中营销贡献的权重系数",category:"ocoin_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-revenue-weight",name:"分红权重-历史收入贡献权重",description:"分红分配中历史收入贡献的权重系数",category:"dividend_performance",currentValue:.35,minValue:.1,maxValue:.6,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-player-weight",name:"分红权重-历史玩家增长权重",description:"分红分配中历史玩家增长贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-development-weight",name:"分红权重-历史开发贡献权重",description:"分红分配中历史开发贡献的权重系数",category:"dividend_performance",currentValue:.2,minValue:.05,maxValue:.4,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-management-weight",name:"分红权重-历史管理贡献权重",description:"分红分配中历史管理贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]},{id:"dividend-performance-marketing-weight",name:"分红权重-历史营销贡献权重",description:"分红分配中历史营销贡献的权重系数",category:"dividend_performance",currentValue:.15,minValue:.05,maxValue:.3,step:.05,unit:"",lastModified:new Date("2023-06-01"),modifiedBy:"system",history:[]}]}getMembers(){return[{id:"founder-1",name:"Joan创始人",role:"founder",avatar:"https://randomuser.me/api/portraits/men/1.jpg",hasVetoRight:!0,joinedAt:new Date("2023-01-01"),isActive:!0},{id:"manager-1",name:"李管理",role:"platform_manager",avatar:"https://randomuser.me/api/portraits/women/2.jpg",hasVetoRight:!1,joinedAt:new Date("2023-02-15"),isActive:!0},{id:"manager-2",name:"王管理",role:"platform_manager",avatar:"https://randomuser.me/api/portraits/men/3.jpg",hasVetoRight:!1,joinedAt:new Date("2023-02-20"),isActive:!0},{id:"rep-1",name:"周代表",role:"community_representative",avatar:"https://randomuser.me/api/portraits/men/7.jpg",hasVetoRight:!1,joinedAt:new Date("2023-04-01"),isActive:!0},{id:"rep-2",name:"吴代表",role:"community_representative",avatar:"https://randomuser.me/api/portraits/women/8.jpg",hasVetoRight:!1,joinedAt:new Date("2023-04-10"),isActive:!0}]}getVotes(){return[{id:"vote-1",title:"提高A币挖矿权重",description:"提议将A币挖矿权重从0.7提高到0.8",parameterId:"a-coin-mining-weight",currentValue:.7,proposedValue:.8,proposedBy:"周代表",reason:"当前挖矿权重较低，导致用户挖矿积极性不高，提高权重可以激励更多用户参与挖矿活动。",status:"active",createdAt:new Date("2023-07-01"),voteRecords:[{id:"vr-1",voteId:"vote-1",memberId:"rep-1",decision:"approve",comment:"作为提议人，我支持这个提案",votedAt:new Date("2023-07-01")},{id:"vr-2",voteId:"vote-1",memberId:"rep-2",decision:"approve",comment:"同意提高挖矿权重",votedAt:new Date("2023-07-02")},{id:"vr-3",voteId:"vote-1",memberId:"manager-1",decision:"reject",comment:"当前权重已经合理，不需要调整",votedAt:new Date("2023-07-02")}]},{id:"vote-2",title:"降低平台收入比例",description:"提议将平台收入比例从0.3降低到0.25",parameterId:"income-platform-ratio",currentValue:.3,proposedValue:.25,proposedBy:"周代表",reason:"降低平台收入比例，可以增加分红和生态建设的资金，更好地回馈用户和发展生态。",status:"passed",createdAt:new Date("2023-06-15"),endedAt:new Date("2023-06-25"),voteRecords:[{id:"vr-4",voteId:"vote-2",memberId:"rep-1",decision:"approve",comment:"同意降低平台收入比例",votedAt:new Date("2023-06-16")},{id:"vr-5",voteId:"vote-2",memberId:"manager-1",decision:"reject",comment:"平台运营需要足够资金支持",votedAt:new Date("2023-06-16")},{id:"vr-6",voteId:"vote-2",memberId:"founder-1",decision:"approve",comment:"支持尝试降低平台收入比例",votedAt:new Date("2023-06-25")}],result:{approveCount:2,rejectCount:1,abstainCount:0,founderVeto:!1,finalStatus:"passed",implementedAt:new Date("2023-06-26"),implementedBy:"founder-1"}}]}getPlatformData(){return{acoinBalance:1e7,ocoinBalance:5e6,ocoinPrice:.5,totalComputingPower:15e5,dailyIncome:5e4,dailyExpense:3e4,activeUsers:35e3,newUsers:1200,gameData:[{id:"game-1",name:"太空探险",activeUsers:25e3,dailyRevenue:12e3,computingPowerGenerated:85e3},{id:"game-2",name:"魔法世界",activeUsers:18e3,dailyRevenue:9e3,computingPowerGenerated:65e3},{id:"game-3",name:"赛车竞技",activeUsers:15e3,dailyRevenue:7500,computingPowerGenerated:55e3}],updatedAt:new Date}}async initPlatformManagementTestData(){return new Promise(e=>{setTimeout(()=>{console.log("平台管理测试数据初始化完成"),e()},1e3)})}}const qi=new mA;class hA{constructor(){Ee(this,"parameters",[]);Ee(this,"votes",[]);Ee(this,"members",[]);Ee(this,"platformData",null);this.initTestData()}initTestData(){this.parameters=qi.getParameters(),this.votes=qi.getVotes(),this.members=qi.getMembers(),this.platformData=qi.getPlatformData()}async getParameters(){return[...this.parameters]}async getParameter(e){return this.parameters.find(r=>r.id===e)||null}async updateParameter(e,r){const n=this.parameters.findIndex(c=>c.id===e);if(n===-1)throw new Error("参数不存在");const o=this.parameters[n];if(r<o.minValue||r>o.maxValue)throw new Error(`参数值必须在 ${o.minValue} 和 ${o.maxValue} 之间`);const l={...o,currentValue:r,lastModified:new Date,modifiedBy:"system",history:[...o.history,{id:`history-${Date.now()}`,parameterId:o.id,oldValue:o.currentValue,newValue:r,modifiedAt:new Date,modifiedBy:"system",reason:"投票决策更新"}]};this.parameters[n]=l;try{mr.updateParameter(e,r),console.log(`[PlatformManagement] 参数 ${e} 已更新为 ${r}，并同步到平台配置`)}catch(c){console.error("[PlatformManagement] 同步参数到平台配置失败:",c)}return l}async getVotes(){return[...this.votes]}async getActiveVotes(){return this.votes.filter(e=>e.status==="active")}async getFinishedVotes(){return this.votes.filter(e=>e.status!=="active")}async getVote(e){return this.votes.find(r=>r.id===e)||null}async createVote(e,r,n,o,l,c){const u=await this.getParameter(n);if(!u)throw new Error("参数不存在");if(o<u.minValue||o>u.maxValue)throw new Error(`提议值必须在 ${u.minValue} 和 ${u.maxValue} 之间`);const m=this.members.find(f=>f.id===c);if(!m)throw new Error("提议人不存在");const p={id:`vote-${Date.now()}`,title:e,description:r,parameterId:n,currentValue:u.currentValue,proposedValue:o,proposedBy:m.name,reason:l,status:"active",createdAt:new Date,voteRecords:[]};return this.votes.push(p),p}async submitVote(e,r,n,o){const l=this.votes.findIndex(f=>f.id===e);if(l===-1)throw new Error("投票不存在");const c=this.votes[l];if(c.status!=="active")throw new Error("该投票已结束");const u=this.members.find(f=>f.id===r);if(!u)throw new Error("成员不存在");if(c.voteRecords.some(f=>f.memberId===r))throw new Error("您已经对此提案投过票");if(n==="veto"&&!u.hasVetoRight)throw new Error("您没有否决权");const m={id:`vr-${Date.now()}`,voteId:e,memberId:r,decision:n,comment:o||"",votedAt:new Date},p={...c,voteRecords:[...c.voteRecords,m]};return n==="veto"&&(p.status="vetoed",p.endedAt=new Date,p.result=this.calculateVoteResult(p)),this.votes[l]=p,p}async finalizeVote(e){const r=this.votes.findIndex(c=>c.id===e);if(r===-1)throw new Error("投票不存在");const n=this.votes[r];if(n.status!=="active")throw new Error("该投票已结束");const o=this.calculateVoteResult(n),l={...n,status:o.finalStatus,endedAt:new Date,result:o};return l.status==="passed"&&(await this.updateParameter(n.parameterId,n.proposedValue),l.result.implementedAt=new Date,l.result.implementedBy="system"),this.votes[r]=l,l}async vetoVote(e,r){const n=this.members.find(o=>o.id===r);if(!n||!n.hasVetoRight)throw new Error("您没有否决权");return this.submitVote(e,r,"veto","创始人否决")}calculateVoteResult(e){const r=e.voteRecords.filter(m=>m.decision==="approve").length,n=e.voteRecords.filter(m=>m.decision==="reject").length,o=e.voteRecords.filter(m=>m.decision==="abstain").length,l=e.voteRecords.filter(m=>m.decision==="veto").length,c=e.voteRecords.some(m=>{const p=this.members.find(f=>f.id===m.memberId);return(p==null?void 0:p.role)==="founder"&&m.decision==="veto"});let u="active";return l>0?u="vetoed":r>n?u="passed":u="rejected",{approveCount:r,rejectCount:n,abstainCount:o,founderVeto:c,finalStatus:u,implementedAt:void 0,implementedBy:void 0}}async getMembers(){return[...this.members]}async getMember(e){return this.members.find(r=>r.id===e)||null}async getPlatformData(){return this.platformData}}const Cr=new hA,Fy=j.createContext(void 0),pA=({children:s})=>{const[e,r]=j.useState(null),[n,o]=j.useState([]),[l,c]=j.useState([]),[u,m]=j.useState([]),[p,f]=j.useState([]),[x,v]=j.useState(null),[k,C]=j.useState(!0);j.useEffect(()=>{(async()=>{try{C(!0);const[_,L,P,U,W]=await Promise.all([Cr.getPlatformData(),Cr.getParameters(),Cr.getActiveVotes(),Cr.getFinishedVotes(),Cr.getMembers()]);r(_),o(L),c(P),m(U),f(W);const re={};L.forEach(te=>{re[te.id]=te.currentValue}),mr.batchUpdateParameters(re),console.log("[平台管理] 已同步参数到平台配置:",re),W.length>0&&v(W[0])}catch(_){console.error("初始化平台管理数据失败:",_)}finally{C(!1)}})()},[]);const B={platformData:e,parameters:n,activeVotes:l,finishedVotes:u,members:p,currentUser:x,loading:k,createVote:async(E,_,L,P,U,W)=>{const re=await Cr.createVote(E,_,L,P,U,W);return c(te=>[...te,re]),re},submitVote:async(E,_,L)=>{if(!x)return;const P=await Cr.submitVote(E,x.id,_,L);P.status!=="active"?(c(U=>U.filter(W=>W.id!==E)),m(U=>[...U,P])):c(U=>U.map(W=>W.id===E?P:W))},finalizeVote:async E=>{const _=await Cr.finalizeVote(E);if(c(L=>L.filter(P=>P.id!==E)),m(L=>[...L,_]),_.status==="passed"){const L=await Cr.getParameter(_.parameterId);L&&o(P=>P.map(U=>U.id===L.id?L:U))}},vetoVote:async E=>{if(!x||!x.hasVetoRight)return;const _=await Cr.vetoVote(E,x.id);c(L=>L.filter(P=>P.id!==E)),m(L=>[...L,_])},selectUser:E=>{const _=p.find(L=>L.id===E);_&&v(_)}};return t.jsx(Fy.Provider,{value:B,children:s})},fA=()=>{const s=j.useContext(Fy);if(s===void 0)throw new Error("usePlatformManagement must be used within a PlatformManagementProvider");return s},xA=({platformData:s,loading:e})=>{if(e)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});if(!s)return t.jsx("div",{className:"text-center py-8",children:"暂无平台数据"});const r=o=>new Intl.NumberFormat("zh-CN").format(o),n=o=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(o);return t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"平台数据概览"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"A币数据"}),t.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-1",children:r(s.acoinBalance)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总流通量"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"O币数据"}),t.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-1",children:r(s.ocoinBalance)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总流通量"}),t.jsxs("div",{className:"mt-2",children:[t.jsxs("span",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:["¥",s.ocoinPrice.toFixed(2)]}),t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 ml-1",children:"当前价格"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"全网算力"}),t.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-1",children:r(s.totalComputingPower)}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"算力单位"})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"收入支出"}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"日收入"}),t.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:n(s.dailyIncome)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"日支出"}),t.jsx("span",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:n(s.dailyExpense)})]}),t.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"净收入"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:n(s.dailyIncome-s.dailyExpense)})]})})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"用户数据"}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"活跃用户"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:r(s.activeUsers)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"新增用户"}),t.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:r(s.newUsers)})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:[t.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 p-6 pb-4",children:"游戏数据"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"游戏名称"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"活跃用户"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"日收入"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"算力贡献"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.gameData.map(o=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-200",children:o.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:r(o.activeUsers)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:n(o.dailyRevenue)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:r(o.computingPowerGenerated)})]},o.id))})]})})]}),t.jsxs("div",{className:"text-right text-xs text-slate-500 dark:text-slate-400 mt-4",children:["最后更新时间: ",s.updatedAt.toLocaleString()]})]})},gA=({parameters:s,loading:e,onCreateVote:r})=>{const[n,o]=j.useState("all");if(e)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});if(s.length===0)return t.jsx("div",{className:"text-center py-8",children:"暂无参数数据"});const l=Array.from(new Set(s.map(m=>m.category))),c=n==="all"?s:s.filter(m=>m.category===n),u={acoin_allocation:"A币分配权重",ocoin_allocation:"O币分配权重",income_distribution:"收入分配比例",dividend_weights:"分红权重",exchange_rates:"兑换比例",ocoin_performance:"🔶 O币绩效权重",dividend_performance:"💰 分红绩效权重"};return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h2",{className:"text-2xl font-bold",children:"平台参数管理"})}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{className:`px-3 py-1 text-sm rounded-full ${n==="all"?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>o("all"),children:"全部"}),l.map(m=>t.jsx("button",{className:`px-3 py-1 text-sm rounded-full ${n===m?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>o(m),children:u[m]},m))]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"参数名称"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"当前值"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"取值范围"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"最后修改"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"操作"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map(m=>t.jsxs("tr",{children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:m.name}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:m.description})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:[m.currentValue,m.unit&&` ${m.unit}`]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[m.minValue," - ",m.maxValue]}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["步长: ",m.step]})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:m.lastModified.toLocaleDateString()}),t.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:m.modifiedBy})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",onClick:()=>r(m),children:"发起投票"})})]},m.id))})]})})]})},bA=({activeVotes:s,finishedVotes:e,currentUser:r,loading:n,onSubmitVote:o,onFinalizeVote:l,onVetoVote:c})=>{const[u,m]=j.useState(!0),[p,f]=j.useState({});if(n)return t.jsx("div",{className:"text-center py-8",children:"加载中..."});const x=(N,w)=>{f(A=>({...A,[N]:w}))},v=async(N,w)=>{await o(N,w,p[N]),f(A=>({...A,[N]:""}))},k=N=>r?N.voteRecords.some(w=>w.memberId===r.id):!1,C=N=>{if(!r)return null;const w=N.voteRecords.find(A=>A.memberId===r.id);return w?w.decision:null};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"投票决策"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:`px-4 py-2 rounded-md ${u?"bg-blue-600 text-white dark:bg-blue-700":"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}`,onClick:()=>m(!0),children:"进行中"}),t.jsx("button",{className:`px-4 py-2 rounded-md ${u?"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300":"bg-blue-600 text-white dark:bg-blue-700"}`,onClick:()=>m(!1),children:"已结束"})]})]}),t.jsx("div",{className:"space-y-6",children:u?s.length>0?s.map(N=>t.jsx(ig,{vote:N,currentUser:r,hasVoted:k(N),userVoteDecision:C(N),voteComment:p[N.id]||"",onCommentChange:w=>x(N.id,w),onSubmitVote:w=>v(N.id,w),onFinalizeVote:()=>l(N.id),onVetoVote:()=>c(N.id),showActions:!0},N.id)):t.jsx("div",{className:"text-center py-8 bg-white dark:bg-slate-800 rounded-lg shadow",children:"暂无进行中的投票"}):e.length>0?e.map(N=>t.jsx(ig,{vote:N,currentUser:r,hasVoted:k(N),userVoteDecision:C(N),voteComment:"",onCommentChange:()=>{},onSubmitVote:()=>Promise.resolve(),onFinalizeVote:()=>Promise.resolve(),onVetoVote:()=>Promise.resolve(),showActions:!1},N.id)):t.jsx("div",{className:"text-center py-8 bg-white dark:bg-slate-800 rounded-lg shadow",children:"暂无已结束的投票"})})]})},ig=({vote:s,currentUser:e,hasVoted:r,userVoteDecision:n,voteComment:o,onCommentChange:l,onSubmitVote:c,onFinalizeVote:u,onVetoVote:m,showActions:p})=>{const[f,x]=j.useState(!1),v=w=>({active:"进行中",passed:"已通过",rejected:"已拒绝",vetoed:"已否决"})[w]||w,k=w=>({approve:"赞成",reject:"反对",abstain:"弃权",veto:"否决"})[w],N=(w=>{const A=w.voteRecords.length,D=w.voteRecords.filter(B=>B.decision==="approve").length,T=w.voteRecords.filter(B=>B.decision==="reject").length;return{approvePercent:A>0?D/A*100:0,rejectPercent:A>0?T/A*100:0,abstainPercent:A>0?100-D/A*100-T/A*100:0}})(s);return t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:s.title}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["提议人: ",s.proposedBy," | 创建时间: ",s.createdAt.toLocaleDateString()]})]}),t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="active"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":s.status==="passed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":s.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:v(s.status)})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["参数: ",s.parameterId]}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:[s.currentValue," → ",s.proposedValue]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:s.description}),t.jsx("div",{className:"mt-2",children:t.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:()=>x(!f),children:f?"收起详情":"查看详情"})})]}),f&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"提议理由"}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.reason}),t.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mt-4 mb-2",children:"投票记录"}),t.jsx("div",{className:"space-y-2",children:s.voteRecords.map(w=>t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:w.memberId}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${w.decision==="approve"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":w.decision==="reject"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":w.decision==="veto"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:k(w.decision)}),t.jsx("span",{className:"text-slate-500 dark:text-slate-400 ml-2",children:w.votedAt.toLocaleDateString()})]})]},w.id))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5 mb-1",children:t.jsxs("div",{className:"flex h-2.5 rounded-full",children:[t.jsx("div",{className:"bg-green-500 h-2.5 rounded-l-full",style:{width:`${N.approvePercent}%`}}),t.jsx("div",{className:"bg-red-500 h-2.5",style:{width:`${N.rejectPercent}%`}}),t.jsx("div",{className:"bg-slate-400 h-2.5 rounded-r-full",style:{width:`${N.abstainPercent}%`}})]})}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{children:["赞成: ",s.voteRecords.filter(w=>w.decision==="approve").length]}),t.jsxs("span",{children:["反对: ",s.voteRecords.filter(w=>w.decision==="reject").length]}),t.jsxs("span",{children:["弃权: ",s.voteRecords.filter(w=>w.decision==="abstain").length]})]})]}),p&&!r&&e&&t.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:`comment-${s.id}`,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"评论"}),t.jsx("textarea",{id:`comment-${s.id}`,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200",rows:2,value:o,onChange:w=>l(w.target.value),placeholder:"添加您的评论..."})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-600",onClick:()=>c("approve"),children:"赞成"}),t.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600",onClick:()=>c("reject"),children:"反对"}),t.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-md hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600",onClick:()=>c("abstain"),children:"弃权"}),e.hasVetoRight&&t.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600",onClick:()=>m(),children:"否决"})]})]}),p&&r&&e&&t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:["您已投票:",t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${n==="approve"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n==="reject"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":n==="veto"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}`,children:n&&k(n)})]}),e.role==="founder"&&t.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",onClick:()=>u(),children:"结束投票"})]})}),s.status!=="active"&&s.result&&t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"最终结果:"}),t.jsx("span",{className:`font-medium ${s.status==="passed"?"text-green-600 dark:text-green-400":s.status==="rejected"?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,children:v(s.status)})]}),s.status==="passed"&&s.result.implementedAt&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"实施时间:"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:s.result.implementedAt.toLocaleDateString()})]})]})})]})})},yA=({members:s,loading:e,currentUser:r,onSelectUser:n})=>{if(e)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const o=s.filter(m=>m.role==="founder"),l=s.filter(m=>m.role==="platform_manager"),c=s.filter(m=>m.role==="community_representative"),u=m=>{switch(m){case"founder":return"创始人";case"platform_manager":return"平台管理者";case"community_representative":return"社区代表";default:return"未知角色"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"平台管理成员"}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"当前登录身份"}),r?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:r.avatar,alt:r.name,className:"w-16 h-16 rounded-full"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-lg",children:r.name}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-300",children:[u(r.role),r.hasVetoRight&&t.jsx("span",{className:"ml-2 text-purple-600 dark:text-purple-400",children:"(拥有否决权)"})]})]})]}):t.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:"未登录"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"切换身份"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-4",children:"为了演示目的，您可以切换不同的身份来体验平台管理系统的不同权限。"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"创始人"}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(m=>t.jsx(Ku,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"平台管理者"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>t.jsx(Ku,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"社区代表"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>t.jsx(Ku,{member:m,isSelected:(r==null?void 0:r.id)===m.id,onSelect:()=>n(m.id)},m.id))})]})]})]})]})]})},Ku=({member:s,isSelected:e,onSelect:r})=>t.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${e?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700"}`,onClick:r,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:s.name}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["加入时间: ",new Date(s.joinedAt).toLocaleDateString()]})]})]})}),vA=({parameter:s,onClose:e,onSubmit:r})=>{const[n,o]=j.useState(""),[l,c]=j.useState(""),[u,m]=j.useState(s?s.currentValue:0),[p,f]=j.useState(""),[x,v]=j.useState({});if(!s)return null;const k=()=>{const N={};return n.trim()||(N.title="请输入标题"),l.trim()||(N.description="请输入描述"),(u<s.minValue||u>s.maxValue)&&(N.proposedValue=`提议值必须在 ${s.minValue} 和 ${s.maxValue} 之间`),p.trim()||(N.reason="请输入提议理由"),v(N),Object.keys(N).length===0},C=N=>{N.preventDefault(),k()&&r(n,l,s.id,u,p)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg w-full max-w-md mx-4",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"发起参数修改投票"}),t.jsx("button",{className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",onClick:e,children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("form",{onSubmit:C,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"parameter-name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"参数名称"}),t.jsx("input",{type:"text",id:"parameter-name",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200",value:s.name,disabled:!0})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"current-value",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"当前值"}),t.jsx("input",{type:"text",id:"current-value",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200",value:`${s.currentValue}${s.unit?" "+s.unit:""}`,disabled:!0})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"投票标题"}),t.jsx("input",{type:"text",id:"title",className:`w-full px-3 py-2 border ${x.title?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,value:n,onChange:N=>o(N.target.value),placeholder:"输入投票标题"}),x.title&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.title})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"投票描述"}),t.jsx("textarea",{id:"description",className:`w-full px-3 py-2 border ${x.description?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,rows:2,value:l,onChange:N=>c(N.target.value),placeholder:"输入投票描述"}),x.description&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.description})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"proposed-value",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["提议值 (",s.minValue," - ",s.maxValue,")"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"range",id:"proposed-value-range",className:"w-full mr-3",min:s.minValue,max:s.maxValue,step:s.step,value:u,onChange:N=>m(parseFloat(N.target.value))}),t.jsx("input",{type:"number",id:"proposed-value",className:`w-24 px-3 py-2 border ${x.proposedValue?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,min:s.minValue,max:s.maxValue,step:s.step,value:u,onChange:N=>m(parseFloat(N.target.value))}),s.unit&&t.jsx("span",{className:"ml-2 text-slate-700 dark:text-slate-300",children:s.unit})]}),x.proposedValue&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.proposedValue})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"提议理由"}),t.jsx("textarea",{id:"reason",className:`w-full px-3 py-2 border ${x.reason?"border-red-500 dark:border-red-700":"border-slate-300 dark:border-slate-600"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-slate-200`,rows:4,value:p,onChange:N=>f(N.target.value),placeholder:"输入提议理由"}),x.reason&&t.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.reason})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{type:"button",className:"px-4 py-2 bg-slate-200 text-slate-800 rounded-md hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600",onClick:e,children:"取消"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:"提交"})]})]})]})})})};class wA{constructor(){Ee(this,"STORAGE_KEY","ocoin_performance_data");Ee(this,"ALLOCATIONS_KEY","ocoin_allocations")}calculateUserPerformanceScore(e,r){const n=r||mr.getOCoinPerformanceWeights(),o=Math.min(e.revenueContribution/1e4,1),l=Math.min(e.playerReferralCount/100,1),c=Math.min(e.developmentScore/100,1),u=Math.min(e.managementScore/100,1),m=Math.min(e.marketingScore/100,1),p=o*n.revenueWeight+l*n.playerWeight+c*n.developmentWeight+u*n.managementWeight+m*n.marketingWeight;return Math.round(p*100)}calculateOCoinAllocation(e,r=1e4){const n=e/100*1e3,o=r/1e4;return Math.round(n*o)}async allocateOCoin(e,r,n=365){const o=this.calculateUserPerformanceScore(r),l=this.calculateOCoinAllocation(o),c=mr.getOCoinPerformanceWeights(),u={id:`ocoin-${e}-${r.periodId}-${Date.now()}`,userId:e,periodId:r.periodId,allocationType:"performance",amount:l,performanceScore:o,weights:c,allocationDate:new Date,vestingPeriod:n,status:"allocated"};return this.saveAllocation(u),window.dispatchEvent(new CustomEvent("ocoin-allocation-completed",{detail:{allocation:u,timestamp:new Date}})),console.log(`[O币绩效] 用户 ${e} 获得 ${l} O币，绩效分数: ${o}`),u}async processPerformancePeriod(e,r){const n=[];for(const o of r)try{const l=await this.allocateOCoin(o.userId,o);n.push(l)}catch(l){console.error(`[O币绩效] 处理用户 ${o.userId} 分配失败:`,l)}return window.dispatchEvent(new CustomEvent("ocoin-batch-allocation-completed",{detail:{periodId:e,allocations:n,timestamp:new Date}})),console.log(`[O币绩效] 周期 ${e} 批量分配完成，共分配 ${n.length} 笔`),n}getUserAllocations(e){return this.getAllAllocations().filter(n=>n.userId===e)}getPeriodAllocations(e){return this.getAllAllocations().filter(n=>n.periodId===e)}calculateUserOCoinBalance(e){const r=this.getUserAllocations(e);let n=0,o=0,l=0;const c=new Date;return r.forEach(u=>{n+=u.amount;const m=new Date(u.allocationDate);m.setDate(m.getDate()+u.vestingPeriod),c>=m?o+=u.amount:l+=u.amount}),{totalAllocated:n,vested:o,locked:l}}getPlatformPerformanceStats(){const e=this.getAllAllocations(),r=e.reduce((u,m)=>u+m.amount,0),o=new Set(e.map(u=>u.userId)).size,l=e.length>0?e.reduce((u,m)=>u+m.performanceScore,0)/e.length:0,c=e.sort((u,m)=>m.performanceScore-u.performanceScore).slice(0,10).map(u=>({userId:u.userId,score:u.performanceScore,amount:u.amount}));return{totalOCoinAllocated:r,totalUsers:o,averageScore:Math.round(l),topPerformers:c}}saveAllocation(e){const r=this.getAllAllocations();r.push(e),localStorage.setItem(this.ALLOCATIONS_KEY,JSON.stringify(r))}getAllAllocations(){const e=localStorage.getItem(this.ALLOCATIONS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,allocationDate:new Date(r.allocationDate)}))}catch(r){return console.error("[O币绩效] 解析分配记录失败:",r),[]}}clearAllocations(){localStorage.removeItem(this.ALLOCATIONS_KEY),console.log("[O币绩效] 已清空所有分配记录")}generateMockPerformanceData(e,r){return{userId:e,periodId:r,revenueContribution:Math.random()*5e4,playerReferralCount:Math.floor(Math.random()*50),developmentScore:Math.random()*100,managementScore:Math.random()*100,marketingScore:Math.random()*100,totalScore:0,lastUpdated:new Date}}}const Zu=new wA;class jA{constructor(){Ee(this,"DIVIDEND_WEIGHTS_KEY","dividend_weights");Ee(this,"DIVIDEND_RECORDS_KEY","dividend_records");Ee(this,"HISTORICAL_PERFORMANCE_KEY","historical_performance")}calculateHistoricalPerformanceScore(e,r=12,n){const o=n||mr.getDividendPerformanceWeights(),l=this.getHistoricalPerformance(e,r);if(l.length===0)return 0;let c=0,u=0;return l.forEach((m,p)=>{const f=Math.pow(.95,p),x=Math.min(m.revenueContribution/1e4,1),v=Math.min(m.playerReferralCount/100,1),k=Math.min(m.developmentScore/100,1),C=Math.min(m.managementScore/100,1),N=Math.min(m.marketingScore/100,1),w=x*o.revenueWeight+v*o.playerWeight+k*o.developmentWeight+C*o.managementWeight+N*o.marketingWeight;c+=w*f,u+=f}),u>0?Math.round(c/u*100):0}calculateDividendWeight(e,r,n){if(n===0)return 0;const o=r/n,c=Math.min(o,.15);return Number(c.toFixed(6))}async calculateAllDividendWeights(e){const r=this.getAllUsers(),n=[];let o=0;const l=[];for(const u of r){const m=this.calculateHistoricalPerformanceScore(u);l.push({userId:u,score:m}),o+=m}const c=mr.getDividendPerformanceWeights();for(const{userId:u,score:m}of l){const p=this.calculateDividendWeight(u,m,o),f={id:`dividend-weight-${u}-${e}-${Date.now()}`,userId:u,periodId:e,weight:p,historicalScore:m,weights:c,calculationDate:new Date,status:"active"};n.push(f),this.saveDividendWeight(f)}return window.dispatchEvent(new CustomEvent("dividend-weights-calculated",{detail:{periodId:e,records:n,timestamp:new Date}})),console.log(`[分红权重] 周期 ${e} 权重计算完成，共 ${n.length} 个用户`),n}async distributeCashDividend(e,r){const n=this.getPeriodDividendWeights(e),o=new Map;for(const u of n){const m=o.get(u.userId);(!m||new Date(u.calculationDate).getTime()>new Date(m.calculationDate).getTime())&&o.set(u.userId,u)}const l=Array.from(o.values());if(l.length===0)throw new Error("未找到分红权重数据，请先计算分红权重");const c=[];for(const u of l){const m=r*u.weight;if(m>=.01){const p={id:`dividend-${u.userId}-${e}-${Date.now()}`,userId:u.userId,periodId:e,dividendAmount:Number(m.toFixed(2)),dividendWeight:u.weight,totalDividendPool:r,distributionDate:new Date,status:"distributed"};c.push(p),this.saveDividendRecord(p);try{await Ye.distributeCashDividend(u.userId,m,e,"基于历史绩效的现金分红"),console.log(`[现金分红] 成功发放 ${m.toFixed(2)} 元到用户 ${u.userId} 钱包`)}catch(f){console.error(`[现金分红] 发放失败，用户 ${u.userId}:`,f),p.status="failed"}}}return window.dispatchEvent(new CustomEvent("cash-dividend-distributed",{detail:{periodId:e,records:c,totalDistributed:c.reduce((u,m)=>u+m.dividendAmount,0),timestamp:new Date}})),console.log(`[现金分红] 周期 ${e} 分红完成，共分配 ${c.reduce((u,m)=>u+m.dividendAmount,0).toFixed(2)} 元`),c}getUserDividendHistory(e){return this.getAllDividendRecords().filter(n=>n.userId===e)}getUserCurrentDividendWeight(e){const r=this.getUserDividendWeights(e);return r.length===0?0:r.sort((o,l)=>new Date(l.calculationDate).getTime()-new Date(o.calculationDate).getTime())[0].weight}getDividendStats(){const e=this.getAllDividendRecords(),r=e.reduce((m,p)=>m+p.dividendAmount,0),o=new Set(e.map(m=>m.userId)).size,l=o>0?r/o:0,c=new Map;e.forEach(m=>{const p=c.get(m.userId)||{totalReceived:0,latestWeight:0};p.totalReceived+=m.dividendAmount,p.latestWeight=m.dividendWeight,c.set(m.userId,p)});const u=Array.from(c.entries()).map(([m,p])=>({userId:m,totalReceived:p.totalReceived,weight:p.latestWeight})).sort((m,p)=>p.totalReceived-m.totalReceived).slice(0,10);return{totalDistributed:Number(r.toFixed(2)),totalRecipients:o,averageDividend:Number(l.toFixed(2)),topRecipients:u}}getHistoricalPerformance(e,r){const n=[];for(let o=0;o<r;o++){const l=new Date;l.setMonth(l.getMonth()-o),n.push({userId:e,periodId:`period-${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`,revenueContribution:Math.random()*3e4,playerReferralCount:Math.floor(Math.random()*30),developmentScore:Math.random()*80+20,managementScore:Math.random()*80+20,marketingScore:Math.random()*80+20,totalScore:0,lastUpdated:l})}return n}getAllUsers(){return["user-1","user-2","user-3","user-4","user-5"]}saveDividendWeight(e){const r=this.getAllDividendWeights(),n=r.findIndex(o=>o.userId===e.userId&&o.periodId===e.periodId);n>=0?r[n]=e:r.push(e),localStorage.setItem(this.DIVIDEND_WEIGHTS_KEY,JSON.stringify(r))}saveDividendRecord(e){const r=this.getAllDividendRecords(),n=r.findIndex(o=>o.userId===e.userId&&o.periodId===e.periodId);n>=0?r[n]=e:r.push(e),localStorage.setItem(this.DIVIDEND_RECORDS_KEY,JSON.stringify(r))}getAllDividendWeights(){const e=localStorage.getItem(this.DIVIDEND_WEIGHTS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,calculationDate:new Date(r.calculationDate)}))}catch(r){return console.error("[分红权重] 解析权重数据失败:",r),[]}}getAllDividendRecords(){const e=localStorage.getItem(this.DIVIDEND_RECORDS_KEY);if(!e)return[];try{return JSON.parse(e).map(r=>({...r,distributionDate:new Date(r.distributionDate)}))}catch(r){return console.error("[分红权重] 解析分红记录失败:",r),[]}}getUserDividendWeights(e){return this.getAllDividendWeights().filter(n=>n.userId===e)}getPeriodDividendWeights(e){return this.getAllDividendWeights().filter(n=>n.periodId===e)}clearData(){localStorage.removeItem(this.DIVIDEND_WEIGHTS_KEY),localStorage.removeItem(this.DIVIDEND_RECORDS_KEY),localStorage.removeItem(this.HISTORICAL_PERFORMANCE_KEY),console.log("[分红权重] 已清空所有数据")}}const nc=new jA,NA=()=>{const[s,e]=j.useState("ocoin"),[r,n]=j.useState(!1),[o,l]=j.useState({totalOCoinAllocated:0,totalUsers:0,averageScore:0,topPerformers:[]}),[c,u]=j.useState([]),[m,p]=j.useState(!1),[f,x]=j.useState({totalOptionsGranted:0,totalUsers:0,totalVested:0,totalExercised:0,averageStrikePrice:0,topOptionHolders:[]}),[v,k]=j.useState({totalDistributed:0,totalRecipients:0,averageDividend:0,topRecipients:[]}),C=["user-1","user-2","user-3","user-4","user-5"];j.useEffect(()=>{N()},[]);const N=()=>{try{const _=Zu.getPlatformPerformanceStats();l(_);const L=Ca.getOptionsPoolStats(),P=Ca.getTopOptionHolders(3),U={totalOptionsGranted:L.totalGranted,totalUsers:L.participatingUsers,totalVested:L.totalVested,totalExercised:L.totalExercised,averageStrikePrice:L.averageStrikePrice,topOptionHolders:P};x(U);const W=nc.getDividendStats();k(W)}catch(_){console.error("加载统计数据失败:",_)}},w=async()=>{n(!0);try{const _=`period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,L=C.map(W=>Zu.generateMockPerformanceData(W,_)),P=L.map(W=>{const re=W.revenueContribution*.4,te=W.playerReferralCount*.2,se=W.developmentScore*.15,ae=W.managementScore*.15,O=W.marketingScore*.1,V=re+te+se+ae+O,K=Math.floor(V*100);return{userId:W.userId,details:{revenue:W.revenueContribution,referrals:W.playerReferralCount,development:W.developmentScore,management:W.managementScore,marketing:W.marketingScore,totalScore:V,oCoinAmount:K}}});u(P),p(!0);const U=P.reduce((W,re)=>W+re.details.oCoinAmount,0);alert(`✅ O币绩效计算完成！

📊 计算结果：共为 ${L.length} 个用户计算出 ${U.toLocaleString()} 个待授予O币。

👉 请在“期权管理”标签页查看详细信息并确认授予。`)}catch(_){console.error("O币计算失败:",_),alert("❌ O币计算失败，请检查控制台错误信息。")}finally{n(!1)}},A=async()=>{n(!0);try{if(c.length===0){alert('⚠️ 请先执行"O币授予计算"，生成绩效计算结果后再进行期权授予。');return}const _=c.reduce((te,se)=>te+se.details.oCoinAmount,0),L=c.length;if(!confirm(`确认授予期权吗？

📊 待授予期权总数：${_.toLocaleString()} 个
👥 涉及用户数量：${L} 个
💰 执行价格：市价95%折扣
🗺️ 归属期：365天

此操作将正式授予期权，不可撤销。`))return;const U=c.map(te=>({userId:te.userId,oCoinAmount:te.details.oCoinAmount,totalScore:te.details.totalScore})),W=$t.getOCoinMarketData().currentPrice,re=await Ca.grantOptionsFromPerformance(U,W);u([]),p(!1),N(),alert(`✅ 期权授予完成！

🎁 共授予 ${re.totalGranted.toLocaleString()} 个期权给 ${re.grantedUsers} 个用户。
💰 平均执行价：¥${re.details.length>0?re.details[0].strikePrice:0}

期权将在未来365天内逐渐成熟，成熟后可以进行行权操作。`)}catch(_){console.error("期权授予失败:",_),alert("❌ 期权授予失败，请检查控制台错误信息。")}finally{n(!1)}},D=async()=>{n(!0);try{const _=await Ca.processVesting();_.totalVested>0&&(console.log(`✨ 处理期权成熟：${_.totalVested} 个期权已成熟，影响 ${_.affectedUsers} 个用户`),console.log(`💰 共发放 ${_.totalUnlocked} 个O币到个人账户`));const P=$t.getOCoinMarketData().currentPrice,U=Ca.getTopOptionHolders(1);if(U.length===0){alert("⚠️ 没有找到有期权的用户。请先执行绩效计算和期权授予。");return}const W=U[0],re=Math.min(W.vestedOptions,1e3);if(re<=0){alert(`⚠️ 选中的用户没有已成熟的期权可行权。

💡 提示：期权需要经过成熟期才能行权，请耐心等待或联系管理员。`);return}if(P<=W.strikePrice&&!confirm(`⚠️ 行权条件提醒

📈 当前市价：¥${P.toFixed(2)}
🎯 执行价格：¥${W.strikePrice.toFixed(2)}
📊 潜在损失：¥${((W.strikePrice-P)*re).toFixed(2)}

当前市价低于执行价格，行权将产生损失。
是否确认继续行权？`)||!confirm(`🚀 确认期权行权

👤 用户：${W.userId}
💰 行权数量：${re.toLocaleString()} 个
📈 当前市价：¥${P.toFixed(2)}
🎯 执行价格：¥${W.strikePrice.toFixed(2)}
💵 预期收益：¥${Math.max(0,(P-W.strikePrice)*re).toFixed(2)}

此操作不可撤销，确认继续？`))return;const se=await Ca.exerciseOptions(W.userId,re,P);N(),se.success?alert(`✅ 期权行权完成！

👤 用户：${W.userId}
💰 行权数量：${se.exercisedAmount.toLocaleString()} 个
📈 当前市价：¥${P.toFixed(2)}
🎯 执行价格：¥${W.strikePrice.toFixed(2)}
💵 实际收益：¥${se.profit.toFixed(2)}

🎉 已成功将收益添加到用户O币余额中！`):alert(`❌ 期权行权失败：${se.message}`)}catch(_){console.error("期权行权失败:",_),alert("❌ 期权行权失败，请检查控制台错误信息。")}finally{n(!1)}},T=async()=>{n(!0);try{const _=`dividend-period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`;await nc.calculateAllDividendWeights(_),N(),alert(`✅ 分红权重计算完成！为 ${C.length} 个用户计算了分红权重。`)}catch(_){console.error("分红权重计算失败:",_),alert("❌ 分红权重计算失败，请检查控制台错误信息。")}finally{n(!1)}},B=async()=>{n(!0);try{const _=`dividend-period-${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`,L=5e4;await nc.distributeCashDividend(_,L),N(),window.dispatchEvent(new CustomEvent("wallet-updated",{detail:{type:"dividend",amount:L,timestamp:new Date}})),alert(`✅ 现金分红分配完成！共分配了 ${L} 元现金分红。

💰 请在个人中心查看您的现金余额变化！`)}catch(_){console.error("现金分红失败:",_),alert("❌ 现金分红失败，请检查控制台错误信息。")}finally{n(!1)}},E=()=>{confirm("确定要清空所有绩效数据吗？此操作不可撤销。")&&(s==="ocoin"?(Zu.clearAllocations(),u([]),p(!1)):s==="options"?Ca.clearOptionsData():nc.clearData(),N(),alert("✅ 数据已清空。"))};return t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"🎯 绩效管理中心"}),t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"O币绩效分配、期权管理与现金分红统一管理"})]}),t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="ocoin"?"border-b-2 border-orange-600 text-orange-600 dark:text-orange-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("ocoin"),children:"🔶 O币绩效分配"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="options"?"border-b-2 border-purple-600 text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("options"),children:"📊 期权管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${s==="dividend"?"border-b-2 border-green-600 text-green-600 dark:text-green-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>e("dividend"),children:"💰 现金分红权重"})]}),s==="ocoin"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"🔶"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-orange-800 dark:text-orange-400",children:"O币绩效分配"}),t.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-500",children:"基于未来绩效预期，分配O币期权奖励"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总分配O币"}),t.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:c.length>0?c.reduce((_,L)=>_+L.details.oCoinAmount,0).toLocaleString():o.totalOCoinAllocated.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"参与用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:c.length>0?c.length:o.totalUsers})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均绩效分数"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:c.length>0?(c.reduce((_,L)=>_+L.details.totalScore,0)/c.length).toFixed(1):o.averageScore})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:w,disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"计算中...":"🚀 O币授予计算"}),t.jsx("button",{onClick:()=>p(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:m?"隐藏计算过程":"📊 查看计算过程"}),t.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]})]}),m&&c.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 mt-4",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:"📊 O币授予计算过程"}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-4",children:[t.jsx("h5",{className:"text-sm font-bold text-blue-800 dark:text-blue-400 mb-2",children:"🧮 计算公式"}),t.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-500 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"总分 ="})," 收入贡献×40% + 推荐人数×20% + 开发贡献×15% + 管理贡献×15% + 营销贡献×10%"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"O币数量 ="})," 总分 × 100 (每分转换为100个O币)"]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left font-semibold text-slate-700 dark:text-slate-300",children:"用户ID"}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["收入贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(40%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["推荐人数",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(20%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["开发贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(15%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["管理贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(15%)"})]}),t.jsxs("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:["营销贡献",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-slate-500",children:"(10%)"})]}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"总分"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-orange-600 dark:text-orange-400",children:"授予O币"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map((_,L)=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[t.jsx("td",{className:"px-3 py-2 font-medium text-slate-900 dark:text-slate-100",children:_.userId}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.revenue.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(_.details.revenue*.4).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.referrals}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(_.details.referrals*.2).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.development.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(_.details.development*.15).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.management.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(_.details.management*.15).toFixed(1),"分)"]})]}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.marketing.toFixed(1)}),t.jsxs("div",{className:"text-xs text-slate-500",children:["(",(_.details.marketing*.1).toFixed(1),"分)"]})]}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-blue-600 dark:text-blue-400",children:_.details.totalScore.toFixed(2)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-orange-600 dark:text-orange-400",children:_.details.oCoinAmount.toLocaleString()})]},L))}),t.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("td",{className:"px-3 py-2 font-bold text-slate-700 dark:text-slate-300",children:"总计"}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((_,L)=>_+L.details.revenue,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((_,L)=>_+L.details.referrals,0)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((_,L)=>_+L.details.development,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((_,L)=>_+L.details.management,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-slate-700 dark:text-slate-300",children:c.reduce((_,L)=>_+L.details.marketing,0).toFixed(1)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-blue-600 dark:text-blue-400",children:c.reduce((_,L)=>_+L.details.totalScore,0).toFixed(2)}),t.jsx("td",{className:"px-3 py-2 text-center font-bold text-orange-600 dark:text-orange-400",children:c.reduce((_,L)=>_+L.details.oCoinAmount,0).toLocaleString()})]})})]})}),t.jsxs("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[t.jsx("h5",{className:"text-sm font-bold text-orange-800 dark:text-orange-400 mb-2",children:"📝 计算说明"}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-500 space-y-1",children:[t.jsxs("p",{children:["• ",t.jsx("strong",{children:"收入贡献："}),"用户为平台带来的收入金额，权重最高(40%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"推荐人数："}),"用户成功推荐的新用户数量，体现生态扩张能力(20%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"开发贡献："}),"技术开发、产品改进等技术性贡献(15%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"管理贡献："}),"团队管理、运营管理等管理性贡献(15%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"营销贡献："}),"市场推广、品牌建设等营销性贡献(10%)"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"转换规则："}),"总分乘以100得出最终O币授予数量，确保激励效果"]})]})]})]})]}),s==="options"&&t.jsxs("div",{className:"space-y-6",children:[c.length>0&&t.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📋"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-yellow-800 dark:text-yellow-400",children:"当期计算结果"}),t.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"待授予的期权数量，点击“授予期权”按钮进行正式授予"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"计算时间"}),t.jsx("div",{className:"text-xs text-yellow-500",children:new Date().toLocaleString()})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"待授予期权"}),t.jsx("div",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:c.reduce((_,L)=>_+L.details.oCoinAmount,0).toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"待授予用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:c.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均期权数"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:(c.reduce((_,L)=>_+L.details.oCoinAmount,0)/c.length).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"当期计算详情"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 py-2 text-left font-semibold text-slate-700 dark:text-slate-300",children:"用户ID"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"绩效分数"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-yellow-600 dark:text-yellow-400",children:"待授予期权"}),t.jsx("th",{className:"px-3 py-2 text-center font-semibold text-slate-700 dark:text-slate-300",children:"执行价（预估）"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:c.map((_,L)=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[t.jsx("td",{className:"px-3 py-2 font-medium text-slate-900 dark:text-slate-100",children:_.userId}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:_.details.totalScore.toFixed(2)})}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("div",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:_.details.oCoinAmount.toLocaleString()})}),t.jsxs("td",{className:"px-3 py-2 text-center",children:[t.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:"¥2.38"}),t.jsx("div",{className:"text-xs text-slate-500",children:"（市价95%）"})]})]},L))})]})})]})]}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"📊"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-purple-800 dark:text-purple-400",children:"期权管理"}),t.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-500",children:"基于绩效计算结果，管理O币期权的授予、成熟和行权操作"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总授予期权"}),t.jsx("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:f.totalOptionsGranted.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"参与用户"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:f.totalUsers})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"已成熟期权"}),t.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:f.totalVested.toLocaleString()})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"已行权数量"}),t.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:f.totalExercised.toLocaleString()})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"期权池统计"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"平均执行价"}),t.jsxs("span",{className:"font-bold text-purple-600",children:["¥",f.averageStrikePrice.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"成熟率"}),t.jsxs("span",{className:"font-bold text-green-600",children:[f.totalOptionsGranted>0?(f.totalVested/f.totalOptionsGranted*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"行权率"}),t.jsxs("span",{className:"font-bold text-orange-600",children:[f.totalVested>0?(f.totalExercised/f.totalVested*100).toFixed(1):0,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"待成熟期权"}),t.jsx("span",{className:"font-bold text-blue-600",children:(f.totalOptionsGranted-f.totalVested).toLocaleString()})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"顶级期权持有者"}),t.jsx("div",{className:"space-y-2",children:f.topOptionHolders.map((_,L)=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 rounded-full flex items-center justify-center text-xs font-bold",children:L+1}),t.jsx("span",{className:"font-medium text-sm",children:_.userId})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm font-bold",children:_.totalOptions.toLocaleString()}),t.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["成熟: ",_.vestedOptions.toLocaleString()]})]})]},L))})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:A,disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"处理中...":"🎁 授予期权"}),t.jsx("button",{onClick:D,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"处理中...":"⚙️ 行权操作"}),t.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]}),t.jsxs("div",{className:"mt-4 p-3 bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 rounded-lg",children:[t.jsx("h5",{className:"text-sm font-bold text-purple-800 dark:text-purple-400 mb-2",children:"📝 期权管理工作流程"}),t.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-500 space-y-1",children:[t.jsxs("p",{children:["• ",t.jsx("strong",{children:"1. 绩效计算："}),'在"O币绩效分配"标签中执行"授予计算"，系统仅计算不直接授予']}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"2. 结果显示："}),"在本页面查看当期计算结果的详细数据，包括待授予用户和期权数量"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"3. 确认授予："}),'点击"授予期权"按钮，经确认后正式将计算结果转为期权']}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"4. 期权成熟："}),"期权逐渐成熟，365天内按日均匀释放，只有成熟后才可行权"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"5. 条件验证："}),"行权时检查市价、成熟数量等条件，确保合理性和安全性"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"6. 期权行权："}),"当O币市价高于执行价且期权已成熟时，可行权获得收益"]}),t.jsxs("p",{children:["• ",t.jsx("strong",{children:"7. 数据同步："}),"所有操作都会实时更新期权统计数据，确保数据一致性"]})]})]})]})]}),s==="dividend"&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"text-2xl mr-3",children:"💰"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-400",children:"现金分红权重"}),t.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:"基于历史和当下绩效，分配现金分红权重"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"总分红金额"}),t.jsxs("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["¥",v.totalDistributed.toLocaleString()]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"受益人数"}),t.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:v.totalRecipients})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-3",children:[t.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"平均分红"}),t.jsxs("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:["¥",v.averageDividend.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:T,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"计算中...":"📊 计算分红权重"}),t.jsx("button",{onClick:B,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"分配中...":"💸 执行现金分红"}),t.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ 清空数据"})]})]})}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsx("h4",{className:"text-md font-bold text-blue-800 dark:text-blue-400 mb-2",children:"📝 使用说明"}),t.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-500 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"O币绩效分配:"})," 基于用户的收入贡献、推荐玩家、开发/管理/营销贡献计算绩效分数，分配O币期权奖励"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"期权管理:"})," 统一管理O币期权的授予、成熟和行权操作，与绩效分配系统深度集成"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"现金分红权重:"})," 基于用户的历史绩效贡献计算分红权重，按权重分配现金分红"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"权重配置:"})," 可以通过平台管理的参数投票功能调整各项绩效的权重系数"]})]})]})]})},kA=()=>{const{platformData:s,parameters:e,activeVotes:r,finishedVotes:n,members:o,currentUser:l,loading:c,createVote:u,submitVote:m,finalizeVote:p,vetoVote:f,selectUser:x}=fA(),[v,k]=j.useState("dashboard"),[C,N]=j.useState(null),[w,A]=j.useState(!1),D=async(E,_,L,P,U)=>{if(l)try{await u(E,_,L,P,U,l.id),A(!1)}catch(W){console.error("创建投票失败:",W)}},T=E=>{N(E),A(!0)},B=()=>{N(null),A(!1)};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"平台管理系统"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(ne,{to:"/",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-home mr-2"}),"回到主页"]}),t.jsxs(ne,{to:"/computing-dashboard",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-microchip mr-2"}),"算力中心"]}),t.jsxs(ne,{to:"/fund-pool",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[t.jsx("i",{className:"fa-solid fa-coins mr-2"}),"资金池"]})]})]}),t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-8",children:[t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="dashboard"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>k("dashboard"),children:"平台数据"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="parameters"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>k("parameters"),children:"参数管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="votes"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>k("votes"),children:"投票决策"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="members"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>k("members"),children:"成员管理"}),t.jsx("button",{className:`px-4 py-2 font-medium text-sm ${v==="performance"?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,onClick:()=>k("performance"),children:"🎯 绩效管理"})]}),t.jsxs("div",{children:[v==="dashboard"&&t.jsx(xA,{platformData:s,loading:c}),v==="parameters"&&t.jsx(gA,{parameters:e,loading:c,onCreateVote:T}),v==="votes"&&t.jsx(bA,{activeVotes:r,finishedVotes:n,currentUser:l,loading:c,onSubmitVote:m,onFinalizeVote:p,onVetoVote:f}),v==="members"&&t.jsx(yA,{members:o,currentUser:l,loading:c,onSelectUser:x}),v==="performance"&&t.jsx(NA,{})]}),w&&t.jsx(vA,{parameter:C,onClose:B,onSubmit:D})]})},CA=()=>{const[s,e]=j.useState(!1),[r,n]=j.useState(!1),[o,l]=j.useState(null),c=async()=>{e(!0),l(null);try{await qi.initPlatformManagementTestData(),n(!0)}catch(u){l(u instanceof Error?u.message:"初始化测试数据失败")}finally{e(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-3xl",children:"⚙️"})}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"平台管理系统测试"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"初始化测试数据并进入平台管理系统"})]}),o&&t.jsx("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300",children:o}),r&&t.jsx("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-300",children:"测试数据初始化成功！您现在可以进入平台管理系统。"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:c,disabled:s,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin mr-2",children:"⟳"}),"初始化中..."]}):"初始化测试数据"}),t.jsx(ne,{to:"/platform-management",className:"block w-full py-3 px-4 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-slate-200 rounded-lg font-medium transition-colors text-center",children:"进入平台管理系统"}),t.jsx(ne,{to:"/",className:"block w-full py-3 px-4 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 rounded-lg font-medium transition-colors text-center",children:"返回首页"})]})]})})};function SA(){const{lang:s}=Qt(),e=ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"about.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"about.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"about.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(ne,{to:"/",className:"px-5 py-2.5 bg-white text-blue-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"about.hero.backHome")}),t.jsx("a",{href:"#vision",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"about.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#vision",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.vision")})}),t.jsx("li",{children:t.jsx("a",{href:"#values",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.values")})}),t.jsx("li",{children:t.jsx("a",{href:"#story",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.story")})}),t.jsx("li",{children:t.jsx("a",{href:"#thanks",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.thanks")})}),t.jsx("li",{children:t.jsx("a",{href:"#invite",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.invite")})}),t.jsx("li",{children:t.jsx("a",{href:"#roadmap",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"about.nav.roadmap")})})]})}),t.jsxs("section",{id:"vision",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.visionTitle")}),t.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[t.jsx("p",{children:y(e,"about.sections.vision.p1")}),t.jsx("p",{children:y(e,"about.sections.vision.p2")})]})]}),t.jsxs("section",{id:"values",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.valuesTitle")}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.buildOpen")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.openDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.shareRevenue")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.shareDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"about.sections.ideology.coGovern")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.ideology.governDesc")})]})]})]}),t.jsxs("section",{id:"story",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:y(e,"about.sections.storyTitle")}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h2020")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d2020")})]}),t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h2025Agent")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d2025Agent")})]}),t.jsxs("div",{className:"relative pl-8",children:[t.jsx("div",{className:"absolute left-0 top-2 w-3 h-3 rounded-full bg-blue-600"}),t.jsx("h3",{className:"font-semibold",children:y(e,"about.sections.story.h202508")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.story.d202508")})]})]})]}),t.jsxs("section",{id:"thanks",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.thanksTitle")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"about.sections.thanks.desc")})})]}),t.jsxs("section",{id:"invite",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.inviteTitle")}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.invite.desc")}),t.jsxs("ul",{className:"list-disc pl-6 mt-3 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"about.sections.invite.list.players")}),t.jsx("li",{children:y(e,"about.sections.invite.list.developers")}),t.jsx("li",{children:y(e,"about.sections.invite.list.governors")}),t.jsx("li",{children:y(e,"about.sections.invite.list.merchants")})]}),t.jsxs("div",{className:"mt-4 flex gap-3",children:[t.jsx(ne,{to:"/register",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium",children:y(e,"about.sections.invite.registerNow")}),t.jsx(ne,{to:"/blog-center",className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 rounded-lg font-medium",children:y(e,"about.sections.invite.toCommunity")})]})]})]}),t.jsxs("section",{id:"roadmap",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"about.sections.roadmapTitle")}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.security")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.securityDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.account")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.accountDesc")})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 p-5 rounded-xl",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"about.sections.roadmap.games")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"about.sections.roadmap.gamesDesc")})]})]})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"about.footer.copyright")})})]})}function AA(){const{lang:s}=Qt(),e=ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"communityRewards.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"communityRewards.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"communityRewards.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(ne,{to:"/",className:"px-5 py-2.5 bg-white text-blue-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"communityRewards.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"communityRewards.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#overview",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.overview")})}),t.jsx("li",{children:t.jsx("a",{href:"#acoin",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.acoin")})}),t.jsx("li",{children:t.jsx("a",{href:"#ocoin",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.ocoin")})}),t.jsx("li",{children:t.jsx("a",{href:"#example",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.example")})}),t.jsx("li",{children:t.jsx("a",{href:"#others",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"communityRewards.nav.others")})})]})}),t.jsxs("section",{id:"overview",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.overview.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"communityRewards.overview.p")})}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-coins"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.acoinTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.acoinDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-chart-line"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.ocoinTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.ocoinDesc")})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-gamepad"})}),t.jsx("h3",{className:"font-semibold mb-1",children:y(e,"communityRewards.overview.cards.powerTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.overview.cards.powerDesc")})]})]})]}),t.jsxs("section",{id:"acoin",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.acoin.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsxs("ul",{children:[t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.0")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.1")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.2")}),t.jsx("li",{children:y(e,"communityRewards.acoin.bullets.3")})]})})]}),t.jsxs("section",{id:"ocoin",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.ocoin.title")}),t.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[t.jsx("p",{children:y(e,"communityRewards.ocoin.p")}),t.jsxs("ul",{children:[t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.0")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.1")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.2")}),t.jsx("li",{children:y(e,"communityRewards.ocoin.bullets.3")})]})]})]}),t.jsxs("section",{id:"example",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.example.title")}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-indigo-200/50 dark:border-indigo-900/30",children:[t.jsx("h3",{className:"font-semibold mb-3",children:y(e,"communityRewards.example.aDailyTitle")}),t.jsxs("div",{className:"text-slate-600 dark:text-slate-300 space-y-2",children:[t.jsx("p",{className:"font-medium",children:y(e,"communityRewards.example.assumptions")}),t.jsxs("ul",{className:"list-disc pl-5",children:[t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.0")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.1")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.2")}),t.jsx("li",{children:y(e,"communityRewards.example.assumptionsBullets.3")})]}),t.jsx("hr",{className:"my-3 border-slate-200 dark:border-slate-700"}),t.jsx("p",{className:"font-medium",children:y(e,"communityRewards.example.calc")}),t.jsxs("ol",{className:"list-decimal pl-5",children:[t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.0")}),t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.1")}),t.jsx("li",{children:y(e,"communityRewards.example.calcSteps.2")})]}),t.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300",children:y(e,"communityRewards.example.result")})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("h3",{className:"font-semibold mb-3",children:y(e,"communityRewards.example.performanceTitle")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.example.performanceP")}),t.jsxs("div",{className:"mt-3 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/60",children:[t.jsx("p",{children:y(e,"communityRewards.example.formula")}),t.jsx("p",{className:"mt-2",children:y(e,"communityRewards.example.exampleNote")}),t.jsx("p",{children:y(e,"communityRewards.example.cashLine")}),t.jsx("p",{children:y(e,"communityRewards.example.bonusLine")})]})]})]})]}),t.jsxs("section",{id:"others",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.others.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"communityRewards.others.p")})})]}),t.jsxs("section",{id:"steps",className:"mt-10 mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"communityRewards.steps.title")}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-stretch",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"1"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s1Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s1Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 inline-block",children:y(e,"communityRewards.steps.s1Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"2"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s2Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s2Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 inline-block",children:y(e,"communityRewards.steps.s2Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"3"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s3Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s3Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 inline-block",children:y(e,"communityRewards.steps.s3Badge")})]})]}),t.jsxs("div",{className:"grid md:grid-cols-5 gap-4 items-stretch",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"4"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s4Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s4Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 inline-block",children:y(e,"communityRewards.steps.s4Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"5"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s5Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s5Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 inline-block",children:y(e,"communityRewards.steps.s5Badge")})]}),t.jsx("div",{className:"hidden md:flex items-center justify-center",children:t.jsx("i",{className:"fa-solid fa-arrow-right text-slate-300"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm flex flex-col min-h-[160px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-bold mb-2 text-sm",children:"6"}),t.jsx("h3",{className:"font-semibold",children:y(e,"communityRewards.steps.s6Title")}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex-1",children:y(e,"communityRewards.steps.s6Desc")}),t.jsx("div",{className:"mt-2 text-[12px] px-2 py-1 rounded bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300 inline-block",children:y(e,"communityRewards.steps.s6Badge")})]})]})]}),t.jsx("div",{className:"mt-6 text-sm text-slate-600 dark:text-slate-300",children:y(e,"communityRewards.steps.hint")})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"communityRewards.footer.copyright")})})]})}function TA(){const{lang:s}=Qt(),e=ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-4xl",children:[t.jsx("p",{className:"text-blue-100 mb-3",children:y(e,"openEconomy.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"openEconomy.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-blue-100",children:y(e,"openEconomy.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(ne,{to:"/",className:"px-5 py-2.5 bg-white text-indigo-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"openEconomy.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"openEconomy.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsx("nav",{className:"mb-10",children:t.jsxs("ul",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsx("li",{children:t.jsx("a",{href:"#overview",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.overview")})}),t.jsx("li",{children:t.jsx("a",{href:"#compute",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.compute")})}),t.jsx("li",{children:t.jsx("a",{href:"#fund",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.fund")})}),t.jsx("li",{children:t.jsx("a",{href:"#governance",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.governance")})}),t.jsx("li",{children:t.jsx("a",{href:"#params",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.params")})}),t.jsx("li",{children:t.jsx("a",{href:"#example",className:"px-3 py-1.5 rounded-full bg-slate-200/60 dark:bg-slate-800/60 hover:bg-slate-300 dark:hover:bg-slate-700",children:y(e,"openEconomy.nav.example")})})]})}),t.jsxs("section",{id:"overview",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.overview.title")}),t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:t.jsx("p",{children:y(e,"openEconomy.overview.p")})})]}),t.jsxs("section",{id:"compute",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.compute.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.compute.p")})})]}),t.jsxs("section",{id:"fund",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.fund.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.fund.p")})})]}),t.jsxs("section",{id:"governance",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.governance.title")}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm space-y-4",children:[t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.governance.p1")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.governance.p2")})]})]}),t.jsxs("section",{id:"params",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.params.title")}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-5",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"openEconomy.params.leftTitle")}),t.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.0")}),t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.1")}),t.jsx("li",{children:y(e,"openEconomy.params.leftBullets.2")})]})]}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-5",children:[t.jsx("h3",{className:"font-semibold mb-2",children:y(e,"openEconomy.params.rightTitle")}),t.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-300",children:[t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.0")}),t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.1")}),t.jsx("li",{children:y(e,"openEconomy.params.rightBullets.2")})]})]})]})]}),t.jsxs("section",{id:"example",className:"mb-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"openEconomy.example.title")}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"openEconomy.example.p")})})]})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"openEconomy.footer.copyright")})})]})}function DA(){const{lang:s}=Qt(),e=ps(s);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-slate-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white",children:t.jsx("div",{className:"container mx-auto px-4 md:px-6 py-16 md:py-20",children:t.jsxs("div",{className:"max-w-4xl",children:[t.jsx("p",{className:"text-amber-100 mb-3",children:y(e,"tradingSystem.hero.tag")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:y(e,"tradingSystem.hero.title")}),t.jsx("p",{className:"mt-4 text-lg text-amber-100",children:y(e,"tradingSystem.hero.desc")}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(ne,{to:"/",className:"px-5 py-2.5 bg-white text-amber-700 rounded-lg font-medium hover:bg-white/90",children:y(e,"tradingSystem.hero.backHome")}),t.jsx("a",{href:"#overview",className:"px-5 py-2.5 border border-white/70 rounded-lg font-medium hover:bg-white/10",children:y(e,"tradingSystem.hero.quickView")})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-12 md:py-16",children:[t.jsxs("section",{id:"overview",className:"mb-10",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:y(e,"tradingSystem.overview.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"tradingSystem.overview.p")})]}),t.jsxs("section",{className:"grid md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-bag-shopping"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.officialStore.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.officialStore.desc")}),t.jsxs(ne,{to:"/official-store",className:"inline-flex items-center text-amber-700 dark:text-amber-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.officialStore.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-store"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.gameStore.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.gameStore.desc")}),t.jsxs(ne,{to:"/game-store",className:"inline-flex items-center text-blue-700 dark:text-blue-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.gameStore.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 flex items-center justify-center mb-3",children:t.jsx("i",{className:"fa-solid fa-arrows-rotate"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:y(e,"tradingSystem.cards.marketplace.title")}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:y(e,"tradingSystem.cards.marketplace.desc")}),t.jsxs(ne,{to:"/marketplace",className:"inline-flex items-center text-emerald-700 dark:text-emerald-300 font-medium hover:underline",children:[y(e,"tradingSystem.cards.marketplace.link")," ",t.jsx("i",{className:"fa-solid fa-arrow-right ml-2 text-sm"})]})]})]}),t.jsx("section",{className:"mt-10",children:t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/60 rounded-xl p-6",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:y(e,"tradingSystem.note.p")})})})]}),t.jsx("footer",{className:"py-10 text-center text-slate-500 text-sm",children:t.jsx("p",{children:y(e,"tradingSystem.footer.copyright")})})]})}const _A=j.createContext(void 0),PA={totalPower:1234,dailyEarnings:32.58,gameCoins:5678,level:1,experience:0,experienceToNext:1e3,multiplier:1,lastUpdateTime:Date.now()},ic=[1,1.2,1.5,1.8,2.2,2.7,3.3,4,4.8,5.7],EA=1e3;function IA({children:s}){const[e,r]=j.useState(()=>{const p=localStorage.getItem("computingPowerData");return p?JSON.parse(p):PA});j.useEffect(()=>{localStorage.setItem("computingPowerData",JSON.stringify(e))},[e]),j.useEffect(()=>{const p=setInterval(()=>{const f=Date.now(),v=(f-e.lastUpdateTime)/(1e3*60*60);if(v>=.1){const k=c()*v;r(C=>({...C,dailyEarnings:C.dailyEarnings+k,lastUpdateTime:f}))}},6e4);return()=>clearInterval(p)},[e.lastUpdateTime,e.totalPower,e.multiplier]);const n=p=>{r(f=>({...f,totalPower:f.totalPower+p}))},o=p=>{r(f=>({...f,gameCoins:f.gameCoins+p}))},l=p=>{r(f=>{let x=f.experience+p,v=f.level,k=f.experienceToNext,C=f.multiplier;for(;x>=k&&v<ic.length;)x-=k,v++,k=u(v),C=ic[v-1]||ic[ic.length-1];return{...f,experience:x,level:v,experienceToNext:k,multiplier:C}})},c=()=>e.totalPower*e.multiplier*.001,u=p=>{const f=p||e.level;return EA*Math.pow(1.5,f-1)},m={data:e,addPower:n,addGameCoins:o,addExperience:l,calculateEarnings:c,getNextLevelRequirement:u};return t.jsx(_A.Provider,{value:m,children:s})}const RA=()=>{const{lang:s,setLang:e}=Qt();return t.jsxs("div",{className:"fixed top-4 right-4 z-[60] px-3 py-1.5 rounded-lg bg-white/80 dark:bg-slate-800/80 backdrop-blur border border-slate-200 dark:border-slate-700 shadow-sm hidden md:flex items-center text-sm",children:[t.jsx("button",{onClick:()=>e("zh"),className:Xi("px-1 hover:text-blue-600 dark:hover:text-blue-400",s==="zh"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),"aria-label":"切换为中文",children:"中文"}),t.jsx("span",{className:"mx-2 text-slate-400",children:"|"}),t.jsx("button",{onClick:()=>e("en"),className:Xi("px-1 hover:text-blue-600 dark:hover:text-blue-400",s==="en"?"font-bold text-blue-600 dark:text-blue-400":"text-slate-700 dark:text-slate-200"),"aria-label":"Switch to English",children:"EN"})]})};function MA(){return t.jsx(kk,{children:t.jsx(Ak,{children:t.jsx(IA,{children:t.jsx(Q3,{children:t.jsx(C6,{children:t.jsxs(pA,{children:[t.jsx(RA,{}),t.jsxs(Rj,{children:[t.jsx(lt,{path:"/",element:t.jsx(Ck,{})}),t.jsx(lt,{path:"/test",element:t.jsx(Sk,{})}),t.jsx(lt,{path:"/login",element:t.jsx(Dk,{})}),t.jsx(lt,{path:"/register",element:t.jsx(uC,{})}),t.jsx(lt,{path:"/game-center",element:t.jsx(X3,{})}),t.jsx(lt,{path:"/game/match3",element:t.jsx(d6,{})}),t.jsx(lt,{path:"/computing-dashboard",element:t.jsx(y6,{})}),t.jsx(lt,{path:"/computing-test",element:t.jsx(v6,{})}),t.jsx(lt,{path:"/computing-power",element:t.jsx(O6,{})}),t.jsx(lt,{path:"/computing-power-simple",element:t.jsx(eA,{})}),t.jsx(lt,{path:"/marketplace",element:t.jsx(z6,{})}),t.jsx(lt,{path:"/official-store",element:t.jsx(F6,{})}),t.jsx(lt,{path:"/game-store",element:t.jsx(H6,{})}),t.jsx(lt,{path:"/game-store/store/:storeId",element:t.jsx(Y6,{})}),t.jsx(lt,{path:"/fund-pool",element:t.jsx(aA,{})}),t.jsx(lt,{path:"/fund-pool-demo",element:t.jsx(nA,{})}),t.jsx(lt,{path:"/test-accounts",element:t.jsx(tA,{})}),t.jsx(lt,{path:"/acoin-settlement-test",element:t.jsx(iA,{})}),t.jsx(lt,{path:"/acoin-calculation-test",element:t.jsx(lA,{})}),t.jsx(lt,{path:"/blog-center",element:t.jsx(cA,{})}),t.jsx(lt,{path:"/blog/:id",element:t.jsx(uA,{})}),t.jsx(lt,{path:"/blog/create",element:t.jsx(ng,{})}),t.jsx(lt,{path:"/blog/edit/:id",element:t.jsx(ng,{})}),t.jsx(lt,{path:"/platform-management",element:t.jsx(kA,{})}),t.jsx(lt,{path:"/platform-management-test",element:t.jsx(CA,{})}),t.jsx(lt,{path:"/about",element:t.jsx(SA,{})}),t.jsx(lt,{path:"/community-rewards",element:t.jsx(AA,{})}),t.jsx(lt,{path:"/open-economy",element:t.jsx(TA,{})}),t.jsx(lt,{path:"/trading-system",element:t.jsx(DA,{})})]})]})})})})})})}Ww.createRoot(document.getElementById("root")).render(t.jsx(j.StrictMode,{children:t.jsxs(aN,{children:[t.jsx(MA,{}),t.jsx(BN,{})]})}));
